/*! For license information please see main.8b47ef49.js.LICENSE.txt */
(()=>{var e={93803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function p(e){return e.length}function h(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,b=0,x="";function w(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:a,return:""}}function A(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=v>0?c(x,--v):0,g--,10===b&&(g=1,m--),b}function C(){return b=v<y?c(x,v++):0,g++,10===b&&(g=1,m++),b}function k(){return c(x,v)}function E(){return v}function T(e,t){return d(x,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function O(e){return m=g=1,y=p(x=e),v=0,[]}function R(e){return x="",e}function N(e){return s(T(v-1,M(91===e?e+2:40===e?e+1:e)))}function _(e){for(;(b=k())&&b<33;)C();return I(e)>2||I(b)>3?"":" "}function P(e,t){for(;--t&&C()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,E()+(t<6&&32==k()&&32==C()))}function M(e){for(;C();)switch(b){case e:return v;case 34:case 39:34!==e&&39!==e&&M(b);break;case 40:41===e&&M(e);break;case 92:C()}return v}function D(e,t){for(;C()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+T(t,v-1)+"*"+i(47===e?e:C())}function L(e){for(;!I(k());)C();return T(e,v)}var $="-ms-",j="-moz-",F="-webkit-",B="comm",V="rule",z="decl",U="@keyframes";function W(e,t){for(var n="",r=h(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case z:return e.return=e.return||e.value;case B:return"";case U:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return p(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return R(G("",null,null,null,[""],e=O(e),0,[0],e))}function G(e,t,n,r,o,a,s,d,h){for(var m=0,g=0,y=s,v=0,b=0,x=0,w=1,A=1,T=1,I=0,O="",R=o,M=a,$=r,j=O;A;)switch(x=I,I=C()){case 40:if(108!=x&&58==c(j,y-1)){-1!=u(j+=l(N(I),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=N(I);break;case 9:case 10:case 13:case 32:j+=_(x);break;case 92:j+=P(E()-1,7);continue;case 47:switch(k()){case 42:case 47:f(K(D(C(),E()),t,n),h);break;default:j+="/"}break;case 123*w:d[m++]=p(j)*T;case 125*w:case 59:case 0:switch(I){case 0:case 125:A=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),b>0&&p(j)-y&&f(b>32?Y(j+";",r,n,y-1):Y(l(j," ","")+";",r,n,y-2),h);break;case 59:j+=";";default:if(f($=X(j,t,n,m,g,o,d,O,R=[],M=[],y),a),123===I)if(0===g)G(j,t,$,$,R,a,y,d,M);else switch(99===v&&110===c(j,3)?100:v){case 100:case 108:case 109:case 115:G(e,$,$,r&&f(X(e,$,$,0,0,o,d,O,o,R=[],y),M),o,M,y,d,r?R:M);break;default:G(j,$,$,$,[""],M,0,d,M)}}m=g=b=0,w=T=1,O=j="",y=s;break;case 58:y=1+p(j),b=x;default:if(w<1)if(123==I)--w;else if(125==I&&0==w++&&125==S())continue;switch(j+=i(I),I*w){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(p(j)-1)*T,T=1;break;case 64:45===k()&&(j+=N(C())),v=k(),g=y=p(O=j+=L(E())),I++;break;case 45:45===x&&2==p(j)&&(w=0)}}return a}function X(e,t,n,r,i,a,u,c,p,f,m){for(var g=i-1,y=0===i?a:[""],v=h(y),b=0,x=0,A=0;b<r;++b)for(var S=0,C=d(e,g+1,g=o(x=u[b])),k=e;S<v;++S)(k=s(x>0?y[S]+" "+C:l(C,/&\f/g,y[S])))&&(p[A++]=k);return w(e,t,n,0===i?V:c,p,f,m)}function K(e,t,n){return w(e,t,n,B,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,z,d(e,0,r),d(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,o=0;r=o,o=k(),38===r&&12===o&&(t[n]=1),!I(o);)C();return T(e,v)},J=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Q(v-1,t,n);break;case 2:e[n]+=N(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=C());return e}(O(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[u]):a[u]+" "+i[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+j+e+$+e+e;case 6828:case 4268:return F+e+$+e+e;case 6165:return F+e+$+"flex-"+e+e;case 5187:return F+e+l(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+$+"flex-$1$2")+e;case 5443:return F+e+$+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return F+e+$+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+$+l(e,"shrink","negative")+e;case 5292:return F+e+$+l(e,"basis","preferred-size")+e;case 6060:return F+"box-"+l(e,"-grow","")+F+e+$+l(e,"grow","positive")+e;case 4554:return F+l(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+$+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+j+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,p(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+F)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===c(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+$+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return F+e+$+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+$+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+$+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+$+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case U:return W([A(e,{value:l(e.value,"@","@"+F)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([A(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([A(e,{props:[l(t,/:(plac\w+)/,":"+F+"input-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,$+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||re,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[q,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],p=function(e){var t=h(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([ee,te].concat(a,d));i=function(e,t,n,r){u=n,W(H(e?e+"{"+t.styles+"}":t.styles),p),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return f.sheet.hydrate(l),f}},30918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},84575:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>l,w:()=>s});var r=n(65043),o=n(93803),i=(n(66598),n(69436),r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null)),a=i.Provider,s=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(i);return e(t,o,n)}))},l=r.createContext({})},83290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>c,mL:()=>l});var r=n(84575),o=n(65043),i=n(81722),a=n(69436),s=n(66598),l=(n(93803),n(80219),(0,r.w)((function(e,t){var n=e.styles,l=(0,s.J)([n],void 0,o.useContext(r.T)),u=o.useRef();return(0,a.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),u.current=[n,r],function(){n.flush()}}),[t]),(0,a.i)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}var c=function(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},66598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(30918),i=!1,a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.A)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},p="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function h(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)f={name:s.name,styles:s.styles,next:f},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=h(e,t,n[o])+";";else for(var a in n){var s=n[a];if("object"!==typeof s){var l=s;null!=t&&void 0!==t[l]?r+=a+"{"+t[l]+"}":u(l)&&(r+=c(a)+":"+d(a,l)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&i)throw new Error(p);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var f=h(e,t,s);switch(a){case"animation":case"animationName":r+=c(a)+":"+f+";";break;default:r+=a+"{"+f+"}"}}else for(var m=0;m<s.length;m++)u(s[m])&&(r+=c(a)+":"+d(a,s[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,h(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var f,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=h(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=h(n,t,e[a]),r)o+=i[a]}m.lastIndex=0;for(var s,l="";null!==(s=m.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:f}}},69436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>a});var o=n(65043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,a=i||function(e){return e()},s=i||o.useLayoutEffect},81722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},63879:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}i("Symbol",(function(e){function t(e,t){this.h=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+o++,r)}})),i("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var s=o[n[i]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}));var u="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};i("Object.assign",(function(e){return e||u}));var c,d="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var p;e:{var h={};try{h.__proto__={a:!0},p=h.a;break e}catch(xn){}p=!1}c=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var f=c;function m(e,t){if(e.prototype=d(t.prototype),e.prototype.constructor=e,f)f(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.za=t.prototype}function g(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function y(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function v(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function b(e,t,n){return e.h=n,{value:t}}function x(e){this.h=new g,this.i=e}function w(e,t,n,r){try{var o=t.call(e.h.j,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.h.m=!1,o;var i=o.value}catch(a){return e.h.j=null,v(e.h,a),A(e)}return e.h.j=null,r.call(e.h,i),A(e)}function A(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(n){e.h.i=void 0,v(e.h,n)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return y(e.h),e.h.j?t=w(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=A(e)),t},this.throw=function(t){return y(e.h),e.h.j?t=w(e,e.h.j.throw,t,e.h.u):(v(e.h,t),t=A(e)),t},this.return=function(t){return function(e,t){y(e.h);var n=e.h.j;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),A(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function C(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,o){!function e(i){i.done?r(i.value):Promise.resolve(i.value).then(t,n).then(e,o)}(e.next())}))}(new S(new x(e)))}function k(e){return e||Array.prototype.fill}g.prototype.u=function(e){this.i=e},g.prototype.return=function(e){this.l={return:e},this.h=this.v},i("Promise",(function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j((function(){t.m()}))}this.h.push(e)};var i=o.setTimeout;n.prototype.j=function(e){i(e,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.l(r)}}}this.h=null},n.prototype.l=function(e){this.j((function(){throw e}))},t.prototype.l=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(n){return void this.m(n)}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;i((function(){if(e.D()){var t=o.console;"undefined"!==typeof t&&t.error(e.j)}}),1)},t.prototype.D=function(){if(this.u)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,n(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)a.i(this.h[e]);this.h=null}};var a=new n;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var n=this.l();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t((function(e,t){o=e,i=t}));return this.T(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function n(){switch(r.i){case 1:e(r.j);break;case 2:t(r.j);break;default:throw Error("Unexpected state: "+r.i)}}var r=this;null==this.h?a.i(n):this.h.push(n),this.u=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).T(t,n)}))},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).T(i(a.length-1),t),o=n.next()}while(!o.done)}))},t})),i("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e){return e}))}})),i("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),i("Int8Array.prototype.fill",k),i("Uint8Array.prototype.fill",k),i("Uint8ClampedArray.prototype.fill",k),i("Int16Array.prototype.fill",k),i("Uint16Array.prototype.fill",k),i("Int32Array.prototype.fill",k),i("Uint32Array.prototype.fill",k),i("Float32Array.prototype.fill",k),i("Float64Array.prototype.fill",k),i("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),i("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var o=n[t];if(o===e||Object.is(o,e))return!0}return!1}})),i("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}));var E=this||self;function T(e,t){e=e.split(".");var n,r=E;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function I(e){var t;return(t=E.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var O=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"===typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},R={},N=null;function _(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=N[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}P();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[o++]=e})),o!==n?r.subarray(0,o):r}function P(){if(!N){N={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));R[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===N[i]&&(N[i]=o)}}}}var M="undefined"!==typeof Uint8Array,D=!(I("Trident")||I("MSIE"))&&"function"===typeof E.btoa;function L(e){if(!D){var t;void 0===t&&(t=0),P(),t=R[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",o=0,i=0;o<e.length-2;o+=3){var a=e[o],s=e[o+1],l=e[o+2],u=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|l>>6],l=t[63&l],n[i++]=u+a+s+l}switch(u=0,l=r,e.length-o){case 2:l=t[(15&(u=e[o+1]))<<2]||r;case 1:e=e[o],n[i]=t[e>>2]+t[(3&e)<<4|u>>4]+l+r}return n.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var $,j=RegExp("[-_.]","g");function F(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function B(e){if(!D)return _(e);j.test(e)&&(e=e.replace(j,F)),e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function V(){return $||($=new Uint8Array(0))}var z={},U="function"===typeof Uint8Array.prototype.slice,W=0,q=0;function H(e){var t=0>e,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/4294967296),t&&(t=(n=s(K(n,e))).next().value,e=n.next().value,n=t),W=n>>>0,q=e>>>0}var G,X="function"===typeof BigInt;function K(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function Y(e,t){this.i=e>>>0,this.h=t>>>0}function Q(e){if(!e)return G||(G=new Y(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)H(Number(e));else if(X)e=BigInt(e),W=Number(e&BigInt(4294967295))>>>0,q=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+("-"===e[0]);q=W=0;for(var n=e.length,r=t,o=(n-t)%6+t;o<=n;r=o,o+=6)r=Number(e.slice(r,o)),q*=1e6,4294967296<=(W=1e6*W+r)&&(q+=W/4294967296|0,W%=4294967296);t&&(e=(t=s(K(W,q))).next().value,t=t.next().value,W=e,q=t)}return new Y(W,q)}function J(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Z(){return Error("Failed to read varint, encoding is invalid.")}function ee(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function te(){throw Error("Invalid UTF8")}function ne(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var re,oe,ie,ae=void 0,se="undefined"!==typeof TextDecoder,le="undefined"!==typeof TextEncoder;function ue(e){if(e!==z)throw Error("illegal external caller")}function ce(e,t){if(ue(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function de(){return ie||(ie=new ce(null,z))}function pe(e){ue(z);var t=e.V;return null==(t=null==t||M&&null!=t&&t instanceof Uint8Array?t:"string"===typeof t?B(t):null)?t:e.V=t}function he(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,fe(this,e,t)}function fe(e,t,n){n=void 0===n?{}:n,e.S=void 0!==n.S&&n.S,t&&(t=function(e){if("string"===typeof e)return{buffer:B(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ce)return{buffer:pe(e)||V(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function me(e,t){if(e.h=t,t>e.j)throw ee(e.j,t)}function ge(e){var t=e.i,n=e.h,r=t[n++],o=127&r;if(128&r&&(o|=(127&(r=t[n++]))<<7,128&r&&(o|=(127&(r=t[n++]))<<14,128&r&&(o|=(127&(r=t[n++]))<<21,128&r&&(o|=(r=t[n++])<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw Z();return me(e,n),o}function ye(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var n=e.h,r=n+t;if(r>e.j)throw ee(t,e.j-n);return e.h=r,n}he.prototype.reset=function(){this.h=this.l};var ve=[];function be(){this.h=[]}function xe(e,t,n){for(;0<n||127<t;)e.h.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.h.push(t)}function we(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function Ae(e,t){if(ve.length){var n=ve.pop();fe(n,e,t),e=n}else e=new he(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function Se(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var n=ge(e.h)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw J(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=n,!0}function Ce(e){switch(e.i){case 0:if(0!=e.i)Ce(e);else e:{for(var t=(e=e.h).h,n=t+10,r=e.i;t<n;)if(0===(128&r[t++])){me(e,t);break e}throw Z()}break;case 1:me(e=e.h,e.h+8);break;case 2:2!=e.i?Ce(e):(t=ge(e.h)>>>0,me(e=e.h,e.h+t));break;case 5:me(e=e.h,e.h+4);break;case 3:for(t=e.l;;){if(!Se(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.i){if(e.l!=t)throw Error("Unmatched end-group tag");break}Ce(e)}break;default:throw J(e.i,e.j)}}be.prototype.length=function(){return this.h.length},be.prototype.end=function(){var e=this.h;return this.h=[],e},Ae.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},Ae.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var ke=[];function Ee(){this.j=[],this.i=0,this.h=new be}function Te(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var Ie="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;function Oe(e,t){return Ie?e[Ie]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function Re(e,t){Ie?e[Ie]&&(e[Ie]&=~t):void 0!==e.A&&(e.A&=~t)}function Ne(e){var t;return null==(t=Ie?e[Ie]:e.A)?0:t}function _e(e,t){Ie?e[Ie]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function Pe(e){return Oe(e,1),e}function Me(e,t){_e(t,-51&e)}function De(e,t){_e(t,-41&e|18)}var Le={};function $e(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var je,Fe,Be=[];function Ve(e){if(2&Ne(e.o))throw Error("Cannot mutate an immutable Message")}function ze(e){var t=e.length;(t=t?e[t-1]:void 0)&&$e(t)?t.g=1:(t={},e.push((t.g=1,t)))}function Ue(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function We(e,t){return-1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function qe(e,t,n,r){Ve(e),He(e,t,n,r)}function He(e,t,n,r){e.j&&(e.j=void 0),t>=e.i||r?Ue(e)[t]=n:(e.o[t+e.G]=n,(e=e.B)&&t in e&&delete e[t])}function Ge(e,t,n,r){var o=We(e,t);Array.isArray(o)||(o=je);var i=Ne(o);if(1&i||Pe(o),r)2&i||Oe(o,2),1&n||Object.freeze(o);else{r=!(2&n);var a=2&i;1&n||!a?r&&16&i&&!a&&Re(o,16):He(e,t,o=Pe(Array.prototype.slice.call(o)))}return o}function Xe(e,t){var n=We(e,t),r=null==n?n:"number"===typeof n||"NaN"===n||"Infinity"===n||"-Infinity"===n?Number(n):void 0;return null!=r&&r!==n&&He(e,t,r),r}function Ke(e,t,n,r,o){e.h||(e.h={});var i=e.h[n],a=Ge(e,n,3,o);if(!i){var s=a;i=[];var l=!!(16&Ne(e.o));a=!!(2&Ne(s));var u=s;!o&&a&&(s=Array.prototype.slice.call(s));for(var c=a,d=0;d<s.length;d++){var p=s[d],h=t,f=!1;if(f=void 0!==f&&f,void 0!==(p=Array.isArray(p)?new h(p):f?new h:void 0)){var m=f=Ne(h=p.o);a&&(m|=2),l&&(m|=16),m!=f&&_e(h,m),h=m,c=c||!!(2&h),i.push(p)}}return e.h[n]=i,t=33|(l=Ne(s)),l!=(t=c?-9&t:8|t)&&(c=s,Object.isFrozen(c)&&(c=Array.prototype.slice.call(c)),_e(c,t),s=c),u!==s&&He(e,n,s),(o||r&&a)&&Oe(i,2),r&&Object.freeze(i),i}return o||(o=Object.isFrozen(i),r&&!o?Object.freeze(i):!r&&o&&(i=Array.prototype.slice.call(i),e.h[n]=i)),i}function Ye(e,t,n){var r=!!(2&Ne(e.o));if(t=Ke(e,t,n,r,r),e=Ge(e,n,3,r),!(r||8&Ne(e))){for(r=0;r<t.length;r++){if(2&Ne((n=t[r]).o)){var o=lt(n,!1);o.j=n}else o=n;n!==o&&(t[r]=o,e[r]=o.o)}Oe(e,8)}return t}function Qe(e,t,n){if(null!=n&&"number"!==typeof n)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);qe(e,t,n)}function Je(e,t,n,r,o){Ve(e);var i=Ke(e,n,t,!1,!1);return n=null!=r?r:new n,e=Ge(e,t,2,!1),void 0!=o?(i.splice(o,0,n),e.splice(o,0,n.o)):(i.push(n),e.push(n.o)),n.C()&&Re(e,8),n}function Ze(e,t){return null==e?t:e}function et(e,t,n){return n=void 0===n?0:n,Ze(Xe(e,t),n)}function tt(e,t,n,r){if(null!=e){if(Array.isArray(e))e=nt(e,t,n,void 0!==r);else if($e(e)){var o,i={};for(o in e)i[o]=tt(e[o],t,n,r);e=i}else e=t(e,r);return e}}function nt(e,t,n,r){var o=Ne(e);r=r?!!(16&o):void 0,e=Array.prototype.slice.call(e);for(var i=0;i<e.length;i++)e[i]=tt(e[i],t,n,r);return n(o,e),e}function rt(e){return e.ja===Le?e.toJSON():function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(0!==(128&Ne(e)))return ze(e=Array.prototype.slice.call(e)),e}else{if(M&&null!=e&&e instanceof Uint8Array)return L(e);if(e instanceof ce){var t=e.V;return null==t?"":"string"===typeof t?t:e.V=L(t)}}}return e}(e)}function ot(e,t){128&e&&ze(t)}function it(e,t,n){if(n=void 0===n?De:n,null!=e){if(M&&e instanceof Uint8Array)return e.length?new ce(new Uint8Array(e),z):de();if(Array.isArray(e)){var r=Ne(e);return 2&r?e:!t||32&r||!(16&r||0===r)?(4&(t=Ne(e=nt(e,it,4&r?De:n,!0)))&&2&t&&Object.freeze(e),e):(_e(e,2|r),e)}return e.ja===Le?st(e):e}}function at(e,t,n,r,o,i,a){if(e=e.h&&e.h[n]){if(2&(r=Ne(e))?r=e:(De(r,i=O(e,st)),Object.freeze(i),r=i),Ve(t),a=null==r?je:Pe([]),null!=r){for(i=!!r.length,e=0;e<r.length;e++){var s=r[e];i=i&&!(2&Ne(s.o)),a[e]=s.o}i=1|(i?8:0),((e=Ne(a))&i)!==i&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),_e(a,e|i)),t.h||(t.h={}),t.h[n]=r}else t.h&&(t.h[n]=void 0);He(t,n,a,o)}else qe(t,n,it(r,i,a),o)}function st(e){return 2&Ne(e.o)||Oe((e=lt(e,!0)).o,2),e}function lt(e,t){var n=e.o,r=[];Oe(r,16);var o=e.constructor.h;if(o&&r.push(o),o=e.B){r.length=n.length,r.fill(void 0,r.length,n.length);var i={};r[r.length-1]=i}0!==(128&Ne(n))&&ze(r),t=t||e.C()?De:Me,i=e.constructor,Fe=r,r=new i(r),Fe=void 0,e.R&&(r.R=e.R.slice()),i=!!(16&Ne(n));for(var a=o?n.length-1:n.length,s=0;s<a;s++)at(e,r,s-e.G,n[s],!1,i,t);if(o)for(var l in o)at(e,r,+l,o[l],!0,i,t);return r}function ut(e,t,n){null==e&&(e=Fe),Fe=void 0;var r,o=this.constructor.i||0,i=0<o,a=this.constructor.h,s=!1;if(null==e){var l=48,u=!0;i&&(o=0,l|=128),_e(e=a?[a]:[],l)}else{if(!Array.isArray(e))throw Error();if(a&&a!==e[0])throw Error();var c=l=Oe(e,0);if((u=0!==(16&c))&&((s=0!==(32&c))||(c|=32)),i){if(128&c)o=0;else if(0<e.length){var d=e[e.length-1];if($e(d)&&"g"in d){o=0,c|=128,delete d.g;var p,h=!0;for(p in d){h=!1;break}h&&e.pop()}}}else if(128&c)throw Error();l!==c&&_e(e,c)}if(this.G=(a?0:-1)-o,this.h=void 0,this.o=e,o=(a=this.o.length)-1,a&&$e(a=this.o[o])?(this.B=a,this.i=o-this.G):void 0!==t&&-1<t?(this.i=Math.max(t,o+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(t=u&&!s&&!0,i=this.i,u=0;u<n.length;u++)(s=n[u])<i?(o=e[s+=this.G])?ct(o,t):e[s]=je:(r||(r=Ue(this)),(o=r[s])?ct(o,t):r[s]=je)}function ct(e,t){if(Array.isArray(e)){var n=Ne(e),r=1;!t||2&n||(r|=16),(n&r)!==r&&_e(e,n|r)}}function dt(e,t,n){if(n){var r,o={};for(r in n){var i=n[r],a=i.ra;a||(o.J=i.xa||i.oa.W,i.ia?(o.aa=bt(i.ia),a=function(e){return function(t,n,r){return e.J(t,n,r,e.aa)}}(o)):i.ka?(o.Z=xt(i.da.P,i.ka),a=function(e){return function(t,n,r){return e.J(t,n,r,e.Z)}}(o)):a=o.J,i.ra=a),a(t,e,i.da),o={J:o.J,aa:o.aa,Z:o.Z}}}!function(e,t){if(t=t.R){Te(e,e.h.end());for(var n=0;n<t.length;n++)Te(e,pe(t[n])||V())}}(t,e)}_e(Be,23),je=Object.freeze(Be),ut.prototype.toJSON=function(){return nt(this.o,rt,ot)},ut.prototype.C=function(){return!!(2&Ne(this.o))},ut.prototype.ja=Le,ut.prototype.toString=function(){return this.o.toString()};var pt=Symbol();function ht(e,t,n){return e[pt]||(e[pt]=function(e,r){return t(e,r,n)})}function ft(e){var t=e[pt];if(!t){var n=_t(e);t=function(e,t){return Pt(e,t,n)},e[pt]=t}return t}function mt(e){var t=function(e){var t=e.ia;return t?ft(t):(t=e.wa)?ht(e.da.P,t,e.ka):void 0}(e),n=e.da,r=e.oa.U;return t?function(e,o){return r(e,o,n,t)}:function(e,t){return r(e,t,n)}}function gt(e,t){var n=e[t];return"function"==typeof n&&0===n.length&&(n=n(),e[t]=n),Array.isArray(n)&&(Tt in n||wt in n||0<n.length&&"function"==typeof n[0])?n:void 0}function yt(e,t,n,r,o,i){t.P=e[0];var a=1;if(e.length>a&&"number"!==typeof e[a]){var s=e[a++];n(t,s)}for(;a<e.length;){n=e[a++];for(var l=a+1;l<e.length&&"number"!==typeof e[l];)l++;switch(s=e[a++],l-=a){case 0:r(t,n,s);break;case 1:(l=gt(e,a))?(a++,o(t,n,s,l)):r(t,n,s,e[a++]);break;case 2:o(t,n,s,l=gt(e,l=a++),e[a++]);break;case 3:i(t,n,s,e[a++],e[a++],e[a++]);break;case 4:i(t,n,s,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return t}var vt=Symbol();function bt(e){var t=e[vt];if(!t){var n=Et(e);t=function(e,t){return Mt(e,t,n)},e[vt]=t}return t}function xt(e,t){var n=e[vt];return n||(n=function(e,n){return dt(e,n,t)},e[vt]=n),n}var wt=Symbol();function At(e,t){e.push(t)}function St(e,t,n){e.push(t,n.W)}function Ct(e,t,n,r){var o=bt(r),i=Et(r).P,a=n.W;e.push(t,(function(e,t,n){return a(e,t,n,i,o)}))}function kt(e,t,n,r,o,i){var a=xt(r,i),s=n.W;e.push(t,(function(e,t,n){return s(e,t,n,r,a)}))}function Et(e){var t=e[wt];return t||(t=yt(e,e[wt]=[],At,St,Ct,kt),Tt in e&&wt in e&&(e.length=0),t)}var Tt=Symbol();function It(e,t){e[0]=t}function Ot(e,t,n,r){var o=n.U;e[t]=r?function(e,t,n){return o(e,t,n,r)}:o}function Rt(e,t,n,r,o){var i=n.U,a=ft(r),s=_t(r).P;e[t]=function(e,t,n){return i(e,t,n,s,a,o)}}function Nt(e,t,n,r,o,i,a){var s=n.U,l=ht(r,o,i);e[t]=function(e,t,n){return s(e,t,n,r,l,a)}}function _t(e){var t=e[Tt];return t||(t=yt(e,e[Tt]={},It,Ot,Rt,Nt),Tt in e&&wt in e&&(e.length=0),t)}function Pt(e,t,n){for(;Se(t)&&4!=t.i;){var r=t.l,o=n[r];if(!o){var i=n[0];i&&(i=i[r])&&(o=n[r]=mt(i))}if(!o||!o(t,e,r)){r=e,i=(o=t).j,Ce(o);var a=o;if(!a.ca){if(o=a.h.h-i,a.h.h=i,a=a.h,0==o)o=de();else{if(i=ye(a,o),a.S&&a.m)o=a.i.subarray(i,i+o);else{a=a.i;var s=i;o=s===(o=i+o)?V():U?a.slice(s,o):new Uint8Array(a.subarray(s,o))}o=0==o.length?de():new ce(o,z)}(i=r.R)?i.push(o):r.R=[o]}}}return e}function Mt(e,t,n){for(var r=n.length,o=1==r%2,i=o?1:0;i<r;i+=2)(0,n[i+1])(t,e,n[i]);dt(e,t,o?n[0]:void 0)}function Dt(e,t){return{U:e,W:t}}var Lt=Dt((function(e,t,n){if(5!==e.i)return!1;var r=(e=e.h).i,o=e.h,i=r[o],a=r[o+1],s=r[o+2];return r=r[o+3],me(e,e.h+4),e=2*((a=(i|a<<8|s<<16|r<<24)>>>0)>>31)+1,i=a>>>23&255,a&=8388607,qe(t,n,255==i?a?NaN:1/0*e:0==i?e*Math.pow(2,-149)*a:e*Math.pow(2,i-150)*(a+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=Xe(t,n))){we(e.h,8*n+5),e=e.h;var r=+t;0===r?0<1/r?W=q=0:(q=0,W=2147483648):isNaN(r)?(q=0,W=2147483647):34028234663852886e22<(r=(n=0>r?-2147483648:0)?-r:r)?(q=0,W=(2139095040|n)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),q=0,W=(n|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,q=0,W=(n|t+127<<23|8388607&r)>>>0),n=W,e.h.push(n>>>0&255),e.h.push(n>>>8&255),e.h.push(n>>>16&255),e.h.push(n>>>24&255)}})),$t=Dt((function(e,t,n){if(0!==e.i)return!1;var r=e.h,o=0,i=e=0,a=r.i,s=r.h;do{var l=a[s++];o|=(127&l)<<i,i+=7}while(32>i&&128&l);for(32<i&&(e|=(127&l)>>4),i=3;32>i&&128&l;i+=7)e|=(127&(l=a[s++]))<<i;if(me(r,s),!(128>l))throw Z();return r=o>>>0,(e=2147483648&(l=e>>>0))&&(l=~l>>>0,0==(r=1+~r>>>0)&&(l=l+1>>>0)),r=4294967296*l+(r>>>0),qe(t,n,e?-r:r),!0}),(function(e,t,n){null!=(t=We(t,n))&&("string"===typeof t&&Q(t),null!=t&&(we(e.h,8*n),"number"===typeof t?(e=e.h,H(t),xe(e,W,q)):(n=Q(t),xe(e.h,n.i,n.h))))})),jt=Dt((function(e,t,n){return 0===e.i&&(qe(t,n,ge(e.h)),!0)}),(function(e,t,n){if(null!=(t=We(t,n))&&null!=t)if(we(e.h,8*n),e=e.h,0<=(n=t))we(e,n);else{for(t=0;9>t;t++)e.h.push(127&n|128),n>>=7;e.h.push(1)}})),Ft=Dt((function(e,t,n){if(2!==e.i)return!1;var r=ge(e.h)>>>0,o=ye(e=e.h,r);if(e=e.i,se){var i,a=e;(i=re)||(i=re=new TextDecoder("utf-8",{fatal:!0})),e=o+r,a=0===o&&e===a.length?a:a.subarray(o,e);try{var s=i.decode(a)}catch(d){if(void 0===ae){try{i.decode(new Uint8Array([128]))}catch(p){}try{i.decode(new Uint8Array([97])),ae=!0}catch(p){ae=!1}}throw!ae&&(re=void 0),d}}else{r=(s=o)+r,o=[];for(var l,u,c=null;s<r;)128>(l=e[s++])?o.push(l):224>l?s>=r?te():(u=e[s++],194>l||128!==(192&u)?(s--,te()):o.push((31&l)<<6|63&u)):240>l?s>=r-1?te():128!==(192&(u=e[s++]))||224===l&&160>u||237===l&&160<=u||128!==(192&(a=e[s++]))?(s--,te()):o.push((15&l)<<12|(63&u)<<6|63&a):244>=l?s>=r-2?te():128!==(192&(u=e[s++]))||0!==u-144+(l<<28)>>30||128!==(192&(a=e[s++]))||128!==(192&(i=e[s++]))?(s--,te()):(l=(7&l)<<18|(63&u)<<12|(63&a)<<6|63&i,l-=65536,o.push(55296+(l>>10&1023),56320+(1023&l))):te(),8192<=o.length&&(c=ne(c,o),o.length=0);s=ne(c,o)}return qe(t,n,s),!0}),(function(e,t,n){if(null!=(t=We(t,n))){var r=!1;if(r=void 0!==r&&r,le){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(oe||(oe=new TextEncoder)).encode(t)}else{for(var o=0,i=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)i[o++]=s;else{if(2048>s)i[o++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var l=t.charCodeAt(++a);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,i[o++]=s>>18|240,i[o++]=s>>12&63|128,i[o++]=s>>6&63|128,i[o++]=63&s|128;continue}a--}if(r)throw Error("Found an unpaired surrogate");s=65533}i[o++]=s>>12|224,i[o++]=s>>6&63|128}i[o++]=63&s|128}}t=o===i.length?i:i.subarray(0,o)}we(e.h,8*n+2),we(e.h,t.length),Te(e,e.h.end()),Te(e,t)}})),Bt=Dt((function(e,t,n,r,o){if(2!==e.i)return!1;t=Je(t,n,r),n=e.h.j,r=ge(e.h)>>>0;var i=e.h.h+r,a=i-n;if(0>=a&&(e.h.j=i,o(t,e,void 0,void 0,void 0),a=i-e.h.h),a)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=i,e.h.j=n,!0}),(function(e,t,n,r,o){if(null!=(t=Ye(t,r,n)))for(r=0;r<t.length;r++){var i=e;we(i.h,8*n+2);var a=i.h.end();Te(i,a),a.push(i.i),i=a,o(t[r],e),a=e;var s=i.pop();for(s=a.i+a.h.length()-s;127<s;)i.push(127&s|128),s>>>=7,a.i++;i.push(s),a.i++}}));function Vt(e){return function(t,n){e:{if(ke.length){var r=ke.pop();r.setOptions(n),fe(r.h,t,n),t=r}else t=new Ae(t,n);try{var o=_t(e),i=Pt(new o.P,t,o);break e}finally{(o=t.h).i=null,o.m=!1,o.l=0,o.j=0,o.h=0,o.S=!1,t.l=-1,t.i=-1,100>ke.length&&ke.push(t)}i=void 0}return i}}function zt(e){return function(){var t=new Ee;Mt(this,t,Et(e)),Te(t,t.h.end());for(var n=new Uint8Array(t.i),r=t.j,o=r.length,i=0,a=0;a<o;a++){var s=r[a];n.set(s,i),i+=s.length}return t.j=[n],n}}function Ut(e){ut.call(this,e)}m(Ut,ut);var Wt=[Ut,1,jt,2,Lt,3,Ft,4,Ft];function qt(e){ut.call(this,e,-1,Ht)}Ut.prototype.l=zt(Wt),m(qt,ut),qt.prototype.addClassification=function(e,t){return Je(this,1,Ut,e,t),this};var Ht=[1],Gt=Vt([qt,1,Bt,Wt]);function Xt(e){ut.call(this,e)}m(Xt,ut);var Kt=[Xt,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt];function Yt(e){ut.call(this,e,-1,Qt)}Xt.prototype.l=zt(Kt),m(Yt,ut);var Qt=[1],Jt=Vt([Yt,1,Bt,Kt]);function Zt(e){ut.call(this,e)}m(Zt,ut);var en=[Zt,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt,6,$t],tn=Vt(en);function nn(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function rn(e){return Ye(e,Ut,1).map((function(e){var t=We(e,1);return{index:null==t?0:t,qa:et(e,2),label:null!=We(e,3)?Ze(We(e,3),""):void 0,displayName:null!=We(e,4)?Ze(We(e,4),""):void 0}}))}function on(e){return{x:et(e,1),y:et(e,2),z:et(e,3),visibility:null!=Xe(e,4)?et(e,4):void 0}}function an(e){return Ye(Jt(e),Xt,1).map(on)}function sn(e,t){this.i=e,this.h=t,this.m=0}function ln(e,t,n){return function(e,t){var n=e.h;if(void 0===e.s){var r=nn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),o=nn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(i));r=e.s=i,n.useProgram(r),o=n.getUniformLocation(r,"sampler0"),e.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),ya:o},e.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.enableVertexAttribArray(e.l.O),n.vertexAttribPointer(e.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.l.N),n.vertexAttribPointer(e.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(o,0)}r=e.l,n.useProgram(e.s),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.i.bindTexture2d(t.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"===typeof e.h.canvas.transferToImageBitmap?Promise.resolve(e.h.canvas.transferToImageBitmap()):n?Promise.resolve(e.h.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise((function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)})))}function un(e){this.h=e}Zt.prototype.l=zt(en);var cn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function dn(e,t){return t+e}function pn(e,t){window[e]=t}function hn(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||dn,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.l[n]="function"===typeof r?r():r)}}function fn(e){var t,n,r,o,i,a,s,u,c,d,p;return C((function(h){switch(h.h){case 1:return e.ga?(t=void 0===e.h.files?[]:"function"===typeof e.h.files?e.h.files(e.l):e.h.files,b(h,C((function(e){switch(e.h){case 1:return e.s=2,b(e,WebAssembly.instantiate(cn),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(n=h.i,"object"===typeof window)return pn("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),pn("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),a=t.filter((function(e){return void 0!==e.data})),s=t.filter((function(e){return void 0===e.data})),u=Promise.all(a.map((function(t){var n=mn(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then((function(t){return e.overrideFile(r,t),Promise.resolve(t)}))}return n}))),c=Promise.all(s.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.ha)):Promise.resolve()}))).then((function(){var t,n,r;return C((function(o){if(1==o.h)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,b(o,t(n),2);r.i=o.i,o.h=0}))})),d=C((function(t){return e.h.graph&&e.h.graph.url?t=b(t,mn(e,e.h.graph.url),0):(t.h=0,t=void 0),t})),b(h,Promise.all([c,u,d]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.ha)})),importScripts.apply(null,l(r)),o=e,b(h,createMediapipeSolutionsWasm(Module),6);case 6:o.i=h.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,i=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,va:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(i),h.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(p=e.m.getContext("webgl2",{}))&&!(p=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.K=p,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,h.h=0}}))}function mn(e,t){var n,r;return C((function(o){return t in e.L?o.return(e.L[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.L[t]=r,o.return(r))}))}function gn(e,t,n){var r,o,i,a,l,u,c,d,p,h,f,m,g,y;return C((function(v){switch(v.h){case 1:if(!n)return v.return(t);for(r={},o=0,i=s(Object.keys(n)),a=i.next();!a.done;a=i.next())l=a.value,"string"!==typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++o;1<o&&(e.M=!1),c=s(Object.keys(n)),a=c.next();case 2:if(a.done){v.h=4;break}if(d=a.value,"string"===typeof(p=n[d]))return g=r,y=d,b(v,function(e,t,n){var r;return C((function(o){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.i.Uint8BlobList?o.return(n):n instanceof e.i.Texture2dDataOut?((r=e.v[t])||(r=new sn(e.i,e.K),e.v[t]=r),o.return(ln(r,n,e.M))):o.return(void 0)}))}(e,d,t[p]),14);if(h=t[p.stream],"detection_list"===p.type){if(h){for(var x=h.getRectList(),w=h.getLandmarksList(),A=h.getClassificationsList(),S=[],k=0;k<x.size();++k){var E=tn(x.get(k)),T=void 0;T=void 0===T?0:T,E={la:{sa:et(E,1),ta:et(E,2),height:et(E,3),width:et(E,4),rotation:et(E,5,0),pa:Ze(We(E,6),T)},ea:an(w.get(k)),ba:rn(Gt(A.get(k)))},S.push(E)}x=S}else x=[];r[d]=x,v.h=7;break}if("proto_list"===p.type){if(h){for(x=Array(h.size()),w=0;w<h.size();w++)x[w]=h.get(w);h.delete()}else x=[];r[d]=x,v.h=7;break}if(void 0===h){v.h=3;break}if("float_list"===p.type){r[d]=h,v.h=7;break}if("proto"===p.type){r[d]=h,v.h=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(f=e.v[d])||(f=new sn(e.i,e.K),e.v[d]=f),b(v,ln(f,h,e.M),13);case 13:m=v.i,r[d]=m;case 7:p.transform&&r[d]&&(r[d]=p.transform(r[d])),v.h=3;break;case 14:g[y]=v.i;case 3:a=c.next(),v.h=2;break;case 4:return v.return(r)}}))}function yn(e,t){for(var n=t.name||"$",r=[].concat(l(t.wants)),o=new e.i.StringList,i=s(t.wants),a=i.next();!a.done;a=i.next())o.push_back(a.value);i=e.i.PacketListener.implement({onResults:function(o){for(var i={},a=0;a<t.wants.length;++a)i[r[a]]=o.get(a);var s=e.listeners[n];s&&(e.I=gn(e,i,t.outs).then((function(n){n=s(n);for(var o=0;o<t.wants.length;++o){var a=i[r[o]];"object"===typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.I=n)})))}}),e.j.attachMultiListener(o,i),o.delete()}function vn(e){switch(void 0===e&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function bn(e){var t=this;e=e||{},this.h=new hn({locateFile:e.locateFile,files:function(e){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:vn(e.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:an},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:an},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,o;return C((function(i){return 1==i.h?(n=vn(e),r="third_party/mediapipe/modules/pose_landmark/"+n,b(i,mn(t.h,n),2)):(o=i.i,t.h.overrideFile(r,o),i.return(!0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}(e=hn.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},e.reset=function(){var e=this;return C((function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.h.options){for(var r=[],o=[],i={},a=s(Object.keys(e)),l=a.next();!l.done;i={X:i.X,Y:i.Y},l=a.next())if(!((l=l.value)in this.l)||this.l[l]!==e[l]){this.l[l]=e[l];var u=t[l];void 0!==u&&(u.onChange&&(i.X=u.onChange,i.Y=e[l],r.push(function(e){return function(){return C((function(t){if(1==t.h)return b(t,e.X(e.Y),2);!0===t.i&&(n.u=!0),t.h=0}))}}(i))),u.graphOptionXref&&(l=Object.assign({},{calculatorName:"",calculatorIndex:0},u.graphOptionXref,{valueNumber:1===u.type?e[l]:0,valueBoolean:0===u.type&&e[l],valueString:2===u.type?e[l]:""}),o.push(l)))}0===r.length&&0===o.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(o),this.F=(void 0===this.F?[]:this.F).concat(r))}},e.initialize=function(){var e=this;return C((function(t){return 1==t.h?b(t,fn(e),2):3!=t.h?b(t,function(e){var t,n,r,o,i,a,l,u;return C((function(c){if(1==c.h)return e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url?c.return():(e.u=!0,e.h.graph&&e.h.graph.url?(e.fa=e.h.graph.url,b(c,mn(e,e.h.graph.url),3)):void(c.h=2));for(2!=c.h&&(t=c.i,e.j.loadGraph(t)),n=s(Object.keys(e.D)),r=n.next();!r.done;r=n.next())o=r.value,e.j.overrideFile(o,e.D[o]);if(e.D={},e.h.listeners)for(i=s(e.h.listeners),a=i.next();!a.done;a=i.next())l=a.value,yn(e,l);u=e.l,e.l={},e.setOptions(u),c.h=0}))}(e),3):b(t,function(e){var t,n,r,o,i,a;return C((function(l){switch(l.h){case 1:if(!e.u)return l.return();if(!e.F){l.h=2;break}t=s(e.F),n=t.next();case 3:if(n.done){l.h=5;break}return b(l,(0,n.value)(),4);case 4:n=t.next(),l.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(r=new e.i.GraphOptionChangeRequestList,o=s(e.H),i=o.next();!i.done;i=o.next())a=i.value,r.push_back(a);e.j.changeOptions(r),r.delete(),e.H=void 0}e.u=!1,l.h=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(e,t){var n,r,o,i,a,l,u,c,d,p=this;return C((function(h){switch(h.h){case 1:return p.h.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),b(h,p.I,2)):h.return();case 2:return b(h,p.initialize(),3);case 3:for(r=new p.i.PacketDataList,o=s(Object.keys(e)),i=o.next();!i.done;i=o.next())if(a=i.value,l=p.h.inputs[a]){e:{var f=e[a];switch(l.type){case"video":var m=p.s[l.stream];if(m||(m=new sn(p.i,p.K),p.s[l.stream]=m),0===m.m&&(m.m=m.i.createTexture()),"undefined"!==typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,y=f.videoHeight;else"undefined"!==typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,y=f.naturalHeight):(g=f.width,y=f.height);y={glName:m.m,width:g,height:y},(g=m.h).canvas.width=y.width,g.canvas.height=y.height,g.activeTexture(g.TEXTURE0),m.i.bindTexture2d(m.m),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.i.bindTexture2d(0),m=y;break e;case"detections":for((m=p.s[l.stream])||(m=new un(p.i),p.s[l.stream]=m),m.data||(m.data=new m.h.DetectionListData),m.data.reset(f.length),y=0;y<f.length;++y){g=f[y];var v=m.data,x=v.setBoundingBox,w=y,A=g.la,S=new Zt;if(Qe(S,1,A.sa),Qe(S,2,A.ta),Qe(S,3,A.height),Qe(S,4,A.width),Qe(S,5,A.rotation),qe(S,6,A.pa),A=S.l(),x.call(v,w,A),g.ea)for(v=0;v<g.ea.length;++v){S=g.ea[v],w=(x=m.data).addNormalizedLandmark,A=y,S=Object.assign({},S,{visibility:S.visibility?S.visibility:0});var C=new Xt;Qe(C,1,S.x),Qe(C,2,S.y),Qe(C,3,S.z),S.visibility&&Qe(C,4,S.visibility),S=C.l(),w.call(x,A,S)}if(g.ba)for(v=0;v<g.ba.length;++v)w=(x=m.data).addClassification,A=y,S=g.ba[v],Qe(C=new Ut,2,S.qa),S.index&&qe(C,1,S.index),S.label&&qe(C,3,S.label),S.displayName&&qe(C,4,S.displayName),S=C.l(),w.call(x,A,S)}m=m.data;break e;default:m={}}}switch(u=m,c=l.stream,l.type){case"video":r.pushTexture2d(Object.assign({},u,{stream:c,timestamp:n}));break;case"detections":(d=u).stream=c,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return p.j.send(r),b(h,p.I,4);case 4:r.delete(),h.h=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},T("Solution",hn),T("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=bn.prototype).reset=function(){this.h.reset()},e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(e){this.h.onResults(e)},e.initialize=function(){var e=this;return C((function(t){return b(t,e.h.initialize(),0)}))},e.send=function(e,t){var n=this;return C((function(r){return b(r,n.h.send(e,t),0)}))},e.setOptions=function(e){this.h.setOptions(e)},T("Pose",bn),T("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),T("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),T("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),T("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),T("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),T("VERSION","0.5.1675469404")}).call(this)},64195:(e,t,n)=>{"use strict";var r=n(24994);t.A=void 0;var o=r(n(40039)),i=n(70579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M5 16c0 3.87 3.13 7 7 7s7-3.13 7-7v-4H5zM16.12 4.37l2.1-2.1-.82-.83-2.3 2.31C14.16 3.28 13.12 3 12 3s-2.16.28-3.09.75L6.6 1.44l-.82.83 2.1 2.1C6.14 5.64 5 7.68 5 10v1h14v-1c0-2.32-1.14-4.36-2.88-5.63M9 9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Adb")},74802:(e,t,n)=>{"use strict";var r=n(24994);t.A=void 0;var o=r(n(40039)),i=n(70579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},89611:(e,t,n)=>{"use strict";var r=n(24994);t.A=void 0;var o=r(n(40039)),i=n(70579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},40039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},98206:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});n(65043);var r=n(13654);n(70579);function o(e){return(0,r.b)(e)}},25881:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case p:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case f:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference")},30805:(e,t,n)=>{"use strict";n(25881)},88279:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var r=n(58168),o=n(98587),i=n(17868),a=n(19172),s=n(37758),l=n(58812),u=n(18280);var c=n(67266);const d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.a)(e.main,o):"dark"===t&&(e.dark=(0,c.e$)(e.main,i)))}function S(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:s=.2}=e,l=(0,o.A)(e,b),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(t),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),k=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(t),E=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function I(e){return(0,c.eM)(e,w.text.primary)>=n?w.text.primary:x.text.primary}const O=e=>{let{color:t,name:n,mainShade:o=500,lightShade:a=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return A(t,"light",a,s),A(t,"dark",l,s),t.contrastText||(t.contrastText=I(t.main)),t},R={dark:w,light:x};return(0,a.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:O({color:u,name:"primary"}),secondary:O({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:C,name:"error"}),warning:O({color:T,name:"warning"}),info:O({color:k,name:"info"}),success:O({color:E,name:"success"}),grey:p,contrastThreshold:n,getContrastText:I,augmentColor:O,tonalOffset:s},R[t]),l)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const k={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=E,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:u=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:h,pxToRem:f}=n,m=(0,o.A)(n,C);const g=s/14,y=f||(e=>e/p*g+"rem"),v=(e,t,n,o,a)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:y(t),lineHeight:n},i===E?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},a,h);var s},b={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(u,48,1.167,0),h4:v(u,34,1.235,.25),h5:v(u,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(u,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(u,16,1.5,.15),body2:v(u,14,1.43,.15),button:v(c,14,1.75,.4,k),caption:v(u,12,1.66,.4),overline:v(u,12,2.66,1,k),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,a.A)((0,r.A)({htmlFontSize:p,pxToRem:y,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:c,fontWeightBold:d},b),m,{clone:!1})}function I(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const O=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(e){return`${Math.round(e)}ms`}function M(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function D(e){const t=(0,r.A)({},N,e.easing),n=(0,r.A)({},_,e.duration);return(0,r.A)({getAutoHeightDuration:M,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:a=t.easeInOut,delay:s=0}=r;(0,o.A)(r,R);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:P(i)} ${a} ${"string"===typeof s?s:P(s)}`)).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},$=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:c={},typography:d={}}=e,p=(0,o.A)(e,$);if(e.vars)throw new Error((0,i.A)(18));const h=S(n),f=(0,u.A)(e);let m=(0,a.A)(f,{mixins:(g=f.breakpoints,y=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},y)),palette:h,shadows:O.slice(),typography:T(h,d),transitions:D(c),zIndex:(0,r.A)({},L)});var g,y;m=(0,a.A)(m,p);for(var v=arguments.length,b=new Array(v>1?v-1:0),x=1;x<v;x++)b[x-1]=arguments[x];return m=b.reduce(((e,t)=>(0,a.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},s.A,null==p?void 0:p.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const F=j},15170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(88279).A)()},13375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},61475:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(47123);const o=e=>(0,r.A)(e)&&"classes"!==e},47123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},34535:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s});var r=n(38052),o=n(15170),i=n(13375),a=n(61475);const s=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:a.A})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(67598).A},59662:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(58168),o=n(65043),i=n(98587),a=n(58387),s=n(98610),l=n(6803),u=n(98206),c=n(34535),d=n(92532),p=n(72372);function h(e){return(0,p.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(70579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,a,s,l,u,c,d,p,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(l=t.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(p=null==(h=(t.vars||t).palette)||null==(h=h[n.color])?void 0:h.main)?p:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),y=o.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:d,color:p="inherit",component:y="svg",fontSize:v="medium",htmlColor:b,inheritViewBox:x=!1,titleAccess:w,viewBox:A="0 0 24 24"}=n,S=(0,i.A)(n,m),C=o.isValidElement(c)&&"svg"===c.type,k=(0,r.A)({},n,{color:p,component:y,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:A,hasSvgAsChild:C}),E={};x||(E.viewBox=A);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,s.A)(o,h,r)})(k);return(0,f.jsxs)(g,(0,r.A)({as:y,className:(0,a.A)(T.root,d),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},E,S,C&&c.props,{ownerState:k,children:[C?c.props.children:c,w?(0,f.jsx)("title",{children:w}):null]}))}));y.muiName="SvgIcon";const v=y;function b(e,t){function n(n,o){return(0,f.jsx)(v,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=v.muiName,o.memo(o.forwardRef(n))}},80950:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(83468).A},4421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>a.A,debounce:()=>s.A,deprecatedPropType:()=>l,isMuiElement:()=>u.A,ownerDocument:()=>c.A,ownerWindow:()=>d.A,requirePropFactory:()=>p,setRef:()=>h,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>y.A,useEventCallback:()=>v.A,useForkRef:()=>b.A,useIsFocusVisible:()=>x.A});var r=n(79386),o=n(6803);const i=n(42456).A;var a=n(59662),s=n(80950);const l=function(e,t){return()=>null};var u=n(27328),c=n(22427),d=n(36078);n(58168);const p=function(e,t){return()=>null};const h=n(26564).A;var f=n(55013),m=n(45879);const g=function(e,t,n,r,o){return null};var y=n(15420),v=n(93319),b=n(95849),x=n(13574);const w={configure:e=>{r.A.configure(e)}}},27328:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(65043);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},22427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(31668).A},36078:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(63940).A},15420:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(65043);const o=function(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:a}=r.useRef(void 0!==t),[s,l]=r.useState(n);return[a?t:s,r.useCallback((e=>{a||l(e)}),[])]}},55013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(84440).A},93319:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(31782).A},95849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(63462).A},45879:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5844).A},13574:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(65043),o=n(99303);let i=!0,a=!1;const s=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function d(){"hidden"===this.visibilityState&&a&&(i=!0)}function p(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!p(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,s.start(100,(()=>{a=!1})),t.current=!1,!0)},ref:e}}},70869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(65043);var r=n(83290),o=n(70579);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},13174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>A,ThemeContext:()=>l.T,css:()=>v.AH,default:()=>C,internal_processStyles:()=>k,keyframes:()=>v.i7});var r=n(58168),o=n(65043),i=n(30918),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,i.A)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(84575),u=n(81722),c=n(66598),d=n(69436),p=s,h=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?p:h},m=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,u.SF)(t,n,r),(0,d.s)((function(){return(0,u.sk)(t,n,r)})),null},y=function e(t,n){var i,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var p=m(t,n,s),h=p||f(d),y=!h("as");return function(){var v=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{b.push(v[0][0]);for(var x=v.length,w=1;w<x;w++)b.push(v[w],v[0][w])}var A=(0,l.w)((function(e,t,n){var r=y&&e.as||d,i="",s=[],m=e;if(null==e.theme){for(var v in m={},e)m[v]=e[v];m.theme=o.useContext(l.T)}"string"===typeof e.className?i=(0,u.Rk)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var x=(0,c.J)(b.concat(s),t.registered,m);i+=t.key+"-"+x.name,void 0!==a&&(i+=" "+a);var w=y&&void 0===p?f(r):h,A={};for(var S in e)y&&"as"===S||w(S)&&(A[S]=e[S]);return A.className=i,n&&(A.ref=n),o.createElement(o.Fragment,null,o.createElement(g,{cache:t,serialized:x,isStringTag:"string"===typeof r}),o.createElement(r,A))}));return A.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=d,A.__emotion_styles=b,A.__emotion_forwardProp=p,Object.defineProperty(A,"toString",{value:function(){return"."+a}}),A.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:m(A,o,!0)})).apply(void 0,b)},A}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var v=n(83290),b=n(93803),x=n(70579);let w;function A(e){const{injectFirst:t,children:n}=e;return t&&w?(0,x.jsx)(l.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,b.A)({key:"css",prepend:!0}));var S=n(70869);function C(e,t){return y(e,t)}const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},67266:(e,t,n)=>{"use strict";var r=n(24994);t.X4=h,t.e$=f,t.eM=function(e,t){const n=p(e),r=p(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(10457)),i=r(n(29214));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const u=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),c({type:s,values:u})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=l(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function f(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function m(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return p(e)>.5?f(e,t):m(e,t)}},38052:(e,t,n)=>{"use strict";var r=n(24994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,c=e=>(0,u.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:m,skipSx:x,overridesResolver:w=v(g(h))}=u,A=(0,i.default)(u,p),S=void 0!==m?m:h&&"Root"!==h&&"root"!==h||!1,C=x||!1;let k=f;"Root"===h||"root"===h?k=r:h?k=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const E=(0,a.default)(e,(0,o.default)({shouldForwardProp:k,label:undefined},A)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,I=function(r){let i=T(r);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];const u=s?s.map(T):[];d&&w&&u.push((e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,a={};return Object.entries(i).forEach((t=>{let[n,i]=t;a[n]=b(i,(0,o.default)({},e,{theme:r}))})),w(e,a)})),d&&!S&&u.push((e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),C||u.push(c);const p=u.length-s.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const h=E(i,...u);return e.muiName&&(h.muiName=e.muiName),h};return E.withConfig&&(I.withConfig=E.withConfig),I}};var o=r(n(94634)),i=r(n(54893)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(13174)),s=n(19482),l=(r(n(87918)),r(n(83382)),r(n(24989))),u=r(n(73234));const c=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function v(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,c);const a="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(a))return a.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,i.default)(a,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return a}},13654:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>s});var r=n(65043),o=n(13030),i=n(70579);const a=r.createContext(void 0);function s(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:t,name:n,theme:{components:r.useContext(a)}})}const l=function(e){let{value:t,children:n}=e;return(0,i.jsx)(a.Provider,{value:t,children:n})}},89751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>i,kW:()=>l,vf:()=>s,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||o;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=i.breakpoints||o;return Object.keys(t).reduce(((o,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function s(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let a;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}},89703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},34853:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(98587),o=n(58168);const i=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,i),u=a(t),c=Object.keys(u);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function p(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-s/100}${n})`}function h(e,r){const o=c.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[c[o]]?t[c[o]]:r)-s/100}${n})`}return(0,o.A)({keys:c,values:u,up:d,down:p,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):d(e)},not:function(e){const t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?p(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},18280:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(58168),o=n(98587),i=n(19172),a=n(34853);const s={borderRadius:4};var l=n(28604);var u=n(58812),c=n(37758),d=n(89703);const p=["breakpoints","palette","spacing","shape"];const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:h,shape:f={}}=e,m=(0,o.A)(e,p),g=(0,a.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(h);let v=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},s,f)},m);v.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return v=x.reduce(((e,t)=>(0,i.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},c.A,null==m?void 0:m.unstable_sxConfig),v.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},v}},24989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(18280),o=n(34853),i=n(89703)},13815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(19172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},28604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>h,_W:()=>m,Lc:()=>v,Ms:()=>b});var r=n(89751),o=n(17162),i=n(13815);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=a[t],o=s[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...c,...d];function h(e,t,n,r){var i;const a=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof a?e=>"string"===typeof e?e:a*e:Array.isArray(a)?e=>"string"===typeof e?e:a[e]:"function"===typeof a?a:()=>{}}function f(e){return h(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(u(n),o),a=e[n];return(0,r.NI)(e,a,i)}function y(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function v(e){return y(e,c)}function b(e){return y(e,d)}function x(e){return y(e,p)}v.propTypes={},v.filterProps=c,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=p},17162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>a,Yn:()=>i});var r=n(67598),o=n(89751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=i(e.theme,s)||{};return(0,o.NI)(e,u,(e=>{let o=a(c,l,e);return e===o&&"string"===typeof e&&(o=a(c,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return u.propTypes={},u.filterProps=[t],u}},37758:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r=n(28604),o=n(17162),i=n(13815);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var s=n(89751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function u(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const c=u("border",l),d=u("borderTop",l),p=u("borderRight",l),h=u("borderBottom",l),f=u("borderLeft",l),m=u("borderColor"),g=u("borderTopColor"),y=u("borderRightColor"),v=u("borderBottomColor"),b=u("borderLeftColor"),x=u("outline",l),w=u("outlineColor"),A=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};A.propTypes={},A.filterProps=["borderRadius"];a(c,d,p,h,f,m,g,y,v,b,A,x,w);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const C=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};C.propTypes={},C.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];a(S,C,k,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}a((0,o.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?100*e+"%":e}const I=(0,o.Ay)({prop:"width",transform:T}),O=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:T(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};O.filterProps=["maxWidth"];const R=(0,o.Ay)({prop:"minWidth",transform:T}),N=(0,o.Ay)({prop:"height",transform:T}),_=(0,o.Ay)({prop:"maxHeight",transform:T}),P=(0,o.Ay)({prop:"minHeight",transform:T}),M=((0,o.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:T}),a(I,O,R,N,_,P,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:A},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:k},columnGap:{style:C},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:O},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},18698:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(58168),o=n(98587),i=n(19172),a=n(37758);const s=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function u(e){const{sx:t}=e,n=(0,o.A)(e,s),{systemProps:a,otherProps:u}=l(n);let c;return c=Array.isArray(t)?[a,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},a,e):a}:(0,r.A)({},a,t),(0,r.A)({},u,{sx:c})}},73234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(58812),o=n(18698),i=n(37758)},58812:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var r=n(67598),o=n(13815),i=n(17162),a=n(89751),s=n(37758);function l(){function e(e,t,n,o){const s={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:u=e,themeKey:c,transform:d,style:p}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const h=(0,i.Yn)(n,c)||{};if(p)return p(s);return(0,a.NI)(s,t,(t=>{let n=(0,i.BO)(h,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(h,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===u?n:{[u]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const u=null!=(r=l.unstable_sxConfig)?r:s.A;function c(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,a.EU)(l.breakpoints),s=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(u[n])c=(0,o.A)(c,e(n,i,l,u));else{const e=(0,a.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?c=(0,o.A)(c,e):c[n]=t({sx:i,theme:l})}else c=(0,o.A)(c,e(n,i,l,u))})),(0,a.vf)(s,c)}return Array.isArray(i)?i.map(c):c(i)}}const u=l();u.filterProps=["sx"];const c=u},92374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(65043)),o=n(13174);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},79386:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},67598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(17868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},87918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(67598)},29214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},98610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},42456:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},83468:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},19172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>o});var r=n(58168);function o(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(!o(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((r=>{o(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&o(e[r])?s[r]=a(e[r],t[r],n):n.clone?s[r]=o(t[r])?i(t[r]):t[r]:s[r]=t[r]})),s}},19482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(19172)},17868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},10457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(17868)},72372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(79386);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},92532:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(72372);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},83382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(19565);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function s(e,t,n){const r=a(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return a(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return s(e,e.render,"ForwardRef");case r.Memo:return s(e,e.type,"memo");default:return}}}},31668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},63940:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(31668);function o(e){return(0,r.A)(e).defaultView||window}},13030:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(58168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const a=e[i]||{},s=t[i];n[i]={},s&&Object.keys(s)?a&&Object.keys(a)?(n[i]=(0,r.A)({},s),Object.keys(a).forEach((e=>{n[i][e]=o(a[e],s[e])}))):n[i]=s:n[i]=a}else void 0===n[i]&&(n[i]=e[i])})),n}},26564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},84440:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(65043);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},31782:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(65043),o=n(84440);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},63462:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(65043),o=n(26564);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},5844:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>s});var o=n(65043);let i=0;const a=(r||(r=n.t(o,2)))["useId".toString()];function s(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},99303:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,A:()=>s});var r=n(65043);const o={};const i=[];class a{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new a}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function s(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(a.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},58609:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case p:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case f:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},19565:(e,t,n)=>{"use strict";e.exports=n(58609)},21021:(e,t,n)=>{"use strict";n.d(t,{jK:()=>xe,rC:()=>yn});var r=n(33168),o=Object.prototype.toString;function i(e){return"function"===typeof e||"[object Function]"===o.call(e)}var a=Math.pow(2,53)-1;function s(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),a)}function l(e,t){var n=Array,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");if("undefined"!==typeof t&&!i(t))throw new TypeError("Array.from: when provided, the second argument must be a function");for(var o,a=s(r.length),l=i(n)?Object(new n(a)):new Array(a),u=0;u<a;)o=r[u],l[u]=t?t(o,u):o,u+=1;return l.length=a,l}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}const p="undefined"===typeof Set?Set:function(){function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=d(n="items"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.items=o}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return!1===this.has(e)&&this.items.push(e),this}},{key:"clear",value:function(){this.items=[]}},{key:"delete",value:function(e){var t=this.items.length;return this.items=this.items.filter((function(t){return t!==e})),t!==this.items.length}},{key:"forEach",value:function(e){var t=this;this.items.forEach((function(n){e(n,n,t)}))}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"size",get:function(){return this.items.length}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){var t;return null!==(t=e.localName)&&void 0!==t?t:e.tagName.toLowerCase()}var f={article:"article",aside:"complementary",button:"button",datalist:"listbox",dd:"definition",details:"group",dialog:"dialog",dt:"term",fieldset:"group",figure:"figure",form:"form",footer:"contentinfo",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",header:"banner",hr:"separator",html:"document",legend:"legend",li:"listitem",math:"math",main:"main",menu:"list",nav:"navigation",ol:"list",optgroup:"group",option:"option",output:"status",progress:"progressbar",section:"region",summary:"button",table:"table",tbody:"rowgroup",textarea:"textbox",tfoot:"rowgroup",td:"cell",th:"columnheader",thead:"rowgroup",tr:"row",ul:"list"},m={caption:new Set(["aria-label","aria-labelledby"]),code:new Set(["aria-label","aria-labelledby"]),deletion:new Set(["aria-label","aria-labelledby"]),emphasis:new Set(["aria-label","aria-labelledby"]),generic:new Set(["aria-label","aria-labelledby","aria-roledescription"]),insertion:new Set(["aria-label","aria-labelledby"]),paragraph:new Set(["aria-label","aria-labelledby"]),presentation:new Set(["aria-label","aria-labelledby"]),strong:new Set(["aria-label","aria-labelledby"]),subscript:new Set(["aria-label","aria-labelledby"]),superscript:new Set(["aria-label","aria-labelledby"])};function g(e,t){return function(e,t){return["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-dropeffect","aria-flowto","aria-grabbed","aria-hidden","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"].some((function(n){var r;return e.hasAttribute(n)&&!(null!==(r=m[t])&&void 0!==r&&r.has(n))}))}(e,t)}function y(e){var t=function(e){var t=e.getAttribute("role");if(null!==t){var n=t.trim().split(" ")[0];if(n.length>0)return n}return null}(e);if(null===t||"presentation"===t){var n=function(e){var t=f[h(e)];if(void 0!==t)return t;switch(h(e)){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"img":return""!==e.getAttribute("alt")||g(e,"img")?"img":"presentation";case"input":var n=e.type;switch(n){case"button":case"image":case"reset":case"submit":return"button";case"checkbox":case"radio":return n;case"range":return"slider";case"email":case"tel":case"text":case"url":return e.hasAttribute("list")?"combobox":"textbox";case"search":return e.hasAttribute("list")?"combobox":"searchbox";case"number":return"spinbutton";default:return null}case"select":return e.hasAttribute("multiple")||e.size>1?"listbox":"combobox"}return null}(e);if("presentation"!==t||g(e,n||""))return n}return t}function v(e){return null!==e&&e.nodeType===e.ELEMENT_NODE}function b(e){return v(e)&&"caption"===h(e)}function x(e){return v(e)&&"input"===h(e)}function w(e){return v(e)&&"legend"===h(e)}function A(e){return function(e){return v(e)&&void 0!==e.ownerSVGElement}(e)&&"title"===h(e)}function S(e,t){if(v(e)&&e.hasAttribute(t)){var n=e.getAttribute(t).split(" "),r=e.getRootNode?e.getRootNode():e.ownerDocument;return n.map((function(e){return r.getElementById(e)})).filter((function(e){return null!==e}))}return[]}function C(e,t){return!!v(e)&&-1!==t.indexOf(y(e))}function k(e,t){if(!v(e))return!1;if("range"===t)return C(e,["meter","progressbar","scrollbar","slider","spinbutton"]);throw new TypeError("No knowledge about abstract role '".concat(t,"'. This is likely a bug :("))}function E(e,t){var n=l(e.querySelectorAll(t));return S(e,"aria-owns").forEach((function(e){n.push.apply(n,l(e.querySelectorAll(t)))})),n}function T(e){return v(t=e)&&"select"===h(t)?e.selectedOptions||E(e,"[selected]"):E(e,'[aria-selected="true"]');var t}function I(e){return x(e)||v(t=e)&&"textarea"===h(t)?e.value:e.textContent||"";var t}function O(e){var t=e.getPropertyValue("content");return/^["'].*["']$/.test(t)?t.slice(1,-1):""}function R(e){var t=h(e);return"button"===t||"input"===t&&"hidden"!==e.getAttribute("type")||"meter"===t||"output"===t||"progress"===t||"select"===t||"textarea"===t}function N(e){if(R(e))return e;var t=null;return e.childNodes.forEach((function(e){if(null===t&&v(e)){var n=N(e);null!==n&&(t=n)}})),t}function _(e){if(void 0!==e.control)return e.control;var t=e.getAttribute("for");return null!==t?e.ownerDocument.getElementById(t):N(e)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new p,r=function(e){var t=(null===e.ownerDocument?e:e.ownerDocument).defaultView;if(null===t)throw new TypeError("no window available");return t}(e),o=t.compute,i=void 0===o?"name":o,a=t.computedStyleSupportsPseudoElements,s=void 0===a?void 0!==t.getComputedStyle:a,u=t.getComputedStyle,c=void 0===u?r.getComputedStyle.bind(r):u,d=t.hidden,f=void 0!==d&&d;function m(e,t){var n="";if(v(e)&&s){var r=O(c(e,"::before"));n="".concat(r," ").concat(n)}if((function(e){return v(e)&&"slot"===h(e)}(e)?function(e){var t=e.assignedNodes();return 0===t.length?l(e.childNodes):t}(e):l(e.childNodes).concat(S(e,"aria-owns"))).forEach((function(e){var r=E(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0}),o="inline"!==(v(e)?c(e).getPropertyValue("display"):"inline")?" ":"";n+="".concat(o).concat(r).concat(o)})),v(e)&&s){var o=O(c(e,"::after"));n="".concat(n," ").concat(o)}return n.trim()}function g(e,t){var r=e.getAttributeNode(t);return null===r||n.has(r)||""===r.value.trim()?null:(n.add(r),r.value)}function y(e){if(!v(e))return null;if(function(e){return v(e)&&"fieldset"===h(e)}(e)){n.add(e);for(var t=l(e.childNodes),r=0;r<t.length;r+=1){var o=t[r];if(w(o))return E(o,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if(function(e){return v(e)&&"table"===h(e)}(e)){n.add(e);for(var i=l(e.childNodes),a=0;a<i.length;a+=1){var s=i[a];if(b(s))return E(s,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else{if(function(e){return v(e)&&"svg"===h(e)}(e)){n.add(e);for(var u=l(e.childNodes),c=0;c<u.length;c+=1){var d=u[c];if(A(d))return d.textContent}return null}if("img"===h(e)||"area"===h(e)){var p=g(e,"alt");if(null!==p)return p}else if(function(e){return v(e)&&"optgroup"===h(e)}(e)){var f=g(e,"label");if(null!==f)return f}}if(x(e)&&("button"===e.type||"submit"===e.type||"reset"===e.type)){var y=g(e,"value");if(null!==y)return y;if("submit"===e.type)return"Submit";if("reset"===e.type)return"Reset"}var S=function(e){var t=e.labels;return null===t?t:void 0!==t?l(t):R(e)?l(e.ownerDocument.querySelectorAll("label")).filter((function(t){return _(t)===e})):null}(e);if(null!==S&&0!==S.length)return n.add(e),l(S).map((function(e){return E(e,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})})).filter((function(e){return e.length>0})).join(" ");if(x(e)&&"image"===e.type){var k=g(e,"alt");if(null!==k)return k;var T=g(e,"title");return null!==T?T:"Submit Query"}if(C(e,["button"])){var I=m(e,{isEmbeddedInLabel:!1,isReferenced:!1});if(""!==I)return I}return null}function E(e,t){if(n.has(e))return"";if(!f&&function(e,t){if(!v(e))return!1;if(e.hasAttribute("hidden")||"true"===e.getAttribute("aria-hidden"))return!0;var n=t(e);return"none"===n.getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")}(e,c)&&!t.isReferenced)return n.add(e),"";var r=v(e)?e.getAttributeNode("aria-labelledby"):null,o=null===r||n.has(r)?[]:S(e,"aria-labelledby");if("name"===i&&!t.isReferenced&&o.length>0)return n.add(r),o.map((function(e){return E(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!0,recursion:!1})})).join(" ");var a,s=t.recursion&&(C(a=e,["button","combobox","listbox","textbox"])||k(a,"range"))&&"name"===i;if(!s){var u=(v(e)&&e.getAttribute("aria-label")||"").trim();if(""!==u&&"name"===i)return n.add(e),u;if(!function(e){return C(e,["none","presentation"])}(e)){var d=y(e);if(null!==d)return n.add(e),d}}if(C(e,["menu"]))return n.add(e),"";if(s||t.isEmbeddedInLabel||t.isReferenced){if(C(e,["combobox","listbox"])){n.add(e);var p=T(e);return 0===p.length?x(e)?e.value:"":l(p).map((function(e){return E(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0})})).join(" ")}if(k(e,"range"))return n.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext"):e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow"):e.getAttribute("value")||"";if(C(e,["textbox"]))return n.add(e),I(e)}if(function(e){return C(e,["button","cell","checkbox","columnheader","gridcell","heading","label","legend","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"])}(e)||v(e)&&t.isReferenced||function(e){return b(e)}(e)){var h=m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});if(""!==h)return n.add(e),h}if(e.nodeType===e.TEXT_NODE)return n.add(e),e.textContent||"";if(t.recursion)return n.add(e),m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});var w=function(e){return v(e)?g(e,"title"):null}(e);return null!==w?(n.add(e),w):(n.add(e),"")}return E(e,{isEmbeddedInLabel:!1,isReferenced:"description"===i,recursion:!1}).trim().replace(/\s\s+/g," ")}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=S(e,"aria-describedby").map((function(e){return P(e,L(L({},t),{},{compute:"description"}))})).join(" ");if(""===n){var r=e.getAttribute("title");n=null===r?"":r}return n}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(e,["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])?"":P(e,t)}var B=n(87881),V=n(53393),z=n.n(V);function U(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}e=n.hmd(e);const W=(e,t,n,r,o,i,a)=>{const s=r+n.indent,l=n.colors;return e.map((e=>{const u=t[e];let c=a(u,n,s,o,i);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")},q=(e,t,n,r,o,i)=>e.map((e=>{const a="string"===typeof e?H(e,t):i(e,t,n,r,o);return""===a&&"object"===typeof e&&null!==e&&3!==e.nodeType?"":t.spacingOuter+n+a})).join(""),H=(e,t)=>{const n=t.colors.content;return n.open+U(e)+n.close},G=(e,t)=>{const n=t.colors.comment;return n.open+"\x3c!--"+U(e)+"--\x3e"+n.close},X=(e,t,n,r,o)=>{const i=r.colors.tag;return i.open+"<"+e+(t&&i.close+t+r.spacingOuter+o+i.open)+(n?">"+i.close+n+r.spacingOuter+o+i.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+i.close},K=(e,t)=>{const n=t.colors.tag;return n.open+"<"+e+n.close+" \u2026"+n.open+" />"+n.close},Y=3,Q=8,J=11,Z=/^((HTML|SVG)\w*)?Element$/,ee=e=>{const t=e.constructor.name,{nodeType:n,tagName:r}=e,o="string"===typeof r&&r.includes("-")||"function"===typeof e.hasAttribute&&e.hasAttribute("is");return 1===n&&(Z.test(t)||o)||n===Y&&"Text"===t||n===Q&&"Comment"===t||n===J&&"DocumentFragment"===t};function te(e){return e.nodeType===J}function ne(e){return{test:e=>{var t;return(null==e||null==(t=e.constructor)?void 0:t.name)&&ee(e)},serialize:(t,n,r,o,i,a)=>{if(function(e){return e.nodeType===Y}(t))return H(t.data,n);if(function(e){return e.nodeType===Q}(t))return G(t.data,n);const s=te(t)?"DocumentFragment":t.tagName.toLowerCase();return++o>n.maxDepth?K(s,n):X(s,W(te(t)?[]:Array.from(t.attributes).map((e=>e.name)).sort(),te(t)?{}:Array.from(t.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{}),n,r+n.indent,o,i,a),q(Array.prototype.slice.call(t.childNodes||t.children).filter(e),n,r+n.indent,o,i,a),n,r)}}}let re=null,oe=null,ie=null;try{const t=e&&e.require;oe=t.call(e,"fs").readFileSync,ie=t.call(e,"@babel/code-frame").codeFrameColumns,re=t.call(e,"chalk")}catch{}function ae(){if(!oe||!ie)return"";return function(e){const t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.slice(t,n),o=r.split(":"),[i,a,s]=[o[0],parseInt(o[1],10),parseInt(o[2],10)];let l="";try{l=oe(i,"utf-8")}catch{return""}const u=ie(l,{start:{line:a,column:s}},{highlightCode:!0,linesBelow:0});return re.dim(r)+"\n"+u+"\n"}((new Error).stack.split("\n").slice(1).find((e=>!e.includes("node_modules/"))))}const se=3;function le(){return"undefined"!==typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}function ue(){if("undefined"===typeof window)throw new Error("Could not find default container");return window.document}function ce(e){if(e.defaultView)return e.defaultView;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument.defaultView;if(e.window)return e.window;throw e.ownerDocument&&null===e.ownerDocument.defaultView?new Error("It looks like the window object is not available for the provided node."):e.then instanceof Function?new Error("It looks like you passed a Promise object instead of a DOM node. Did you do something like `fireEvent.click(screen.findBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`, or await the findBy query `fireEvent.click(await screen.findBy...`?"):Array.isArray(e)?new Error("It looks like you passed an Array instead of a DOM node. Did you do something like `fireEvent.click(screen.getAllBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`?"):"function"===typeof e.debug&&"function"===typeof e.logTestingPlaygroundURL?new Error("It looks like you passed a `screen` object. Did you do something like `fireEvent.click(screen, ...` when you meant to use a query, e.g. `fireEvent.click(screen.getBy..., `?"):new Error("The given node is not an Element, the node type is: "+typeof e+".")}function de(e){if(!e||"function"!==typeof e.querySelector||"function"!==typeof e.querySelectorAll)throw new TypeError("Expected container to be an Element, a Document or a DocumentFragment but got "+function(e){if("object"===typeof e)return null===e?"null":e.constructor.name;return typeof e}(e)+".")}const pe=()=>{let e;try{var t;e=JSON.parse(null==process||null==(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8080",REACT_APP_ENV:"development"})?void 0:t.COLORS)}catch(n){}return"boolean"===typeof e?e:"undefined"!==typeof process&&void 0!==process.versions&&void 0!==process.versions.node},{DOMCollection:he}=r.Nx,fe=1,me=8;function ge(e){return e.nodeType!==me&&(e.nodeType!==fe||!e.matches(we().defaultIgnore))}function ye(e,t,n){if(void 0===n&&(n={}),e||(e=ue().body),"number"!==typeof t&&(t="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8080",REACT_APP_ENV:"development"}.DEBUG_PRINT_LIMIT||7e3),0===t)return"";e.documentElement&&(e=e.documentElement);let o=typeof e;if("object"===o?o=e.constructor.name:e={},!("outerHTML"in e))throw new TypeError("Expected an element or document but got "+o);const{filterNode:i=ge,...a}=n,s=r.GP(e,{plugins:[ne(i),he],printFunctionName:!1,highlight:pe(),...a});return void 0!==t&&e.outerHTML.length>t?s.slice(0,t)+"...":s}const ve=function(){const e=ae();e?console.log(ye(...arguments)+"\n\n"+e):console.log(ye(...arguments))};let be={testIdAttribute:"data-testid",asyncUtilTimeout:1e3,asyncWrapper:e=>e(),unstable_advanceTimersWrapper:e=>e(),eventWrapper:e=>e(),defaultHidden:!1,defaultIgnore:"script, style",showOriginalStackTrace:!1,throwSuggestions:!1,getElementError(e,t){const n=ye(t),r=new Error([e,"Ignored nodes: comments, "+be.defaultIgnore+"\n"+n].filter(Boolean).join("\n\n"));return r.name="TestingLibraryElementError",r},_disableExpensiveErrorDiagnostics:!1,computedStyleSupportsPseudoElements:!1};function xe(e){"function"===typeof e&&(e=e(be)),be={...be,...e}}function we(){return be}const Ae=["button","meter","output","progress","select","textarea","input"];function Se(e){return Ae.includes(e.nodeName.toLowerCase())?"":e.nodeType===se?e.textContent:Array.from(e.childNodes).map((e=>Se(e))).join("")}function Ce(e){let t;return t="label"===e.tagName.toLowerCase()?Se(e):e.value||e.textContent,t}function ke(e){var t;if(void 0!==e.labels)return null!=(t=e.labels)?t:[];if(!function(e){return/BUTTON|METER|OUTPUT|PROGRESS|SELECT|TEXTAREA/.test(e.tagName)||"INPUT"===e.tagName&&"hidden"!==e.getAttribute("type")}(e))return[];const n=e.ownerDocument.querySelectorAll("label");return Array.from(n).filter((t=>t.control===e))}function Ee(e,t,n){let{selector:r="*"}=void 0===n?{}:n;const o=t.getAttribute("aria-labelledby"),i=o?o.split(" "):[];return i.length?i.map((t=>{const n=e.querySelector('[id="'+t+'"]');return n?{content:Ce(n),formControl:null}:{content:"",formControl:null}})):Array.from(ke(t)).map((e=>({content:Ce(e),formControl:Array.from(e.querySelectorAll("button, input, meter, output, progress, select, textarea")).filter((e=>e.matches(r)))[0]})))}function Te(e){if(null===e||void 0===e)throw new Error("It looks like "+e+" was passed instead of a matcher. Did you do something like getByText("+e+")?")}function Ie(e,t,n,r){if("string"!==typeof e)return!1;Te(n);const o=r(e);return"string"===typeof n||"number"===typeof n?o.toLowerCase().includes(n.toString().toLowerCase()):"function"===typeof n?n(o,t):_e(n,o)}function Oe(e,t,n,r){if("string"!==typeof e)return!1;Te(n);const o=r(e);return n instanceof Function?n(o,t):n instanceof RegExp?_e(n,o):o===String(n)}function Re(e){let{trim:t=!0,collapseWhitespace:n=!0}=void 0===e?{}:e;return e=>{let r=e;return r=t?r.trim():r,r=n?r.replace(/\s+/g," "):r,r}}function Ne(e){let{trim:t,collapseWhitespace:n,normalizer:r}=e;if(!r)return Re({trim:t,collapseWhitespace:n});if("undefined"!==typeof t||"undefined"!==typeof n)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return r}function _e(e,t){const n=e.test(t);return e.global&&0!==e.lastIndex&&(console.warn("To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp."),e.lastIndex=0),n}function Pe(e){return e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:Array.from(e.childNodes).filter((e=>e.nodeType===se&&Boolean(e.textContent))).map((e=>e.textContent)).join("")}const Me=function(e){function t(e){let{attributes:t=[]}=e;return t.length}function n(e){let{attributes:t=[]}=e;const n=t.findIndex((e=>e.value&&"type"===e.name&&"text"===e.value));n>=0&&(t=[...t.slice(0,n),...t.slice(n+1)]);const r=function(e){let{name:t,attributes:n}=e;return""+t+n.map((e=>{let{name:t,value:n,constraints:r=[]}=e;return-1!==r.indexOf("undefined")?":not(["+t+"])":n?"["+t+'="'+n+'"]':"["+t+"]"})).join("")}({...e,attributes:t});return e=>!(n>=0&&"text"!==e.type)&&e.matches(r)}let r=[];for(const[o,i]of e.entries())r=[...r,{match:n(o),roles:Array.from(i),specificity:t(o)}];return r.sort((function(e,t){let{specificity:n}=e,{specificity:r}=t;return r-n}))}(B._s);function De(e){if(!0===e.hidden)return!0;if("true"===e.getAttribute("aria-hidden"))return!0;return"none"===e.ownerDocument.defaultView.getComputedStyle(e).display}function Le(e,t){void 0===t&&(t={});const{isSubtreeInaccessible:n=De}=t;if("hidden"===e.ownerDocument.defaultView.getComputedStyle(e).visibility)return!0;let r=e;for(;r;){if(n(r))return!0;r=r.parentElement}return!1}function $e(e){for(const{match:t,roles:n}of Me)if(t(e))return[...n];return[]}function je(e,t){let{hidden:n,includeDescription:r}=t;const o=function(e,t){let{hidden:n=!1}=void 0===t?{}:t;return function e(t){return[t,...Array.from(t.children).reduce(((t,n)=>[...t,...e(n)]),[])]}(e).filter((e=>!1!==n||!1===Le(e))).reduce(((e,t)=>{let n=[];return n=t.hasAttribute("role")?t.getAttribute("role").split(" ").slice(0,1):$e(t),n.reduce(((e,n)=>Array.isArray(e[n])?{...e,[n]:[...e[n],t]}:{...e,[n]:[t]}),e)}),{})}(e,{hidden:n});return Object.entries(o).filter((e=>{let[t]=e;return"generic"!==t})).map((e=>{let[t,n]=e;const o="-".repeat(50);return t+":\n\n"+n.map((e=>{const t='Name "'+F(e,{computedStyleSupportsPseudoElements:we().computedStyleSupportsPseudoElements})+'":\n',n=ye(e.cloneNode(!1));if(r){return""+t+('Description "'+j(e,{computedStyleSupportsPseudoElements:we().computedStyleSupportsPseudoElements})+'":\n')+n}return""+t+n})).join("\n\n")+"\n\n"+o})).join("\n")}function Fe(e,t){const n=e.getAttribute(t);return"true"===n||"false"!==n&&void 0}const Be=Re();function Ve(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function ze(e,t,n,r){let{variant:o,name:i}=r,a="";const s={},l=[["Role","TestId"].includes(e)?n:Ve(n)];i&&(s.name=Ve(i)),"Role"===e&&Le(t)&&(s.hidden=!0,a="Element is inaccessible. This means that the element and all its children are invisible to screen readers.\n    If you are using the aria-hidden prop, make sure this is the right choice for your case.\n    "),Object.keys(s).length>0&&l.push(s);const u=o+"By"+e;return{queryName:e,queryMethod:u,queryArgs:l,variant:o,warning:a,toString(){a&&console.warn(a);let[e,t]=l;return e="string"===typeof e?"'"+e+"'":e,t=t?", { "+Object.entries(t).map((e=>{let[t,n]=e;return t+": "+n})).join(", ")+" }":"",u+"("+e+t+")"}}}function Ue(e,t,n){return n&&(!t||t.toLowerCase()===e.toLowerCase())}function We(e,t,n){var r,o;if(void 0===t&&(t="get"),e.matches(we().defaultIgnore))return;const i=null!=(r=e.getAttribute("role"))?r:null==(o=$e(e))?void 0:o[0];if("generic"!==i&&Ue("Role",n,i))return ze("Role",e,i,{variant:t,name:F(e,{computedStyleSupportsPseudoElements:we().computedStyleSupportsPseudoElements})});const a=Ee(document,e).map((e=>e.content)).join(" ");if(Ue("LabelText",n,a))return ze("LabelText",e,a,{variant:t});const s=e.getAttribute("placeholder");if(Ue("PlaceholderText",n,s))return ze("PlaceholderText",e,s,{variant:t});const l=Be(Pe(e));if(Ue("Text",n,l))return ze("Text",e,l,{variant:t});if(Ue("DisplayValue",n,e.value))return ze("DisplayValue",e,Be(e.value),{variant:t});const u=e.getAttribute("alt");if(Ue("AltText",n,u))return ze("AltText",e,u,{variant:t});const c=e.getAttribute("title");if(Ue("Title",n,c))return ze("Title",e,c,{variant:t});const d=e.getAttribute(we().testIdAttribute);return Ue("TestId",n,d)?ze("TestId",e,d,{variant:t}):void 0}function qe(e,t){e.stack=t.stack.replace(t.message,e.message)}function He(e,t){let{container:n=ue(),timeout:r=we().asyncUtilTimeout,showOriginalStackTrace:o=we().showOriginalStackTrace,stackTraceError:i,interval:a=50,onTimeout:s=e=>(e.message=we().getElementError(e.message,n).message,e),mutationObserverOptions:l={subtree:!0,childList:!0,attributes:!0,characterData:!0}}=t;if("function"!==typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise((async(t,u)=>{let c,d,p,h=!1,f="idle";const m=setTimeout((function(){let e;c?(e=c,o||"TestingLibraryElementError"!==e.name||qe(e,i)):(e=new Error("Timed out in waitFor."),o||qe(e,i));y(s(e),null)}),r),g=le();if(g){const{unstable_advanceTimersWrapper:e}=we();for(b();!h;){if(!le()){const e=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return o||qe(e,i),void u(e)}if(e((()=>{jest.advanceTimersByTime(a)})),b(),h)break;await e((async()=>{await new Promise((e=>{setTimeout(e,0),jest.advanceTimersByTime(0)}))}))}}else{try{de(n)}catch(x){return void u(x)}d=setInterval(v,a);const{MutationObserver:e}=ce(n);p=new e(v),p.observe(n,l),b()}function y(e,n){h=!0,clearTimeout(m),g||(clearInterval(d),p.disconnect()),e?u(e):t(n)}function v(){if(le()){const e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return o||qe(e,i),u(e)}return b()}function b(){if("pending"!==f)try{const t=function(e){try{return be._disableExpensiveErrorDiagnostics=!0,e()}finally{be._disableExpensiveErrorDiagnostics=!1}}(e);"function"===typeof(null==t?void 0:t.then)?(f="pending",t.then((e=>{f="resolved",y(null,e)}),(e=>{f="rejected",c=e}))):y(null,t)}catch(t){c=t}}}))}function Ge(e,t){const n=new Error("STACK_TRACE_MESSAGE");return we().asyncWrapper((()=>He(e,{stackTraceError:n,...t})))}function Xe(e,t){return we().getElementError(e,t)}function Ke(e,t){return Xe(e+"\n\n(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).",t)}function Ye(e,t,n,r){let{exact:o=!0,collapseWhitespace:i,trim:a,normalizer:s}=void 0===r?{}:r;const l=o?Oe:Ie,u=Ne({collapseWhitespace:i,trim:a,normalizer:s});return Array.from(t.querySelectorAll("["+e+"]")).filter((t=>l(t.getAttribute(e),t,n,u)))}function Qe(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];const a=e(n,...o);if(a.length>1){const e=a.map((e=>Xe(null,e).message)).join("\n\n");throw Ke(t(n,...o)+"\n\nHere are the matching elements:\n\n"+e,n)}return a[0]||null}}function Je(e,t){return we().getElementError("A better query is available, try this:\n"+e.toString()+"\n",t)}function Ze(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];const a=e(n,...o);if(!a.length)throw we().getElementError(t(n,...o),n);return a}}function et(e){return(t,n,r,o)=>Ge((()=>e(t,n,r)),{container:t,...o})}const tt=(e,t,n)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];const s=e(r,...i),[{suggest:l=we().throwSuggestions}={}]=i.slice(-1);if(s&&l){const e=We(s,n);if(e&&!t.endsWith(e.queryName))throw Je(e.toString(),r)}return s},nt=(e,t,n)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];const s=e(r,...i),[{suggest:l=we().throwSuggestions}={}]=i.slice(-1);if(s.length&&l){const e=[...new Set(s.map((e=>{var t;return null==(t=We(e,n))?void 0:t.toString()})))];if(1===e.length&&!t.endsWith(We(s[0],n).queryName))throw Je(e[0],r)}return s};function rt(e,t,n){const r=tt(Qe(e,t),e.name,"query"),o=Ze(e,n),i=Qe(o,t),a=tt(i,e.name,"get");return[r,nt(o,e.name.replace("query","get"),"getAll"),a,et(nt(o,e.name,"findAll")),et(tt(i,e.name,"find"))]}const ot=function(e,t,n){let{exact:r=!0,trim:o,collapseWhitespace:i,normalizer:a}=void 0===n?{}:n;const s=r?Oe:Ie,l=Ne({collapseWhitespace:i,trim:o,normalizer:a}),u=function(e){return Array.from(e.querySelectorAll("label,input")).map((e=>({node:e,textToMatch:Ce(e)}))).filter((e=>{let{textToMatch:t}=e;return null!==t}))}(e);return u.filter((e=>{let{node:n,textToMatch:r}=e;return s(r,n,t,l)})).map((e=>{let{node:t}=e;return t}))},it=function(e,t,n){let{selector:r="*",exact:o=!0,collapseWhitespace:i,trim:a,normalizer:s}=void 0===n?{}:n;de(e);const l=o?Oe:Ie,u=Ne({collapseWhitespace:i,trim:a,normalizer:s}),c=Array.from(e.querySelectorAll("*")).filter((e=>ke(e).length||e.hasAttribute("aria-labelledby"))).reduce(((n,o)=>{const i=Ee(e,o,{selector:r});i.filter((e=>Boolean(e.formControl))).forEach((e=>{l(e.content,e.formControl,t,u)&&e.formControl&&n.push(e.formControl)}));const a=i.filter((e=>Boolean(e.content))).map((e=>e.content));return l(a.join(" "),o,t,u)&&n.push(o),a.length>1&&a.forEach(((e,r)=>{l(e,o,t,u)&&n.push(o);const i=[...a];i.splice(r,1),i.length>1&&l(i.join(" "),o,t,u)&&n.push(o)})),n}),[]).concat(Ye("aria-label",e,t,{exact:o,normalizer:u}));return Array.from(new Set(c)).filter((e=>e.matches(r)))},at=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=it(e,t,...r);if(!i.length){const n=ot(e,t,...r);if(n.length){const r=n.map((t=>function(e,t){const n=t.getAttribute("for");if(!n)return null;const r=e.querySelector('[id="'+n+'"]');return r?r.tagName.toLowerCase():null}(e,t))).filter((e=>!!e));throw r.length?we().getElementError(r.map((e=>"Found a label with the text of: "+t+", however the element associated with this label (<"+e+" />) is non-labellable [https://html.spec.whatwg.org/multipage/forms.html#category-label]. If you really need to label a <"+e+" />, you can use aria-label or aria-labelledby instead.")).join("\n\n"),e):we().getElementError("Found a label with the text of: "+t+', however no form control was found associated to that label. Make sure you\'re using the "for" attribute or "aria-labelledby" attribute correctly.',e)}throw we().getElementError("Unable to find a label with the text of: "+t,e)}return i};const st=(e,t)=>"Found multiple elements with the text of: "+t,lt=tt(Qe(it,st),it.name,"query"),ut=Qe(at,st),ct=et(nt(at,at.name,"findAll")),dt=et(tt(ut,at.name,"find")),pt=nt(at,at.name,"getAll"),ht=tt(ut,at.name,"get"),ft=nt(it,it.name,"queryAll"),mt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return de(t[0]),Ye("placeholder",...t)},gt=nt(mt,mt.name,"queryAll"),[yt,vt,bt,xt,wt]=rt(mt,((e,t)=>"Found multiple elements with the placeholder text of: "+t),((e,t)=>"Unable to find an element with the placeholder text of: "+t)),At=function(e,t,n){let{selector:r="*",exact:o=!0,collapseWhitespace:i,trim:a,ignore:s=we().defaultIgnore,normalizer:l}=void 0===n?{}:n;de(e);const u=o?Oe:Ie,c=Ne({collapseWhitespace:i,trim:a,normalizer:l});let d=[];return"function"===typeof e.matches&&e.matches(r)&&(d=[e]),[...d,...Array.from(e.querySelectorAll(r))].filter((e=>!s||!e.matches(s))).filter((e=>u(Pe(e),e,t,c)))},St=nt(At,At.name,"queryAll"),[Ct,kt,Et,Tt,It]=rt(At,((e,t)=>"Found multiple elements with the text: "+t),(function(e,t,n){void 0===n&&(n={});const{collapseWhitespace:r,trim:o,normalizer:i,selector:a}=n,s=Ne({collapseWhitespace:r,trim:o,normalizer:i})(t.toString());return"Unable to find an element with the text: "+(s!==t.toString()?s+" (normalized from '"+t+"')":t)+("*"!==(null!=a?a:"*")?", which matches selector '"+a+"'":"")+". This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible."})),Ot=function(e,t,n){let{exact:r=!0,collapseWhitespace:o,trim:i,normalizer:a}=void 0===n?{}:n;de(e);const s=r?Oe:Ie,l=Ne({collapseWhitespace:o,trim:i,normalizer:a});return Array.from(e.querySelectorAll("input,textarea,select")).filter((e=>{if("SELECT"===e.tagName){return Array.from(e.options).filter((e=>e.selected)).some((e=>s(Pe(e),e,t,l)))}return s(e.value,e,t,l)}))},Rt=nt(Ot,Ot.name,"queryAll"),[Nt,_t,Pt,Mt,Dt]=rt(Ot,((e,t)=>"Found multiple elements with the display value: "+t+"."),((e,t)=>"Unable to find an element with the display value: "+t+".")),Lt=/^(img|input|area|.+-.+)$/i,$t=function(e,t,n){return void 0===n&&(n={}),de(e),Ye("alt",e,t,n).filter((e=>Lt.test(e.tagName)))},jt=nt($t,$t.name,"queryAll"),[Ft,Bt,Vt,zt,Ut]=rt($t,((e,t)=>"Found multiple elements with the alt text: "+t),((e,t)=>"Unable to find an element with the alt text: "+t)),Wt=function(e,t,n){let{exact:r=!0,collapseWhitespace:o,trim:i,normalizer:a}=void 0===n?{}:n;de(e);const s=r?Oe:Ie,l=Ne({collapseWhitespace:o,trim:i,normalizer:a});return Array.from(e.querySelectorAll("[title], svg > title")).filter((e=>s(e.getAttribute("title"),e,t,l)||(e=>{var t;return"title"===e.tagName.toLowerCase()&&"svg"===(null==(t=e.parentElement)?void 0:t.tagName.toLowerCase())})(e)&&s(Pe(e),e,t,l)))},qt=nt(Wt,Wt.name,"queryAll"),[Ht,Gt,Xt,Kt,Yt]=rt(Wt,((e,t)=>"Found multiple elements with the title: "+t+"."),((e,t)=>"Unable to find an element with the title: "+t+"."));function Qt(e,t,n){let{exact:r=!0,collapseWhitespace:o,hidden:i=we().defaultHidden,name:a,description:s,trim:l,normalizer:u,queryFallbacks:c=!1,selected:d,checked:p,pressed:h,current:f,level:m,expanded:g}=void 0===n?{}:n;de(e);const y=r?Oe:Ie,v=Ne({collapseWhitespace:o,trim:l,normalizer:u});var b,x,w,A,S;if(void 0!==d&&void 0===(null==(b=B.Ot.get(t))?void 0:b.props["aria-selected"]))throw new Error('"aria-selected" is not supported on role "'+t+'".');if(void 0!==p&&void 0===(null==(x=B.Ot.get(t))?void 0:x.props["aria-checked"]))throw new Error('"aria-checked" is not supported on role "'+t+'".');if(void 0!==h&&void 0===(null==(w=B.Ot.get(t))?void 0:w.props["aria-pressed"]))throw new Error('"aria-pressed" is not supported on role "'+t+'".');if(void 0!==f&&void 0===(null==(A=B.Ot.get(t))?void 0:A.props["aria-current"]))throw new Error('"aria-current" is not supported on role "'+t+'".');if(void 0!==m&&"heading"!==t)throw new Error('Role "'+t+'" cannot have "level" property.');if(void 0!==g&&void 0===(null==(S=B.Ot.get(t))?void 0:S.props["aria-expanded"]))throw new Error('"aria-expanded" is not supported on role "'+t+'".');const C=new WeakMap;function k(e){return C.has(e)||C.set(e,De(e)),C.get(e)}return Array.from(e.querySelectorAll(function(e,t,n){var r;if("string"!==typeof e)return"*";const o=t&&!n?'*[role~="'+e+'"]':"*[role]",i=null!=(r=B.wZ.get(e))?r:new Set,a=new Set(Array.from(i).map((e=>{let{name:t}=e;return t})));return[o].concat(Array.from(a)).join(",")}(t,r,u?v:void 0))).filter((e=>{if(e.hasAttribute("role")){const n=e.getAttribute("role");if(c)return n.split(" ").filter(Boolean).some((n=>y(n,e,t,v)));if(u)return y(n,e,t,v);const[r]=n.split(" ");return y(r,e,t,v)}return $e(e).some((n=>y(n,e,t,v)))})).filter((e=>void 0!==d?d===function(e){return"OPTION"===e.tagName?e.selected:Fe(e,"aria-selected")}(e):void 0!==p?p===function(e){if(!("indeterminate"in e)||!e.indeterminate)return"checked"in e?e.checked:Fe(e,"aria-checked")}(e):void 0!==h?h===function(e){return Fe(e,"aria-pressed")}(e):void 0!==f?f===function(e){var t,n;return null!=(t=null!=(n=Fe(e,"aria-current"))?n:e.getAttribute("aria-current"))&&t}(e):void 0!==g?g===function(e){return Fe(e,"aria-expanded")}(e):void 0===m||m===function(e){return e.getAttribute("aria-level")&&Number(e.getAttribute("aria-level"))||{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName]}(e))).filter((e=>void 0===a||Oe(F(e,{computedStyleSupportsPseudoElements:we().computedStyleSupportsPseudoElements}),e,a,(e=>e)))).filter((e=>void 0===s||Oe(j(e,{computedStyleSupportsPseudoElements:we().computedStyleSupportsPseudoElements}),e,s,(e=>e)))).filter((e=>!1!==i||!1===Le(e,{isSubtreeInaccessible:k})))}const Jt=e=>{let t="";return t=void 0===e?"":"string"===typeof e?' and name "'+e+'"':" and name `"+e+"`",t},Zt=nt(Qt,Qt.name,"queryAll"),[en,tn,nn,rn,on]=rt(Qt,(function(e,t,n){let{name:r}=void 0===n?{}:n;return'Found multiple elements with the role "'+t+'"'+Jt(r)}),(function(e,t,n){let{hidden:r=we().defaultHidden,name:o,description:i}=void 0===n?{}:n;if(we()._disableExpensiveErrorDiagnostics)return'Unable to find role="'+t+'"'+Jt(o);let a,s="";Array.from(e.children).forEach((e=>{s+=je(e,{hidden:r,includeDescription:void 0!==i})})),a=0===s.length?!1===r?"There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole":"There are no available roles.":("\nHere are the "+(!1===r?"accessible":"available")+" roles:\n\n  "+s.replace(/\n/g,"\n  ").replace(/\n\s\s\n/g,"\n\n")+"\n").trim();let l="";l=void 0===o?"":"string"===typeof o?' and name "'+o+'"':" and name `"+o+"`";let u="";return u=void 0===i?"":"string"===typeof i?' and description "'+i+'"':" and description `"+i+"`",("\nUnable to find an "+(!1===r?"accessible ":"")+'element with the role "'+t+'"'+l+u+"\n\n"+a).trim()})),an=()=>we().testIdAttribute,sn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return de(t[0]),Ye(an(),...t)},ln=nt(sn,sn.name,"queryAll"),[un,cn,dn,pn,hn]=rt(sn,((e,t)=>"Found multiple elements by: ["+an()+'="'+t+'"]'),((e,t)=>"Unable to find an element by: ["+an()+'="'+t+'"]'));var fn=Object.freeze({__proto__:null,queryAllByLabelText:ft,queryByLabelText:lt,getAllByLabelText:pt,getByLabelText:ht,findAllByLabelText:ct,findByLabelText:dt,queryByPlaceholderText:yt,queryAllByPlaceholderText:gt,getByPlaceholderText:bt,getAllByPlaceholderText:vt,findAllByPlaceholderText:xt,findByPlaceholderText:wt,queryByText:Ct,queryAllByText:St,getByText:Et,getAllByText:kt,findAllByText:Tt,findByText:It,queryByDisplayValue:Nt,queryAllByDisplayValue:Rt,getByDisplayValue:Pt,getAllByDisplayValue:_t,findAllByDisplayValue:Mt,findByDisplayValue:Dt,queryByAltText:Ft,queryAllByAltText:jt,getByAltText:Vt,getAllByAltText:Bt,findAllByAltText:zt,findByAltText:Ut,queryByTitle:Ht,queryAllByTitle:qt,getByTitle:Xt,getAllByTitle:Gt,findAllByTitle:Kt,findByTitle:Yt,queryByRole:en,queryAllByRole:Zt,getAllByRole:tn,getByRole:nn,findAllByRole:rn,findByRole:on,queryByTestId:un,queryAllByTestId:ln,getByTestId:dn,getAllByTestId:cn,findAllByTestId:pn,findByTestId:hn});const mn={copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionEnd:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionStart:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionUpdate:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyDown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyPress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyUp:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusIn:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusOut:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},invalid:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!0}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},reset:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},click:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,button:0,composed:!0}},contextMenu:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblClick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drag:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragEnd:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragEnter:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragExit:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragLeave:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragOver:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragStart:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drop:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseDown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseEnter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseLeave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseMove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOut:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOver:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseUp:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},select:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},touchCancel:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},touchEnd:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchMove:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchStart:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},resize:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},scroll:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},wheel:{EventType:"WheelEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},abort:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlay:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlayThrough:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},durationChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},emptied:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},encrypted:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},ended:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedData:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedMetadata:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadStart:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},pause:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},play:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},playing:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},progress:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},rateChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeked:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeking:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},stalled:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},suspend:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},timeUpdate:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},volumeChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},waiting:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},load:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},error:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},animationStart:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationEnd:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationIteration:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionCancel:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionEnd:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!0}},transitionRun:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionStart:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},pointerOver:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerEnter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerDown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerMove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerUp:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerCancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerOut:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerLeave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},gotPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},lostPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},popState:{EventType:"PopStateEvent",defaultInit:{bubbles:!0,cancelable:!1}},offline:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},online:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}}},gn={doubleClick:"dblClick"};function yn(e,t){return we().eventWrapper((()=>{if(!t)throw new Error("Unable to fire an event - please provide an event object.");if(!e)throw new Error('Unable to fire a "'+t.type+'" event - please provide a DOM element.');return e.dispatchEvent(t)}))}function vn(e,t,n,r){let{EventType:o="Event",defaultInit:i={}}=void 0===r?{}:r;if(!t)throw new Error('Unable to fire a "'+e+'" event - please provide a DOM element.');const a={...i,...n},{target:{value:s,files:l,...u}={}}=a;void 0!==s&&function(e,t){const{set:n}=Object.getOwnPropertyDescriptor(e,"value")||{},r=Object.getPrototypeOf(e),{set:o}=Object.getOwnPropertyDescriptor(r,"value")||{};if(o&&n!==o)o.call(e,t);else{if(!n)throw new Error("The given element does not have a value setter");n.call(e,t)}}(t,s),void 0!==l&&Object.defineProperty(t,"files",{configurable:!0,enumerable:!0,writable:!0,value:l}),Object.assign(t,u);const c=ce(t),d=c[o]||c.Event;let p;if("function"===typeof d)p=new d(e,a);else{p=c.document.createEvent(o);const{bubbles:t,cancelable:n,detail:r,...i}=a;p.initEvent(e,t,n,r),Object.keys(i).forEach((e=>{p[e]=i[e]}))}return["dataTransfer","clipboardData"].forEach((e=>{const t=a[e];"object"===typeof t&&("function"===typeof c.DataTransfer?Object.defineProperty(p,e,{value:Object.getOwnPropertyNames(t).reduce(((e,n)=>(Object.defineProperty(e,n,{value:t[n]}),e)),new c.DataTransfer)}):Object.defineProperty(p,e,{value:t}))})),p}function bn(e){return"https://testing-playground.com/#markup="+(t=e,z().compressToEncodedURIComponent(t.replace(/[ \t]*[\n][ \t]*/g,"\n")));var t}Object.keys(mn).forEach((e=>{const{EventType:t,defaultInit:n}=mn[e],r=e.toLowerCase();vn[e]=(e,o)=>vn(r,e,o,{EventType:t,defaultInit:n}),yn[e]=(t,n)=>yn(t,vn[e](t,n))})),Object.keys(gn).forEach((e=>{const t=gn[e];yn[e]=function(){return yn[t](...arguments)}}));const xn={debug:(e,t,n)=>Array.isArray(e)?e.forEach((e=>ve(e,t,n))):ve(e,t,n),logTestingPlaygroundURL:function(e){if(void 0===e&&(e=ue().body),!e||!("innerHTML"in e))return void console.log("The element you're providing isn't a valid DOM element.");if(!e.innerHTML)return void console.log("The provided element doesn't have any children.");const t=bn(e.innerHTML);return console.log("Open this URL in your browser\n\n"+t),t}};"undefined"!==typeof document&&document.body?function(e,t,n){void 0===t&&(t=fn),void 0===n&&(n={}),Object.keys(t).reduce(((n,r)=>{const o=t[r];return n[r]=o.bind(null,e),n}),n)}(document.body,fn,xn):Object.keys(fn).reduce(((e,t)=>(e[t]=()=>{throw new TypeError("For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error")},e)),xn)},39460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(34908))&&r.__esModule?r:{default:r};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=[["aria-activedescendant",{type:"id"}],["aria-atomic",{type:"boolean"}],["aria-autocomplete",{type:"token",values:["inline","list","both","none"]}],["aria-busy",{type:"boolean"}],["aria-checked",{type:"tristate"}],["aria-colcount",{type:"integer"}],["aria-colindex",{type:"integer"}],["aria-colspan",{type:"integer"}],["aria-controls",{type:"idlist"}],["aria-current",{type:"token",values:["page","step","location","date","time",!0,!1]}],["aria-describedby",{type:"idlist"}],["aria-details",{type:"id"}],["aria-disabled",{type:"boolean"}],["aria-dropeffect",{type:"tokenlist",values:["copy","execute","link","move","none","popup"]}],["aria-errormessage",{type:"id"}],["aria-expanded",{type:"boolean",allowundefined:!0}],["aria-flowto",{type:"idlist"}],["aria-grabbed",{type:"boolean",allowundefined:!0}],["aria-haspopup",{type:"token",values:[!1,!0,"menu","listbox","tree","grid","dialog"]}],["aria-hidden",{type:"boolean",allowundefined:!0}],["aria-invalid",{type:"token",values:["grammar",!1,"spelling",!0]}],["aria-keyshortcuts",{type:"string"}],["aria-label",{type:"string"}],["aria-labelledby",{type:"idlist"}],["aria-level",{type:"integer"}],["aria-live",{type:"token",values:["assertive","off","polite"]}],["aria-modal",{type:"boolean"}],["aria-multiline",{type:"boolean"}],["aria-multiselectable",{type:"boolean"}],["aria-orientation",{type:"token",values:["vertical","undefined","horizontal"]}],["aria-owns",{type:"idlist"}],["aria-placeholder",{type:"string"}],["aria-posinset",{type:"integer"}],["aria-pressed",{type:"tristate"}],["aria-readonly",{type:"boolean"}],["aria-relevant",{type:"tokenlist",values:["additions","all","removals","text"]}],["aria-required",{type:"boolean"}],["aria-roledescription",{type:"string"}],["aria-rowcount",{type:"integer"}],["aria-rowindex",{type:"integer"}],["aria-rowspan",{type:"integer"}],["aria-selected",{type:"boolean",allowundefined:!0}],["aria-setsize",{type:"integer"}],["aria-sort",{type:"token",values:["ascending","descending","none","other"]}],["aria-valuemax",{type:"number"}],["aria-valuemin",{type:"number"}],["aria-valuenow",{type:"number"}],["aria-valuetext",{type:"string"}]],u={entries:function(){return l},forEach:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(l);try{for(r.s();!(t=r.n()).done;){var o=i(t.value,2),s=o[0],u=o[1];e.call(n,u,s,l)}}catch(c){r.e(c)}finally{r.f()}},get:function(e){var t=l.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!u.get(e)},keys:function(){return l.map((function(e){return i(e,1)[0]}))},values:function(){return l.map((function(e){return i(e,2)[1]}))}},c=(0,o.default)(u,u.entries());t.default=c},84927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(34908))&&r.__esModule?r:{default:r};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=[["a",{reserved:!1}],["abbr",{reserved:!1}],["acronym",{reserved:!1}],["address",{reserved:!1}],["applet",{reserved:!1}],["area",{reserved:!1}],["article",{reserved:!1}],["aside",{reserved:!1}],["audio",{reserved:!1}],["b",{reserved:!1}],["base",{reserved:!0}],["bdi",{reserved:!1}],["bdo",{reserved:!1}],["big",{reserved:!1}],["blink",{reserved:!1}],["blockquote",{reserved:!1}],["body",{reserved:!1}],["br",{reserved:!1}],["button",{reserved:!1}],["canvas",{reserved:!1}],["caption",{reserved:!1}],["center",{reserved:!1}],["cite",{reserved:!1}],["code",{reserved:!1}],["col",{reserved:!0}],["colgroup",{reserved:!0}],["content",{reserved:!1}],["data",{reserved:!1}],["datalist",{reserved:!1}],["dd",{reserved:!1}],["del",{reserved:!1}],["details",{reserved:!1}],["dfn",{reserved:!1}],["dialog",{reserved:!1}],["dir",{reserved:!1}],["div",{reserved:!1}],["dl",{reserved:!1}],["dt",{reserved:!1}],["em",{reserved:!1}],["embed",{reserved:!1}],["fieldset",{reserved:!1}],["figcaption",{reserved:!1}],["figure",{reserved:!1}],["font",{reserved:!1}],["footer",{reserved:!1}],["form",{reserved:!1}],["frame",{reserved:!1}],["frameset",{reserved:!1}],["h1",{reserved:!1}],["h2",{reserved:!1}],["h3",{reserved:!1}],["h4",{reserved:!1}],["h5",{reserved:!1}],["h6",{reserved:!1}],["head",{reserved:!0}],["header",{reserved:!1}],["hgroup",{reserved:!1}],["hr",{reserved:!1}],["html",{reserved:!0}],["i",{reserved:!1}],["iframe",{reserved:!1}],["img",{reserved:!1}],["input",{reserved:!1}],["ins",{reserved:!1}],["kbd",{reserved:!1}],["keygen",{reserved:!1}],["label",{reserved:!1}],["legend",{reserved:!1}],["li",{reserved:!1}],["link",{reserved:!0}],["main",{reserved:!1}],["map",{reserved:!1}],["mark",{reserved:!1}],["marquee",{reserved:!1}],["menu",{reserved:!1}],["menuitem",{reserved:!1}],["meta",{reserved:!0}],["meter",{reserved:!1}],["nav",{reserved:!1}],["noembed",{reserved:!0}],["noscript",{reserved:!0}],["object",{reserved:!1}],["ol",{reserved:!1}],["optgroup",{reserved:!1}],["option",{reserved:!1}],["output",{reserved:!1}],["p",{reserved:!1}],["param",{reserved:!0}],["picture",{reserved:!0}],["pre",{reserved:!1}],["progress",{reserved:!1}],["q",{reserved:!1}],["rp",{reserved:!1}],["rt",{reserved:!1}],["rtc",{reserved:!1}],["ruby",{reserved:!1}],["s",{reserved:!1}],["samp",{reserved:!1}],["script",{reserved:!0}],["section",{reserved:!1}],["select",{reserved:!1}],["small",{reserved:!1}],["source",{reserved:!0}],["spacer",{reserved:!1}],["span",{reserved:!1}],["strike",{reserved:!1}],["strong",{reserved:!1}],["style",{reserved:!0}],["sub",{reserved:!1}],["summary",{reserved:!1}],["sup",{reserved:!1}],["table",{reserved:!1}],["tbody",{reserved:!1}],["td",{reserved:!1}],["textarea",{reserved:!1}],["tfoot",{reserved:!1}],["th",{reserved:!1}],["thead",{reserved:!1}],["time",{reserved:!1}],["title",{reserved:!0}],["tr",{reserved:!1}],["track",{reserved:!0}],["tt",{reserved:!1}],["u",{reserved:!1}],["ul",{reserved:!1}],["var",{reserved:!1}],["video",{reserved:!1}],["wbr",{reserved:!1}],["xmp",{reserved:!1}]],u={entries:function(){return l},forEach:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(l);try{for(r.s();!(t=r.n()).done;){var o=i(t.value,2),s=o[0],u=o[1];e.call(n,u,s,l)}}catch(c){r.e(c)}finally{r.f()}},get:function(e){var t=l.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!u.get(e)},keys:function(){return l.map((function(e){return i(e,1)[0]}))},values:function(){return l.map((function(e){return i(e,2)[1]}))}},c=(0,o.default)(u,u.entries());t.default=c},6795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(78287)),o=a(n(34908)),i=a(n(99488));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var c=[],d=i.default.keys(),p=0;p<d.length;p++){var h=d[p],f=i.default.get(h);if(f)for(var m=[].concat(f.baseConcepts,f.relatedConcepts),g=0;g<m.length;g++){var y=m[g];if("HTML"===y.module){var v=y.concept;v&&function(){var e=JSON.stringify(v),t=c.find((function(t){return JSON.stringify(t[0])===e})),n=void 0;n=t?t[1]:[];for(var r=!0,o=0;o<n.length;o++)if(n[o]===h){r=!1;break}r&&n.push(h),c.push([v,n])}()}}}var b={entries:function(){return c},forEach:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(c);try{for(r.s();!(t=r.n()).done;){var o=s(t.value,2),i=o[0],a=o[1];e.call(n,a,i,c)}}catch(u){r.e(u)}finally{r.f()}},get:function(e){var t=c.find((function(t){return(0,r.default)(e,t[0])}));return t&&t[1]},has:function(e){return!!b.get(e)},keys:function(){return c.map((function(e){return s(e,1)[0]}))},values:function(){return c.map((function(e){return s(e,2)[1]}))}},x=(0,o.default)(b,b.entries());t.default=x},38228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},30214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},12841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null},relatedConcepts:[{concept:{name:"input"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},67841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},98336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},74957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{"aria-atomic":null,"aria-busy":null,"aria-controls":null,"aria-current":null,"aria-describedby":null,"aria-details":null,"aria-dropeffect":null,"aria-flowto":null,"aria-grabbed":null,"aria-hidden":null,"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-live":null,"aria-owns":null,"aria-relevant":null,"aria-roledescription":null},relatedConcepts:[{concept:{name:"rel"},module:"HTML"},{concept:{name:"role"},module:"XHTML"},{concept:{name:"type"},module:"Dublin Core"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=n},16130:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"frontmatter"},module:"DTB"},{concept:{name:"level"},module:"DTB"},{concept:{name:"level"},module:"SMIL"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},38996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},1661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","group"]]};t.default=n},2156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},47881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},93481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-modal":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},10618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(38228)),o=m(n(30214)),i=m(n(12841)),a=m(n(67841)),s=m(n(98336)),l=m(n(74957)),u=m(n(16130)),c=m(n(38996)),d=m(n(1661)),p=m(n(2156)),h=m(n(47881)),f=m(n(93481));function m(e){return e&&e.__esModule?e:{default:e}}var g=[["command",r.default],["composite",o.default],["input",i.default],["landmark",a.default],["range",s.default],["roletype",l.default],["section",u.default],["sectionhead",c.default],["select",d.default],["structure",p.default],["widget",h.default],["window",f.default]];t.default=g},8413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=z(n(97152)),o=z(n(65786)),i=z(n(12210)),a=z(n(43211)),s=z(n(87113)),l=z(n(19913)),u=z(n(61026)),c=z(n(87144)),d=z(n(24993)),p=z(n(85064)),h=z(n(65933)),f=z(n(24491)),m=z(n(63903)),g=z(n(20462)),y=z(n(58596)),v=z(n(33781)),b=z(n(49836)),x=z(n(33762)),w=z(n(92230)),A=z(n(76339)),S=z(n(56474)),C=z(n(37290)),k=z(n(42435)),E=z(n(96174)),T=z(n(88717)),I=z(n(83192)),O=z(n(68434)),R=z(n(51257)),N=z(n(37514)),_=z(n(39590)),P=z(n(36209)),M=z(n(54255)),D=z(n(79356)),L=z(n(92771)),$=z(n(57041)),j=z(n(78)),F=z(n(6194)),B=z(n(18009)),V=z(n(27390));function z(e){return e&&e.__esModule?e:{default:e}}var U=[["doc-abstract",r.default],["doc-acknowledgments",o.default],["doc-afterword",i.default],["doc-appendix",a.default],["doc-backlink",s.default],["doc-biblioentry",l.default],["doc-bibliography",u.default],["doc-biblioref",c.default],["doc-chapter",d.default],["doc-colophon",p.default],["doc-conclusion",h.default],["doc-cover",f.default],["doc-credit",m.default],["doc-credits",g.default],["doc-dedication",y.default],["doc-endnote",v.default],["doc-endnotes",b.default],["doc-epigraph",x.default],["doc-epilogue",w.default],["doc-errata",A.default],["doc-example",S.default],["doc-footnote",C.default],["doc-foreword",k.default],["doc-glossary",E.default],["doc-glossref",T.default],["doc-index",I.default],["doc-introduction",O.default],["doc-noteref",R.default],["doc-notice",N.default],["doc-pagebreak",_.default],["doc-pagelist",P.default],["doc-part",M.default],["doc-preface",D.default],["doc-prologue",L.default],["doc-pullquote",$.default],["doc-qna",j.default],["doc-subtitle",F.default],["doc-tip",B.default],["doc-toc",V.default]];t.default=U},36215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(23884)),o=a(n(57586)),i=a(n(98881));function a(e){return e&&e.__esModule?e:{default:e}}var s=[["graphics-document",r.default],["graphics-object",o.default],["graphics-symbol",i.default]];t.default=s},99349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Ne(n(9860)),o=Ne(n(4288)),i=Ne(n(27712)),a=Ne(n(60048)),s=Ne(n(23086)),l=Ne(n(25267)),u=Ne(n(55240)),c=Ne(n(30768)),d=Ne(n(21756)),p=Ne(n(49073)),h=Ne(n(4889)),f=Ne(n(53639)),m=Ne(n(31575)),g=Ne(n(13672)),y=Ne(n(95955)),v=Ne(n(77421)),b=Ne(n(91414)),x=Ne(n(33612)),w=Ne(n(74145)),A=Ne(n(20901)),S=Ne(n(88542)),C=Ne(n(61772)),k=Ne(n(85584)),E=Ne(n(88666)),T=Ne(n(88183)),I=Ne(n(7316)),O=Ne(n(235)),R=Ne(n(985)),N=Ne(n(83012)),_=Ne(n(71113)),P=Ne(n(97815)),M=Ne(n(60196)),D=Ne(n(49256)),L=Ne(n(82279)),$=Ne(n(88151)),j=Ne(n(35584)),F=Ne(n(98033)),B=Ne(n(42322)),V=Ne(n(47902)),z=Ne(n(30207)),U=Ne(n(634)),W=Ne(n(86792)),q=Ne(n(36025)),H=Ne(n(51485)),G=Ne(n(80323)),X=Ne(n(49422)),K=Ne(n(52638)),Y=Ne(n(95648)),Q=Ne(n(12333)),J=Ne(n(34668)),Z=Ne(n(74608)),ee=Ne(n(92978)),te=Ne(n(45509)),ne=Ne(n(12114)),re=Ne(n(58632)),oe=Ne(n(60466)),ie=Ne(n(56315)),ae=Ne(n(11847)),se=Ne(n(32440)),le=Ne(n(24536)),ue=Ne(n(79447)),ce=Ne(n(60861)),de=Ne(n(95633)),pe=Ne(n(49964)),he=Ne(n(574)),fe=Ne(n(65287)),me=Ne(n(40955)),ge=Ne(n(18950)),ye=Ne(n(15120)),ve=Ne(n(29785)),be=Ne(n(38190)),xe=Ne(n(28869)),we=Ne(n(67427)),Ae=Ne(n(17018)),Se=Ne(n(17206)),Ce=Ne(n(91993)),ke=Ne(n(45395)),Ee=Ne(n(74961)),Te=Ne(n(14321)),Ie=Ne(n(82876)),Oe=Ne(n(45808)),Re=Ne(n(87923));function Ne(e){return e&&e.__esModule?e:{default:e}}var _e=[["alert",r.default],["alertdialog",o.default],["application",i.default],["article",a.default],["banner",s.default],["blockquote",l.default],["button",u.default],["caption",c.default],["cell",d.default],["checkbox",p.default],["code",h.default],["columnheader",f.default],["combobox",m.default],["complementary",g.default],["contentinfo",y.default],["definition",v.default],["deletion",b.default],["dialog",x.default],["directory",w.default],["document",A.default],["emphasis",S.default],["feed",C.default],["figure",k.default],["form",E.default],["generic",T.default],["grid",I.default],["gridcell",O.default],["group",R.default],["heading",N.default],["img",_.default],["insertion",P.default],["link",M.default],["list",D.default],["listbox",L.default],["listitem",$.default],["log",j.default],["main",F.default],["marquee",B.default],["math",V.default],["menu",z.default],["menubar",U.default],["menuitem",W.default],["menuitemcheckbox",q.default],["menuitemradio",H.default],["meter",G.default],["navigation",X.default],["none",K.default],["note",Y.default],["option",Q.default],["paragraph",J.default],["presentation",Z.default],["progressbar",ee.default],["radio",te.default],["radiogroup",ne.default],["region",re.default],["row",oe.default],["rowgroup",ie.default],["rowheader",ae.default],["scrollbar",se.default],["search",le.default],["searchbox",ue.default],["separator",ce.default],["slider",de.default],["spinbutton",pe.default],["status",he.default],["strong",fe.default],["subscript",me.default],["superscript",ge.default],["switch",ye.default],["tab",ve.default],["table",be.default],["tablist",xe.default],["tabpanel",we.default],["term",Ae.default],["textbox",Se.default],["time",Ce.default],["timer",ke.default],["toolbar",Ee.default],["tooltip",Te.default],["tree",Ie.default],["treegrid",Oe.default],["treeitem",Re.default]];t.default=_e},97152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"abstract [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},65786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"acknowledgments [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},12210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"afterword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},43211:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"appendix [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},87113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","content"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"referrer [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},19913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"EPUB biblioentry [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-bibliography"],requiredContextRole:["doc-bibliography"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=n},61026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"bibliography [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-biblioentry"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},87144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"biblioref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},24993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"chapter [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},85064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"colophon [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},65933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"conclusion [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},24491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"cover [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=n},63903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credit [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},20462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credits [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},58596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"dedication [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},33781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-endnotes"],requiredContextRole:["doc-endnotes"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=n},49836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnotes [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-endnote"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},33762:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epigraph [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},92230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epilogue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},76339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"errata [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},56474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},37290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"footnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},42435:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"foreword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},96174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossary [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["definition"],["term"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},88717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},83192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"index [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},68434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"introduction [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},51257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"noteref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},37514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"notice [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=n},39590:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"pagebreak [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","separator"]]};t.default=n},36209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"page-list [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},54255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"part [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},79356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"preface [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},92771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"prologue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},57041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"pullquote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["none"]]};t.default=n},78:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"qna [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"subtitle [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"]]};t.default=n},18009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"help [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=n},27390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"toc [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},23884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-object"}},{module:"ARIA",concept:{name:"img"}},{module:"ARIA",concept:{name:"article"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=n},57586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-document"}},{module:"ARIA",concept:{name:"group"}},{module:"ARIA",concept:{name:"img"}},{module:"GRAPHICS",concept:{name:"graphics-symbol"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=n},98881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=n},9860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"assertive"},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},4288:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","alert"],["roletype","window","dialog"]]};t.default=n},27712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},60048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"article"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=n},23086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"header"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},25267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},55240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-pressed":null},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-pressed"},{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"false"}],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"true"}],constraints:["direct descendant of details element with the open attribute defined"],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"type",value:"button"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"image"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"reset"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"submit"}],name:"input"},module:"HTML"},{concept:{name:"button"},module:"HTML"},{concept:{name:"trigger"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},30768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:["figure","grid","table"],requiredContextRole:["figure","grid","table"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},21756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-colspan":null,"aria-rowindex":null,"aria-rowspan":null},relatedConcepts:[{concept:{constraints:["descendant of table"],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},49073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=n},4889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},53639:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{attributes:[{name:"scope",value:"col"}],concept:{name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=n},31575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-expanded":"false","aria-haspopup":"listbox"},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{constraints:["undefined"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{name:"size",value:1}],name:"select"},module:"HTML"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-expanded":"false"},superClass:[["roletype","widget","input"]]};t.default=n},13672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"aside"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},95955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"footer"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},77421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dd"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},91414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},33612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dialog"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","window"]]};t.default=n},74145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{module:"DAISY Guide"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=n},20901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}},{concept:{name:"body"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},88542:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},61772:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["article"]],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=n},85584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"figure"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},88666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"name"}],name:"form"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},88183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[{concept:{name:"span"},module:"HTML"},{concept:{name:"div"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},7316:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-multiselectable":null,"aria-readonly":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"grid"}],name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","table"]]};t.default=n},235:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-selected":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"gridcell"}],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","widget"]]};t.default=n},985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[{concept:{name:"details"},module:"HTML"},{concept:{name:"fieldset"},module:"HTML"},{concept:{name:"optgroup"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},83012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-level":"2"},relatedConcepts:[{concept:{name:"h1"},module:"HTML"},{concept:{name:"h2"},module:"HTML"},{concept:{name:"h3"},module:"HTML"},{concept:{name:"h4"},module:"HTML"},{concept:{name:"h5"},module:"HTML"},{concept:{name:"h6"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-level":"2"},superClass:[["roletype","structure","sectionhead"]]};t.default=n},71113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"alt"}],name:"img"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"alt"}],name:"img"},module:"HTML"},{concept:{name:"imggroup"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},97815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},60196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[{concept:{attributes:[{name:"href"}],name:"a"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"area"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"link"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},49256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menu"},module:"HTML"},{concept:{name:"ol"},module:"HTML"},{concept:{name:"ul"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["listitem"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},82279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-multiselectable":null,"aria-readonly":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[{concept:{attributes:[{constraints:[">1"],name:"size"},{name:"multiple"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:[">1"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{name:"multiple"}],name:"select"},module:"HTML"},{concept:{name:"datalist"},module:"HTML"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["option","group"],["option"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},88151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{constraints:["direct descendant of ol, ul or menu"],name:"li"},module:"HTML"},{concept:{name:"item"},module:"XForms"}],requireContextRole:["directory","list"],requiredContextRole:["directory","list"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},35584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-live":"polite"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},98033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"main"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},42322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},47902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"math"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},30207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"vertical"},relatedConcepts:[{concept:{name:"MENU"},module:"JAPI"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"},{concept:{name:"sidebar"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"toolbar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select","menu"],["roletype","structure","section","group","select","menu"]]};t.default=n},86792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"MENU_ITEM"},module:"JAPI"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"menuitem"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},36025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"],["roletype","widget","command","menuitem"]]};t.default=n},51485:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox","menuitemcheckbox"],["roletype","widget","command","menuitem","menuitemcheckbox"],["roletype","widget","input","radio"]]};t.default=n},80323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null,"aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","structure","range"]]};t.default=n},49422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"nav"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},52638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=n},95648:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},12333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[{concept:{name:"item"},module:"XForms"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"option"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-selected":"false"},superClass:[["roletype","widget","input"]]};t.default=n},34668:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},74608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},92978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null},relatedConcepts:[{concept:{name:"progress"},module:"HTML"},{concept:{name:"status"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=n},45509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"radio"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=n},12114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{name:"list"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["radio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},58632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"section"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"section"},module:"HTML"},{concept:{name:"Device Independence Glossart perceivable unit"}},{concept:{name:"frame"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},60466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-expanded":null,"aria-level":null,"aria-posinset":null,"aria-rowindex":null,"aria-selected":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"tr"},module:"HTML"}],requireContextRole:["grid","rowgroup","table","treegrid"],requiredContextRole:["grid","rowgroup","table","treegrid"],requiredOwnedElements:[["cell"],["columnheader"],["gridcell"],["rowheader"]],requiredProps:{},superClass:[["roletype","structure","section","group"],["roletype","widget"]]};t.default=n},56315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"tbody"},module:"HTML"},{concept:{name:"tfoot"},module:"HTML"},{concept:{name:"thead"},module:"HTML"}],requireContextRole:["grid","table","treegrid"],requiredContextRole:["grid","table","treegrid"],requiredOwnedElements:[["row"]],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},11847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{concept:{attributes:[{name:"scope",value:"row"}],name:"th"},module:"HTML"},{concept:{attributes:[{name:"scope",value:"rowgroup"}],name:"th"},module:"HTML"}],requireContextRole:["row","rowgroup"],requiredContextRole:["row","rowgroup"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=n},32440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-valuetext":null,"aria-orientation":"vertical","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-valuenow":null},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=n},24536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},79447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input","textbox"]]};t.default=n},60861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":null,"aria-valuetext":null},relatedConcepts:[{concept:{name:"hr"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},95633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-valuetext":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"range"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","widget","input"],["roletype","structure","range"]]};t.default=n},49964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-valuetext":null,"aria-valuenow":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"number"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","widget","input"],["roletype","structure","range"]]};t.default=n},574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"polite"},relatedConcepts:[{concept:{name:"output"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},65287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},40955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},18950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},15120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"button"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"]]};t.default=n},29785:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[],requireContextRole:["tablist"],requiredContextRole:["tablist"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"],["roletype","widget"]]};t.default=n},38190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-colcount":null,"aria-rowcount":null},relatedConcepts:[{concept:{name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},28869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-multiselectable":null,"aria-orientation":"horizontal"},relatedConcepts:[{module:"DAISY",concept:{name:"guide"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["tab"]],requiredProps:{},superClass:[["roletype","widget","composite"]]};t.default=n},67427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},17018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dfn"},module:"HTML"},{concept:{name:"dt"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},17206:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-multiline":null,"aria-placeholder":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"type"},{constraints:["undefined"],name:"list"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{name:"input"},module:"XForms"},{concept:{name:"textarea"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input"]]};t.default=n},91993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},45395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","status"]]};t.default=n},74961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"menubar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=n},14321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},82876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-multiselectable":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["treeitem","group"],["treeitem"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},45808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite","grid"],["roletype","structure","section","table","grid"],["roletype","widget","composite","select","tree"],["roletype","structure","section","group","select","tree"]]};t.default=n},87923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[],requireContextRole:["group","tree"],requiredContextRole:["group","tree"],requiredOwnedElements:[],requiredProps:{"aria-selected":null},superClass:[["roletype","structure","section","listitem"],["roletype","widget","input","option"]]};t.default=n},87881:(e,t,n)=>{"use strict";t.Ot=t.wZ=t._s=void 0;var r=l(n(39460)),o=l(n(84927)),i=l(n(99488)),a=l(n(6795)),s=l(n(94251));function l(e){return e&&e.__esModule?e:{default:e}}r.default,o.default;var u=i.default;t.Ot=u;var c=a.default;t._s=c;var d=s.default;t.wZ=d},94251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34908)),o=i(n(99488));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var u=[],c=o.default.keys(),d=function(e){var t=c[e],n=o.default.get(t);if(n)for(var r=[].concat(n.baseConcepts,n.relatedConcepts),i=0;i<r.length;i++){var a=r[i];if("HTML"===a.module){var s=a.concept;if(s){var l=u.find((function(e){return e[0]===t})),d=void 0;(d=l?l[1]:[]).push(s),u.push([t,d])}}}},p=0;p<c.length;p++)d(p);var h={entries:function(){return u},forEach:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(u);try{for(r.s();!(t=r.n()).done;){var o=a(t.value,2),i=o[0],l=o[1];e.call(n,l,i,u)}}catch(c){r.e(c)}finally{r.f()}},get:function(e){var t=u.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!h.get(e)},keys:function(){return u.map((function(e){return a(e,1)[0]}))},values:function(){return u.map((function(e){return a(e,2)[1]}))}},f=(0,r.default)(h,h.entries());t.default=f},99488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(10618)),o=l(n(99349)),i=l(n(8413)),a=l(n(36215)),s=l(n(34908));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=[].concat(r.default,o.default,i.default,a.default);h.forEach((function(e){var t,n=c(e,2)[1],r=u(n.superClass);try{for(r.s();!(t=r.n()).done;){var o,i=u(t.value);try{var a=function(){var e,t,r,i=o.value,a=h.find((function(e){return c(e,1)[0]===i}));if(a)for(var s=a[1],l=0,u=Object.keys(s.props);l<u.length;l++){var d=u[l];Object.prototype.hasOwnProperty.call(n.props,d)||Object.assign(n.props,(e={},t=d,r=s.props[d],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}};for(i.s();!(o=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}}}catch(s){r.e(s)}finally{r.f()}}));var f={entries:function(){return h},forEach:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=u(h);try{for(r.s();!(t=r.n()).done;){var o=c(t.value,2),i=o[0],a=o[1];e.call(n,a,i,h)}}catch(s){r.e(s)}finally{r.f()}},get:function(e){var t=h.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!f.get(e)},keys:function(){return h.map((function(e){return c(e,1)[0]}))},values:function(){return h.map((function(e){return c(e,2)[1]}))}},m=(0,s.default)(f,f.entries());t.default=m},34908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){"function"===typeof Symbol&&"symbol"===i(Symbol.iterator)&&Object.defineProperty(e,Symbol.iterator,{value:o.default.bind(t)});return e};var r,o=(r=n(49204))&&r.__esModule?r:{default:r};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}},49204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=this,t=0,n={"@@iterator":function(){return n},next:function(){if(t<e.length){var n=e[t];return t+=1,{done:!1,value:n}}return{done:!0}}};return n};t.default=n},70993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printIteratorEntries=function(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:": ",s="",l=e.next();if(!l.done){s+=t.spacingOuter;const u=n+t.indent;for(;!l.done;){s+=u+i(l.value[0],t,u,r,o)+a+i(l.value[1],t,u,r,o),l=e.next(),l.done?t.min||(s+=","):s+=","+t.spacingInner}s+=t.spacingOuter+n}return s},t.printIteratorValues=function(e,t,n,r,o,i){let a="",s=e.next();if(!s.done){a+=t.spacingOuter;const l=n+t.indent;for(;!s.done;)a+=l+i(s.value,t,l,r,o),s=e.next(),s.done?t.min||(a+=","):a+=","+t.spacingInner;a+=t.spacingOuter+n}return a},t.printListItems=function(e,t,n,r,o,i){let a="";if(e.length){a+=t.spacingOuter;const s=n+t.indent;for(let n=0;n<e.length;n++)a+=s,n in e&&(a+=i(e[n],t,s,r,o)),n<e.length-1?a+=","+t.spacingInner:t.min||(a+=",");a+=t.spacingOuter+n}return a},t.printObjectProperties=function(e,t,r,o,i,a){let s="";const l=n(e,t.compareKeys);if(l.length){s+=t.spacingOuter;const n=r+t.indent;for(let r=0;r<l.length;r++){const u=l[r];s+=n+a(u,t,n,o,i)+": "+a(e[u],t,n,o,i),r<l.length-1?s+=","+t.spacingInner:t.min||(s+=",")}s+=t.spacingOuter+r}return s};const n=(e,t)=>{const n=Object.keys(e).sort(t);return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((t=>{Object.getOwnPropertyDescriptor(e,t).enumerable&&n.push(t)})),n}},33168:(e,t,n)=>{"use strict";t.GP=j,t.Nx=void 0;var r=p(n(18953)),o=n(70993),i=p(n(92839)),a=p(n(59631)),s=p(n(30475)),l=p(n(16807)),u=p(n(45519)),c=p(n(57606)),d=p(n(90077));function p(e){return e&&e.__esModule?e:{default:e}}const h=Object.prototype.toString,f=Date.prototype.toISOString,m=Error.prototype.toString,g=RegExp.prototype.toString,y=e=>"function"===typeof e.constructor&&e.constructor.name||"Object",v=e=>"undefined"!==typeof window&&e===window,b=/^Symbol\((.*)\)(.*)$/,x=/\n/gi;class w extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}}function A(e,t){return t?"[Function "+(e.name||"anonymous")+"]":"[Function]"}function S(e){return String(e).replace(b,"Symbol($1)")}function C(e){return"["+m.call(e)+"]"}function k(e,t,n,r){if(!0===e||!1===e)return""+e;if(void 0===e)return"undefined";if(null===e)return"null";const o=typeof e;if("number"===o)return function(e){return Object.is(e,-0)?"-0":String(e)}(e);if("bigint"===o)return function(e){return String(`${e}n`)}(e);if("string"===o)return r?'"'+e.replace(/"|\\/g,"\\$&")+'"':'"'+e+'"';if("function"===o)return A(e,t);if("symbol"===o)return S(e);const i=h.call(e);return"[object WeakMap]"===i?"WeakMap {}":"[object WeakSet]"===i?"WeakSet {}":"[object Function]"===i||"[object GeneratorFunction]"===i?A(e,t):"[object Symbol]"===i?S(e):"[object Date]"===i?isNaN(+e)?"Date { NaN }":f.call(e):"[object Error]"===i?C(e):"[object RegExp]"===i?n?g.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):g.call(e):e instanceof Error?C(e):null}function E(e,t,n,r,i,a){if(-1!==i.indexOf(e))return"[Circular]";(i=i.slice()).push(e);const s=++r>t.maxDepth,l=t.min;if(t.callToJSON&&!s&&e.toJSON&&"function"===typeof e.toJSON&&!a)return O(e.toJSON(),t,n,r,i,!0);const u=h.call(e);return"[object Arguments]"===u?s?"[Arguments]":(l?"":"Arguments ")+"["+(0,o.printListItems)(e,t,n,r,i,O)+"]":function(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}(u)?s?"["+e.constructor.name+"]":(l?"":t.printBasicPrototype||"Array"!==e.constructor.name?e.constructor.name+" ":"")+"["+(0,o.printListItems)(e,t,n,r,i,O)+"]":"[object Map]"===u?s?"[Map]":"Map {"+(0,o.printIteratorEntries)(e.entries(),t,n,r,i,O," => ")+"}":"[object Set]"===u?s?"[Set]":"Set {"+(0,o.printIteratorValues)(e.values(),t,n,r,i,O)+"}":s||v(e)?"["+y(e)+"]":(l?"":t.printBasicPrototype||"Object"!==y(e)?y(e)+" ":"")+"{"+(0,o.printObjectProperties)(e,t,n,r,i,O)+"}"}function T(e,t,n,r,o,i){let a;try{a=function(e){return null!=e.serialize}(e)?e.serialize(t,n,r,o,i,O):e.print(t,(e=>O(e,n,r,o,i)),(e=>{const t=r+n.indent;return t+e.replace(x,"\n"+t)}),{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(s){throw new w(s.message,s.stack)}if("string"!==typeof a)throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof a}".`);return a}function I(e,t){for(let r=0;r<e.length;r++)try{if(e[r].test(t))return e[r]}catch(n){throw new w(n.message,n.stack)}return null}function O(e,t,n,r,o,i){const a=I(t.plugins,e);if(null!==a)return T(a,e,t,n,r,o);const s=k(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==s?s:E(e,t,n,r,o,i)}const R={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},N=Object.keys(R),_={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:R};const P=e=>N.reduce(((t,n)=>{const o=e.theme&&void 0!==e.theme[n]?e.theme[n]:R[n],i=o&&r.default[o];if(!i||"string"!==typeof i.close||"string"!==typeof i.open)throw new Error(`pretty-format: Option "theme" has a key "${n}" whose value "${o}" is undefined in ansi-styles.`);return t[n]=i,t}),Object.create(null)),M=e=>e&&void 0!==e.printFunctionName?e.printFunctionName:_.printFunctionName,D=e=>e&&void 0!==e.escapeRegex?e.escapeRegex:_.escapeRegex,L=e=>e&&void 0!==e.escapeString?e.escapeString:_.escapeString,$=e=>{var t,n;return{callToJSON:e&&void 0!==e.callToJSON?e.callToJSON:_.callToJSON,colors:e&&e.highlight?P(e):N.reduce(((e,t)=>(e[t]={close:"",open:""},e)),Object.create(null)),compareKeys:e&&"function"===typeof e.compareKeys?e.compareKeys:_.compareKeys,escapeRegex:D(e),escapeString:L(e),indent:e&&e.min?"":(n=e&&void 0!==e.indent?e.indent:_.indent,new Array(n+1).join(" ")),maxDepth:e&&void 0!==e.maxDepth?e.maxDepth:_.maxDepth,min:e&&void 0!==e.min?e.min:_.min,plugins:e&&void 0!==e.plugins?e.plugins:_.plugins,printBasicPrototype:null===(t=null===e||void 0===e?void 0:e.printBasicPrototype)||void 0===t||t,printFunctionName:M(e),spacingInner:e&&e.min?" ":"\n",spacingOuter:e&&e.min?"":"\n"}};function j(e,t){if(t&&(function(e){if(Object.keys(e).forEach((e=>{if(!_.hasOwnProperty(e))throw new Error(`pretty-format: Unknown option "${e}".`)})),e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==e.theme){if(null===e.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!==typeof e.theme)throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof e.theme}".`)}}(t),t.plugins)){const n=I(t.plugins,e);if(null!==n)return T(n,e,$(t),"",0,[])}const n=k(e,M(t),D(t),L(t));return null!==n?n:E(e,$(t),"",0,[])}const F={AsymmetricMatcher:i.default,ConvertAnsi:a.default,DOMCollection:s.default,DOMElement:l.default,Immutable:u.default,ReactElement:c.default,ReactTestComponent:d.default};t.Nx=F},92839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(70993),o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof o?o:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),i=o["jest-symbol-do-not-touch"]||o.Symbol;const a="function"===typeof i&&i.for?i.for("jest.asymmetricMatcher"):1267621,s=" ",l=(e,t,n,o,i,a)=>{const l=e.toString();return"ArrayContaining"===l||"ArrayNotContaining"===l?++o>t.maxDepth?"["+l+"]":l+s+"["+(0,r.printListItems)(e.sample,t,n,o,i,a)+"]":"ObjectContaining"===l||"ObjectNotContaining"===l?++o>t.maxDepth?"["+l+"]":l+s+"{"+(0,r.printObjectProperties)(e.sample,t,n,o,i,a)+"}":"StringMatching"===l||"StringNotMatching"===l||"StringContaining"===l||"StringNotContaining"===l?l+s+a(e.sample,t,n,o,i):e.toAsymmetricMatcher()};t.serialize=l;const u=e=>e&&e.$$typeof===a;t.test=u;var c={serialize:l,test:u};t.default=c},59631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=i(n(76649)),o=i(n(18953));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>"string"===typeof e&&!!e.match((0,r.default)());t.test=a;const s=(e,t,n,i,a,s)=>s(e.replace((0,r.default)(),(e=>{switch(e){case o.default.red.close:case o.default.green.close:case o.default.cyan.close:case o.default.gray.close:case o.default.white.close:case o.default.yellow.close:case o.default.bgRed.close:case o.default.bgGreen.close:case o.default.bgYellow.close:case o.default.inverse.close:case o.default.dim.close:case o.default.bold.close:case o.default.reset.open:case o.default.reset.close:return"</>";case o.default.red.open:return"<red>";case o.default.green.open:return"<green>";case o.default.cyan.open:return"<cyan>";case o.default.gray.open:return"<gray>";case o.default.white.open:return"<white>";case o.default.yellow.open:return"<yellow>";case o.default.bgRed.open:return"<bgRed>";case o.default.bgGreen.open:return"<bgGreen>";case o.default.bgYellow.open:return"<bgYellow>";case o.default.inverse.open:return"<inverse>";case o.default.dim.open:return"<dim>";case o.default.bold.open:return"<bold>";default:return""}})),t,n,i,a);t.serialize=s;var l={serialize:s,test:a};t.default=l},30475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(70993);const o=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,a=e=>{return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==o.indexOf(t)||i.test(t));var t};t.test=a;const s=(e,t,n,i,a,s)=>{const l=e.constructor.name;return++i>t.maxDepth?"["+l+"]":(t.min?"":l+" ")+(-1!==o.indexOf(l)?"{"+(0,r.printObjectProperties)((e=>"NamedNodeMap"===e.constructor.name)(e)?Array.from(e).reduce(((e,t)=>(e[t.name]=t.value,e)),{}):{...e},t,n,i,a,s)+"}":"["+(0,r.printListItems)(Array.from(e),t,n,i,a,s)+"]")};t.serialize=s;var l={serialize:s,test:a};t.default=l},16807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(26983);const o=/^((HTML|SVG)\w*)?Element$/,i=e=>{var t;return(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&(e=>{const t=e.constructor.name,{nodeType:n,tagName:r}=e,i="string"===typeof r&&r.includes("-")||(e=>{try{return"function"===typeof e.hasAttribute&&e.hasAttribute("is")}catch{return!1}})(e);return 1===n&&(o.test(t)||i)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t})(e)};function a(e){return 11===e.nodeType}t.test=i;const s=(e,t,n,o,i,s)=>{if(function(e){return 3===e.nodeType}(e))return(0,r.printText)(e.data,t);if(function(e){return 8===e.nodeType}(e))return(0,r.printComment)(e.data,t);const l=a(e)?"DocumentFragment":e.tagName.toLowerCase();return++o>t.maxDepth?(0,r.printElementAsLeaf)(l,t):(0,r.printElement)(l,(0,r.printProps)(a(e)?[]:Array.from(e.attributes).map((e=>e.name)).sort(),a(e)?{}:Array.from(e.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{}),t,n+t.indent,o,i,s),(0,r.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,o,i,s),t,n)};t.serialize=s;var l={serialize:s,test:i};t.default=l},45519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(70993);const o="@@__IMMUTABLE_ORDERED__@@",i=e=>"Immutable."+e,a=e=>"["+e+"]",s=" ";const l=(e,t,n,o,l,u,c)=>++o>t.maxDepth?a(i(c)):i(c)+s+"["+(0,r.printIteratorValues)(e.values(),t,n,o,l,u)+"]",u=(e,t,n,u,c,d)=>e["@@__IMMUTABLE_MAP__@@"]?((e,t,n,o,l,u,c)=>++o>t.maxDepth?a(i(c)):i(c)+s+"{"+(0,r.printIteratorEntries)(e.entries(),t,n,o,l,u)+"}")(e,t,n,u,c,d,e[o]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?l(e,t,n,u,c,d,"List"):e["@@__IMMUTABLE_SET__@@"]?l(e,t,n,u,c,d,e[o]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?l(e,t,n,u,c,d,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?((e,t,n,o,l,u)=>{const c=i("Seq");return++o>t.maxDepth?a(c):e["@@__IMMUTABLE_KEYED__@@"]?c+s+"{"+(e._iter||e._object?(0,r.printIteratorEntries)(e.entries(),t,n,o,l,u):"\u2026")+"}":c+s+"["+(e._iter||e._array||e._collection||e._iterable?(0,r.printIteratorValues)(e.values(),t,n,o,l,u):"\u2026")+"]"})(e,t,n,u,c,d):((e,t,n,o,l,u)=>{const c=i(e._name||"Record");return++o>t.maxDepth?a(c):c+s+"{"+(0,r.printIteratorEntries)(function(e){let t=0;return{next(){if(t<e._keys.length){const n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}(e),t,n,o,l,u)+"}"})(e,t,n,u,c,d);t.serialize=u;const c=e=>e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"]);t.test=c;var d={serialize:u,test:c};t.default=d},57606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(31431)),o=n(26983);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e.forEach((e=>{a(e,t)})):null!=e&&!1!==e&&t.push(e),t},s=e=>{const t=e.type;if("string"===typeof t)return t;if("function"===typeof t)return t.displayName||t.name||"Unknown";if(r.isFragment(e))return"React.Fragment";if(r.isSuspense(e))return"React.Suspense";if("object"===typeof t&&null!==t){if(r.isContextProvider(e))return"Context.Provider";if(r.isContextConsumer(e))return"Context.Consumer";if(r.isForwardRef(e)){if(t.displayName)return t.displayName;const e=t.render.displayName||t.render.name||"";return""!==e?"ForwardRef("+e+")":"ForwardRef"}if(r.isMemo(e)){const e=t.displayName||t.type.displayName||t.type.name||"";return""!==e?"Memo("+e+")":"Memo"}}return"UNDEFINED"},l=(e,t,n,r,i,l)=>++r>t.maxDepth?(0,o.printElementAsLeaf)(s(e),t):(0,o.printElement)(s(e),(0,o.printProps)((e=>{const{props:t}=e;return Object.keys(t).filter((e=>"children"!==e&&void 0!==t[e])).sort()})(e),e.props,t,n+t.indent,r,i,l),(0,o.printChildren)(a(e.props.children),t,n+t.indent,r,i,l),t,n);t.serialize=l;const u=e=>null!=e&&r.isElement(e);t.test=u;var c={serialize:l,test:u};t.default=c},90077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(26983),o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof o?o:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),i=o["jest-symbol-do-not-touch"]||o.Symbol;const a="function"===typeof i&&i.for?i.for("react.test.json"):245830487,s=(e,t,n,o,i,a)=>++o>t.maxDepth?(0,r.printElementAsLeaf)(e.type,t):(0,r.printElement)(e.type,e.props?(0,r.printProps)((e=>{const{props:t}=e;return t?Object.keys(t).filter((e=>void 0!==t[e])).sort():[]})(e),e.props,t,n+t.indent,o,i,a):"",e.children?(0,r.printChildren)(e.children,t,n+t.indent,o,i,a):"",t,n);t.serialize=s;const l=e=>e&&e.$$typeof===a;t.test=l;var u={serialize:s,test:l};t.default=u},44245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},26983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printText=t.printProps=t.printElementAsLeaf=t.printElement=t.printComment=t.printChildren=void 0;var r,o=(r=n(44245))&&r.__esModule?r:{default:r};t.printProps=(e,t,n,r,o,i,a)=>{const s=r+n.indent,l=n.colors;return e.map((e=>{const u=t[e];let c=a(u,n,s,o,i);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")};t.printChildren=(e,t,n,r,o,a)=>e.map((e=>t.spacingOuter+n+("string"===typeof e?i(e,t):a(e,t,n,r,o)))).join("");const i=(e,t)=>{const n=t.colors.content;return n.open+(0,o.default)(e)+n.close};t.printText=i;t.printComment=(e,t)=>{const n=t.colors.comment;return n.open+"\x3c!--"+(0,o.default)(e)+"--\x3e"+n.close};t.printElement=(e,t,n,r,o)=>{const i=r.colors.tag;return i.open+"<"+e+(t&&i.close+t+r.spacingOuter+o+i.open)+(n?">"+i.close+n+r.spacingOuter+o+i.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+i.close};t.printElementAsLeaf=(e,t)=>{const n=t.colors.tag;return n.open+"<"+e+n.close+" \u2026"+n.open+" />"+n.close}},18953:(e,t,n)=>{"use strict";e=n.nmd(e);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=>`\x1b[${38+e};5;${t}m`},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(t,n,r)=>`\x1b[${38+e};2;${t};${n};${r}m`};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,o]of Object.entries(r))t[n]={open:`\x1b[${o[0]}m`,close:`\x1b[${o[1]}m`},r[n]=t[n],e.set(o[0],o[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=r(),t.color.ansi16m=o(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=o(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},1875:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,u=60112,c=60113,d=60120,p=60115,h=60116,f=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),p=b("react.memo"),h=b("react.lazy"),f=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case p:case s:return e;default:return t}}case r:return t}}}var w=s,A=n,S=u,C=o,k=h,E=p,T=r,I=a,O=i,R=c;t.ContextConsumer=l,t.ContextProvider=w,t.Element=A,t.ForwardRef=S,t.Fragment=C,t.Lazy=k,t.Memo=E,t.Portal=T,t.Profiler=I,t.StrictMode=O,t.Suspense=R,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===h},t.isMemo=function(e){return x(e)===p},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===i},t.isSuspense=function(e){return x(e)===c},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===a||e===y||e===i||e===c||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===f||e[0]===m)},t.typeOf=x},31431:(e,t,n)=>{"use strict";e.exports=n(1875)},76649:e=>{"use strict";e.exports=function(){let{onlyFirst:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},8358:(e,t,n)=>{"use strict";var r=n(12028)("ArrayBuffer.prototype.byteLength",!0),o=n(50257);e.exports=function(e){return o(e)?r?r(e):e.byteLength:NaN}},12028:(e,t,n)=>{"use strict";var r=n(60002),o=n(61712),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o(n):n}},61712:(e,t,n)=>{"use strict";var r=n(63864),o=n(60002),i=n(75438),a=n(54902),s=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(l,s),c=n(82090),d=o("%Math.max%");e.exports=function(e){if("function"!==typeof e)throw new a("a function is required");var t=u(r,l,arguments);return i(t,1+d(0,e.length-(arguments.length-1)),!0)};var p=function(){return u(r,s,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},78287:(e,t,n)=>{"use strict";var r=n(53678),o=n(12028),i=n(92488),a=n(60002),s=n(77991),l=n(19269),u=n(52702),c=n(68317),d=n(91141),p=n(50257),h=n(53913),f=n(43290),m=n(8887),g=n(2678),y=n(80728),v=n(84696),b=n(58004),x=n(8358),w=o("SharedArrayBuffer.prototype.byteLength",!0),A=o("Date.prototype.getTime"),S=Object.getPrototypeOf,C=o("Object.prototype.toString"),k=a("%Set%",!0),E=o("Map.prototype.has",!0),T=o("Map.prototype.get",!0),I=o("Map.prototype.size",!0),O=o("Set.prototype.add",!0),R=o("Set.prototype.delete",!0),N=o("Set.prototype.has",!0),_=o("Set.prototype.size",!0);function P(e,t,n,r){for(var o,i=s(e);(o=i.next())&&!o.done;)if(j(t,o.value,n,r))return R(e,o.value),!0;return!1}function M(e){return"undefined"===typeof e?null:"object"!==typeof e?"symbol"!==typeof e&&("string"!==typeof e&&"number"!==typeof e||+e===+e):void 0}function D(e,t,n,o,i,a){var s=M(n);if(null!=s)return s;var l=T(t,s),u=r({},i,{strict:!1});return!("undefined"===typeof l&&!E(t,s)||!j(o,l,u,a))&&(!E(e,s)&&j(o,l,u,a))}function L(e,t,n){var r=M(n);return null!=r?r:N(t,r)&&!N(e,r)}function $(e,t,n,r,o,i){for(var a,l,u=s(e);(a=u.next())&&!a.done;)if(j(n,l=a.value,o,i)&&j(r,T(t,l),o,i))return R(e,l),!0;return!1}function j(e,t,n,o){var a=n||{};if(a.strict?u(e,t):e===t)return!0;if(y(e)!==y(t))return!1;if(!e||!t||"object"!==typeof e&&"object"!==typeof t)return a.strict?u(e,t):e==t;var l,R=o.has(e),M=o.has(t);if(R&&M){if(o.get(e)===o.get(t))return!0}else l={};return R||o.set(e,l),M||o.set(t,l),function(e,t,n,o){var a,l;if(typeof e!==typeof t)return!1;if(null==e||null==t)return!1;if(C(e)!==C(t))return!1;if(c(e)!==c(t))return!1;var u=d(e),y=d(t);if(u!==y)return!1;var R=e instanceof Error,M=t instanceof Error;if(R!==M)return!1;if((R||M)&&(e.name!==t.name||e.message!==t.message))return!1;var B=f(e),V=f(t);if(B!==V)return!1;if((B||V)&&(e.source!==t.source||i(e)!==i(t)))return!1;var z=h(e),U=h(t);if(z!==U)return!1;if((z||U)&&A(e)!==A(t))return!1;if(n.strict&&S&&S(e)!==S(t))return!1;var W=b(e),q=b(t);if(W!==q)return!1;if(W||q){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var H=F(e),G=F(t);if(H!==G)return!1;if(H||G){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var X=p(e),K=p(t);if(X!==K)return!1;if(X||K)return x(e)===x(t)&&("function"===typeof Uint8Array&&j(new Uint8Array(e),new Uint8Array(t),n,o));var Y=m(e),Q=m(t);if(Y!==Q)return!1;if(Y||Q)return w(e)===w(t)&&("function"===typeof Uint8Array&&j(new Uint8Array(e),new Uint8Array(t),n,o));if(typeof e!==typeof t)return!1;var J=g(e),Z=g(t);if(J.length!==Z.length)return!1;for(J.sort(),Z.sort(),a=J.length-1;a>=0;a--)if(J[a]!=Z[a])return!1;for(a=J.length-1;a>=0;a--)if(!j(e[l=J[a]],t[l],n,o))return!1;var ee=v(e),te=v(t);if(ee!==te)return!1;if("Set"===ee||"Set"===te)return function(e,t,n,r){if(_(e)!==_(t))return!1;var o,i,a,l=s(e),u=s(t);for(;(o=l.next())&&!o.done;)if(o.value&&"object"===typeof o.value)a||(a=new k),O(a,o.value);else if(!N(t,o.value)){if(n.strict)return!1;if(!L(e,t,o.value))return!1;a||(a=new k),O(a,o.value)}if(a){for(;(i=u.next())&&!i.done;)if(i.value&&"object"===typeof i.value){if(!P(a,i.value,n.strict,r))return!1}else if(!n.strict&&!N(e,i.value)&&!P(a,i.value,n.strict,r))return!1;return 0===_(a)}return!0}(e,t,n,o);if("Map"===ee)return function(e,t,n,o){if(I(e)!==I(t))return!1;var i,a,l,u,c,d,p=s(e),h=s(t);for(;(i=p.next())&&!i.done;)if(u=i.value[0],c=i.value[1],u&&"object"===typeof u)l||(l=new k),O(l,u);else if("undefined"===typeof(d=T(t,u))&&!E(t,u)||!j(c,d,n,o)){if(n.strict)return!1;if(!D(e,t,u,c,n,o))return!1;l||(l=new k),O(l,u)}if(l){for(;(a=h.next())&&!a.done;)if(u=a.value[0],d=a.value[1],u&&"object"===typeof u){if(!$(l,e,u,d,n,o))return!1}else if(!n.strict&&(!e.has(u)||!j(T(e,u),d,n,o))&&!$(l,e,u,d,r({},n,{strict:!1}),o))return!1;return 0===_(l)}return!0}(e,t,n,o);return!0}(e,t,a,o)}function F(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&(!(e.length>0&&"number"!==typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,n){return j(e,t,n,l())}},74992:(e,t,n)=>{"use strict";var r=n(82090),o=n(62557),i=n(54902),a=n(95558);e.exports=function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new i("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(r)r(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===s&&d?d.enumerable:!s,value:n,writable:null===l&&d?d.writable:!l});else{if(!c&&(s||l||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},11779:(e,t,n)=>{"use strict";var r=n(2678),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=n(74992),l=n(12101)(),u=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!==typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;l?s(e,t,n,!0):s(e,t,n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)u(e,i[s],t[i[s]],n[i[s]])};c.supportsDescriptors=!!l,e.exports=c},75811:(e,t,n)=>{var r=n(20347),o=n(71303).each;function i(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}i.prototype={constuctor:i,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,(function(t){t[e]()}))}},e.exports=i},68537:(e,t,n)=>{var r=n(75811),o=n(71303),i=o.each,a=o.isFunction,s=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var o=this.queries,l=n&&this.browserIsIncapable;return o[e]||(o[e]=new r(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),i(t,(function(t){a(t)&&(t={match:t}),o[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},20347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},71303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},10535:(e,t,n)=>{var r=n(68537);e.exports=new r},82090:(e,t,n)=>{"use strict";var r=n(60002)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(o){r=!1}e.exports=r},79820:e=>{"use strict";e.exports=EvalError},29304:e=>{"use strict";e.exports=Error},1725:e=>{"use strict";e.exports=RangeError},75077:e=>{"use strict";e.exports=ReferenceError},62557:e=>{"use strict";e.exports=SyntaxError},54902:e=>{"use strict";e.exports=TypeError},63094:e=>{"use strict";e.exports=URIError},27284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,u;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):f(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=f(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},51903:(e,t,n)=>{"use strict";var r=n(78799),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===o.call(e)?function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a):"string"===typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,a):function(e,t,n){for(var r in e)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a)}},9477:(e,t,n)=>{"use strict";var r=n(29282);e.exports=function(e){var t,o={stun:(e||{}).stun||n(44439),turn:(e||{}).turn||n(70056)},i=(e||{}).stunCount||2,a=(e||{}).turnCount||0;function s(e,t){for(var n,i=[],a=[].concat(o[e]);a.length&&i.length<t;)n=Math.random()*a.length|0,i=i.concat(a.splice(n,1));return i.map((function(t){return"string"===typeof t||t instanceof String?r(e+":"+t):t}))}return t=[].concat(s("stun",i)),a&&(t=t.concat(s("turn",a))),t}},17724:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!==typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-a.length),l=[],u=0;u<s;u++)l[u]="$"+u;if(i=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(a,arguments));return Object(t)===t?t:this}return o.apply(e,r(a,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i}},63864:(e,t,n)=>{"use strict";var r=n(17724);e.exports=Function.prototype.bind||r},27699:e=>{"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(o){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},60002:(e,t,n)=>{"use strict";var r,o=n(29304),i=n(79820),a=n(1725),s=n(75077),l=n(62557),u=n(54902),c=n(63094),d=Function,p=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(D){h=null}var f=function(){throw new u},m=h?function(){try{return f}catch(e){try{return h(arguments,"callee").get}catch(t){return f}}}():f,g=n(72108)(),y=n(80951)(),v=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},x="undefined"!==typeof Uint8Array&&v?v(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":b,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypeError%":u,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(D){var A=v(v(D));w["%Error.prototype%"]=A}var S=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return w[t]=n,n},C={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=n(63864),E=n(34384),T=k.call(Function.call,Array.prototype.concat),I=k.call(Function.apply,Array.prototype.splice),O=k.call(Function.call,String.prototype.replace),R=k.call(Function.call,String.prototype.slice),N=k.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,M=function(e,t){var n,r=e;if(E(C,r)&&(r="%"+(n=C[r])[0]+"%"),E(w,r)){var o=w[r];if(o===b&&(o=S(r)),"undefined"===typeof o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=R(e,0,1),n=R(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return O(e,_,(function(e,t,n,o){r[r.length]=n?O(o,P,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=M("%"+r+"%",t),i=o.name,a=o.value,s=!1,c=o.alias;c&&(r=c[0],I(n,T([0,1],c)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],m=R(f,0,1),g=R(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(s=!0),E(w,i="%"+(r+="."+f)+"%"))a=w[i];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&d+1>=n.length){var y=h(a,f);a=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:a[f]}else p=E(a,f),a=a[f];p&&!s&&(w[i]=a)}}return a}},95558:(e,t,n)=>{"use strict";var r=n(60002)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(o){r=null}e.exports=r},15642:(e,t,n)=>{var r,o=n(96064);"undefined"!==typeof window&&(r=window.AudioContext||window.webkitAudioContext);var i=null;e.exports=function(e,t){var n=new o;if(!r)return n;var a,s,l,u=(t=t||{}).smoothing||.1,c=t.interval||50,d=t.threshold,p=t.play,h=t.history||10,f=!0;i=t.audioContext||i||new r,(l=i.createAnalyser()).fftSize=512,l.smoothingTimeConstant=u,s=new Float32Array(l.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=i.createMediaElementSource(e),"undefined"===typeof p&&(p=!0),d=d||-50):(a=i.createMediaStreamSource(e),d=d||-50),a.connect(l),p&&l.connect(i.destination),n.speaking=!1,n.suspend=function(){return i.suspend()},n.resume=function(){return i.resume()},Object.defineProperty(n,"state",{get:function(){return i.state}}),i.onstatechange=function(){n.emit("state_change",i.state)},n.setThreshold=function(e){d=e},n.setInterval=function(e){c=e},n.stop=function(){f=!1,n.emit("volume_change",-100,d),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),l.disconnect(),a.disconnect()},n.speakingHistory=[];for(var m=0;m<h;m++)n.speakingHistory.push(0);var g=function(){setTimeout((function(){if(f){var e=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,o=t.length;r<o;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}(l,s);n.emit("volume_change",e,d);var t=0;if(e>d&&!n.speaking){for(var r=n.speakingHistory.length-3;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];t>=2&&(n.speaking=!0,n.emit("speaking"))}else if(e<d&&n.speaking){for(r=0;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];0==t&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(e>d)),g()}}),c)};return g(),n}},41977:e=>{"use strict";var t="undefined"!==typeof BigInt&&BigInt;e.exports=function(){return"function"===typeof t&&"function"===typeof BigInt&&"bigint"===typeof t(42)&&"bigint"===typeof BigInt(42)}},12101:(e,t,n)=>{"use strict";var r=n(82090),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},80951:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},72108:(e,t,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(99534);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},99534:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},64635:(e,t,n)=>{"use strict";var r=n(99534);e.exports=function(){return r()&&!!Symbol.toStringTag}},34384:(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(63864);e.exports=i.call(r,o)},80219:(e,t,n)=>{"use strict";var r=n(2086),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=h(n);o&&o!==f&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!i[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=p(n,y);try{u(t,y,v)}catch(b){}}}}return t}},56329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},76712:(e,t,n)=>{"use strict";var r=n(34384),o=n(19269)(),i=n(54902),a={assert:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new i("`O` is not an object");if("string"!==typeof t)throw new i("`slot` must be a string");if(o.assert(e),!a.has(e,t))throw new i("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new i("`O` is not an object");if("string"!==typeof t)throw new i("`slot` must be a string");var n=o.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new i("`O` is not an object");if("string"!==typeof t)throw new i("`slot` must be a string");var n=o.get(e);return!!n&&r(n,"$"+t)},set:function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new i("`O` is not an object");if("string"!==typeof t)throw new i("`slot` must be a string");var r=o.get(e);r||(r={},o.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(a),e.exports=a},22740:e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},68317:(e,t,n)=>{"use strict";var r=n(64635)(),o=n(12028)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},50257:(e,t,n)=>{"use strict";var r=n(61712),o=n(12028),i=n(60002)("%ArrayBuffer%",!0),a=o("ArrayBuffer.prototype.byteLength",!0),s=o("Object.prototype.toString"),l=!!i&&!a&&new i(0).slice,u=!!l&&r(l);e.exports=a||u?function(e){if(!e||"object"!==typeof e)return!1;try{return a?a(e):u(e,0),!0}catch(t){return!1}}:i?function(e){return"[object ArrayBuffer]"===s(e)}:function(e){return!1}},93008:(e,t,n)=>{"use strict";if(n(41977)()){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!==e&&"undefined"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e&&"number"!==typeof e&&"symbol"!==typeof e&&"function"!==typeof e&&("bigint"===typeof e||function(e){try{return r.call(e),!0}catch(t){}return!1}(e))}}else e.exports=function(e){return!1}},87787:(e,t,n)=>{"use strict";var r=n(12028),o=r("Boolean.prototype.toString"),i=r("Object.prototype.toString"),a=n(64635)();e.exports=function(e){return"boolean"===typeof e||null!==e&&"object"===typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(t){return!1}}(e):"[object Boolean]"===i(e))}},78799:e=>{"use strict";var t,n,r=Function.prototype.toString,o="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof o&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,t)}catch(h){h!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},s=function(e){try{return!a(e)&&(r.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,u="function"===typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),d=function(){return!1};if("object"===typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(d=function(e){if((c||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}e.exports=o?function(e){if(d(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{o(e,null,t)}catch(r){if(r!==n)return!1}return!a(e)&&s(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(u)return s(e);if(a(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},53913:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(64635)();e.exports=function(e){return"object"===typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===o.call(e))}},91787:e=>{"use strict";var t,n="function"===typeof Map&&Map.prototype?Map:null,r="function"===typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},2042:(e,t,n)=>{"use strict";var r=Number.prototype.toString,o=Object.prototype.toString,i=n(64635)();e.exports=function(e){return"number"===typeof e||"object"===typeof e&&(i?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Number]"===o.call(e))}},43290:(e,t,n)=>{"use strict";var r,o,i,a,s=n(12028),l=n(64635)();if(l){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!==typeof e)return!1;var t=d(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{o(e,a)}catch(n){return n===i}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},10869:e=>{"use strict";var t,n="function"===typeof Map&&Map.prototype?Map:null,r="function"===typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},8887:(e,t,n)=>{"use strict";var r=n(12028)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=r?function(e){if(!e||"object"!==typeof e)return!1;try{return r(e),!0}catch(t){return!1}}:function(e){return!1}},5766:(e,t,n)=>{"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,i=n(64635)();e.exports=function(e){return"string"===typeof e||"object"===typeof e&&(i?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object String]"===o.call(e))}},24107:(e,t,n)=>{"use strict";var r=Object.prototype.toString;if(n(72108)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},72735:e=>{"use strict";var t,n="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(t=function(e){return!1});var o=n?n.prototype.has:null,i=r?r.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},46641:(e,t,n)=>{"use strict";var r=n(60002),o=n(12028),i=r("%WeakSet%",!0),a=o("WeakSet.prototype.has",!0);if(a){var s=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(t){return!0}return e instanceof i}catch(t){}return!1}}else e.exports=function(e){return!1}},91141:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},18988:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function r(e){if(!e)return r.__;Array.prototype.reduce||(Array.prototype.reduce=function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n});var t="";return("."+e).split(".").reduce((function(e,n,o,i){t?t+="."+n:t=n;var a=e["__"+t];return void 0===a&&(r.Logger.prototype=e,a=new r.Logger(t),e["__"+t]=a),a}),r.__)}!function(e){function t(e,t,n){void 0!==t[e]&&(null!==t[e]?n[e]=t[e]:delete n[e])}function r(t){if(null!=e.enabled&&!e.enabled)return!1;try{if(t.userAgentRegex&&!new RegExp(t.userAgentRegex).test(navigator.userAgent))return!1}catch(n){}try{if(t.ipRegex&&e.clientIP&&!new RegExp(t.ipRegex).test(e.clientIP))return!1}catch(n){}return!0}function o(e,t){try{if(e.disallow&&new RegExp(e.disallow).test(t))return!1}catch(n){}return!0}function i(e){return"function"==typeof e?e instanceof RegExp?e.toString():e():e}e.requestId="",e.entryId=0,e._createXMLHttpRequest=function(){return new XMLHttpRequest},e._getTime=function(){return(new Date).getTime()},e._console=console,e._appenderNames=[];var a=function(e,t,n){this.msg=e,this.meta=t,this.finalString=n};function s(t){var n,r=i(t);switch(typeof r){case"string":return new a(r,null,r);case"number":case"boolean":return n=r.toString(),new a(n,null,n);case"undefined":return new a("undefined",null,"undefined");case"object":return r instanceof RegExp||r instanceof String||r instanceof Number||r instanceof Boolean?(n=r.toString(),new a(n,null,n)):(n="function"===typeof e.serialize?e.serialize.call(this,r):JSON.stringify(r),new a("",r,n));default:return new a("unknown",null,"unknown")}}function l(){return 1e3}function u(){return 2e3}function c(){return 3e3}function d(){return 4e3}function p(){return 5e3}function h(){return 6e3}function f(e){return e<=1e3?"trace":e<=2e3?"debug":e<=3e3?"info":e<=4e3?"warn":e<=5e3?"error":"fatal"}e.setOptions=function(e){return t("enabled",e,this),t("maxMessages",e,this),t("defaultAjaxUrl",e,this),t("clientIP",e,this),t("requestId",e,this),t("defaultBeforeSend",e,this),t("serialize",e,this),this},e.getAllLevel=function(){return-2147483648},e.getTraceLevel=l,e.getDebugLevel=u,e.getInfoLevel=c,e.getWarnLevel=d,e.getErrorLevel=p,e.getFatalLevel=h,e.getOffLevel=function(){return 2147483647};var m=function(e,t){this.inner=t,this.name="JL.Exception",this.message=s(e).finalString};e.Exception=m,m.prototype=new Error;var g=function(e,t,n,r,o){this.l=e,this.m=t,this.n=n,this.t=r,this.u=o};function y(t,n,r){return e.entryId++,new g(t,n,r,e._getTime(),e.entryId)}function v(e){e.id&&(clearTimeout(e.id),e.id=null)}function b(e,t,n){var r=this;e.id||(e.id=setTimeout((function(){n.call(r)}),t))}e.LogItem=g;var x=function(){function n(t,n){this.appenderName=t,this.sendLogItems=n,this.level=e.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var r="Trying to create an appender without a name or with an empty name";if(void 0==t)throw r;if(-1!=e._appenderNames.indexOf(t)){if(!t)throw r;throw"Multiple appenders use the same name "+t}e._appenderNames.push(t)}return n.prototype.addLogItemsToBuffer=function(t){if(this.batchBuffer.length>=this.maxBatchSize)this.nbrLogItemsSkipped+=t.length;else{if(null!=e.maxMessages){if(e.maxMessages<1)return;e.maxMessages-=t.length}this.batchBuffer=this.batchBuffer.concat(t);var n=this;b(this.batchTimeoutTimer,this.batchTimeout,(function(){n.sendBatch.call(n)}))}},n.prototype.batchBufferHasOverdueMessages=function(){for(var t=0;t<this.batchBuffer.length;t++){if(e._getTime()-this.batchBuffer[t].t>this.batchTimeout)return!0}return!1},n.prototype.batchBufferHasStrandedMessage=function(){return!(null==e.maxMessages)&&e.maxMessages<1&&this.batchBuffer.length>0},n.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},n.prototype.onSendingEnded=function(){v(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},n.prototype.setOptions=function(n){if(t("level",n,this),t("ipRegex",n,this),t("userAgentRegex",n,this),t("disallow",n,this),t("sendWithBufferLevel",n,this),t("storeInBufferLevel",n,this),t("bufferSize",n,this),t("batchSize",n,this),t("maxBatchSize",n,this),t("batchTimeout",n,this),t("sendTimeout",n,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new e.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},n.prototype.log=function(e,t,n,i,a,s,l){var u;r(this)&&o(this,s)&&(a<this.storeInBufferLevel||(u=y(a,s,l),a<this.level?this.bufferSize>0&&(this.buffer.push(u),this.buffer.length>this.bufferSize&&this.buffer.shift()):(this.addLogItemsToBuffer([u]),a>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete())))},n.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(v(this.batchTimeoutTimer),0!=this.batchBuffer.length)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var e=this;b(this.sendTimeoutTimer,this.sendTimeout,(function(){e.onSendingEnded.call(e)})),this.sendLogItems(this.batchBuffer,(function(){e.batchBuffer.splice(0,e.nbrLogItemsBeingSent),e.nbrLogItemsSkipped>0&&(e.batchBuffer.push(y(4e3,"Lost "+e.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",e.appenderName)),e.nbrLogItemsSkipped=0),e.onSendingEnded.call(e)}))}},n}();e.Appender=x;var w=function(o){function i(e){return o.call(this,e,i.prototype.sendLogItemsAjax)||this}return n(i,o),i.prototype.setOptions=function(e){return t("url",e,this),t("beforeSend",e,this),o.prototype.setOptions.call(this,e),this},i.prototype.sendLogItemsAjax=function(t,n){try{if(!r(this))return;this.xhr&&0!=this.xhr.readyState&&4!=this.xhr.readyState&&this.xhr.abort(),this.xhr=e._createXMLHttpRequest();var o="/jsnlog.logger";null!=e.defaultAjaxUrl&&(o=e.defaultAjaxUrl),this.url&&(o=this.url),this.xhr.open("POST",o),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",e.requestId);var i=this;this.xhr.onreadystatechange=function(){4==i.xhr.readyState&&i.xhr.status>=200&&i.xhr.status<300&&n()};var a={r:e.requestId,lg:t};"function"===typeof this.beforeSend?this.beforeSend.call(this,this.xhr,a):"function"===typeof e.defaultBeforeSend&&e.defaultBeforeSend.call(this,this.xhr,a);var s=JSON.stringify(a);this.xhr.send(s)}catch(l){}},i}(x);e.AjaxAppender=w;var A=function(t){function o(e){return t.call(this,e,o.prototype.sendLogItemsConsole)||this}return n(o,t),o.prototype.clog=function(t){e._console.log(t)},o.prototype.cerror=function(t){e._console.error?e._console.error(t):this.clog(t)},o.prototype.cwarn=function(t){e._console.warn?e._console.warn(t):this.clog(t)},o.prototype.cinfo=function(t){e._console.info?e._console.info(t):this.clog(t)},o.prototype.cdebug=function(t){e._console.debug?e._console.debug(t):this.cinfo(t)},o.prototype.sendLogItemsConsole=function(t,n){try{if(!r(this))return;if(!e._console)return;var o;for(o=0;o<t.length;++o){var i=t[o],a=i.n+": "+i.m;"undefined"===typeof window&&(a=new Date(i.t)+" | "+a),i.l<=e.getDebugLevel()?this.cdebug(a):i.l<=e.getInfoLevel()?this.cinfo(a):i.l<=e.getWarnLevel()?this.cwarn(a):this.cerror(a)}}catch(s){}n()},o}(x);e.ConsoleAppender=A;var S,C=function(){function e(e){this.loggerName=e,this.seenRegexes=[]}return e.prototype.setOptions=function(e){return t("level",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("ipRegex",e,this),t("appenders",e,this),t("onceOnly",e,this),this.seenRegexes=[],this},e.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},e.prototype.log=function(e,t,n){var a,l,u=0;if(!this.appenders)return this;if(e>=this.level&&r(this)&&(n?(l=this.buildExceptionObject(n)).logData=i(t):l=t,o(this,(a=s(l)).finalString))){if(this.onceOnly)for(u=this.onceOnly.length-1;u>=0;){if(new RegExp(this.onceOnly[u]).test(a.finalString)){if(this.seenRegexes[u])return this;this.seenRegexes[u]=!0}u--}for(a.meta=a.meta||{},u=this.appenders.length-1;u>=0;)this.appenders[u].log(f(e),a.msg,a.meta,(function(){}),e,a.finalString,this.loggerName),u--}return this},e.prototype.trace=function(e){return this.log(1e3,e)},e.prototype.debug=function(e){return this.log(2e3,e)},e.prototype.info=function(e){return this.log(3e3,e)},e.prototype.warn=function(e){return this.log(4e3,e)},e.prototype.error=function(e){return this.log(5e3,e)},e.prototype.fatal=function(e){return this.log(6e3,e)},e.prototype.fatalException=function(e,t){return this.log(6e3,e,t)},e}();e.Logger=C,e.createAjaxAppender=function(e){return new w(e)},e.createConsoleAppender=function(e){return new A(e)},S="undefined"!==typeof window?new w(""):new A(""),e.__=new e.Logger(""),e.__.setOptions({level:e.getDebugLevel(),appenders:[S]})}(r||(r={})),t.__esModule=!0,t.JL=r,"function"==typeof __jsnlog_configure&&__jsnlog_configure(r),"undefined"===typeof window||window.onerror||(window.onerror=function(e,t,n,o,i){return r("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:e?e.message||e:"",url:t,"line number":n,column:o},i),!1}),"undefined"===typeof window||window.onunhandledrejection||(window.onunhandledrejection=function(e){r("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:e.reason?e.reason.message:e.message||null},e.reason)})},41270:(e,t,n)=>{var r=n(37475),o=function(e){var t="",n=Object.keys(e);return n.forEach((function(o,i){var a=e[o];(function(e){return/[height|width]$/.test(e)})(o=r(o))&&"number"===typeof a&&(a+="px"),t+=!0===a?o:!1===a?"not "+o:"("+o+": "+a+")",i<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=o(n),r<e.length-1&&(t+=", ")})),t):o(e)}},10446:(e,t,n)=>{var r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=c||d||Function("return this")(),h=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return p.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==o}(e))return r;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function x(){var e=g();if(b(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?m(n,i-(e-u)):n}(e))}function w(e){return s=void 0,p&&r?h(e):(r=o=void 0,a)}function A(){var e=g(),n=b(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(x,t),c?h(e):a}(l);if(d)return s=setTimeout(x,t),h(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=v(t)||0,y(n)&&(c=!!n.leading,i=(d="maxWait"in n)?f(v(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),A.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},A.flush=function(){return void 0===s?a:w(g())},A}},89287:(e,t,n)=>{var r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();var c=Array.prototype,d=Function.prototype,p=Object.prototype,h=u["__core-js_shared__"],f=function(){var e=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),m=d.toString,g=p.hasOwnProperty,y=p.toString,v=RegExp("^"+m.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=c.splice,x=I(u,"Map"),w=I(Object,"create");function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function E(e){if(!R(e)||(t=e,f&&f in t))return!1;var t,n=function(e){var t=R(e)?y.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?v:a;return n.test(function(e){if(null!=e){try{return m.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function T(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function I(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return E(n)?n:void 0}function O(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(O.Cache||C),n}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}A.prototype.clear=function(){this.__data__=w?w(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(w){var n=t[e];return n===r?void 0:n}return g.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:g.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=w&&void 0===t?r:t,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(e){var t=this.__data__,n=k(t,e);return!(n<0)&&(n==t.length-1?t.pop():b.call(t,n,1),!0)},S.prototype.get=function(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return k(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=k(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new A,map:new(x||S),string:new A}},C.prototype.delete=function(e){return T(this,e).delete(e)},C.prototype.get=function(e){return T(this,e).get(e)},C.prototype.has=function(e){return T(this,e).has(e)},C.prototype.set=function(e,t){return T(this,e).set(e,t),this},O.Cache=C,e.exports=O},97685:(e,t,n)=>{var r=n(87937)(n(56552),"DataView");e.exports=r},98724:(e,t,n)=>{var r=n(27615),o=n(25051),i=n(72154),a=n(48734),s=n(22662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},97160:(e,t,n)=>{var r=n(87563),o=n(29935),i=n(24190),a=n(51946),s=n(61714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},85204:(e,t,n)=>{var r=n(87937)(n(56552),"Map");e.exports=r},64816:(e,t,n)=>{var r=n(47251),o=n(37159),i=n(80438),a=n(69394),s=n(56874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},65387:(e,t,n)=>{var r=n(87937)(n(56552),"Promise");e.exports=r},72070:(e,t,n)=>{var r=n(87937)(n(56552),"Set");e.exports=r},18902:(e,t,n)=>{var r=n(64816),o=n(86179),i=n(46704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},5538:(e,t,n)=>{var r=n(97160),o=n(84545),i=n(10793),a=n(27760),s=n(3892),l=n(76788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},9812:(e,t,n)=>{var r=n(56552).Symbol;e.exports=r},22929:(e,t,n)=>{var r=n(56552).Uint8Array;e.exports=r},26600:(e,t,n)=>{var r=n(87937)(n(56552),"WeakMap");e.exports=r},31170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},80726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},17529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},75866:(e,t,n)=>{var r=n(88468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},41558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},73204:(e,t,n)=>{var r=n(3343),o=n(22777),i=n(54052),a=n(44543),s=n(69194),l=n(51268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),d=!n&&!c&&a(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},50149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},48895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},52587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},63868:(e,t,n)=>{var r=n(71775),o=n(93211);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},78420:(e,t,n)=>{var r=n(71775),o=n(93211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},61340:(e,t,n)=>{var r=n(93211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},51104:(e,t,n)=>{var r=n(96614),o=n(28673);e.exports=function(e,t){return e&&r(t,o(t),e)}},55119:(e,t,n)=>{var r=n(96614),o=n(30474);e.exports=function(e,t){return e&&r(t,o(t),e)}},71775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},97132:(e,t,n)=>{var r=n(5538),o=n(80726),i=n(78420),a=n(51104),s=n(55119),l=n(44353),u=n(91980),c=n(98124),d=n(29075),p=n(59395),h=n(68592),f=n(26924),m=n(38268),g=n(18630),y=n(20310),v=n(54052),b=n(44543),x=n(57887),w=n(46686),A=n(45921),S=n(28673),C=n(30474),k="[object Arguments]",E="[object Function]",T="[object Object]",I={};I[k]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[T]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[E]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,O,R,N,_){var P,M=1&n,D=2&n,L=4&n;if(O&&(P=N?O(t,R,N,_):O(t)),void 0!==P)return P;if(!w(t))return t;var $=v(t);if($){if(P=m(t),!M)return u(t,P)}else{var j=f(t),F=j==E||"[object GeneratorFunction]"==j;if(b(t))return l(t,M);if(j==T||j==k||F&&!N){if(P=D||F?{}:y(t),!M)return D?d(t,s(P,t)):c(t,a(P,t))}else{if(!I[j])return N?t:{};P=g(t,j,M)}}_||(_=new r);var B=_.get(t);if(B)return B;_.set(t,P),A(t)?t.forEach((function(r){P.add(e(r,n,O,r,t,_))})):x(t)&&t.forEach((function(r,o){P.set(o,e(r,n,O,o,t,_))}));var V=$?void 0:(L?D?h:p:D?C:S)(t);return o(V||t,(function(r,o){V&&(r=t[o=r]),i(P,o,e(r,n,O,o,t,_))})),P}},21817:(e,t,n)=>{var r=n(46686),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},88746:(e,t,n)=>{var r=n(18902),o=n(75866),i=n(41558),a=n(50149),s=n(47574),l=n(58114);e.exports=function(e,t,n,u){var c=-1,d=o,p=!0,h=e.length,f=[],m=t.length;if(!h)return f;n&&(t=a(t,s(n))),u?(d=i,p=!1):t.length>=200&&(d=l,p=!1,t=new r(t));e:for(;++c<h;){var g=e[c],y=null==n?g:n(g);if(g=u||0!==g?g:0,p&&y===y){for(var v=m;v--;)if(t[v]===y)continue e;f.push(g)}else d(t,y,u)||f.push(g)}return f}},45652:(e,t,n)=>{var r=n(94664),o=n(76516)(r);e.exports=o},87171:(e,t,n)=>{var r=n(45652);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},75816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},80755:(e,t,n)=>{var r=n(48895),o=n(77116);e.exports=function e(t,n,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var c=t[l];n>0&&i(c)?n>1?e(c,n-1,i,a,s):r(s,c):a||(s[s.length]=c)}return s}},94258:(e,t,n)=>{var r=n(55906)();e.exports=r},94664:(e,t,n)=>{var r=n(94258),o=n(28673);e.exports=function(e,t){return e&&r(e,t,o)}},52969:(e,t,n)=>{var r=n(35324),o=n(70914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},4262:(e,t,n)=>{var r=n(48895),o=n(54052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},16913:(e,t,n)=>{var r=n(9812),o=n(34552),i=n(16095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},27894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},88468:(e,t,n)=>{var r=n(75816),o=n(40644),i=n(94020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},15193:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},27133:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return o(e)&&"[object Date]"==r(e)}},26989:(e,t,n)=>{var r=n(16399),o=n(22761);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},16399:(e,t,n)=>{var r=n(5538),o=n(43668),i=n(69987),a=n(45752),s=n(26924),l=n(54052),u=n(44543),c=n(51268),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?p:s(e),w=b?p:s(t),A=(x=x==d?h:x)==h,S=(w=w==d?h:w)==h,C=x==w;if(C&&u(e)){if(!u(t))return!1;v=!0,A=!1}if(C&&!A)return y||(y=new r),v||c(e)?o(e,t,n,m,g,y):i(e,t,x,n,m,g,y);if(!(1&n)){var k=A&&f.call(e,"__wrapped__"),E=S&&f.call(t,"__wrapped__");if(k||E){var T=k?e.value():e,I=E?t.value():t;return y||(y=new r),g(T,I,n,m,y)}}return!!C&&(y||(y=new r),a(e,t,n,m,g,y))}},5791:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},86532:(e,t,n)=>{var r=n(5538),o=n(26989);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new r;if(i)var f=i(d,p,c,e,t,h);if(!(void 0===f?o(p,d,3,i,h):f))return!1}}return!0}},40644:e=>{e.exports=function(e){return e!==e}},36954:(e,t,n)=>{var r=n(11629),o=n(37857),i=n(46686),a=n(96996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},20449:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},35428:(e,t,n)=>{var r=n(16913),o=n(56173),i=n(22761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},9096:(e,t,n)=>{var r=n(39256),o=n(15029),i=n(33279),a=n(54052),s=n(63932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},83713:(e,t,n)=>{var r=n(36140),o=n(61143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},58122:(e,t,n)=>{var r=n(46686),o=n(36140),i=n(43516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},38883:(e,t,n)=>{var r=n(45652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},39256:(e,t,n)=>{var r=n(86532),o=n(23781),i=n(91310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},15029:(e,t,n)=>{var r=n(26989),o=n(33097),i=n(53366),a=n(62597),s=n(9417),l=n(91310),u=n(70914);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},23253:(e,t,n)=>{var r=n(5538),o=n(63868),i=n(94258),a=n(83223),s=n(46686),l=n(30474),u=n(53737);e.exports=function e(t,n,c,d,p){t!==n&&i(n,(function(i,l){if(p||(p=new r),s(i))a(t,n,l,c,e,d,p);else{var h=d?d(u(t,l),i,l+"",t,n,p):void 0;void 0===h&&(h=i),o(t,l,h)}}),l)}},83223:(e,t,n)=>{var r=n(63868),o=n(44353),i=n(38710),a=n(91980),s=n(20310),l=n(22777),u=n(54052),c=n(76272),d=n(44543),p=n(11629),h=n(46686),f=n(12322),m=n(51268),g=n(53737),y=n(91609);e.exports=function(e,t,n,v,b,x,w){var A=g(e,n),S=g(t,n),C=w.get(S);if(C)r(e,n,C);else{var k=x?x(A,S,n+"",e,t,w):void 0,E=void 0===k;if(E){var T=u(S),I=!T&&d(S),O=!T&&!I&&m(S);k=S,T||I||O?u(A)?k=A:c(A)?k=a(A):I?(E=!1,k=o(S,!0)):O?(E=!1,k=i(S,!0)):k=[]:f(S)||l(S)?(k=A,l(A)?k=y(A):h(A)&&!p(A)||(k=s(S))):E=!1}E&&(w.set(S,k),b(k,S,v,x,w),w.delete(S)),r(e,n,k)}}},12536:(e,t,n)=>{var r=n(50149),o=n(52969),i=n(9096),a=n(38883),s=n(60320),l=n(47574),u=n(65893),c=n(33279),d=n(54052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[c];var p=-1;t=r(t,l(i));var h=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return u(e,t,n)}))}},94008:(e,t,n)=>{var r=n(27449),o=n(53366);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},27449:(e,t,n)=>{var r=n(52969),o=n(9261),i=n(35324);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&o(l,i(u,e),c)}return l}},10396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},52866:(e,t,n)=>{var r=n(52969);e.exports=function(e){return function(t){return r(t,e)}}},55647:(e,t,n)=>{var r=n(33279),o=n(55636),i=n(46350);e.exports=function(e,t){return i(o(e,t,r),e+"")}},9261:(e,t,n)=>{var r=n(78420),o=n(35324),i=n(69194),a=n(46686),s=n(70914);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,d=c-1,p=e;null!=p&&++u<c;){var h=s(t[u]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(u!=d){var m=p[h];void 0===(f=l?l(m,h,p):void 0)&&(f=a(m)?m:i(t[u+1])?[]:{})}r(p,h,f),p=p[h]}return e}},28325:(e,t,n)=>{var r=n(22541),o=n(5654),i=n(33279),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},53871:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},60320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},38541:(e,t,n)=>{var r=n(9812),o=n(50149),i=n(54052),a=n(19841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},47574:e=>{e.exports=function(e){return function(t){return e(t)}}},64416:(e,t,n)=>{var r=n(18902),o=n(75866),i=n(41558),a=n(58114),s=n(68182),l=n(52074);e.exports=function(e,t,n){var u=-1,c=o,d=e.length,p=!0,h=[],f=h;if(n)p=!1,c=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,c=a,f=new r}else f=t?[]:h;e:for(;++u<d;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue e;t&&f.push(y),h.push(g)}else c(f,y,n)||(f!==h&&f.push(y),h.push(g))}return h}},88140:(e,t,n)=>{var r=n(35324),o=n(74065),i=n(21676),a=n(70914);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},58114:e=>{e.exports=function(e,t){return e.has(t)}},35324:(e,t,n)=>{var r=n(54052),o=n(62597),i=n(14079),a=n(41069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},61516:(e,t,n)=>{var r=n(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},44353:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},6806:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},11295:(e,t,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},38710:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},16599:(e,t,n)=>{var r=n(19841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,a=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!c&&e<t||c&&n&&i&&!o&&!a||l&&n&&i||!s&&i||!u)return-1}return 0}},65893:(e,t,n)=>{var r=n(16599);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,l=n.length;++o<s;){var u=r(i[o],a[o]);if(u)return o>=l?u:u*("desc"==n[o]?-1:1)}return e.index-t.index}},91980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},96614:(e,t,n)=>{var r=n(78420),o=n(71775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},98124:(e,t,n)=>{var r=n(96614),o=n(69621);e.exports=function(e,t){return r(e,o(e),t)}},29075:(e,t,n)=>{var r=n(96614),o=n(56326);e.exports=function(e,t){return r(e,o(e),t)}},13440:(e,t,n)=>{var r=n(56552)["__core-js_shared__"];e.exports=r},84570:(e,t,n)=>{var r=n(55647),o=n(60929);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},76516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},55906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},68182:(e,t,n)=>{var r=n(72070),o=n(75713),i=n(52074),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},96761:(e,t,n)=>{var r=n(12322);e.exports=function(e){return r(e)?void 0:e}},5654:(e,t,n)=>{var r=n(87937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},43668:(e,t,n)=>{var r=n(18902),o=n(52587),i=n(58114);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var y=e[f],v=t[f];if(a)var b=u?a(v,y,f,t,e,l):a(y,v,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},69987:(e,t,n)=>{var r=n(9812),o=n(22929),i=n(93211),a=n(43668),s=n(54160),l=n(52074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(h(e),h(t),r,u,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},45752:(e,t,n)=>{var r=n(59395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var y=e[p=u[d]],v=t[p];if(i)var b=l?i(v,y,p,t,e,s):i(y,v,p,e,t,s);if(!(void 0===b?y===v||a(y,v,n,i,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},15857:(e,t,n)=>{var r=n(20819),o=n(55636),i=n(46350);e.exports=function(e){return i(o(e,void 0,r),e+"")}},37105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},59395:(e,t,n)=>{var r=n(4262),o=n(69621),i=n(28673);e.exports=function(e){return r(e,i,o)}},68592:(e,t,n)=>{var r=n(4262),o=n(56326),i=n(30474);e.exports=function(e){return r(e,i,o)}},12622:(e,t,n)=>{var r=n(70705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},23781:(e,t,n)=>{var r=n(9417),o=n(28673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},87937:(e,t,n)=>{var r=n(36954),o=n(14657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},85990:(e,t,n)=>{var r=n(13028)(Object.getPrototypeOf,Object);e.exports=r},34552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},69621:(e,t,n)=>{var r=n(17529),o=n(57828),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},56326:(e,t,n)=>{var r=n(48895),o=n(85990),i=n(69621),a=n(57828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},26924:(e,t,n)=>{var r=n(97685),o=n(85204),i=n(65387),a=n(72070),s=n(26600),l=n(16913),u=n(96996),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=u(r),g=u(o),y=u(i),v=u(a),b=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=f||o&&x(new o)!=c||i&&x(i.resolve())!=d||a&&x(new a)!=p||s&&x(new s)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case y:return d;case v:return p;case b:return h}return t}),e.exports=x},14657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},99057:(e,t,n)=>{var r=n(35324),o=n(22777),i=n(54052),a=n(69194),s=n(56173),l=n(70914);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var p=l(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(i(e)||o(e))}},27615:(e,t,n)=>{var r=n(95575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},25051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},72154:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},48734:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},22662:(e,t,n)=>{var r=n(95575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},38268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},18630:(e,t,n)=>{var r=n(61516),o=n(6806),i=n(18962),a=n(11295),s=n(38710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},20310:(e,t,n)=>{var r=n(21817),o=n(85990),i=n(36140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},77116:(e,t,n)=>{var r=n(9812),o=n(22777),i=n(54052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},69194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},60929:(e,t,n)=>{var r=n(93211),o=n(6571),i=n(69194),a=n(46686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},62597:(e,t,n)=>{var r=n(54052),o=n(19841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},70705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},37857:(e,t,n)=>{var r=n(13440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},36140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(46686);e.exports=function(e){return e===e&&!r(e)}},87563:e=>{e.exports=function(){this.__data__=[],this.size=0}},29935:(e,t,n)=>{var r=n(61340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},24190:(e,t,n)=>{var r=n(61340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},51946:(e,t,n)=>{var r=n(61340);e.exports=function(e){return r(this.__data__,e)>-1}},61714:(e,t,n)=>{var r=n(61340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},47251:(e,t,n)=>{var r=n(98724),o=n(97160),i=n(85204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},37159:(e,t,n)=>{var r=n(12622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},80438:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).get(e)}},69394:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).has(e)}},56874:(e,t,n)=>{var r=n(12622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},54160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},91310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},88259:(e,t,n)=>{var r=n(15797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},95575:(e,t,n)=>{var r=n(87937)(Object,"create");e.exports=r},61143:(e,t,n)=>{var r=n(13028)(Object.keys,Object);e.exports=r},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},56832:(e,t,n)=>{e=n.nmd(e);var r=n(37105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},16095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},13028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},55636:(e,t,n)=>{var r=n(31170),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},21676:(e,t,n)=>{var r=n(52969),o=n(53871);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},56552:(e,t,n)=>{var r=n(37105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},53737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},86179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},46704:e=>{e.exports=function(e){return this.__data__.has(e)}},52074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},46350:(e,t,n)=>{var r=n(28325),o=n(86578)(r);e.exports=o},86578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},84545:(e,t,n)=>{var r=n(97160);e.exports=function(){this.__data__=new r,this.size=0}},10793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},27760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},76788:(e,t,n)=>{var r=n(97160),o=n(85204),i=n(64816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},94020:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},14079:(e,t,n)=>{var r=n(88259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},70914:(e,t,n)=>{var r=n(19841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},96996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},22541:e=>{e.exports=function(e){return function(){return e}}},93211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},50723:(e,t,n)=>{var r=n(17529),o=n(87171),i=n(9096),a=n(54052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},20819:(e,t,n)=>{var r=n(80755);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},33097:(e,t,n)=>{var r=n(52969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},53366:(e,t,n)=>{var r=n(27894),o=n(99057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},33279:e=>{e.exports=function(e){return e}},22777:(e,t,n)=>{var r=n(15193),o=n(22761),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},54052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(11629),o=n(56173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},76272:(e,t,n)=>{var r=n(6571),o=n(22761);e.exports=function(e){return o(e)&&r(e)}},44543:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=n(60014),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},93085:(e,t,n)=>{var r=n(27133),o=n(47574),i=n(56832),a=i&&i.isDate,s=a?o(a):r;e.exports=s},19853:(e,t,n)=>{var r=n(26989);e.exports=function(e,t){return r(e,t)}},11629:(e,t,n)=>{var r=n(16913),o=n(46686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},56173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},57887:(e,t,n)=>{var r=n(5791),o=n(47574),i=n(56832),a=i&&i.isMap,s=a?o(a):r;e.exports=s},79160:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},46686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},22761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},12322:(e,t,n)=>{var r=n(16913),o=n(85990),i=n(22761),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},45921:(e,t,n)=>{var r=n(20449),o=n(47574),i=n(56832),a=i&&i.isSet,s=a?o(a):r;e.exports=s},90620:(e,t,n)=>{var r=n(16913),o=n(54052),i=n(22761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},19841:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},51268:(e,t,n)=>{var r=n(35428),o=n(47574),i=n(56832),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},28673:(e,t,n)=>{var r=n(73204),o=n(83713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},30474:(e,t,n)=>{var r=n(73204),o=n(58122),i=n(6571);e.exports=function(e){return i(e)?r(e,!0):o(e)}},74065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},15797:(e,t,n)=>{var r=n(64816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},34677:(e,t,n)=>{var r=n(23253),o=n(84570)((function(e,t,n){r(e,t,n)}));e.exports=o},75713:e=>{e.exports=function(){}},1488:(e,t,n)=>{var r=n(50149),o=n(97132),i=n(88140),a=n(35324),s=n(96614),l=n(96761),u=n(15857),c=n(68592),d=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,c(e),n),u&&(n=o(n,7,l));for(var d=t.length;d--;)i(n,t[d]);return n}));e.exports=d},22616:(e,t,n)=>{var r=n(94008),o=n(15857)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},63932:(e,t,n)=>{var r=n(10396),o=n(52866),i=n(62597),a=n(70914);e.exports=function(e){return i(e)?r(a(e)):o(e)}},69613:(e,t,n)=>{var r=n(9261);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},87424:(e,t,n)=>{var r=n(80755),o=n(12536),i=n(55647),a=n(60929),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},57828:e=>{e.exports=function(){return[]}},60014:e=>{e.exports=function(){return!1}},91609:(e,t,n)=>{var r=n(96614),o=n(30474);e.exports=function(e){return r(e,o(e))}},41069:(e,t,n)=>{var r=n(38541);e.exports=function(e){return null==e?"":r(e)}},9376:(e,t,n)=>{var r=n(64416);e.exports=function(e){return e&&e.length?r(e):[]}},20977:(e,t,n)=>{var r=n(9096),o=n(64416);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},16757:(e,t,n)=>{var r=n(88746),o=n(55647),i=n(76272),a=o((function(e,t){return i(e)?r(e,t):[]}));e.exports=a},77353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=l(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=l(e,e<0?-1:0,!1),a&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return A}else{if(e<=-f)return S;if(e+1>=f)return w}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var o=s(u(n,8)),i=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+l),n);if(l<8){var p=s(u(n,l));i=i.mul(p).add(s(d))}else i=(i=i.mul(o)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=a(1<<24),g=a(0);n.ZERO=g;var y=a(0,!0);n.UZERO=y;var v=a(1);n.ONE=v;var b=a(1,!0);n.UONE=b;var x=a(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var A=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=A;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(u(e,6),this.unsigned),i=this,a="";;){var l=i.div(o),c=(i.sub(l.mul(o)).toInt()>>>0).toString(e);if((i=l).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},C.neg=C.negate,C.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,p+=(h+=o+u)>>>16,c+=(p+=n+s)>>>16,c+=t+a,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=a*h)>>>16,y+=(v+=i*h)>>>16,v&=65535,y+=(v+=a*p)>>>16,f+=(y+=o*h)>>>16,y&=65535,f+=(y+=i*p)>>>16,y&=65535,f+=(y+=a*c)>>>16,f+=n*h+o*p+i*c+a*u,l((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;i=y}else{if(this.eq(S))return e.eq(v)||e.eq(x)?S:e.eq(S)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:x:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:u(2,a-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=s(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=v),i=i.add(p),o=o.sub(h)}return i},C.div=C.divide,C.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},53393:(e,t,n)=>{var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},s={},l="",u="",c="",d=2,p=3,h=2,f=[],m=0,g=0;for(i=0;i<e.length;i+=1)if(l=e.charAt(i),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=p++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(o=a[c],r=0;r<h;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1;0==--d&&(d=Math.pow(2,h),h++),a[u]=p++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(o=a[c],r=0;r<h;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1;0==--d&&(d=Math.pow(2,h),h++)}for(o=2,r=0;r<h;r++)m=m<<1|1&o,g==t-1?(g=0,f.push(n(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==t-1){f.push(n(m));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,a,s,l,u,c,d=[],p=4,h=4,f=3,m="",g=[],y={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)d[o]=o;for(a=0,l=Math.pow(2,2),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;switch(a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 2:return""}for(d[3]=c,i=c,g.push(c);;){if(y.index>t)return"";for(a=0,l=Math.pow(2,f),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;switch(c=a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;d[h++]=e(a),c=h-1,p--;break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;d[h++]=e(a),c=h-1,p--;break;case 2:return g.join("")}if(0==p&&(p=Math.pow(2,f),f++),d[c])m=d[c];else{if(c!==h)return null;m=i+i.charAt(0)}g.push(m),d[h++]=i+m.charAt(0),i=m,0==--p&&(p=Math.pow(2,f),f++)}}};return i}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},6686:e=>{"use strict";function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(e,t){for(let n in e){let r=e[n].map((function(e){return e.toLowerCase()}));n=n.toLowerCase();for(let e=0;e<r.length;e++){const o=r[e];if("*"!==o[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){const e=r[0];this._extensions[n]="*"!==e[0]?e:e.substr(1)}}},t.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},t.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},e.exports=t},50786:(e,t,n)=>{"use strict";let r=n(6686);e.exports=new r(n(41657))},41657:e=>{e.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},29282:e=>{var t=["stun:","turn:"];e.exports=function(e){var n,r,o=(e||{}).url||e,i={};return"string"==typeof o||o instanceof String?(o=o.trim(),(n=t[t.indexOf(o.slice(0,5))])?(r=(o=o.slice(5)).split("@"),i.username=e.username,i.credential=e.credential,r.length>1&&(o=r[1],r=r[0].split(":"),i.username=r[0],i.credential=(e||{}).credential||r[1]||""),i.url=n+o,i.urls=[i.url],i):e):e}},68206:(e,t,n)=>{var r="function"===typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"===typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"===typeof l.get?l.get:null,c=s&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,A=RegExp.prototype.test,S=Array.prototype.concat,C=Array.prototype.join,k=Array.prototype.slice,E=Math.floor,T="function"===typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"===typeof Symbol&&"object"===typeof Symbol.iterator,N="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||"symbol")?Symbol.toStringTag:null,_=Object.prototype.propertyIsEnumerable,P=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||A.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-E(-e):E(e);if(r!==e){var o=String(r),i=v.call(t,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var D=n(42634),L=D.custom,$=z(L)?L:null;function j(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function B(e){return"[object Array]"===q(e)&&(!N||!("object"===typeof e&&N in e))}function V(e){return"[object RegExp]"===q(e)&&(!N||!("object"===typeof e&&N in e))}function z(e){if(R)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,o,s){var l=r||{};if(W(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!W(l,"customInspect")||l.customInspect;if("boolean"!==typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=l.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return G(t,l);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var A=String(t);return x?M(t,A):A}if("bigint"===typeof t){var E=String(t)+"n";return x?M(t,E):E}var I="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof o&&(o=0),o>=I&&I>0&&"object"===typeof t)return B(t)?"[Array]":"[Object]";var L=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=C.call(Array(e.indent+1)," ")}return{base:n,prev:C.call(Array(t+1),n)}}(l,o);if("undefined"===typeof s)s=[];else if(H(s,t)>=0)return"[Circular]";function U(t,n,r){if(n&&(s=k.call(s)).push(n),r){var i={depth:l.depth};return W(l,"quoteStyle")&&(i.quoteStyle=l.quoteStyle),e(t,i,o+1,s)}return e(t,l,o+1,s)}if("function"===typeof t&&!V(t)){var X=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=Z(t,U);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(ee.length>0?" { "+C.call(ee,", ")+" }":"")}if(z(t)){var te=R?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!==typeof t||R?te:K(te)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var ne="<"+w.call(String(t.nodeName)),re=t.attributes||[],oe=0;oe<re.length;oe++)ne+=" "+re[oe].name+"="+j(F(re[oe].value),"double",l);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+w.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ie=Z(t,U);return L&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(ie)?"["+J(ie,L)+"]":"[ "+C.call(ie,", ")+" ]"}if(function(e){return"[object Error]"===q(e)&&(!N||!("object"===typeof e&&N in e))}(t)){var ae=Z(t,U);return"cause"in Error.prototype||!("cause"in t)||_.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(ae,", ")+" }":"{ ["+String(t)+"] "+C.call(S.call("[cause]: "+U(t.cause),ae),", ")+" }"}if("object"===typeof t&&m){if($&&"function"===typeof t[$]&&D)return D(t,{depth:I-o});if("symbol"!==m&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!==typeof e)return!1;try{i.call(e);try{u.call(e)}catch(ne){return!0}return e instanceof Map}catch(t){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,n){se.push(U(n,t,!0)+" => "+U(e,t))})),Q("Map",i.call(t),se,L)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var le=[];return c&&c.call(t,(function(e){le.push(U(e,t))})),Q("Set",u.call(t),le,L)}if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(ne){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Y("WeakMap");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(ne){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Y("WeakSet");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{return h.call(e),!0}catch(t){}return!1}(t))return Y("WeakRef");if(function(e){return"[object Number]"===q(e)&&(!N||!("object"===typeof e&&N in e))}(t))return K(U(Number(t)));if(function(e){if(!e||"object"!==typeof e||!T)return!1;try{return T.call(e),!0}catch(t){}return!1}(t))return K(U(T.call(t)));if(function(e){return"[object Boolean]"===q(e)&&(!N||!("object"===typeof e&&N in e))}(t))return K(f.call(t));if(function(e){return"[object String]"===q(e)&&(!N||!("object"===typeof e&&N in e))}(t))return K(U(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===q(e)&&(!N||!("object"===typeof e&&N in e))}(t)&&!V(t)){var ue=Z(t,U),ce=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",pe=!ce&&N&&Object(t)===t&&N in t?v.call(q(t),8,-1):de?"Object":"",he=(ce||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||de?"["+C.call(S.call([],pe||[],de||[]),": ")+"] ":"");return 0===ue.length?he+"{}":L?he+"{"+J(ue,L)+"}":he+"{ "+C.call(ue,", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return U.call(e,t)}function q(e){return m.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function G(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return G(v.call(e,0,t.maxStringLength),t)+r}return j(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,X),"single",t)}function X(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function K(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function Q(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):C.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+C.call(e,","+n)+"\n"+t.prev}function Z(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=W(e,o)?t(e[o],e):""}var i,a="function"===typeof I?I(e):[];if(R){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var l in e)W(e,l)&&(n&&String(Number(l))===l&&l<e.length||R&&i["$"+l]instanceof Symbol||(A.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"===typeof I)for(var u=0;u<a.length;u++)_.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},57974:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},52702:(e,t,n)=>{"use strict";var r=n(11779),o=n(61712),i=n(57974),a=n(3799),s=n(85289),l=o(a(),Object);r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},3799:(e,t,n)=>{"use strict";var r=n(57974);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},85289:(e,t,n)=>{"use strict";var r=n(3799),o=n(11779);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},21038:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(80234),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var y in e)f&&"prototype"===y||!o.call(e,y)||p.push(String(y));if(l)for(var v=function(e){if("undefined"===typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!o.call(e,c[b])||p.push(c[b]);return p}}e.exports=r},2678:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(80234),i=Object.keys,a=i?function(e){return i(e)}:n(21038),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},80234:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},95590:(e,t,n)=>{"use strict";var r=n(2678),o=n(99534)(),i=n(12028),a=Object,s=i("Array.prototype.push"),l=i("Object.prototype.propertyIsEnumerable"),u=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=a(e);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var c=a(arguments[i]),d=r(c),p=o&&(Object.getOwnPropertySymbols||u);if(p)for(var h=p(c),f=0;f<h.length;++f){var m=h[f];l(c,m)&&s(d,m)}for(var g=0;g<d.length;++g){var y=d[g];if(l(c,y)){var v=c[y];n[y]=v}}}return n}},53678:(e,t,n)=>{"use strict";var r=n(11779),o=n(61712),i=n(95590),a=n(57095),s=n(67161),l=o.apply(a()),u=function(e,t){return l(Object,arguments)};r(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},57095:(e,t,n)=>{"use strict";var r=n(95590);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},67161:(e,t,n)=>{"use strict";var r=n(11779),o=n(57095);e.exports=function(){var e=o();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},81014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorderState=void 0,function(e){e.READY="READY",e.RECORDING="RECORDING",e.PAUSED="PAUSED",e.FINISHED="FINISHED"}(t.LocalRecorderState||(t.LocalRecorderState={}))},43306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduError=t.OpenViduErrorName=void 0,function(e){e.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",e.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",e.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",e.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",e.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",e.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",e.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",e.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",e.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",e.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",e.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",e.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",e.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",e.GENERIC_ERROR="GENERIC_ERROR"}(t.OpenViduErrorName||(t.OpenViduErrorName={}));var n=function(e,t){this.name=e,this.message=t};t.OpenViduError=n},69978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOfVideo=void 0,function(e){e.CAMERA="CAMERA",e.SCREEN="SCREEN",e.CUSTOM="CUSTOM",e.IPCAM="IPCAM"}(t.TypeOfVideo||(t.TypeOfVideo={}))},75907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoInsertMode=void 0,function(e){e.AFTER="AFTER",e.APPEND="APPEND",e.BEFORE="BEFORE",e.PREPEND="PREPEND",e.REPLACE="REPLACE"}(t.VideoInsertMode||(t.VideoInsertMode={}))},43917:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.connection=o,a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.ConnectionEvent=o},6912:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionPropertyChangedEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,"connectionPropertyChanged")||this;return a.connection=n,a.changedProperty=r,a.newValue=o,a.oldValue=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.ConnectionPropertyChangedEvent=o},20153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=function(){function e(e,t,n){this.hasBeenPrevented=!1,this.cancelable=e,this.target=t,this.type=n}return e.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},e.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},e}();t.Event=n},59906:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEvent=t.ExceptionEventName=void 0;var o=n(20153);!function(e){e.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",e.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",e.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",e.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT",e.SPEECH_TO_TEXT_DISCONNECTED="SPEECH_TO_TEXT_DISCONNECTED"}(t.ExceptionEventName||(t.ExceptionEventName={}));var i=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,"exception")||this;return a.name=n,a.origin=r,a.message=o,a.data=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(o.Event);t.ExceptionEvent=i},24955:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FilterEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,t,n)||this;return o.data=r,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.FilterEvent=o},62414:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkQualityLevelChangedEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,"networkQualityLevelChanged")||this;return i.newValue=n,i.oldValue=r,i.connection=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.NetworkQualityLevelChangedEvent=o},88835:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PublisherSpeakingEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,n)||this;return i.type=n,i.connection=r,i.streamId=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.PublisherSpeakingEvent=o},69744:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,n)||this;return a.id=r,o!==r&&(a.name=o),a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.RecordingEvent=o},50120:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SessionDisconnectedEvent=void 0;var o=n(20153),i=n(41472).OpenViduLogger.getInstance(),a=function(e){function t(t,n){var r=e.call(this,!0,t,"sessionDisconnected")||this;return r.reason=n,r}return r(t,e),t.prototype.callDefaultBehavior=function(){i.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var e=this.target;e.remoteConnections.forEach((function(t){var n,r,o,i,a,s,l,u,c=t.connectionId;if(null===(n=e.remoteConnections.get(c))||void 0===n?void 0:n.stream){null===(r=e.remoteConnections.get(c))||void 0===r||r.stream.disposeWebRtcPeer(),null===(o=e.remoteConnections.get(c))||void 0===o||o.stream.disposeMediaStream(),(null===(i=e.remoteConnections.get(c))||void 0===i?void 0:i.stream.streamManager)&&(null===(a=e.remoteConnections.get(c))||void 0===a||a.stream.streamManager.removeAllVideos());var d=null===(l=null===(s=e.remoteConnections.get(c))||void 0===s?void 0:s.stream)||void 0===l?void 0:l.streamId;d&&e.remoteStreamsCreated.delete(d),null===(u=e.remoteConnections.get(c))||void 0===u||u.dispose()}e.remoteConnections.delete(c)}))},t}(o.Event);t.SessionDisconnectedEvent=a},78385:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SignalEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,"signal")||this;return n&&(i.type="signal:"+n),i.data=r,i.from=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.SignalEvent=o},94017:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechToTextEvent=void 0;var o=function(e){function t(t,n,r,o,i,a){var s=e.call(this,!1,t,"speechToTextMessage")||this;return s.connection=n,s.text=r,s.reason=o,s.raw=i,s.lang=a,s}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.SpeechToTextEvent=o},11193:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamEvent=void 0;var o=n(20153),i=n(81898),a=n(27138),s=n(41472).OpenViduLogger.getInstance(),l=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.stream=o,a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){if("streamDestroyed"===this.type){if(this.target instanceof a.Session)s.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof i.Publisher){s.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var e=this.target.openvidu.publishers,t=0;t<e.length;t++)if(e[t]===this.target){e.splice(t,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var n=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(n&&n.remoteOptions){var r=n.remoteOptions.streams;for(t=r.length-1;t>=0;--t)r[t].id===this.stream.streamId&&r.splice(t,1)}}},t}(o.Event);t.StreamEvent=l},28240:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManagerEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,t,n)||this;return o.value=r,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.StreamManagerEvent=o},41452:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamPropertyChangedEvent=void 0;var o=function(e){function t(t,n,r,o,i,a){var s=e.call(this,!1,t,"streamPropertyChanged")||this;return s.stream=n,s.changedProperty=r,s.newValue=o,s.oldValue=i,s.reason=a,s}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.StreamPropertyChangedEvent=o},72174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53722:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VideoElementEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,n,r)||this;return o.element=t,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(20153).Event);t.VideoElementEvent=o},32837:e=>{function t(){var e={};this.forEach=function(t){for(var n in e){var r=e[n];for(var o in r)t(r[o])}},this.get=function(t,n){var r=e[n];if(void 0!=r)return r[t]},this.remove=function(t,n){var r=e[n];if(void 0!=r){for(var o in delete r[t],r)return!1;delete e[n]}},this.set=function(t,n,r){if(void 0==t)return this.remove(n,r);var o=e[r];void 0==o&&(e[r]=o={}),o[n]=t}}t.prototype.pop=function(e,t){var n=this.get(e,t);if(void 0!=n)return this.remove(e,t),n},e.exports=t},96045:(e,t,n)=>{var r=n(18291);t.JsonRpcClient=r},18291:(e,t,n)=>{var r=n(81682),o=n(43158),i=n(41472).OpenViduLogger;Date.now=Date.now||function(){return+new Date};var a="RECONNECTING",s="CONNECTED",l="DISCONNECTED",u=i.getInstance();e.exports=function(e){var t,n=this,i=e.ws,c=-1,d=0,p=!0,h=!1,f=l,m=i.onreconnecting,g=i.onreconnected,y=i.onconnected,v=i.onerror;e.rpc.pull=function(e,t){t.reply(null,"push")},i.onreconnecting=function(){u.debug("--------- ONRECONNECTING -----------"),f!==a?(k(),f=a,m&&m()):u.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it")},i.onreconnected=function(){u.debug("--------- ONRECONNECTED -----------"),f!==s?(f=s,A(),g&&g()):u.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it")},i.onconnected=function(){u.debug("--------- ONCONNECTED -----------"),f!==s?(f=s,p=!0,C(),y&&y()):u.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it")},i.onerror=function(e){u.debug("--------- ONERROR -----------"),f=l,k(),v&&v(e)};var b=new o(i);u.debug("Connecting websocket to URI: "+i.uri);var x={request_timeout:e.rpc.requestTimeout,ping_request_timeout:e.rpc.heartbeatRequestTimeout},w=new r(r.packers.JsonRPC,x,b,(function(t){u.debug("Received request: "+JSON.stringify(t));try{var n=e.rpc[t.method];void 0===n?u.error("Method "+t.method+" not registered in client"):n(t.params,t)}catch(r){u.error("Exception processing request: "+JSON.stringify(t)),u.error(r)}}));function A(){u.debug("notReconnectIfNumLessThan = "+d+" (old="+c+")"),c=d}function S(){if(p){var t=null;0!=d&&d!=c||(t={interval:e.heartbeat||5e3}),d++,n.send("ping",t,(r=d,function(e,t){e&&(u.debug("Error in ping request #"+r+" ("+e.message+")"),r>c&&(p=!1,A(),u.debug("Server did not respond to ping message #"+r+". Reconnecting... "),b.reconnectWs()))}))}else u.debug("Trying to send ping, but ping is not enabled");var r}function C(){h||(u.debug("Starting ping (if configured)"),h=!0,void 0!=e.heartbeat&&(t=setInterval(S,e.heartbeat),S()))}function k(){clearInterval(t),h=!1,p=!1,d=-1,w.cancel()}this.send=function(e,t,n){var r=Date.now();w.encode(e,t,(function(o,i){if(o){try{u.error("ERROR:"+o.message+" in Request: method:"+e+" params:"+JSON.stringify(t)+" request:"+o.request),o.data&&u.error("ERROR DATA:"+JSON.stringify(o.data))}catch(a){}o.requestTime=r}n&&(void 0!=i&&"pong"!==i.value&&u.debug("Response: "+JSON.stringify(i)),n(o,i))}))},this.close=function(e,n){u.debug("Closing  with code: "+e+" because: "+n),void 0!=t&&(u.debug("Clearing ping interval"),clearInterval(t)),h=!1,p=!1,b.close(e,n)},this.reconnect=function(){b.reconnectWs()},this.resetPing=function(){p=!0,d=0,C()},this.getReadyState=function(){return b.getReadyState()}}},25960:(e,t,n)=>{var r=n(43158);t.WebSocketWithReconnection=r},43158:(e,t,n)=>{"use strict";var r=n(41472).OpenViduLogger.getInstance();e.exports=function(e){var t,n=!1,o=e.uri,i=!1,a=new WebSocket(o);a.onopen=function(){r.debug("WebSocket connected to "+o),e.onconnected&&e.onconnected()},a.onerror=function(t){r.error("Could not connect to "+o+" (invoking onerror if defined)",t),e.onerror&&e.onerror(t)};var s=function(){3===a.readyState?n?r.debug("Connection closed by user"):e.ismasternodecrashed()?r.error("Master Node has crashed. Stopping reconnection process"):(r.debug("Connection closed unexpectedly. Reconnecting..."),l(2e3,1)):r.debug("Close callback from previous websocket. Ignoring it")};function l(n,u){if(r.debug("reconnect (attempt #"+u+", max="+n+")"),1===u){if(i)return void r.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");i=!0,e.onreconnecting&&e.onreconnecting()}!function(n,u){r.debug("Reconnection attempt #"+u),a.close(4104,"Connection closed for reconnection"),o=function(e){var t=new URLSearchParams(new URL(e).search);t.has("reconnect")||(e=Array.from(t).length>0?e+"&reconnect=true":e+"?reconnect=true");return e}(o),(a=new WebSocket(o)).onopen=function(){r.debug("Reconnected to "+o+" after "+u+" attempts..."),i=!1,t(),e.onreconnected&&e.onreconnected(),a.onclose=s},a.onerror=function(t){r.warn("Reconnection error: ",t),u===n?e.ondisconnect&&e.ondisconnect():setTimeout((function(){l(n,u+1)}),3e3)}}(n,u)}a.onclose=s,this.close=function(e,t){n=!0,a.close(e,t)},this.reconnectWs=function(){r.debug("reconnectWs"),l(2e3,1)},this.send=function(e){a.send(e)},this.addEventListener=function(e,n){(t=function(){a.addEventListener(e,n)})()},this.getReadyState=function(){return a.readyState}}},81682:(e,t,n)=>{var r=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch(f){r=!0}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o});var o=n(27284).EventEmitter,i=n(56329),a=n(38306),s=n(32837),l=5e3;function u(e){if(e){if(e instanceof Function)return{send:e};if(e.send instanceof Function)return e;if(e.postMessage instanceof Function)return e.send=e.postMessage,e;if(e.write instanceof Function)return e.send=e.write,e;if(void 0===e.onmessage&&!(e.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function c(e,t){r?(this.method=e,this.params=t):(Object.defineProperty(this,"method",{value:e,enumerable:!0}),Object.defineProperty(this,"params",{value:t,enumerable:!0}))}function d(e,t,n,a){var d=this;if(!e)throw new SyntaxError("Packer is not defined");if(!e.pack||!e.unpack)throw new SyntaxError("Packer is invalid");var p=function(e){if(!e)return{};for(var t in e){var n=e[t];"string"==typeof n&&(e[t]={response:n})}return e}(e.responseMethods);if(t instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after onRequest");a=t,n=void 0,t=void 0}if(t&&t.send instanceof Function){if(n&&!(n instanceof Function))throw new SyntaxError("Only a function can be after transport");a=n,n=t,t=void 0}if(n instanceof Function){if(void 0!=a)throw new SyntaxError("There can't be parameters after onRequest");a=n,n=void 0}if(n&&n.send instanceof Function&&a&&!(a instanceof Function))throw new SyntaxError("Only a function can be after transport");t=t||{},o.call(this),a&&this.on("request",a),r?this.peerID=t.peerID:Object.defineProperty(this,"peerID",{value:t.peerID});var h=t.max_retries||0;function m(e){d.decode(e.data||e)}this.getTransport=function(){return n},this.setTransport=function(e){n&&(n.removeEventListener?n.removeEventListener("message",m):n.removeListener&&n.removeListener("data",m)),e&&(e.addEventListener?e.addEventListener("message",m):e.addListener&&e.addListener("data",m)),n=u(e)},r||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(n);var g=t.request_timeout||l,y=t.ping_request_timeout||g,v=t.response_timeout||l,b=t.duplicates_timeout||l,x=0,w=new s,A=new s,S=new s,C={};function k(e,t){var n=setTimeout((function(){S.remove(e,t)}),b);S.set(n,e,t)}function E(t,n,o,i,a){c.call(this,t,n),this.getTransport=function(){return a},this.setTransport=function(e){a=u(e)},r||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var s=A.get(o,i);a||d.getTransport()||(r?this.duplicated=Boolean(s):Object.defineProperty(this,"duplicated",{value:Boolean(s)}));var l=p[t];this.pack=e.pack.bind(e,this,o),this.reply=function(t,n,r){if(t instanceof Function||t&&t.send instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after callback");r=t,n=null,t=void 0}else if(n instanceof Function||n&&n.send instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after callback");r=n,n=null}var a;if(r=u(r),s&&clearTimeout(s.timeout),void 0!=i&&(t&&(t.dest=i),n&&(n.dest=i)),t||void 0!=n){if(void 0!=d.peerID&&(t?t.from=d.peerID:n.from=d.peerID),l)if(void 0==l.error&&t)a={error:t};else a={method:t?l.error:l.response,params:t||n};else a={error:t,result:n};a=e.pack(a,o)}else a=s?s.message:e.pack({result:null},o);return function(e,t,n){var r={message:e,timeout:setTimeout((function(){A.remove(t,n)}),v)};A.set(r,t,n)}(a,o,i),(r=r||this.getTransport()||d.getTransport())?r.send(a):a}}function T(e){var t=C[e];if(t){delete C[e];var n=w.pop(t.id,t.dest);n&&(clearTimeout(n.timeout),k(t.id,t.dest))}}i(E,c),this.cancel=function(e){if(e)return T(e);for(var e in C)T(e)},this.close=function(){var e=this.getTransport();e&&e.close&&e.close(4003,"Cancel request"),this.cancel(),S.forEach(clearTimeout),A.forEach((function(e){clearTimeout(e.timeout)}))},this.encode=function(t,n,r,o,i){if(n instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after callback");i=n,o=void 0,r=void 0,n=void 0}else if(r instanceof Function){if(void 0!=o)throw new SyntaxError("There can't be parameters after callback");i=r,o=void 0,r=void 0}else if(o instanceof Function){if(void 0!=i)throw new SyntaxError("There can't be parameters after callback");i=o,o=void 0}void 0!=d.peerID&&((n=n||{}).from=d.peerID),void 0!=r&&((n=n||{}).dest=r);var a={method:t,params:n};if(i){var s=x++,l=0;function c(e,t){d.cancel(a),i(e,t)}var f={message:a=e.pack(a,s),callback:c,responseMethods:p[t]||{}},m=u(o);function v(e){var n="ping"===t?y:g;return f.timeout=setTimeout(A,n*Math.pow(2,l++)),C[a]={id:s,dest:r},w.set(f,s,r),(e=e||m||d.getTransport())?e.send(a):a}function b(e){e=u(e),console.warn(l+" retry for request message:",a);var t=S.pop(s,r);return clearTimeout(t),v(e)}function A(){if(l<h)return b(o);var e=new Error("Request has timed out");e.request=a,e.retry=b,c(e)}return v(o)}return a=e.pack(a),(o=o||this.getTransport())?o.send(a):a},this.decode=function(t,n){if(!t)throw new TypeError("Message is not defined");try{t=e.unpack(t)}catch(f){return console.debug(f,t)}var r=t.id,o=t.ack,i=t.method,a=t.params||{},s=a.from,l=a.dest;if(void 0==d.peerID||s!=d.peerID){if(void 0==r&&void 0==o){var p=new c(i,a);if(d.emit("request",p))return;return p}if(i){if(void 0==l||l==d.peerID){if(y=w.get(o,s)){var h=y.responseMethods;return i==h.error?x(y,a):i==h.response?x(y,null,a):b()}if(v=S.get(o,s))return C(v)}return b()}var m=t.error,g=t.result;if((!m||!m.dest||m.dest==d.peerID)&&(!g||!g.dest||g.dest==d.peerID)){var y,v;if(!(y=w.get(o,s)))return(v=S.get(o,s))?C(v):console.warn("No callback was defined for this message",t);x(y,m,g)}}function b(){if(n=u(n)||d.getTransport()){var e=A.get(r,s);if(e)return n.send(e.message)}var t=new E(i,a,void 0!=r?r:o,s,n);if(!d.emit("request",t))return t}function x(e,t,n){e.callback(t,n)}function C(e){console.warn("Response already processed",t),clearTimeout(e),k(o,s)}}}i(d,o),d.RpcNotification=c,e.exports=d;var p=n(96045),h=n(25960);d.clients=p,d.clients.transports=h,d.packers=a},5023:(e,t)=>{t.pack=function(e,t){var n={jsonrpc:"2.0"};if(e.method)n.method=e.method,e.params&&(n.params=e.params),void 0!=t&&(n.id=t);else if(void 0!=t){if(e.error){if(void 0!==e.result)throw new TypeError("Both result and error are defined");n.error=e.error}else{if(void 0===e.result)throw new TypeError("No result or error is defined");n.result=e.result}n.id=t}return JSON.stringify(n)},t.unpack=function(e){var t=e;("string"===typeof e||e instanceof String)&&(t=JSON.parse(e));var n=t.jsonrpc;if("2.0"!==n)throw new TypeError("Invalid JsonRPC version '"+n+"': "+e);if(void 0==t.method){if(void 0==t.id)throw new TypeError("Invalid message: "+e);var r=void 0!==t.result,o=void 0!==t.error;if(r&&o)throw new TypeError("Both result and error are defined: "+e);if(!r&&!o)throw new TypeError("No result or error is defined: "+e);t.ack=t.id,delete t.id}return t}},3792:(e,t)=>{t.pack=function(e){throw new TypeError("Not yet implemented")},t.unpack=function(e){throw new TypeError("Not yet implemented")}},38306:(e,t,n)=>{var r=n(5023),o=n(3792);t.JsonRPC=r,t.XmlRPC=o},72637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;var n=function(e){this.logger=e,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error};t.ConsoleLogger=n},41472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLogger=void 0;var r=n(18988),o=n(72637),i=n(16176),a=function(){function e(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new o.ConsoleLogger(globalThis.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return e.configureJSNLog=function(e,t){var n=this;try{if(globalThis.LOG_JSNLOG_RESULTS||this.instance&&e.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(e)&&this.instance.canConfigureJSNLog(e,this.instance)){e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var o=e.finalUserId,a=e.session.sessionId;this.instance.currentAppender=r.JL.createAjaxAppender("appender-".concat(o,"-").concat(a)),this.instance.currentAppender.setOptions({beforeSend:function(e){var r=e.onreadystatechange;e.onreadystatechange=function(){n.isInvalidResponse(e)&&(Object.defineProperty(e,"readyState",{value:4}),Object.defineProperty(e,"status",{value:200}),n.instance.disableLogger()),r()},e.setRequestHeader("Authorization","Basic "+btoa("".concat(o,"%/%").concat(a)+":"+t)),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("OV-Final-User-Id",o),e.setRequestHeader("OV-Session-Id",a),e.setRequestHeader("OV-Token",t)},maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});r.JL.setOptions({defaultAjaxUrl:e.httpUri+this.instance.JSNLOG_URL,serialize:function(e){var t=JSON.stringify(e,function(){var e=new WeakSet;return function(t,n){if("object"===typeof n&&null!=n){if(e.has(n)||globalThis.HTMLElement&&n instanceof HTMLElement)return;e.add(n)}return n}}());return t.length>n.instance.MAX_LENGTH_STRING_JSON&&(t="".concat(t.substring(0,n.instance.MAX_LENGTH_STRING_JSON),"...")),globalThis.LOG_JSNLOG_RESULTS&&console.log(t),t},enabled:!0}),(0,r.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=a,this.instance.info("JSNLog configured.")}}catch(s){console.error("Error configuring JSNLog: "),console.error(s),this.instance.disableLogger()}},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.isInvalidResponse=function(e){return 401==e.status||403==e.status||404==e.status||0==e.status},e.prototype.canConfigureJSNLog=function(e,t){return e.session.sessionId!=t.loggingSessionId},e.prototype.isOpenViduBrowserLogsDebugActive=function(e){return e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug||e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug_app},e.prototype.getConsoleWithJSNLog=function(){return e=this,{log:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.log.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().info(arguments)},info:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.info.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().info(arguments)},debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.debug.apply(e.defaultConsoleLogger.logger,arguments)},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.warn.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().warn(arguments)},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.error.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().error(arguments)}};var e},e.prototype.replaceWindowConsole=function(){globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.getConsoleWithJSNLog().log,globalThis.console.info=this.getConsoleWithJSNLog().info,globalThis.console.debug=this.getConsoleWithJSNLog().debug,globalThis.console.warn=this.getConsoleWithJSNLog().warn,globalThis.console.error=this.getConsoleWithJSNLog().error},e.prototype.disableLogger=function(){r.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.defaultConsoleLogger.log,globalThis.console.info=this.defaultConsoleLogger.info,globalThis.console.debug=this.defaultConsoleLogger.debug,globalThis.console.warn=this.defaultConsoleLogger.warn,globalThis.console.error=this.defaultConsoleLogger.error},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().info(arguments)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().info(arguments)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().warn(arguments)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().error(arguments)},e.prototype.flush=function(){this.isJSNLogSetup&&null!=this.currentAppender&&this.currentAppender.sendBatch()},e.prototype.enableProdMode=function(){this.isProdMode=!0},e}();t.OpenViduLogger=a},16176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLoggerConfiguration=void 0,function(e){e.disabled="disabled",e.debug="debug",e.debug_app="debug_app"}(t.OpenViduLoggerConfiguration||(t.OpenViduLoggerConfiguration={}))},43056:(e,t)=>{function n(e,t,n){var r={audio:!1,video:{mandatory:{chromeMediaSource:e?"screen":"desktop",maxWidth:globalThis.screen.width>1920?globalThis.screen.width:1920,maxHeight:globalThis.screen.height>1080?globalThis.screen.height:1080},optional:[]}};return n&&(r.audio={mandatory:{chromeMediaSource:e?"screen":"desktop"},optional:[]}),t&&(r.video.mandatory.chromeMediaSourceId=t,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=t)),r}function r(e){o?o.isLoaded?e?e.forEach?o.contentWindow.postMessage({captureCustomSourceId:e},"*"):o.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):o.contentWindow.postMessage({captureSourceId:!0},"*"):setTimeout((function(){r(e)}),100):i((function(){r(e)}))}var o;function i(e){o?e():((o=document.createElement("iframe")).onload=function(){o.isLoaded=!0,e()},o.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",o.style.display="none",(document.body||document.documentElement).appendChild(o))}function a(){o?o.isLoaded?o.contentWindow.postMessage({getChromeExtensionStatus:!0},"*"):setTimeout(a,100):i(a)}globalThis.getScreenId=function(e,t,o){-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob?navigator.mozGetUserMedia?t(null,"firefox",{video:{mozMediaSource:e,mediaSource:e}}):(globalThis.addEventListener("message",(function e(r){if(!r.data)return;r.data.chromeMediaSourceId&&("PermissionDeniedError"===r.data.chromeMediaSourceId?t("permission-denied"):t(null,r.data.chromeMediaSourceId,n(null,r.data.chromeMediaSourceId,r.data.canRequestAudioTrack)),globalThis.removeEventListener("message",e));r.data.chromeExtensionStatus&&(t(r.data.chromeExtensionStatus,null,n(r.data.chromeExtensionStatus)),globalThis.removeEventListener("message",e))})),o?setTimeout((function(){r(o)}),100):setTimeout(r,100)):t({video:!0})},globalThis.getScreenConstraints=function(e){i((function(){getScreenId((function(t,n,r){r||(r={video:!0}),e(t,r.video)}))}))},globalThis.getChromeExtensionStatus=function(e){navigator.mozGetUserMedia?e("installed-enabled"):(globalThis.addEventListener("message",(function t(n){if(!n.data)return;n.data.chromeExtensionStatus&&(e(n.data.chromeExtensionStatus),globalThis.removeEventListener("message",t))})),setTimeout(a,100))},t.getScreenId=globalThis.getScreenId},43354:(e,t)=>{var n,r,o="screen";if("undefined"!==typeof window&&"undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent){var i="undefined"!==typeof window.InstallTrigger,a=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;window.chrome;window.addEventListener("message",(function(e){e.origin==window.location.origin&&function(e){if("PermissionDeniedError"==e){if(r)return r("PermissionDeniedError");throw new Error("PermissionDeniedError")}"rtcmulticonnection-extension-loaded"==e&&(o="desktop");e.sourceId&&r&&r(n=e.sourceId,!0===e.canRequestAudioTrack)}(e.data)}))}function s(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);r=e,window.postMessage("get-sourceId","*")}function l(e,t){n="";if(i)return e(null,{mozMediaSource:"window",mediaSource:"window"});var a={mandatory:{chromeMediaSource:o,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};"desktop"!=o||n?("desktop"==o&&(a.mandatory.chromeMediaSourceId=n),e(null,a)):t?function(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);r=e,window.postMessage("audio-plus-tab","*")}((function(t,n){a.mandatory.chromeMediaSourceId=t,n&&(a.canRequestAudioTrack=!0),e("PermissionDeniedError"==t?t:null,a)})):s((function(t){a.mandatory.chromeMediaSourceId=t,e("PermissionDeniedError"==t?t:null,a)}))}t.getScreenConstraints=l,t.getScreenConstraintsWithAudio=function(e){l(e,!0)},t.isChromeExtensionAvailable=function(e){if(e){if("desktop"==o)return e(!0);window.postMessage("are-you-there","*"),setTimeout((function(){e("screen"!=o)}),2e3)}},t.getChromeExtensionStatus=function(e,t){if(i)return t("not-chrome");2!=arguments.length&&(t=e,e="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+e+"/icon.png",n.onload=function(){o="screen",window.postMessage("are-you-there","*"),setTimeout((function(){t("screen"==o?"installed-disabled":"installed-enabled")}),2e3)},n.onerror=function(){t("not-installed")}},t.getSourceId=s},6478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformUtils=void 0;var r=n(77652),o=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),e.instance},e.prototype.isChromeBrowser=function(){return"Chrome"===r.name},e.prototype.isSafariBrowser=function(){return"Safari"===r.name},e.prototype.isChromeMobileBrowser=function(){return"Chrome Mobile"===r.name},e.prototype.isFirefoxBrowser=function(){return"Firefox"===r.name},e.prototype.isFirefoxMobileBrowser=function(){return"Firefox Mobile"===r.name||"Firefox for iOS"===r.name},e.prototype.isOperaBrowser=function(){return"Opera"===r.name},e.prototype.isOperaMobileBrowser=function(){return"Opera Mobile"===r.name},e.prototype.isEdgeBrowser=function(){var e=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return"Microsoft Edge"===r.name&&e>=80},e.prototype.isEdgeMobileBrowser=function(){var e,t,n=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return"Microsoft Edge"===r.name&&("Android"===(null===(e=r.os)||void 0===e?void 0:e.family)||"iOS"===(null===(t=r.os)||void 0===t?void 0:t.family))&&n>45},e.prototype.isAndroidBrowser=function(){return"Android Browser"===r.name},e.prototype.isElectron=function(){return"Electron"===r.name},e.prototype.isNodeJs=function(){return"Node.js"===r.name},e.prototype.isSamsungBrowser=function(){return"Samsung Internet Mobile"===r.name||"Samsung Internet"===r.name},e.prototype.isMotorolaEdgeDevice=function(){var e;return(null===(e=r.product)||void 0===e?void 0:e.toLowerCase().includes("motorola edge"))||!1},e.prototype.isIPhoneOrIPad=function(){var e=r.ua?r.ua:navigator.userAgent,t="ontouchend"in document,n=/\b(\w*Macintosh\w*)\b/.test(e)&&t,o=/\b(\w*iPhone\w*)\b/.test(e)&&/\b(\w*Mobile\w*)\b/.test(e)&&t;return n||o},e.prototype.isIOSWithSafari=function(){var e=r.ua?r.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(e)&&!/\b(\w*CriOS\w*)\b/.test(e)&&!/\b(\w*FxiOS\w*)\b/.test(e)},e.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&-1===r.ua.indexOf("Safari")},e.prototype.isIonicAndroid=function(){return"Android"===r.os.family&&"Android Browser"==r.name},e.prototype.isMobileDevice=function(){return"iOS"===r.os.family||"Android"===r.os.family},e.prototype.isReactNative=function(){return!1},e.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()||this.isMotorolaEdgeDevice()},e.prototype.canScreenShare=function(){var e=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return!this.isMobileDevice()&&(this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&e>=13)},e.prototype.getName=function(){return r.name||""},e.prototype.getVersion=function(){return r.version||""},e.prototype.getFamily=function(){return r.os.family||""},e.prototype.getDescription=function(){return r.description||""},e}();t.PlatformUtils=o},55524:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcPeerSendrecv=t.WebRtcPeerSendonly=t.WebRtcPeerRecvonly=t.WebRtcPeer=void 0;var s=n(9477),l=n(87726),u=n(59906),c=n(41472),d=n(6478),p=c.OpenViduLogger.getInstance(),h=function(){function e(e){var t=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],d.PlatformUtils.getInstance(),this.configuration=o(o({},e),{iceServers:e.iceServers&&e.iceServers.length>0?e.iceServers:s(),rtcConfiguration:void 0!==e.rtcConfiguration?e.rtcConfiguration:{},mediaStream:void 0!==e.mediaStream?e.mediaStream:null,mode:e.mode?e.mode:"sendrecv",id:e.id?e.id:this.generateUniqueId()}),p.debug("[WebRtcPeer] configuration:\n".concat(JSON.stringify(this.configuration,null,2)));var n=this.configuration.rtcConfiguration?this.configuration.rtcConfiguration:{iceServers:this.configuration.iceServers};!n.iceServers&&this.configuration.iceServers&&(n.iceServers=this.configuration.iceServers),this.pc=new RTCPeerConnection(n),this.pc.addEventListener("icecandidate",(function(e){if(null!==e.candidate){var n=e.candidate,r=new RTCIceCandidate(n);t.configuration.onIceCandidate(r),""!==r.candidate&&t.localCandidatesQueue.push(r)}})),this.pc.addEventListener("signalingstatechange",(function(){return i(t,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:if("stable"!==this.pc.signalingState)return[3,6];n.label=1;case 1:if(!(this.iceCandidateList.length>0))return[3,6];e=this.iceCandidateList.shift(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.pc.addIceCandidate(e)];case 3:return n.sent(),[3,5];case 4:return t=n.sent(),p.error("Error when calling RTCPeerConnection#addIceCandidate for RTCPeerConnection "+this.getId(),t),[3,5];case 5:return[3,1];case 6:return[2]}}))}))}))}return e.prototype.getId=function(){return this.configuration.id},e.prototype.dispose=function(){if(p.debug("Disposing WebRtcPeer"),this.pc){if("closed"===this.pc.signalingState)return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},e.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var e=this.configuration.mediaConstraints.audio,t=this.configuration.mediaConstraints.video,n={offerToReceiveAudio:"sendonly"!==this.configuration.mode&&e,offerToReceiveVideo:"sendonly"!==this.configuration.mode&&t};return p.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(n)),this.pc.createOffer(n)},e.prototype.createOffer=function(){var e,t,n,r,o,s,l,u;return i(this,void 0,void 0,(function(){var i,c,d,h,f,m,g,y,v,b,x,w,A,S,C,k,E,T,I,O,R,N,_;return a(this,(function(a){switch(a.label){case 0:if(!("addTransceiver"in this.pc))return p.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(p.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it"),"recvonly"===this.configuration.mode)return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));i=0,c=this.configuration.mediaStream.getTracks(),a.label=1;case 1:if(!(i<c.length))return[3,6];if(d=c[i],h={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},"video"===d.kind&&this.configuration.simulcast)for(f=d.getSettings(),m=d.getConstraints(),g=null!==(n=null!==(t=null!==(e=f.width)&&void 0!==e?e:m.width.ideal)&&void 0!==t?t:m.width)&&void 0!==n?n:0,y=null!==(s=null!==(o=null!==(r=f.height)&&void 0!==r?r:m.height.ideal)&&void 0!==o?o:m.height)&&void 0!==s?s:0,p.info("[createOffer] Video track dimensions: ".concat(g,"x").concat(y)),b=0,b=(v=g*y)>=518400?3:v>=129600?2:1,h.sendEncodings=[],x=0;x<b;x++)w=Math.pow(2,b-x-1),A={rid:"rdiv"+w.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(d.contentHint)?(A.scaleResolutionDownBy=1,A.maxFramerate=Math.floor(30/w)):A.scaleResolutionDownBy=w,h.sendEncodings.push(A);if(S=this.pc.addTransceiver(d,h),"video"!==d.kind)return[3,5];if(C=S.sender.getParameters(),k=!1,(null===(l=C.degradationPreference)||void 0===l?void 0:l.length)||(["detail","text"].includes(d.contentHint)?C.degradationPreference="maintain-resolution":C.degradationPreference="balanced",p.info("[createOffer] Video sender Degradation Preference set: ".concat(C.degradationPreference)),k=!0),this.configuration.simulcast&&(null===(u=C.encodings)||void 0===u?void 0:u.length)!==h.sendEncodings.length&&(C.encodings=h.sendEncodings,k=!0),!k)return[3,5];p.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,S.sender.setParameters(C)];case 3:return a.sent(),[3,5];case 4:throw E=a.sent(),_="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",E instanceof Error&&(_+=": ".concat(E.message)),new Error(_);case 5:return i++,[3,1];case 6:return[3,8];case 7:for(T=0,I=["audio","video"];T<I.length;T++)O=I[T],this.configuration.mediaConstraints[O]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver(O,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));a.label=8;case 8:return a.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return R=a.sent(),[3,11];case 10:throw N=a.sent(),_="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",N instanceof Error&&(_+=": ".concat(N.message)),new Error(_);case 11:return[2,R]}}))}))},e.prototype.deprecatedPeerConnectionTrackApi=function(){for(var e=0,t=this.configuration.mediaStream.getTracks();e<t.length;e++){var n=t[e];this.pc.addTrack(n,this.configuration.mediaStream)}},e.prototype.createAnswer=function(){var e=this;return new Promise((function(t,n){if("getTransceivers"in e.pc){p.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var r=function(t){if(!e.configuration.mediaConstraints[t])return"continue";var r=e.pc.getTransceivers().find((function(e){return e.receiver.track.kind===t}));if(!r)return{value:n(new Error("".concat(t," requested, but no transceiver was created from remote description")))};r.direction=e.configuration.mode},o=0,i=["audio","video"];o<i.length;o++){var a=r(i[o]);if("object"===typeof a)return a.value}e.pc.createAnswer().then((function(e){return t(e)})).catch((function(e){return n(e)}))}else{if(e.configuration.mediaConstraints){var s={offerToReceiveAudio:"boolean"!==typeof e.configuration.mediaConstraints.audio||e.configuration.mediaConstraints.audio,offerToReceiveVideo:"boolean"!==typeof e.configuration.mediaConstraints.video||e.configuration.mediaConstraints.video};e.pc.createAnswer(s).then((function(e){return t(e)})).catch((function(e){return n(e)}))}}}))},e.prototype.processLocalOffer=function(e){var t=this;return new Promise((function(n,r){t.pc.setLocalDescription(e).then((function(){var e=t.pc.localDescription;return e?(p.debug("Local description set",e.sdp),n()):r("Local description is not defined")})).catch((function(e){return r(e)}))}))},e.prototype.processRemoteOffer=function(e){var t=this;return new Promise((function(n,r){var o={type:"offer",sdp:e};if(p.debug("SDP offer received, setting remote description",o),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set remote description");t.setRemoteDescription(o).then((function(){return n()})).catch((function(e){return r(e)}))}))},e.prototype.processLocalAnswer=function(e){var t=this;return new Promise((function(n,r){if(p.debug("SDP answer created, setting local description"),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set local description");t.pc.setLocalDescription(e).then((function(){return n()})).catch((function(e){return r(e)}))}))},e.prototype.processRemoteAnswer=function(e){var t=this;return new Promise((function(n,r){var o={type:"answer",sdp:e};if(p.debug("SDP answer received, setting remote description"),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set remote description");t.setRemoteDescription(o).then((function(){n()})).catch((function(e){return r(e)}))}))},e.prototype.setRemoteDescription=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.pc.setRemoteDescription(e)]}))}))},e.prototype.addIceCandidate=function(e){var t=this;return new Promise((function(n,r){switch(p.debug("Remote ICE candidate received",e),t.remoteCandidatesQueue.push(e),t.pc.signalingState){case"closed":r(new Error("PeerConnection object is closed"));break;case"stable":t.pc.remoteDescription?t.pc.addIceCandidate(e).then((function(){return n()})).catch((function(e){return r(e)})):(t.iceCandidateList.push(e),n());break;default:t.iceCandidateList.push(e),n()}}))},e.prototype.addIceConnectionStateChangeListener=function(e){var t=this;this.pc.addEventListener("iceconnectionstatechange",(function(){switch(t.pc.iceConnectionState){case"disconnected":var n="IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "disconnected". Possible network disconnection';p.warn(n),t.configuration.onIceConnectionStateException(u.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,n);break;case"failed":var r="IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') to "failed"';p.error(r),t.configuration.onIceConnectionStateException(u.ExceptionEventName.ICE_CONNECTION_FAILED,r);break;case"closed":p.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "closed"');break;case"new":p.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "new"');break;case"checking":p.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "checking"');break;case"connected":p.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "connected"');break;case"completed":p.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "completed"')}}))},e.prototype.generateUniqueId=function(){return(0,l.v4)()},e}();t.WebRtcPeer=h;var f=function(e){function t(t){return t.mode="recvonly",e.call(this,t)||this}return r(t,e),t}(h);t.WebRtcPeerRecvonly=f;var m=function(e){function t(t){return t.mode="sendonly",e.call(this,t)||this}return r(t,e),t}(h);t.WebRtcPeerSendonly=m;var g=function(e){function t(t){return t.mode="sendrecv",e.call(this,t)||this}return r(t,e),t}(h);t.WebRtcPeerSendrecv=g},56300:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcStats=void 0;var i,a=n(41472),s=n(6478),l=a.OpenViduLogger.getInstance(),u=function(){function e(e){this.stream=e,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,i=s.PlatformUtils.getInstance()}return e.prototype.isEnabled=function(){return this.webRtcStatsEnabled},e.prototype.initWebRtcStats=function(){var e,t=this;try{e=localStorage.getItem(this.STATS_ITEM_NAME)}catch(i){}if(e){this.webRtcStatsEnabled=!0;var n=JSON.parse(e);l.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),l.warn("localStorage item: "+JSON.stringify(n)),this.POST_URL=n.httpEndpoint,this.statsInterval=n.interval,this.webRtcStatsIntervalId=setInterval((function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return e.sent(),[2]}}))}))}),1e3*this.statsInterval)}else l.debug("WebRtc stats not enabled")},e.prototype.getSelectedIceCandidateInfo=function(){var e=this;return new Promise((function(t,n){return r(e,void 0,void 0,(function(){var e,n,r,a,s,l,u,c,d,p,h,f,m,g,y,v,b,x,w,A,S,C;return o(this,(function(o){switch(o.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(e=o.sent(),r=new Map,a=new Map,s=new Map,e.forEach((function(e){switch("transport"===e.type&&(i.isChromium()||i.isSafariBrowser()||i.isReactNative())&&(n=e),e.type){case"candidate-pair":r.set(e.id,e);break;case"local-candidate":a.set(e.id,e);break;case"remote-candidate":s.set(e.id,e)}})),null!=n)u=n.selectedCandidatePairId,l=r.get(u);else for(c=r.size,d=r.values(),p=0;p<c;p++)if((h=d.next().value).selected){l=h;break}if(f=l.localCandidateId,m=l.remoteCandidateId,g=a.get(f))for(x=this.stream.getLocalIceCandidateList(),w=x.filter((function(e){return!!e.candidate&&(e.candidate.indexOf(g.ip)>=0||e.candidate.indexOf(g.address)>=0)&&e.candidate.indexOf(g.port)>=0})),g.raw=[],y=0,v=w;y<v.length;y++)C=v[y],g.raw.push(C.candidate);else g="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(b=s.get(m))for(x=this.stream.getRemoteIceCandidateList(),w=x.filter((function(e){return!!e.candidate&&(e.candidate.indexOf(b.ip)>=0||e.candidate.indexOf(b.address)>=0)&&e.candidate.indexOf(b.port)>=0})),b.raw=[],A=0,S=w;A<S.length;A++)C=S[A],b.raw.push(C.candidate);else b="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,t({localCandidate:g,remoteCandidate:b})]}}))}))}))},e.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),l.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},e.prototype.sendStats=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={headers:{"Content-type":"application/json"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,n)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),l.error("sendStats error: ".concat(JSON.stringify(r))),[3,3];case 3:return[2]}}))}))},e.prototype.sendStatsToHttpEndpoint=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return e=r.sent(),t=this.generateJSONStatsResponse(e),[4,this.sendStats(this.POST_URL,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),l.log(n),[3,4];case 4:return[2]}}))}))},e.prototype.getCommonStats=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,new Promise((function(t,n){return r(e,void 0,void 0,(function(){var e,r,i,a,s,u=this;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return e=o.sent(),r=this.getWebRtcStatsResponseOutline(),i=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],a=["availableOutgoingBitrate","currentRoundTripTime"],e.forEach((function(e){var t=null!=e.mediaType?e.mediaType:e.kind,n=function(n,o){null!=e[o]&&null!=r[n]&&(!t&&i.indexOf(o)>-1&&(t="video"),null!=n&&null!=t&&null!=o&&null!=r[n][t]?r[n][t][o]=Number(e[o]):null!=n&&null!=o&&a.includes(o)&&(r[n][o]=Number(e[o])))};switch(e.type){case"outbound-rtp":n("outbound","bytesSent"),n("outbound","packetsSent"),n("outbound","framesEncoded"),n("outbound","nackCount"),n("outbound","firCount"),n("outbound","pliCount"),n("outbound","qpSum");break;case"inbound-rtp":n("inbound","bytesReceived"),n("inbound","packetsReceived"),n("inbound","packetsLost"),n("inbound","jitter"),n("inbound","framesDecoded"),n("inbound","nackCount"),n("inbound","firCount"),n("inbound","pliCount");break;case"track":n("inbound","jitterBufferDelay"),n("inbound","framesReceived"),n("outbound","framesDropped"),n("outbound","framesSent"),n(u.stream.isLocal()?"outbound":"inbound","frameHeight"),n(u.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":n("candidatepair","currentRoundTripTime"),n("candidatepair","availableOutgoingBitrate")}})),(null===r||void 0===r?void 0:r.candidatepair)&&0!==Object.keys(r.candidatepair).length||delete r.candidatepair,[2,t(r)];case 2:return s=o.sent(),l.error("Error getting common stats: ",s),[2,n(s)];case 3:return[2]}}))}))}))]}))}))},e.prototype.generateJSONStatsResponse=function(e){return{"@timestamp":(new Date).toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:i.getName(),platform_description:i.getDescription(),stream:"webRTC",webrtc_stats:e}},e.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},e}();t.WebRtcStats=u},60476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var r=n(46980),o=n(41472),i=n(59906),a=o.OpenViduLogger.getInstance(),s=function(){function e(e,t){this.session=e,this.disposed=!1;var n="'Connection' created ";t.role?(this.localOptions=t,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,n+="(local)"):(this.remoteOptions=t,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),n+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),a.info(n)}return e.prototype.sendIceCandidate=function(e){var t=this;this.disposed?a.warn("Connection ".concat(this.connectionId," disposed when trying to send an ICE candidate. ICE candidate not sent")):(a.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,e),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex},(function(e,n){e&&(a.error("Error sending ICE candidate: "+JSON.stringify(e)),t.session.emitEvent("exception",[new i.ExceptionEvent(t.session,i.ExceptionEventName.ICE_CANDIDATE_ERROR,t.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",e)]))})))},e.prototype.initRemoteStreams=function(e){var t=this;e.forEach((function(e){var n={id:e.id,createdAt:e.createdAt,connection:t,hasAudio:e.hasAudio,hasVideo:e.hasVideo,audioActive:e.audioActive,videoActive:e.videoActive,typeOfVideo:e.typeOfVideo,frameRate:e.frameRate,videoDimensions:e.videoDimensions?JSON.parse(e.videoDimensions):void 0,filter:e.filter?e.filter:void 0},o=new r.Stream(t.session,n);t.addStream(o)})),a.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},e.prototype.addStream=function(e){e.connection=this,this.stream=e},e.prototype.removeStream=function(){delete this.stream},e.prototype.dispose=function(){this.disposed=!0,this.removeStream()},e}();t.Connection=s},76855:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var r=n(41472),o=n(85865),i=r.OpenViduLogger.getInstance(),a=function(){function e(){this.userHandlerArrowHandler=new WeakMap,this.ee=new o}return e.prototype.onAux=function(e,t,n){var r=function(e){e?i.debug(t,e):i.debug(t),n(e)};return this.userHandlerArrowHandler.set(n,r),this.ee.on(e,r),this},e.prototype.onceAux=function(e,t,n){var r=this,o=function(e){e?i.debug(t,e):i.debug(t),n(e),r.userHandlerArrowHandler.delete(n)};return this.userHandlerArrowHandler.set(n,o),this.ee.once(e,o),this},e.prototype.offAux=function(e,t){if(t){var n=this.userHandlerArrowHandler.get(t);n&&this.ee.off(e,n),this.userHandlerArrowHandler.delete(t)}else this.ee.removeAllListeners(e);return this},e}();t.EventDispatcher=a},49090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=void 0;var r=n(41452),o=n(43306),i=n(41472).OpenViduLogger.getInstance(),a=function(){function e(e,t){this.handlers=new Map,this.type=e,this.options=t}return e.prototype.execMethod=function(e,t){var n=this;return new Promise((function(a,s){var l,u;i.info("Executing filter method to stream "+n.stream.streamId);var c=function(t){i.info("Filter method successfully executed on Stream "+n.stream.streamId);var o=Object.assign({},n.stream.filter);return n.stream.filter.lastExecMethod={method:e,params:u},t&&(n.stream.session.emitEvent("streamPropertyChanged",[new r.StreamPropertyChangedEvent(n.stream.session,n.stream,"filter",n.stream.filter,o,"execFilterMethod")]),n.stream.streamManager.emitEvent("streamPropertyChanged",[new r.StreamPropertyChangedEvent(n.stream.streamManager,n.stream,"filter",n.stream.filter,o,"execFilterMethod")])),a()};if(n.type.startsWith("VB:")){if("string"===typeof t)try{t=JSON.parse(t)}catch(h){return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+h))}if(u=t,"update"!==e)return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(e,'"')));if(!(null===(l=n.stream.virtualBackgroundSinkElements)||void 0===l?void 0:l.VB))return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));n.stream.virtualBackgroundSinkElements.VB.updateValues(t).then((function(){return c(!1)})).catch((function(e){return e.name===o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?s(new o.OpenViduError(e.name,e.message)):s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+e))}))}else{var d=void 0;if("string"!==typeof t)try{d=JSON.stringify(t)}catch(h){var p="'params' property must be a JSON formatted object";return i.error(p),s(p)}else d=t;u=d,n.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:n.stream.streamId,method:e,params:d},(function(e,t){return e?(i.error("Error executing filter method for Stream "+n.stream.streamId,e),401===e.code?s(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):s(e)):c(!0)}))}}))},e.prototype.addEventListener=function(e,t){var n=this;return new Promise((function(r,a){i.info("Adding filter event listener to event "+e+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:n.stream.streamId,eventType:e},(function(s,l){return s?(i.error("Error adding filter event listener to event "+e+"for Stream "+n.stream.streamId,s),401===s.code?a(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):a(s)):(n.handlers.set(e,t),i.info("Filter event listener to event "+e+" successfully applied on Stream "+n.stream.streamId),r())}))}))},e.prototype.removeEventListener=function(e){var t=this;return new Promise((function(n,r){i.info("Removing filter event listener to event "+e+" to stream "+t.stream.streamId),t.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:t.stream.streamId,eventType:e},(function(a,s){return a?(i.error("Error removing filter event listener to event "+e+"for Stream "+t.stream.streamId,a),401===a.code?r(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):r(a)):(t.handlers.delete(e),i.info("Filter event listener to event "+e+" successfully removed on Stream "+t.stream.streamId),n())}))}))},e}();t.Filter=a},66039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorder=void 0;var r,o=n(81014),i=n(41472),a=n(6478),s=n(50786),l=i.OpenViduLogger.getInstance(),u=function(){function e(e){this.stream=e,this.chunks=[],r=a.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=o.LocalRecorderState.READY}return e.prototype.record=function(e){var t=this;return new Promise((function(n,r){try{if("string"===typeof e||e instanceof String)return r("When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: \"".concat(e,'" }'));if("undefined"===typeof MediaRecorder)throw l.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(t.state!==o.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+t.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");l.log("Starting local recording of stream '"+t.stream.streamId+"' of connection '"+t.connectionId+"'"),e?e.mimeType||(e.mimeType="video/webm"):e={mimeType:"video/webm"},t.mediaRecorder=new MediaRecorder(t.stream.getMediaStream(),e),t.mediaRecorder.start()}catch(i){return r(i)}return t.mediaRecorder.ondataavailable=function(e){e.data.size>0&&t.chunks.push(e.data)},t.mediaRecorder.onerror=function(e){l.error("MediaRecorder error: ",e)},t.mediaRecorder.onstart=function(){l.log("MediaRecorder started (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onstop=function(){t.onStopDefault()},t.mediaRecorder.onpause=function(){l.log("MediaRecorder paused (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onresume=function(){l.log("MediaRecorder resumed (state="+t.mediaRecorder.state+")")},t.state=o.LocalRecorderState.RECORDING,n()}))},e.prototype.stop=function(){var e=this;return new Promise((function(t,n){try{if(e.state===o.LocalRecorderState.READY||e.state===o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' before");e.mediaRecorder.onstop=function(){return e.onStopDefault(),t()},e.mediaRecorder.stop()}catch(r){return n(r)}}))},e.prototype.pause=function(){var e=this;return new Promise((function(t,n){try{return e.state!==o.LocalRecorderState.RECORDING?n(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(e.mediaRecorder.pause(),e.state=o.LocalRecorderState.PAUSED,t())}catch(r){return n(r)}}))},e.prototype.resume=function(){var e=this;return new Promise((function(t,n){try{if(e.state!==o.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.pause()' before");return e.mediaRecorder.resume(),e.state=o.LocalRecorderState.RECORDING,t()}catch(r){return n(r)}}))},e.prototype.preview=function(e){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,r.isSafariBrowser()&&(this.videoPreview.playsInline=!0),"string"===typeof e){var t=document.getElementById(e);t&&(this.videoPreview=t.appendChild(this.videoPreview))}else this.videoPreview=e.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},e.prototype.clean=function(){var e=this,t=function(){delete e.blob,e.chunks=[],e.state=o.LocalRecorderState.READY};this.state===o.LocalRecorderState.RECORDING||this.state===o.LocalRecorderState.PAUSED?this.stop().then((function(){return t()})).catch((function(){return t()})):t()},e.prototype.download=function(){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var e=document.createElement("a");e.style.display="none",document.body.appendChild(e);var t=globalThis.URL.createObjectURL(this.blob);e.href=t,e.download=this.id+"."+s.getExtension(this.blob.type),e.click(),globalThis.URL.revokeObjectURL(t),document.body.removeChild(e)},e.prototype.getBlob=function(){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},e.prototype.uploadAsBinary=function(e,t){var n=this;return new Promise((function(r,i){if(n.state!==o.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));var a=new XMLHttpRequest;if(a.open("POST",e,!0),"object"===typeof t)for(var s=0,l=Object.keys(t);s<l.length;s++){var u=l[s];a.setRequestHeader(u,t[u])}a.onreadystatechange=function(){if(4===a.readyState)return"2"===a.status.toString().charAt(0)?r(a.responseText):i(a.status)},a.send(n.blob)}))},e.prototype.uploadAsMultipartfile=function(e,t){var n=this;return new Promise((function(r,i){if(n.state!==o.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));var a=new XMLHttpRequest;if(a.open("POST",e,!0),"object"===typeof t)for(var l=0,u=Object.keys(t);l<u.length;l++){var c=u[l];a.setRequestHeader(c,t[c])}var d=new FormData;d.append("file",n.blob,n.id+"."+s.getExtension(n.blob.type)),a.onreadystatechange=function(){if(4===a.readyState)return"2"===a.status.toString().charAt(0)?r(a.responseText):i(a.status)},a.send(d)}))},e.prototype.onStopDefault=function(){l.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=globalThis.URL.createObjectURL(this.blob),this.state=o.LocalRecorderState.FINISHED},e}();t.LocalRecorder=u},58646:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenVidu=void 0;var i,a=n(66039),s=n(81898),l=n(27138),u=n(50120),c=n(41452),d=n(43306),p=n(75907),h=n(41472),f=n(6478),m=n(43056),g=n(43354),y=n(16176),v=n(85865),b=n(81682),x=n(5393),w=h.OpenViduLogger.getInstance(),A=function(){function e(){var e=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.stt=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=y.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new v,i=f.PlatformUtils.getInstance(),this.libraryVersion=x.version,w.info("OpenVidu initialized"),w.info("Platform detected: "+i.getDescription()),w.info("openvidu-browser version: "+this.libraryVersion),(i.isMobileDevice()||i.isReactNative())&&this.onOrientationChanged((function(){e.publishers.forEach((function(t){t.stream.isLocalStreamPublished&&t.stream&&t.stream.hasVideo&&e.sendNewVideoDimensionsIfRequired(t,"deviceRotated",75,10)}))}))}return e.prototype.initSession=function(){return this.session=new l.Session(this),this.session},e.prototype.initPublisher=function(e,t,n){var r;r=t&&"function"!==typeof t?{audioSource:"undefined"!==typeof(r=t).audioSource?r.audioSource:void 0,frameRate:"undefined"!==typeof MediaStreamTrack&&r.videoSource instanceof MediaStreamTrack?void 0:"undefined"!==typeof r.frameRate?r.frameRate:void 0,insertMode:"undefined"!==typeof r.insertMode?"string"===typeof r.insertMode?p.VideoInsertMode[r.insertMode]:r.insertMode:p.VideoInsertMode.APPEND,mirror:"undefined"===typeof r.mirror||r.mirror,publishAudio:"undefined"===typeof r.publishAudio||r.publishAudio,publishVideo:"undefined"===typeof r.publishVideo||r.publishVideo,resolution:"undefined"!==typeof MediaStreamTrack&&r.videoSource instanceof MediaStreamTrack?void 0:"undefined"!==typeof r.resolution?r.resolution:"640x480",videoSource:"undefined"!==typeof r.videoSource?r.videoSource:void 0,videoSimulcast:r.videoSimulcast,filter:r.filter}:{insertMode:p.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var o,i=new s.Publisher(e,r,this);return t&&"function"===typeof t?o=t:n&&(o=n),i.initialize().then((function(){void 0!==o&&o(void 0),i.emitEvent("accessAllowed",[])})).catch((function(e){void 0!==o&&o(e),i.emitEvent("accessDenied",[e])})),this.publishers.push(i),i},e.prototype.initPublisherAsync=function(e,t){var n=this;return new Promise((function(r,o){var i,a=function(e){return e?o(e):r(i)};i=t?n.initPublisher(e,t,a):n.initPublisher(e,a)}))},e.prototype.initLocalRecorder=function(e){return new a.LocalRecorder(e)},e.prototype.checkSystemRequirements=function(){return i.isIPhoneOrIPad()?i.isIOSWithSafari()||i.isChromeMobileBrowser()||i.isFirefoxMobileBrowser()||i.isOperaMobileBrowser()||i.isEdgeMobileBrowser()||i.isIonicIos():i.isChromeBrowser()||i.isChromeMobileBrowser()||i.isFirefoxBrowser()||i.isFirefoxMobileBrowser()||i.isOperaBrowser()||i.isOperaMobileBrowser()||i.isEdgeBrowser()||i.isEdgeMobileBrowser()||i.isSamsungBrowser()||i.isSafariBrowser()||i.isAndroidBrowser()||i.isElectron()||i.isNodeJs()||i.isMotorolaEdgeDevice()},e.prototype.checkScreenSharingCapabilities=function(){return i.canScreenShare()},e.prototype.getDevices=function(){return new Promise((function(e,t){navigator.mediaDevices.enumerateDevices().then((function(t){var n,r=[];if(!i.isIonicAndroid()||"undefined"==typeof cordova||!(null===(n=null===cordova||void 0===cordova?void 0:cordova.plugins)||void 0===n?void 0:n.EnumerateDevicesPlugin))return t.forEach((function(e){"audioinput"!==e.kind&&"videoinput"!==e.kind||r.push({kind:e.kind,deviceId:e.deviceId,label:e.label})})),e(r);cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then((function(n){var o=[],i=[],a=[];return o=n.filter((function(e){return"audioinput"===e.kind})),i=t.filter((function(e){return"videoinput"===e.kind})),a=t.filter((function(e){return"audioinput"===e.kind})),i.forEach((function(e,t){if(e.label)r.push({kind:e.kind,deviceId:e.deviceId,label:e.label});else{var n="";n=0===t?"Front Camera":1===t?"Back Camera":"Unknown Camera",r.push({kind:e.kind,deviceId:e.deviceId,label:n})}})),a.forEach((function(e,t){if(e.label)r.push({kind:e.kind,deviceId:e.deviceId,label:e.label});else{var n="";switch(t){case 0:n="Default";break;case 1:var i=o.filter((function(e){return e.label.includes("Built")}))[0];n=i?i.label:"Built-in Microphone";break;case 2:var a=o.filter((function(e){return e.label.includes("Wired")}))[0];n=a?a.label:"Headset earpiece";break;case 3:var s=o.filter((function(e){return e.label.includes("Bluetooth")}))[0];n=s?s.label:"Wireless";break;default:n="Unknown Microphone"}r.push({kind:e.kind,deviceId:e.deviceId,label:n})}})),e(r)}))})).catch((function(e){return w.error("Error getting devices",e),t(e)}))}))},e.prototype.getUserMedia=function(e){var t,n;return r(this,void 0,void 0,(function(){var a,s,l,u,c,p,h,f,m,g=this;return o(this,(function(y){switch(y.label){case 0:a=function(e,t){return r(g,void 0,void 0,(function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:n=void 0===t.audio||t.audio,r={audio:n,video:!1},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(r)];case 2:return i=o.sent(),e.addTrack(i.getAudioTracks()[0]),[2,e];case 3:throw a=o.sent(),e.getAudioTracks().forEach((function(e){e.stop()})),e.getVideoTracks().forEach((function(e){e.stop()})),this.generateAudioDeviceError(a,r);case 4:return[2]}}))}))},y.label=1;case 1:return y.trys.push([1,20,,21]),[4,this.generateMediaConstraints(e)];case 2:return(s=y.sent()).videoTrack&&s.audioTrack||s.audioTrack&&!1===(null===(t=s.constraints)||void 0===t?void 0:t.video)||s.videoTrack&&!1===(null===(n=s.constraints)||void 0===n?void 0:n.audio)?[2,this.addAlreadyProvidedTracks(s,new MediaStream)]:[3,3];case 3:if(s.videoTrack&&delete s.constraints.video,s.audioTrack&&delete s.constraints.audio,l=!1,"string"!==typeof e.videoSource)return[3,12];if(!("screen"===e.videoSource||"window"===e.videoSource||i.isElectron()&&e.videoSource.startsWith("screen:")))return[3,12];if(l=!s.audioTrack&&null!==e.audioSource&&!1!==e.audioSource,!navigator.mediaDevices.getDisplayMedia||i.isElectron())return[3,11];y.label=4;case 4:return y.trys.push([4,9,,10]),[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:"screen"===e.audioSource})];case 5:return p=y.sent(),this.addAlreadyProvidedTracks(s,p),l?[4,a(p,s.constraints)]:[3,7];case 6:return[2,y.sent()];case 7:return[2,p];case 8:return[3,10];case 9:throw u=y.sent(),f=d.OpenViduErrorName.SCREEN_CAPTURE_DENIED,m=u.toString(),new d.OpenViduError(f,m);case 10:return[3,11];case 11:return[3,12];case 12:c=l?{video:s.constraints.video}:s.constraints,y.label=13;case 13:return y.trys.push([13,18,,19]),[4,navigator.mediaDevices.getUserMedia(c)];case 14:return p=y.sent(),this.addAlreadyProvidedTracks(s,p),l?[4,a(p,s.constraints)]:[3,16];case 15:return[2,y.sent()];case 16:return[2,p];case 17:return[3,19];case 18:throw h=y.sent(),f=void 0,m=h.toString(),f="screen"!==e.videoSource?d.OpenViduErrorName.DEVICE_ACCESS_DENIED:d.OpenViduErrorName.SCREEN_CAPTURE_DENIED,new d.OpenViduError(f,m);case 19:return[3,21];case 20:throw y.sent();case 21:return[2]}}))}))},e.prototype.enableProdMode=function(){w.enableProdMode()},e.prototype.setAdvancedConfiguration=function(e){this.advancedConfiguration=e},e.prototype.onOrientationChanged=function(e){globalThis.addEventListener("orientationchange",e)},e.prototype.sendNewVideoDimensionsIfRequired=function(e,t,n,r){var o,i,a,s,l=this,u=0,c=(null===(i=null===(o=null===e||void 0===e?void 0:e.stream)||void 0===o?void 0:o.videoDimensions)||void 0===i?void 0:i.width)||0,d=(null===(s=null===(a=null===e||void 0===e?void 0:e.stream)||void 0===a?void 0:a.videoDimensions)||void 0===s?void 0:s.height)||0,p=setInterval((function(){++u>r&&clearTimeout(p),e.getVideoDimensions().then((function(n){n.width===c&&n.height===d||(clearTimeout(p),l.sendVideoDimensionsChangedEvent(e,t,c,d,n.width,n.height))}))}),n)},e.prototype.sendVideoDimensionsChangedEvent=function(e,t,n,r,o,i){var a=this;e.stream.videoDimensions={width:o||0,height:i||0},this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(e.stream.videoDimensions),reason:t},(function(o,i){o?w.error("Error sending 'streamPropertyChanged' event",o):(a.session.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(a.session,e.stream,"videoDimensions",e.stream.videoDimensions,{width:n,height:r},t)]),e.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(e,e.stream,"videoDimensions",e.stream.videoDimensions,{width:n,height:r},t)]),a.session.sendVideoData(e))}))},e.prototype.sendTrackChangedEvent=function(e,t,n,r){var o=this,i={label:t},a={label:n},s="trackReplaced";e.stream.isLocalStreamPublished?this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:r,newValue:a,reason:s},(function(t,n){t?w.error("Error sending 'streamPropertyChanged' event",t):(o.session.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(o.session,e.stream,r,a,i,s)]),e.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(e,e.stream,r,a,i,s)]))})):(this.session.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(this.session,e.stream,r,a,i,s)]),e.emitEvent("streamPropertyChanged",[new c.StreamPropertyChangedEvent(e,e.stream,r,a,i,s)]))},e.prototype.generateMediaConstraints=function(e){var t=this;return new Promise((function(n,r){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},i=e.audioSource,a=e.videoSource;if(null!==i&&!1!==i||(o.constraints.audio=!1),null!==a&&!1!==a||(o.constraints.video=!1),!1===o.constraints.audio&&!1===o.constraints.video)return r(new d.OpenViduError(d.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if("undefined"!==typeof MediaStreamTrack&&i instanceof MediaStreamTrack&&(o.audioTrack=i),"undefined"!==typeof MediaStreamTrack&&a instanceof MediaStreamTrack&&(o.videoTrack=a),void 0===i&&(o.constraints.audio=!0),void 0===a&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),null!==a&&!1!==a){if(e.resolution){var s=e.resolution.toLowerCase().split("x"),l=Number(s[0]),u=Number(s[1]);o.constraints.video={width:{ideal:l},height:{ideal:u}}}e.frameRate&&(o.constraints.video.frameRate={ideal:e.frameRate})}return t.configureDeviceIdOrScreensharing(o,e,n,r),n(o)}))},e.prototype.startWs=function(e){var t={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:e,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),broadcastStarted:this.session.onBroadcastStarted.bind(this.session),broadcastStopped:this.session.onBroadcastStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session),speechToTextMessage:this.session.onSpeechToTextMessage.bind(this.session),speechToTextDisconnected:this.session.onSpeechToTextDisconnected.bind(this.session)}};this.jsonRpcClient=new b.clients.JsonRpcClient(t)},e.prototype.onMasterNodeCrashedNotification=function(e){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},e.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},e.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},e.prototype.sendRequest=function(e,t,n){var r;t&&t instanceof Function&&(n=t,t={}),w.debug('Sending request: {method:"'+e+'", params: '+JSON.stringify(t)+"}"),null===(r=this.jsonRpcClient)||void 0===r||r.send(e,t,n)},e.prototype.getWsUri=function(){return this.wsUri},e.prototype.getSecret=function(){return this.secret},e.prototype.getRecorder=function(){return this.recorder},e.prototype.getStt=function(){return this.stt},e.prototype.generateAudioDeviceError=function(e,t){var n,r;switch("Error"===e.name&&(e.name=e.constructor.name),e.name.toLowerCase()){case"notfounderror":return n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r=e.toString(),new d.OpenViduError(n,r);case"notallowederror":return n=d.OpenViduErrorName.DEVICE_ACCESS_DENIED,r=e.toString(),new d.OpenViduError(n,r);case"overconstrainederror":return"deviceid"===e.constraint.toLowerCase()?(n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r="Audio input device with deviceId '"+t.audio.deviceId.exact+"' not found"):(n=d.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Audio input device doesn't support the value passed for constraint '"+e.constraint+"'"),new d.OpenViduError(n,r);case"notreadableerror":return n=d.OpenViduErrorName.DEVICE_ALREADY_IN_USE,r=e.toString(),new d.OpenViduError(n,r);default:return new d.OpenViduError(d.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,e.toString())}},e.prototype.addAlreadyProvidedTracks=function(e,t,n){return e.videoTrack&&(t.addTrack(e.videoTrack),n&&(e.constraints.video?n.lastVideoTrackConstraints=e.constraints.video:n.lastVideoTrackConstraints=e.videoTrack.getConstraints())),e.audioTrack&&t.addTrack(e.audioTrack),t},e.prototype.configureDeviceIdOrScreensharing=function(e,t,n,r){var o=this,a=t.audioSource,s=t.videoSource;if("string"===typeof a&&"screen"!==a&&(e.constraints.audio={deviceId:{exact:a}}),"string"===typeof s){if(this.isScreenShare(s)){if(this.checkScreenSharingCapabilities()){if(i.isElectron()){var l="screen:",u=s,c=u.substr(u.indexOf(l)+7);return e.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:c}},n(e)}if(!this.advancedConfiguration.screenShareChromeExtension||i.isFirefoxBrowser()||i.isFirefoxMobileBrowser()||navigator.mediaDevices.getDisplayMedia){if(navigator.mediaDevices.getDisplayMedia)return n(e);var p=i.isFirefoxBrowser()||i.isFirefoxMobileBrowser()?t.videoSource:void 0;return void m.getScreenId(p,(function(t,i,a){if(t){if("not-installed"===t){var s=o.advancedConfiguration.screenShareChromeExtension?o.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",l=new d.OpenViduError(d.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,s);return w.error(l),r(l)}if("installed-disabled"===t){l=new d.OpenViduError(d.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return w.error(l),r(l)}if("permission-denied"===t){l=new d.OpenViduError(d.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return w.error(l),r(l)}l=new d.OpenViduError(d.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return w.error(l),w.error(t),r(l)}return e.constraints.video=a.video,n(e)}))}return void g.getScreenConstraints((function(t,i){if(!(t||i.mandatory&&"screen"===i.mandatory.chromeMediaSource))return e.constraints.video=i,n(e);if("permission-denied"===t||"PermissionDeniedError"===t){var a=new d.OpenViduError(d.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return w.error(a),r(a)}var s=o.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();g.getChromeExtensionStatus(s,(function(e){if("installed-disabled"===e){var t=new d.OpenViduError(d.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return w.error(t),r(t)}if("not-installed"===e){var n=new d.OpenViduError(d.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension);return w.error(n),r(n)}}))}))}var h=new d.OpenViduError(d.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+i.getName()+" "+i.getVersion());return w.error(h),r(h)}this.setVideoSource(e,s),"screen"===a&&(w.warn('Parameter "audioSource" is set to "screen", which means rquesting audio from screen sharing source. But "videoSource" is not set to "screen". No audio source will be requested'),e.constraints.audio=!1)}},e.prototype.setVideoSource=function(e,t){e.constraints.video||(e.constraints.video={}),e.constraints.video.deviceId={exact:t}},e.prototype.disconnectCallback=function(){w.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},e.prototype.reconnectingCallback=function(){w.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},e.prototype.reconnectWebsocketThroughRpcConnectMethod=function(e){var t=this;this.sendRequest("connect",{sessionId:e,reconnect:!0},(function(e,n){if(e)if(t.isMasterNodeCrashed())w.warn("Master Node has crashed!");else{w.error(e);var r=function(e,n){w.warn(n),t.session.onLostConnection(e),t.jsonRpcClient.close(4101,"Reconnection fault: "+n)},o=function(){-1===t.life?r("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):t.sendRequest("sessionStatus",{sessionId:t.session.sessionId},(function(e,n){null!=e?console.error("Error checking session status",e):t.life===n.life?r("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):r("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")}))};40007===e.code&&"reconnection error"===e.message?(console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),o()):o()}else t.jsonRpcClient.resetPing(),t.session.onRecoveredConnection()}))},e.prototype.reconnectedCallback=function(){if(w.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{w.warn("There was no previous connection when running reconnection callback");var e=new u.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[e]),e.callDefaultBehavior()}else alert("Connection error. Please reload page.")},e.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},e.prototype.isRoomAvailable=function(){return void 0!==this.session&&this.session instanceof l.Session||(w.warn("Session instance not found"),!1)},e.prototype.isScreenShare=function(e){return"screen"===e||"window"===e||i.isElectron()&&e.startsWith("screen:")},e}();t.OpenVidu=A},81898:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Publisher=void 0;var a,s=n(27138),l=n(46980),u=n(23777),c=n(11193),d=n(41452),p=n(43306),h=n(41472),f=n(6478),m=n(69978),g=h.OpenViduLogger.getInstance(),y=function(e){function t(t,n,r){var o=e.call(this,new l.Stream(r.session?r.session:new s.Session(r),{publisherProperties:n,mediaConstraints:{}}),t)||this;return o.accessAllowed=!1,o.isSubscribedToRemote=!1,o.accessDenied=!1,a=f.PlatformUtils.getInstance(),o.properties=n,o.openvidu=r,o.stream.ee.on("local-stream-destroyed",(function(e){o.stream.isLocalStreamPublished=!1;var t=new c.StreamEvent(!0,o,"streamDestroyed",o.stream,e);o.emitEvent("streamDestroyed",[t]),t.callDefaultBehavior()})),o}return r(t,e),t.prototype.publishAudio=function(e){var t=this;this.stream.audioActive!==e&&((this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream()).getAudioTracks().forEach((function(t){t.enabled=e})),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:e,reason:"publishAudio"},(function(n,r){n?g.error("Error sending 'streamPropertyChanged' event",n):(t.session.emitEvent("streamPropertyChanged",[new d.StreamPropertyChangedEvent(t.session,t.stream,"audioActive",e,!e,"publishAudio")]),t.emitEvent("streamPropertyChanged",[new d.StreamPropertyChangedEvent(t,t.stream,"audioActive",e,!e,"publishAudio")]),t.session.sendVideoData(t.stream.streamManager))})),this.stream.audioActive=e,g.info("'Publisher' has "+(e?"published":"unpublished")+" its audio stream"))},t.prototype.publishVideo=function(e,t){var n=this;return new Promise((function(r,a){return o(n,void 0,void 0,(function(){var n,s,l,u,c,p,h=this;return i(this,(function(f){switch(f.label){case 0:return this.stream.videoActive===e?[3,9]:(n=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),s=!1,n.getVideoTracks().forEach((function(n){n.enabled=e,e||!0!==t?e&&"ended"===n.readyState&&(s=!0):n.stop()})),!e&&!0===t&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:f.sent(),f.label=2;case 2:return s?(l=n.getVideoTracks()[0],n.removeTrack(l),u=function(e){return o(h,void 0,void 0,(function(){var t=this;return i(this,(function(r){switch(r.label){case 0:return n.addTrack(e),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.stream.lastVBFilter&&setTimeout((function(){return o(t,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return e=this.stream.lastVBFilter.options,(t=this.stream.lastVBFilter.lastExecMethod)&&"update"===t.method&&(e=Object.assign({},e,t.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,e)];case 1:return n.sent(),delete this.stream.lastVBFilter,[2]}}))}))}),1),[2]}}))}))},t&&t instanceof MediaStreamTrack?[4,u(t)]:[3,4]):[3,8];case 3:return f.sent(),[3,8];case 4:return f.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return c=f.sent(),[4,u(c.getVideoTracks()[0])];case 6:return f.sent(),[3,8];case 7:return p=f.sent(),[2,a(p)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:e,reason:"publishVideo"},(function(t,n){t?g.error("Error sending 'streamPropertyChanged' event",t):(h.session.emitEvent("streamPropertyChanged",[new d.StreamPropertyChangedEvent(h.session,h.stream,"videoActive",e,!e,"publishVideo")]),h.emitEvent("streamPropertyChanged",[new d.StreamPropertyChangedEvent(h,h.stream,"videoActive",e,!e,"publishVideo")]),h.session.sendVideoData(h.stream.streamManager))})),this.stream.videoActive=e,g.info("'Publisher' has "+(e?"published":"unpublished")+" its video stream"),[2,r()];case 9:return[2]}}))}))}))},t.prototype.subscribeToRemote=function(e){e=void 0===e||e,this.isSubscribedToRemote=e,this.stream.subscribeToMyRemote(e)},t.prototype.on=function(t,n){var r=this;return e.prototype.on.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new c.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",(function(){r.emitEvent("streamCreated",[new c.StreamEvent(!1,r,"streamCreated",r.stream,"")])}))),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.once=function(t,n){var r=this;return e.prototype.once.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new c.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",(function(){r.emitEvent("streamCreated",[new c.StreamEvent(!1,r,"streamCreated",r.stream,"")])}))),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n),this},t.prototype.replaceTrack=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.replaceTrackAux(e,!0)]}))}))},t.prototype.initialize=function(){var e=this;return new Promise((function(t,n){return o(e,void 0,void 0,(function(){var e,r,s,l,u,c,d,h,f,y,v,b,x,w,A,S,C=this;return i(this,(function(k){switch(k.label){case 0:e={},r={},s=2e3,u=function(e){return C.accessDenied=!0,C.accessAllowed=!1,g.error("Publisher initialization failed. ".concat(e.name,": ").concat(e.message)),n(e)},c=function(e){var n,r;if(C.accessAllowed=!0,C.accessDenied=!1,"undefined"!==typeof MediaStreamTrack&&C.properties.audioSource instanceof MediaStreamTrack&&(e.removeTrack(e.getAudioTracks()[0]),e.addTrack(C.properties.audioSource)),"undefined"!==typeof MediaStreamTrack&&C.properties.videoSource instanceof MediaStreamTrack&&(e.removeTrack(e.getVideoTracks()[0]),e.addTrack(C.properties.videoSource)),e.getAudioTracks()[0]){var o=void 0!==C.stream.audioActive&&null!==C.stream.audioActive?C.stream.audioActive:!!C.stream.outboundStreamOpts.publisherProperties.publishAudio;e.getAudioTracks()[0].enabled=o}if(e.getVideoTracks()[0]){o=void 0!==C.stream.videoActive&&null!==C.stream.videoActive?C.stream.videoActive:!!C.stream.outboundStreamOpts.publisherProperties.publishVideo;e.getVideoTracks()[0].enabled=o}for(var i=0,a=e.getAudioTracks();i<a.length;i++){(null===(n=(u=a[i]).contentHint)||void 0===n?void 0:n.length)||(u.contentHint="",g.info("Audio track Content Hint set: '".concat(u.contentHint,"'")))}for(var s=0,l=e.getVideoTracks();s<l.length;s++){var u;if(!(null===(r=(u=l[s]).contentHint)||void 0===r?void 0:r.length)){switch(C.stream.typeOfVideo){case m.TypeOfVideo.SCREEN:u.contentHint="detail";break;case m.TypeOfVideo.CUSTOM:g.warn("CUSTOM type video track was provided without Content Hint!"),u.contentHint="motion";break;case m.TypeOfVideo.CAMERA:case m.TypeOfVideo.IPCAM:default:u.contentHint="motion"}g.info("Video track Content Hint set: '".concat(u.contentHint,"'"))}}return C.initializeVideoReference(e),C.stream.displayMyRemote()||C.stream.updateMediaStreamInVideos(),delete C.firstVideoElement,C.stream.isSendVideo()?C.getVideoDimensions().then((function(t){C.stream.videoDimensions={width:t.width,height:t.height},C.stream.isSendScreen()&&(C.stream.isSendAudio()&&0===e.getAudioTracks().length&&(C.stream.audioActive=!1,C.stream.hasAudio=!1,C.stream.outboundStreamOpts.publisherProperties.publishAudio=!1,C.stream.outboundStreamOpts.publisherProperties.audioSource=!1),C.screenShareResizeInterval=setInterval((function(){var t=e.getVideoTracks()[0].getSettings(),n=t.width,r=t.height,o=null!=n&&n!==C.stream.videoDimensions.width,i=null!=r&&r!==C.stream.videoDimensions.height;C.stream.isLocalStreamPublished&&(o||i)&&C.openvidu.sendVideoDimensionsChangedEvent(C,"screenResized",C.stream.videoDimensions.width,C.stream.videoDimensions.height,n||0,r||0)}),650)),C.stream.isLocalStreamReadyToPublish=!0,C.stream.ee.emitEvent("stream-ready-to-publish",[])})):(C.stream.isLocalStreamReadyToPublish=!0,C.stream.ee.emitEvent("stream-ready-to-publish",[])),t()},d=function(t,n){return o(C,void 0,void 0,(function(){var o,a;return i(this,(function(i){switch(i.label){case 0:if(this.clearPermissionDialogTimer(l,s),!this.stream.isSendScreen()||"screen"===this.properties.audioSource||!this.stream.isSendAudio())return[3,5];r.audio=n,r.video=!1,l=Date.now(),this.setPermissionDialogTimer(s),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(r)];case 2:return o=i.sent(),this.clearPermissionDialogTimer(l,s),t.addTrack(o.getAudioTracks()[0]),c(t),[3,4];case 3:return a=i.sent(),this.clearPermissionDialogTimer(l,s),t.getAudioTracks().forEach((function(e){e.stop()})),t.getVideoTracks().forEach((function(e){e.stop()})),u(this.openvidu.generateAudioDeviceError(a,e)),[2];case 4:return[3,6];case 5:c(t),i.label=6;case 6:return[2]}}))}))},h=function(t){return o(C,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:switch(g.error("getMediaError: ".concat(t.toString())),this.clearPermissionDialogTimer(l,s),"Error"===t.name&&(t.name=t.constructor.name),t.name.toLowerCase()){case"notfounderror":return[3,1];case"notallowederror":return[3,5];case"overconstrainederror":return[3,6];case"aborterror":case"notreadableerror":return[3,10]}return[3,11];case 1:return i.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:e.video})];case 2:return i.sent().getVideoTracks().forEach((function(e){e.stop()})),n=p.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r=t.toString(),u(new p.OpenViduError(n,r)),[3,4];case 3:return o=i.sent(),n=p.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,r=o.toString(),u(new p.OpenViduError(n,r)),[3,4];case 4:case 9:return[3,12];case 5:return n=this.stream.isSendScreen()?p.OpenViduErrorName.SCREEN_CAPTURE_DENIED:p.OpenViduErrorName.DEVICE_ACCESS_DENIED,r=t.toString(),u(new p.OpenViduError(n,r)),[3,12];case 6:return i.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:e.video})];case 7:return i.sent().getVideoTracks().forEach((function(e){e.stop()})),"deviceid"===t.constraint.toLowerCase()?(n=p.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r="Audio input device with deviceId '"+e.audio.deviceId.exact+"' not found"):(n=p.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Audio input device doesn't support the value passed for constraint '"+t.constraint+"'"),u(new p.OpenViduError(n,r)),[3,9];case 8:return"deviceid"===(a=i.sent()).constraint.toLowerCase()?(n=p.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,r="Video input device with deviceId '"+e.video.deviceId.exact+"' not found"):(n=p.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Video input device doesn't support the value passed for constraint '"+a.constraint+"'"),u(new p.OpenViduError(n,r)),[3,9];case 10:return n=p.OpenViduErrorName.DEVICE_ALREADY_IN_USE,r=t.toString(),u(new p.OpenViduError(n,r)),[3,12];case 11:return n=p.OpenViduErrorName.GENERIC_ERROR,r=t.toString(),u(new p.OpenViduError(n,r)),[3,12];case 12:return[2]}}))}))},k.label=1;case 1:return k.trys.push([1,14,,15]),[4,this.openvidu.generateMediaConstraints(this.properties)];case 2:return(f=k.sent()).videoTrack&&f.audioTrack||f.audioTrack&&!1===(null===(A=f.constraints)||void 0===A?void 0:A.video)||f.videoTrack&&!1===(null===(S=f.constraints)||void 0===S?void 0:S.audio)?(c(this.openvidu.addAlreadyProvidedTracks(f,new MediaStream,this.stream)),[3,13]):[3,3];case 3:e=f.constraints,y={mediaConstraints:e,publisherProperties:this.properties},this.stream.setOutboundStreamOptions(y),v=void 0===e.audio||e.audio,r.audio=!this.stream.isSendScreen()&&v,r.video=e.video,l=Date.now(),this.setPermissionDialogTimer(s),k.label=4;case 4:return k.trys.push([4,11,,13]),this.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!a.isElectron()?[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:"screen"===this.properties.audioSource})]:[3,7];case 5:return b=k.sent(),this.openvidu.addAlreadyProvidedTracks(f,b),[4,d(b,v)];case 6:return k.sent(),[3,10];case 7:return this.stream.lastVideoTrackConstraints=r.video,[4,navigator.mediaDevices.getUserMedia(r)];case 8:return b=k.sent(),this.openvidu.addAlreadyProvidedTracks(f,b,this.stream),[4,d(b,v)];case 9:k.sent(),k.label=10;case 10:return[3,13];case 11:return x=k.sent(),[4,h(x)];case 12:return k.sent(),[3,13];case 13:return[3,15];case 14:return w=k.sent(),u(w),[3,15];case 15:return[2]}}))}))}))},t.prototype.replaceTrackAux=function(e,t){return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:n=e.enabled,"video"===e.kind?e.enabled=this.stream.videoActive:"audio"===e.kind&&(e.enabled=this.stream.audioActive),o.label=1;case 1:return o.trys.push([1,5,,6]),this.stream.isLocalStreamPublished?(this.replaceTrackInMediaStream(e,t),[4,this.replaceTrackInRtcRtpSender(e)]):[3,3];case 2:return[2,o.sent()];case 3:return[2,this.replaceTrackInMediaStream(e,t)];case 4:return[3,6];case 5:throw r=o.sent(),e.enabled=n,r;case 6:return[2]}}))}))},t.prototype.getVideoDimensions=function(){var e=this;return new Promise((function(t,n){var r,o=(a.isIonicIos()||a.isIOSWithSafari())&&e.videoReference.readyState<1,i=function(){var n,i;if("function"===typeof e.stream.getMediaStream().getVideoTracks()[0].getSettings){var s=e.stream.getMediaStream().getVideoTracks()[0].getSettings();n=s.width||e.videoReference.videoWidth,i=s.height||e.videoReference.videoHeight}else g.warn("MediaStreamTrack does not have getSettings method on "+a.getDescription()),n=e.videoReference.videoWidth,i=e.videoReference.videoHeight;return null!=r&&e.videoReference.removeEventListener("loadedmetadata",r),o&&document.body.removeChild(e.videoReference),t({width:n,height:i})};e.videoReference.readyState>=1?i():(r=function(){if(e.videoReference.videoWidth)i();else var t=setInterval((function(){e.videoReference.videoWidth&&(clearInterval(t),i())}),40)},e.videoReference.addEventListener("loadedmetadata",r),o&&document.body.appendChild(e.videoReference))}))},t.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},t.prototype.initializeVideoReference=function(e){this.videoReference=document.createElement("video"),this.videoReference.style.display="none",this.videoReference.muted=!0,this.videoReference.autoplay=!0,this.videoReference.controls=!1,(a.isSafariBrowser()||a.isIPhoneOrIPad()&&(a.isChromeMobileBrowser()||a.isEdgeMobileBrowser()||a.isOperaMobileBrowser()||a.isFirefoxMobileBrowser()))&&(this.videoReference.playsInline=!0),this.stream.setMediaStream(e),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=this.stream.getMediaStream()},t.prototype.replaceTrackInMediaStream=function(e,t){var n,r=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream();"video"===e.kind?(n=r.getVideoTracks()[0],t&&(this.stream.lastVideoTrackConstraints=e.getConstraints())):n=r.getAudioTracks()[0],n.enabled=!1,n.stop(),r.removeTrack(n),r.addTrack(e);var o={oldLabel:(null===n||void 0===n?void 0:n.label)||"",newLabel:(null===e||void 0===e?void 0:e.label)||""};"video"===e.kind&&t?(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.openvidu.sendTrackChangedEvent(this,o.oldLabel,o.newLabel,"videoTrack"),this.stream.isLocalStreamPublished&&this.session.sendVideoData(this.stream.streamManager,5,!0,5)):"audio"===e.kind&&t&&this.openvidu.sendTrackChangedEvent(this,o.oldLabel,o.newLabel,"audioTrack"),"audio"===e.kind&&(this.stream.disableHarkSpeakingEvent(!1),this.stream.disableHarkStoppedSpeakingEvent(!1),this.stream.disableHarkVolumeChangeEvent(!1),this.stream.initHarkEvents())},t.prototype.setPermissionDialogTimer=function(e){var t=this;this.permissionDialogTimeout=setTimeout((function(){t.emitEvent("accessDialogOpened",[])}),e)},t.prototype.clearPermissionDialogTimer=function(e,t){clearTimeout(this.permissionDialogTimeout),Date.now()-e>t&&this.emitEvent("accessDialogClosed",[])},t.prototype.replaceTrackInRtcRtpSender=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(t=this.stream.getRTCPeerConnection().getSenders(),"video"===e.kind){if(!(n=t.find((function(e){return!!e.track&&"video"===e.track.kind}))))throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else{if("audio"!==e.kind)throw new Error("Unknown track kind "+e.kind);if(!(n=t.find((function(e){return!!e.track&&"audio"===e.track.kind}))))throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}return[4,n.replaceTrack(e)];case 1:return r.sent(),[2]}}))}))},t}(u.StreamManager);t.Publisher=y},27138:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;var a,s=n(60476),l=n(49090),u=n(37570),c=n(76855),d=n(43917),p=n(24955),h=n(69744),f=n(50120),m=n(78385),g=n(94017),y=n(11193),v=n(41452),b=n(6912),x=n(62414),w=n(43306),A=n(75907),S=n(41472),C=n(6478),k=n(57963),E=n(11647),T=n(59906),I=S.OpenViduLogger.getInstance(),O=function(e){function t(t){var n=e.call(this)||this;return n.streamManagers=[],n.remoteStreamsCreated=new Map,n.remoteConnections=new Map,a=C.PlatformUtils.getInstance(),n.openvidu=t,n}return r(t,e),t.prototype.connect=function(e,t){var n=this;return new Promise((function(r,o){if(n.processToken(e),!n.openvidu.checkSystemRequirements())return o(new w.OpenViduError(w.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+a.getName()+" (version "+a.getVersion()+") for "+a.getFamily()+" is not supported in OpenVidu"));n.options={sessionId:n.sessionId,participantId:e,metadata:t?n.stringClientMetadata(t):""},n.connectAux(e).then((function(){return r()})).catch((function(e){return o(e)}))}))},t.prototype.disconnect=function(){this.leave(!1,"disconnect")},t.prototype.subscribe=function(e,t,n,r){var o={};o=n&&"function"!==typeof n?{insertMode:"undefined"!==typeof n.insertMode?"string"===typeof n.insertMode?A.VideoInsertMode[n.insertMode]:o.insertMode:A.VideoInsertMode.APPEND,subscribeToAudio:"undefined"===typeof n.subscribeToAudio||n.subscribeToAudio,subscribeToVideo:"undefined"===typeof n.subscribeToVideo||n.subscribeToVideo}:{insertMode:A.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var i=void 0;if(n&&"function"===typeof n?i=n:r&&(i=r),!this.sessionConnected())throw void 0!==i&&i(this.notConnectedError()),this.notConnectedError();I.info("Subscribing to "+e.connection.connectionId),e.subscribe().then((function(){I.info("Subscribed correctly to "+e.connection.connectionId),void 0!==i&&i(void 0)})).catch((function(e){void 0!==i&&i(e)}));var a=new u.Subscriber(e,t,o);return a.targetElement&&e.streamManager.createVideoElement(a.targetElement,o.insertMode),a},t.prototype.subscribeAsync=function(e,t,n){var r=this;return new Promise((function(o,i){if(!r.sessionConnected())return i(r.notConnectedError());var a,s=function(e){return e?i(e):o(a)};a=n?r.subscribe(e,t,n,s):r.subscribe(e,t,s)}))},t.prototype.unsubscribe=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());var o=e.stream.connection.connectionId;I.info("Unsubscribing from "+o),t.openvidu.sendRequest("unsubscribeFromVideo",{sender:e.stream.connection.connectionId},(function(t,i){return t?(I.error("Error unsubscribing from "+o),r(t)):(I.info("Unsubscribed correctly from "+o),e.stream.streamManager.removeAllVideos(),e.stream.disposeWebRtcPeer(),e.stream.disposeMediaStream(),n())}))}))},t.prototype.publish=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());e.session=t,e.stream.session=t,e.stream.publishedOnce?e.initialize().then((function(){t.connection.addStream(e.stream),e.reestablishStreamPlayingEvent(),e.stream.publish().then((function(){return t.sendVideoData(e,8,!0,5),n()})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)})):(t.connection.addStream(e.stream),e.stream.publish().then((function(){return t.sendVideoData(e,8,!0,5),n()})).catch((function(e){return r(e)})))}))},t.prototype.unpublish=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())throw t.notConnectedError();var o=e.stream;return o.connection?o.connection!==t.connection?r(new Error("The associated Connection object of this Publisher is not your local Connection.  Only moderators can force unpublish on remote Streams via 'forceUnpublish' method")):(I.info("Unpublishing local media ("+o.connection.connectionId+")"),void t.openvidu.sendRequest("unpublishVideo",(function(t,i){if(t)return r(t);I.info("Media unpublished correctly"),o.disposeWebRtcPeer(),o.connection.stream==o&&delete o.connection.stream;var a=new y.StreamEvent(!0,e,"streamDestroyed",e.stream,"unpublish");return e.emitEvent("streamDestroyed",[a]),a.callDefaultBehavior(),n()}))):r(new Error("The associated Connection object of this Publisher is null"))}))},t.prototype.forceDisconnect=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());I.info("Forcing disconnect for connection "+e.connectionId),t.openvidu.sendRequest("forceDisconnect",{connectionId:e.connectionId},(function(t,o){return t?(I.error("Error forcing disconnect for Connection "+e.connectionId,t),401===t.code?r(new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):r(t)):(I.info("Forcing disconnect correctly for Connection "+e.connectionId),n())}))}))},t.prototype.forceUnpublish=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());I.info("Forcing unpublish for stream "+e.streamId),t.openvidu.sendRequest("forceUnpublish",{streamId:e.streamId},(function(t,o){return t?(I.error("Error forcing unpublish for Stream "+e.streamId,t),401===t.code?r(new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):r(t)):(I.info("Forcing unpublish correctly for Stream "+e.streamId),n())}))}))},t.prototype.signal=function(e){var t=this;return new Promise((function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());var o={};if(e.to&&e.to.length>0){var i=[];e.to.forEach((function(e){e.connectionId&&i.push(e.connectionId)})),o.to=i}else o.to=[];o.data=e.data?e.data:"";var a=e.type?e.type:"signal";a&&"signal:"!==a.substring(0,7)&&(a="signal:"+a),o.type=a,t.openvidu.sendRequest("sendMessage",{message:JSON.stringify(o)},(function(e,t){return e?r(e):n()}))}))},t.prototype.subscribeToSpeechToText=function(e,t){var n=this;return new Promise((function(r,o){n.openvidu.sendRequest("subscribeToSpeechToText",{connectionId:e.connection.connectionId,lang:t},(function(e,t){return e?o(e):r()}))}))},t.prototype.unsubscribeFromSpeechToText=function(e){var t=this;return new Promise((function(n,r){t.openvidu.sendRequest("unsubscribeFromSpeechToText",{connectionId:e.connection.connectionId},(function(e,t){return e?r(e):n()}))}))},t.prototype.on=function(t,n){var r,o,i,a;return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by 'Session'",n),"publisherStartSpeaking"===t&&(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableHarkSpeakingEvent()})),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.hasAudio)&&this.connection.stream.enableHarkSpeakingEvent()),"publisherStopSpeaking"===t&&(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableHarkStoppedSpeakingEvent()})),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.hasAudio)&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},t.prototype.once=function(t,n){var r,o,i,a;return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by 'Session'",n),"publisherStartSpeaking"===t&&(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableOnceHarkSpeakingEvent()})),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.hasAudio)&&this.connection.stream.enableOnceHarkSpeakingEvent()),"publisherStopSpeaking"===t&&(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableOnceHarkStoppedSpeakingEvent()})),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.hasAudio)&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},t.prototype.off=function(t,n){var r,o,i,a,s=this;return e.prototype.offAux.call(this,t,n),"publisherStartSpeaking"===t&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.streamManager)&&(s.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,e.stream.streamManager)||e.stream.disableHarkSpeakingEvent(!1))})),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.streamManager)&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),"publisherStopSpeaking"===t&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach((function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.streamManager)&&(s.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,e.stream.streamManager)||e.stream.disableHarkStoppedSpeakingEvent(!1))})),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.streamManager)&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},t.prototype.onParticipantJoined=function(e){var t=this;this.getConnection(e.id,"").then((function(e){I.warn("Connection "+e.connectionId+" already exists in connections list")})).catch((function(n){var r=new s.Connection(t,e);t.remoteConnections.set(e.id,r),t.ee.emitEvent("connectionCreated",[new d.ConnectionEvent(!1,t,"connectionCreated",r,"")])}))},t.prototype.onParticipantLeft=function(e){var t=this;this.getRemoteConnection(e.connectionId,"onParticipantLeft").then((function(n){if(n.stream){var r=n.stream,o=new y.StreamEvent(!0,t,"streamDestroyed",r,e.reason);t.ee.emitEvent("streamDestroyed",[o]),o.callDefaultBehavior(),t.remoteStreamsCreated.delete(r.streamId)}n.dispose(),t.remoteConnections.delete(n.connectionId),t.ee.emitEvent("connectionDestroyed",[new d.ConnectionEvent(!1,t,"connectionDestroyed",n,e.reason)])})).catch((function(e){I.error(e)}))},t.prototype.onParticipantPublished=function(e){var t,n=this,r=function(e){n.remoteConnections.set(e.connectionId,e),n.remoteStreamsCreated.get(e.stream.streamId)||n.ee.emitEvent("streamCreated",[new y.StreamEvent(!1,n,"streamCreated",e.stream,"")]),n.remoteStreamsCreated.set(e.stream.streamId,!0)};this.getRemoteConnection(e.id,"onParticipantPublished").then((function(n){t=n,e.metadata=n.data,t.remoteOptions=e,t.initRemoteStreams(e.streams),r(t)})).catch((function(o){t=new s.Connection(n,e),r(t)}))},t.prototype.onParticipantUnpublished=function(e){var t=this;e.connectionId===this.connection.connectionId?this.stopPublisherStream(e.reason):this.getRemoteConnection(e.connectionId,"onParticipantUnpublished").then((function(n){var r=new y.StreamEvent(!0,t,"streamDestroyed",n.stream,e.reason);if(t.ee.emitEvent("streamDestroyed",[r]),r.callDefaultBehavior(),null!=n.stream){var o=n.stream.streamId;t.remoteStreamsCreated.delete(o),n.removeStream()}})).catch((function(e){I.error(e)}))},t.prototype.onParticipantEvicted=function(e){e.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,e.reason)},t.prototype.onNewMessage=function(e){var t=this;I.info("New signal: "+JSON.stringify(e));var n=e.type?e.type.replace(/^(signal:)/,""):void 0;e.from?this.getConnection(e.from,"Connection '"+e.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then((function(r){t.ee.emitEvent("signal",[new m.SignalEvent(t,n,e.data,r)]),e.type&&"signal"!==e.type&&t.ee.emitEvent(e.type,[new m.SignalEvent(t,n,e.data,r)])})).catch((function(e){I.error(e)})):(this.ee.emitEvent("signal",[new m.SignalEvent(this,n,e.data,void 0)]),e.type&&"signal"!==e.type&&this.ee.emitEvent(e.type,[new m.SignalEvent(this,n,e.data,void 0)]))},t.prototype.onStreamPropertyChanged=function(e){var t=this,n=function(n){var r,o;if(n.stream&&n.stream.streamId===e.streamId){var i=n.stream,a=void 0;switch(e.property){case"audioActive":a=i.audioActive,e.newValue="true"===e.newValue,i.audioActive=e.newValue;break;case"videoActive":a=i.videoActive,e.newValue="true"===e.newValue,i.videoActive=e.newValue;var s=null===(o=null===(r=null===i||void 0===i?void 0:i.getMediaStream())||void 0===r?void 0:r.getVideoTracks())||void 0===o?void 0:o[0];s&&!s.enabled&&i.videoActive&&(s.enabled=!0);break;case"videoTrack":case"audioTrack":e.newValue=JSON.parse(e.newValue);break;case"videoDimensions":a=i.videoDimensions,e.newValue=JSON.parse(JSON.parse(e.newValue)),i.videoDimensions=e.newValue;break;case"filter":a=i.filter,e.newValue=Object.keys(e.newValue).length>0?e.newValue:void 0,void 0!==e.newValue?(i.filter=new l.Filter(e.newValue.type,e.newValue.options),i.filter.stream=i,e.newValue.lastExecMethod&&(i.filter.lastExecMethod=e.newValue.lastExecMethod)):delete i.filter,e.newValue=i.filter}t.ee.emitEvent("streamPropertyChanged",[new v.StreamPropertyChangedEvent(t,i,e.property,e.newValue,a,e.reason)]),i.streamManager&&i.streamManager.emitEvent("streamPropertyChanged",[new v.StreamPropertyChangedEvent(i.streamManager,i,e.property,e.newValue,a,e.reason)])}else I.error("No stream with streamId '"+e.streamId+"' found for connection '"+e.connectionId+"' on 'streamPropertyChanged' event")};e.connectionId===this.connection.connectionId?n(this.connection):this.getRemoteConnection(e.connectionId,"onStreamPropertyChanged").then((function(e){n(e)})).catch((function(e){I.error(e)}))},t.prototype.onConnectionPropertyChanged=function(e){var t;switch(e.property){case"role":t=this.connection.role.slice(),this.connection.role=e.newValue,this.connection.localOptions.role=e.newValue;break;case"record":t=this.connection.record,e.newValue="true"===e.newValue,this.connection.record=e.newValue,this.connection.localOptions.record=e.newValue}this.ee.emitEvent("connectionPropertyChanged",[new b.ConnectionPropertyChangedEvent(this,this.connection,e.property,e.newValue,t)])},t.prototype.onNetworkQualityLevelChangedChanged=function(e){var t=this;e.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new x.NetworkQualityLevelChangedEvent(this,e.newValue,e.oldValue,this.connection)]):this.getConnection(e.connectionId,"Connection not found for connectionId "+e.connectionId).then((function(n){t.ee.emitEvent("networkQualityLevelChanged",[new x.NetworkQualityLevelChangedEvent(t,e.newValue,e.oldValue,n)])})).catch((function(e){I.error(e)}))},t.prototype.recvIceCandidate=function(e){var t={candidate:e.candidate,sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid},n=new RTCIceCandidate(t);this.getConnection(e.senderConnectionId,"Connection not found for connectionId "+e.senderConnectionId+" owning endpoint "+e.endpointName+". Ice candidate will be ignored: "+n).then((function(t){var r=t.stream;r.getWebRtcPeer().addIceCandidate(n).catch((function(t){I.error("Error adding candidate for "+r.streamId+" stream of endpoint "+e.endpointName+": "+t)}))})).catch((function(e){I.error(e)}))},t.prototype.onSessionClosed=function(e){I.info("Session closed: "+JSON.stringify(e));var t=e.sessionId;void 0!==t?this.ee.emitEvent("session-closed",[{session:t}]):I.warn("Session undefined on session closed",e)},t.prototype.onLostConnection=function(e){I.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,e)},t.prototype.onRecoveredConnection=function(){I.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},t.prototype.onMediaError=function(e){I.error("Media error: "+JSON.stringify(e));var t=e.error;t?this.ee.emitEvent("error-media",[{error:t}]):I.warn("Received undefined media error:",e)},t.prototype.onRecordingStarted=function(e){this.ee.emitEvent("recordingStarted",[new h.RecordingEvent(this,"recordingStarted",e.id,e.name)])},t.prototype.onRecordingStopped=function(e){this.ee.emitEvent("recordingStopped",[new h.RecordingEvent(this,"recordingStopped",e.id,e.name,e.reason)])},t.prototype.onBroadcastStarted=function(){this.ee.emitEvent("broadcastStarted",[])},t.prototype.onBroadcastStopped=function(){this.ee.emitEvent("broadcastStopped",[])},t.prototype.onFilterEventDispatched=function(e){var t=this,n=e.connectionId;this.getConnection(n,"No connection found for connectionId "+n).then((function(n){I.info('Filter event of type "'.concat(e.eventType,'" dispatched'));var r=n.stream;if(!r||!r.filter)return I.error('Filter event of type "'.concat(e.eventType,'" dispatched for stream ').concat(r.streamId," but there is no ").concat(r?"filter":"stream"," defined"));var o=r.filter.handlers.get(e.eventType);if(!o||"function"!==typeof o){var i=Array.from(r.filter.handlers.keys());return I.error('Filter event of type "'.concat(e.eventType,'" not handled or not a function! Active filter events: ').concat(i.join(",")))}o.call(t,new p.FilterEvent(r.filter,e.eventType,e.data))}))},t.prototype.onForciblyReconnectSubscriber=function(e){var t=this;return new Promise((function(n,r){t.getRemoteConnection(e.connectionId,"onForciblyReconnectSubscriber").then((function(o){if(!o.stream||o.stream.streamId!==e.streamId){var i="No stream with streamId '"+e.streamId+"' found for connection '"+e.connectionId+"' on 'streamPropertyChanged' event";return I.error(i),r(i)}var a=o.stream;if(a.setupReconnectionEventEmitter(n,r)){if(null!=a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent)return a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=e,r("Ongoing forced subscriber reconnection");a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=e;var s=function(){var e=a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,t.onForciblyReconnectSubscriber(e)};return a.reconnectionEventEmitter.once("success",(function(){s()})),void a.reconnectionEventEmitter.once("error",(function(){s()}))}a.completeWebRtcPeerReceive(!0,!0,e.sdpOffer).then((function(){return a.finalResolveForSubscription(!0,n)})).catch((function(t){return a.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(e.streamId,": ").concat(t.toString()),r)}))})).catch((function(e){return I.error(e),r(e)}))}))},t.prototype.reconnectBrokenStreams=function(){I.info("Re-establishing media connections...");var e=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(I.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),e=!0),this.remoteConnections.forEach((function(t){t.stream&&t.stream.streamIceConnectionStateBroken()&&(I.warn("Re-establishing Subscriber "+t.stream.streamId),t.stream.initWebRtcPeerReceive(!0),e=!0)})),e||I.info("There were no media streams in need of a reconnection")},t.prototype.onSpeechToTextMessage=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.getConnection(e.connectionId,"No connection found for connectionId "+e.connectionId)];case 1:return t=r.sent(),n=new g.SpeechToTextEvent(this,t,e.text,e.reason.toLowerCase(),e.raw,e.lang),this.ee.emitEvent("speechToTextMessage",[n]),[2]}}))}))},t.prototype.onSpeechToTextDisconnected=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return this.emitEvent("exception",[new T.ExceptionEvent(this,T.ExceptionEventName.SPEECH_TO_TEXT_DISCONNECTED,this,e.message)]),[2]}))}))},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.leave=function(e,t){var n=this;if(e=!!e,I.info("Leaving Session (forced="+e+")"),this.stopVideoDataIntervals(),this.connection){if(this.connection.disposed||e?this.openvidu.closeWs():this.openvidu.sendRequest("leaveRoom",(function(e,t){e&&I.error("leaveRoom error: ".concat(JSON.stringify(e))),n.openvidu.closeWs()})),this.stopPublisherStream(t),!this.connection.disposed){var r=new f.SessionDisconnectedEvent(this,t);this.ee.emitEvent("sessionDisconnected",[r]),r.callDefaultBehavior()}}else I.warn("You were not connected to the session "+this.sessionId);I.flush()},t.prototype.initializeParams=function(e){return{token:e||"",session:this.sessionId,platform:a.getDescription()?a.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder(),stt:this.openvidu.getStt()}},t.prototype.sendVideoData=function(e,t,n,r){var s,l,u=this;if(void 0===t&&(t=1),void 0===n&&(n=!1),void 0===r&&(r=1),a.isChromeBrowser()||a.isChromeMobileBrowser()||a.isOperaBrowser()||a.isOperaMobileBrowser()||a.isEdgeBrowser()||a.isEdgeMobileBrowser()||a.isElectron()||a.isSafariBrowser()&&!a.isIonicIos()||a.isAndroidBrowser()||a.isSamsungBrowser()||a.isIonicAndroid()||a.isIOSWithSafari()){var c=function(){return o(u,void 0,void 0,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:return"connected"!==(t=e.stream.getRTCPeerConnection()).connectionState?[3,2]:[4,t.getStats()];case 1:n=o.sent(),r=[],n.forEach((function(e){"frameWidth"in e&&"frameHeight"in e&&0===r.length&&r.push(e)})),r.length>0&&this.openvidu.sendRequest("videoData",{height:r[0].frameHeight,width:r[0].frameWidth,videoActive:null!=e.stream.videoActive&&e.stream.videoActive,audioActive:null!=e.stream.audioActive&&e.stream.audioActive},(function(e,t){e&&I.error("Error sending 'videoData' event",e)})),o.label=2;case 2:return[2]}}))}))};if(n){var d=1;this.videoDataInterval=setInterval((function(){d<r?(d++,c()):clearInterval(u.videoDataInterval)}),1e3*t)}else this.videoDataTimeout=setTimeout(c,1e3*t)}else a.isFirefoxBrowser()||a.isFirefoxMobileBrowser()||a.isIonicIos()||a.isReactNative()?this.openvidu.sendRequest("videoData",{height:(null===(s=e.stream.videoDimensions)||void 0===s?void 0:s.height)||0,width:(null===(l=e.stream.videoDimensions)||void 0===l?void 0:l.width)||0,videoActive:null!=e.stream.videoActive&&e.stream.videoActive,audioActive:null!=e.stream.audioActive&&e.stream.audioActive},(function(e,t){e&&I.error("Error sending 'videoData' event",e)})):I.error("Browser "+a.getName()+" (version "+a.getVersion()+") for "+a.getFamily()+" is not supported in OpenVidu for Network Quality")},t.prototype.sessionConnected=function(){return null!=this.connection},t.prototype.notConnectedError=function(){return new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},t.prototype.anySpeechEventListenerEnabled=function(e,t,n){var r=this.ee.getListeners(e);if(t&&(r=r.filter((function(e){return e.once}))),r.length>0)return!0;var o=0;if(n){var i=n.ee.getListeners(e);t&&(i=i.filter((function(e){return e.once}))),o=i.length}return o>0},t.prototype.getTokenParams=function(e){var t=e.match(/^(wss?)\:\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]},r=e.split("?"),o=decodeURI(r[1]).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{});return{sessionId:o.sessionId,secret:o.secret,recorder:o.recorder,stt:o.stt,webrtcStatsInterval:o.webrtcStatsInterval,sendBrowserLogs:o.sendBrowserLogs,edition:o.edition,wsUri:n.protocol+"://"+n.host+"/openvidu",httpUri:"https://"+n.host}}throw new Error('Token not valid: "'.concat(e,'"'))},t.prototype.connectAux=function(e){var t=this;return new Promise((function(n,r){t.openvidu.startWs((function(o){if(o)return r(o);var i=t.initializeParams(e);t.openvidu.sendRequest("joinRoom",i,(function(o,i){if(o)return r(o);t.processJoinRoomResponse(i,e),t.connection=new s.Connection(t,i);var a={connections:new Array,streams:new Array};return i.value.forEach((function(e){var n=new s.Connection(t,e);t.remoteConnections.set(n.connectionId,n),a.connections.push(n),n.stream&&(t.remoteStreamsCreated.set(n.stream.streamId,!0),a.streams.push(n.stream))})),t.ee.emitEvent("connectionCreated",[new d.ConnectionEvent(!1,t,"connectionCreated",t.connection,"")]),a.connections.forEach((function(e){t.ee.emitEvent("connectionCreated",[new d.ConnectionEvent(!1,t,"connectionCreated",e,"")])})),a.streams.forEach((function(e){t.ee.emitEvent("streamCreated",[new y.StreamEvent(!1,t,"streamCreated",e,"")])})),i.recordingId&&i.recordingName&&t.ee.emitEvent("recordingStarted",[new h.RecordingEvent(t,"recordingStarted",i.recordingId,i.recordingName)]),n()}))}))}))},t.prototype.stopPublisherStream=function(e){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[e]))},t.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},t.prototype.stringClientMetadata=function(e){return"string"!==typeof e?JSON.stringify(e):e},t.prototype.getConnection=function(e,t){var n=this;return new Promise((function(r,o){var i=n.remoteConnections.get(e);return i?r(i):n.connection.connectionId===e?r(n.connection):o(new w.OpenViduError(w.OpenViduErrorName.GENERIC_ERROR,t))}))},t.prototype.getRemoteConnection=function(e,t){var n=this;return new Promise((function(r,o){var i=n.remoteConnections.get(e);if(i)return r(i);var a="Remote connection "+e+" unknown when '"+t+"'. Existing remote connections: "+JSON.stringify(n.remoteConnections.keys());return o(new w.OpenViduError(w.OpenViduErrorName.GENERIC_ERROR,a))}))},t.prototype.processToken=function(e){var t=this.getTokenParams(e);this.sessionId=t.sessionId,t.secret&&(this.openvidu.secret=t.secret),t.recorder&&(this.openvidu.recorder=!0),t.stt&&(this.openvidu.stt=!0),t.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=t.webrtcStatsInterval),t.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=t.sendBrowserLogs),this.openvidu.isAtLeastPro="pro"===t.edition||"enterprise"===t.edition,this.openvidu.isEnterprise="enterprise"===t.edition,this.openvidu.wsUri=t.wsUri,this.openvidu.httpUri=t.httpUri},t.prototype.processJoinRoomResponse=function(e,t){if(this.sessionId=e.session,null!=e.customIceServers&&e.customIceServers.length>0){this.openvidu.iceServers=[];for(var n=0,r=e.customIceServers;n<r.length;n++){var o=r[n],i={urls:[o.url]};I.log("STUN/TURN server IP: "+o.url),null!=o.username&&null!=o.credential&&(i.username=o.username,i.credential=o.credential,I.log("TURN credentials ["+o.username+":"+o.credential+"]")),this.openvidu.iceServers.push(i)}}this.openvidu.role=e.role,this.openvidu.finalUserId=e.finalUserId,this.openvidu.mediaServer=e.mediaServer,this.openvidu.videoSimulcast=e.videoSimulcast,this.capabilities={subscribe:!0,publish:"SUBSCRIBER"!==this.openvidu.role,forceUnpublish:"MODERATOR"===this.openvidu.role,forceDisconnect:"MODERATOR"===this.openvidu.role},I.info("openvidu-server version: "+e.version),null!=e.life&&(this.openvidu.life=e.life);var a=E(e.version)-E(this.openvidu.libraryVersion);k(e.version)!==k(this.openvidu.libraryVersion)||0!=a&&1!=a?I.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(e.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):1==a&&I.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(e.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(k(e.version),".").concat(E(e.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),S.OpenViduLogger.configureJSNLog(this.openvidu,t),this.token=t},t}(c.EventDispatcher);t.Session=O},46980:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;var i,a=n(49090),s=n(37570),l=n(55524),u=n(56300),c=n(59906),d=n(88835),p=n(28240),h=n(41452),f=n(43306),m=n(69978),g=n(41472),y=n(6478),v=n(87726),b=n(15642),x=n(85865),w=g.OpenViduLogger.getInstance(),A=function(){function e(e,t){var n=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new x,i=y.PlatformUtils.getInstance(),this.session=e,t.hasOwnProperty("id")?(this.inboundStreamOpts=t,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=-1===this.inboundStreamOpts.frameRate?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&0===Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=t,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,"undefined"!==typeof MediaStreamTrack&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=m.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?m.TypeOfVideo.SCREEN:m.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",(function(){var e;n.streamManager.updateMediaStream(n.mediaStream),w.debug("Video srcObject ["+(null===(e=n.mediaStream)||void 0===e?void 0:e.id)+"] updated in stream ["+n.streamId+"]")}))}return e.prototype.reconnect=function(){return this.reconnectStream("API")},e.prototype.applyFilter=function(e,t){var n=this;return new Promise((function(i,s){return r(n,void 0,void 0,(function(){var n,l,u,c,d,p,m=this;return o(this,(function(g){if(this.filter)return[2,s(new f.OpenViduError(f.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(n=function(n,r){if(n)return w.error("Error applying filter for Stream "+m.streamId,n),401===n.code?s(new f.OpenViduError(f.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):s(n);w.info("Filter successfully applied on Stream "+m.streamId);var o=m.filter;return m.filter=new a.Filter(e,t),m.filter.stream=m,r&&(m.session.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(m.session,m,"filter",m.filter,o,"applyFilter")]),m.streamManager.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(m.streamManager,m,"filter",m.filter,o,"applyFilter")])),i(m.filter)},e.startsWith("VB:")){if(!this.hasVideo)return[2,s(new f.OpenViduError(f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||0===this.streamManager.videos.length)return[2,s(new f.OpenViduError(f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(!(l=this.session.token?this.session.token:t.token))return[2,s(new f.OpenViduError(f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if("pro"!==(u=this.session.getTokenParams(l)).edition&&"enterprise"!==u.edition)return[2,s(new f.OpenViduError(f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];l=encodeURIComponent(btoa(l)),w.info("Applying Virtual Background to stream "+this.streamId),c=function(){return r(m,void 0,void 0,(function(){var r,i,a,s,c,d;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),r=this.streamId+"_"+(0,v.v4)(),i=this.mediaStream.clone(),(a=this.streamManager.videos[0].video.cloneNode(!1)).id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+r,a.srcObject=i,a.muted=!0,this.virtualBackgroundSourceElements={videoClone:a,mediaStreamClone:i},VirtualBackground.VirtualBackground.hideHtmlElement(a,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(a,r),[4,a.play()];case 1:switch(o.sent(),s=new VirtualBackground.VirtualBackground({id:r,openviduServerUrl:new URL(u.httpUri),openviduToken:l,inputVideo:a,inputResolution:"160x96",outputFramerate:24}),c=void 0,e){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,s.backgroundBlur(t)];case 3:case 5:return c=o.sent(),[3,7];case 4:return[4,s.backgroundImage(t)];case 6:throw new Error("Unknown Virtual Background filter: "+e);case 7:return this.virtualBackgroundSinkElements={VB:s,video:c},a.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),n(void 0,!1),[3,9];case 8:return(d=o.sent()).name===f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?n(new f.OpenViduError(f.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,d.message),!1):n(d,!1),[3,9];case 9:return[2]}}))}))},"undefined"===typeof VirtualBackground?((d=document.createElement("script")).type="text/javascript",d.src=u.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+l,d.onload=function(){return r(m,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c()];case 1:return r.sent(),i(new a.Filter(e,t)),[3,3];case 2:return n=r.sent(),s(n),[3,3];case 3:return[2]}}))}))},document.body.appendChild(d)):c().then((function(){return i(new a.Filter(e,t))})).catch((function(e){return s(e)}))}else{if(!this.session.sessionConnected())return[2,s(this.session.notConnectedError())];w.info("Applying server filter to stream "+this.streamId),"string"!==typeof(p=t=null!=t?t:{})&&(p=JSON.stringify(p)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:e,options:p},(function(e,t){n(e,!0)}))}return[2]}))}))}))},e.prototype.removeFilter=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,e.sent()]}}))}))},e.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},e.prototype.getMediaStream=function(){return this.mediaStream},e.prototype.removeFilterAux=function(e){var t=this;return new Promise((function(n,i){return r(t,void 0,void 0,(function(){var t,r,a,s,l=this;return o(this,(function(o){switch(o.label){case 0:if(t=function(e,t){if(e)return delete l.filter,w.error("Error removing filter for Stream "+l.streamId,e),401===e.code?i(new f.OpenViduError(f.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):i(e);w.info("Filter successfully removed from Stream "+l.streamId);var r=l.filter;return delete l.filter,t&&(l.session.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(l.session,l,"filter",l.filter,r,"applyFilter")]),l.streamManager.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(l.streamManager,l,"filter",l.filter,r,"applyFilter")])),n()},!this.filter)return[3,11];if(!(null===(s=this.filter)||void 0===s?void 0:s.type.startsWith("VB:")))return[3,9];o.label=1;case 1:return o.trys.push([1,7,,8]),r=this.virtualBackgroundSourceElements.mediaStreamClone,e?[3,5]:this.streamManager.remote?(this.streamManager.replaceTrackInMediaStream(r.getVideoTracks()[0],!1),[3,4]):[3,2];case 2:return[4,this.streamManager.replaceTrackAux(r.getVideoTracks()[0],!1)];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:r.getTracks().forEach((function(e){return e.stop()})),o.label=6;case 6:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,t(void 0,!1)];case 7:return a=o.sent(),[2,t(a,!1)];case 8:return[3,10];case 9:if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];w.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},(function(e,n){return t(e,!0)})),o.label=10;case 10:return[3,12];case 11:return[2,i(new f.OpenViduError(f.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 12:return[2]}}))}))}))},e.prototype.setMediaStream=function(e){this.mediaStream=e},e.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},e.prototype.getWebRtcPeer=function(){return this.webRtcPeer},e.prototype.subscribeToMyRemote=function(e){this.isSubscribeToRemote=e},e.prototype.setOutboundStreamOptions=function(e){this.outboundStreamOpts=e},e.prototype.subscribe=function(){var e=this;return new Promise((function(t,n){e.initWebRtcPeerReceive(!1).then((function(){return t()})).catch((function(e){return n(e)}))}))},e.prototype.publish=function(){var e=this;return new Promise((function(t,n){e.isLocalStreamReadyToPublish?e.initWebRtcPeerSend(!1).then((function(){return t()})).catch((function(e){return n(e)})):e.ee.once("stream-ready-to-publish",(function(){e.publish().then((function(){return t()})).catch((function(e){return n(e)}))}))}))},e.prototype.disposeWebRtcPeer=function(){var e;this.webRtcPeer&&(this.webRtcPeer.dispose(),e=this.webRtcPeer.getId()),this.stopWebRtcStats(),w.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+e+"] from 'Stream' with id ["+this.streamId+"] is now closed")},e.prototype.disposeMediaStream=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:if(!this.filter||!this.filter.type.startsWith("VB:"))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return t.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return e=t.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),e),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach((function(e){e.stop()})),this.mediaStream.getVideoTracks().forEach((function(e){e.stop()})),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach((function(e){e.stop()})),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach((function(e){e.stop()})),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),w.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}}))}))},e.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},e.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.audioSource&&!1!==this.outboundStreamOpts.publisherProperties.audioSource},e.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.videoSource&&!1!==this.outboundStreamOpts.publisherProperties.videoSource},e.prototype.isSendScreen=function(){var e=!1;if("undefined"!==typeof MediaStreamTrack&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack){var t=this.outboundStreamOpts.publisherProperties.videoSource.getSettings();t.displaySurface&&(e=["monitor","window","browser"].includes(t.displaySurface))}return!e&&i.isElectron()&&(e="string"===typeof this.outboundStreamOpts.publisherProperties.videoSource&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),e||(e="screen"===this.outboundStreamOpts.publisherProperties.videoSource),!!this.outboundStreamOpts&&e},e.prototype.enableHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",(function(){e.session.emitEvent("publisherStartSpeaking",[new d.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new d.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)]),e.harkSpeakingEnabledOnce=!1})))},e.prototype.enableOnceHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",(function(){e.harkSpeakingEnabledOnce&&(e.session.emitEvent("publisherStartSpeaking",[new d.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new d.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)])),e.disableHarkSpeakingEvent(!0)})))},e.prototype.disableHarkSpeakingEvent=function(e){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,e){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",(function(){e.session.emitEvent("publisherStopSpeaking",[new d.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new d.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)]),e.harkStoppedSpeakingEnabledOnce=!1})))},e.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",(function(){e.harkStoppedSpeakingEnabledOnce&&(e.session.emitEvent("publisherStopSpeaking",[new d.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new d.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)])),e.disableHarkStoppedSpeakingEvent(!0)})))},e.prototype.disableHarkStoppedSpeakingEvent=function(e){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,e){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkVolumeChangeEvent=function(e){var t=this;this.setHarkListenerIfNotExists()?this.harkVolumeChangeEnabled&&!e||(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",(function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.streamManager.emitEvent("streamAudioVolumeChange",[new p.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])}))):this.harkVolumeChangeEnabled=!0},e.prototype.enableOnceHarkVolumeChangeEvent=function(e){var t=this;this.setHarkListenerIfNotExists()?this.harkVolumeChangeEnabledOnce&&!e||(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",(function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.disableHarkVolumeChangeEvent(!0),t.streamManager.emitEvent("streamAudioVolumeChange",[new p.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])}))):this.harkVolumeChangeEnabledOnce=!0},e.prototype.disableHarkVolumeChangeEvent=function(e){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,e){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},e.prototype.getSelectedIceCandidate=function(){var e=this;return new Promise((function(t,n){e.webRtcStats.getSelectedIceCandidateInfo().then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},e.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},e.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},e.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return w.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var e=this.getRTCPeerConnection().iceConnectionState;return"connected"!==e&&"completed"!==e},e.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var e=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};e.interval="number"===typeof e.interval?e.interval:100,e.threshold="number"===typeof e.threshold?e.threshold:-50,this.speechEvent=b(this.mediaStream,e)}return!0}return!1},e.prototype.setupReconnectionEventEmitter=function(e,t){return void 0==this.reconnectionEventEmitter?(this.reconnectionEventEmitter=new x,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",(function(){return e()})),this.reconnectionEventEmitter.once("error",(function(e){return t(e)})),!0)},e.prototype.initWebRtcPeerSend=function(e){var t=this;return new Promise((function(n,r){var o;if(e){if(t.setupReconnectionEventEmitter(n,r))return}else t.initHarkEvents();var i=function(n){var o;return e&&(null===(o=t.reconnectionEventEmitter)||void 0===o||o.emitEvent("error",[n]),delete t.reconnectionEventEmitter),r(n)},a=function(r){w.debug("Sending SDP offer to publish as "+t.streamId,r);var o,a=e?"reconnectStream":"publishVideo";if(e)o={stream:t.streamId,sdpString:r};else{var s=void 0;t.isSendVideo()&&(s="undefined"!==typeof MediaStreamTrack&&t.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?m.TypeOfVideo.CUSTOM:t.isSendScreen()?m.TypeOfVideo.SCREEN:m.TypeOfVideo.CAMERA),o={doLoopback:t.displayMyRemote()||!1,hasAudio:t.isSendAudio(),hasVideo:t.isSendVideo(),audioActive:t.audioActive,videoActive:t.videoActive,typeOfVideo:s,frameRate:t.frameRate?t.frameRate:-1,videoDimensions:JSON.stringify(t.videoDimensions),filter:t.outboundStreamOpts.publisherProperties.filter,sdpOffer:r}}t.session.openvidu.sendRequest(a,o,(function(r,o){r?401===r.code?i(new f.OpenViduError(f.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):i("Error on publishVideo: "+JSON.stringify(r)):t.webRtcPeer.processRemoteAnswer(o.sdpAnswer).then((function(){t.streamId=o.id,t.creationTime=o.createdAt,t.isLocalStreamPublished=!0,t.publishedOnce=!0,t.displayMyRemote()&&(t.localMediaStreamWhenSubscribedToRemote=t.mediaStream,t.remotePeerSuccessfullyEstablished(e)),e?t.ee.emitEvent("stream-reconnected-by-publisher",[]):t.ee.emitEvent("stream-created-by-publisher",[]),t.initWebRtcStats(),w.info("'Publisher' ("+t.streamId+") successfully "+(e?"reconnected":"published")+" to session"),function(){var r;e&&(null===(r=t.reconnectionEventEmitter)||void 0===r||r.emitEvent("success"),delete t.reconnectionEventEmitter),n()}()})).catch((function(e){i(e)}))}))},s={mediaConstraints:{audio:t.hasAudio,video:t.hasVideo},simulcast:null!==(o=t.outboundStreamOpts.publisherProperties.videoSimulcast)&&void 0!==o?o:t.session.openvidu.videoSimulcast,onIceCandidate:t.connection.sendIceCandidate.bind(t.connection),onIceConnectionStateException:t.onIceConnectionStateExceptionHandler.bind(t),iceServers:t.getIceServersConf(),rtcConfiguration:t.session.openvidu.advancedConfiguration.rtcConfiguration,mediaStream:t.mediaStream,mediaServer:t.session.openvidu.mediaServer,typeOfVideo:t.typeOfVideo?m.TypeOfVideo[t.typeOfVideo]:void 0};"mediasoup"!==t.session.openvidu.mediaServer&&(s.simulcast=!1),e&&t.disposeWebRtcPeer(),t.displayMyRemote()?t.webRtcPeer=new l.WebRtcPeerSendrecv(s):t.webRtcPeer=new l.WebRtcPeerSendonly(s),t.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+t.connection.connectionId),t.webRtcPeer.createOffer().then((function(e){t.webRtcPeer.processLocalOffer(e).then((function(){a(e.sdp)})).catch((function(e){i(new Error("(publish) SDP process local offer error: "+JSON.stringify(e)))}))})).catch((function(e){i(new Error("(publish) SDP create offer error: "+JSON.stringify(e)))}))}))},e.prototype.finalResolveForSubscription=function(e,t){var n;return w.info("'Subscriber' ("+this.streamId+") successfully "+(e?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(e),this.initWebRtcStats(),e&&(null===(n=this.reconnectionEventEmitter)||void 0===n||n.emitEvent("success"),delete this.reconnectionEventEmitter),t()},e.prototype.finalRejectForSubscription=function(e,t,n){var r;return w.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(e?"reconnect":"subscribe")+": "+t.toString()),e&&(null===(r=this.reconnectionEventEmitter)||void 0===r||r.emitEvent("error",[t]),delete this.reconnectionEventEmitter),n(t)},e.prototype.initWebRtcPeerReceive=function(e){var t=this;return new Promise((function(n,r){e&&t.setupReconnectionEventEmitter(n,r)||("mediasoup"===t.session.openvidu.mediaServer?t.initWebRtcPeerReceiveFromServer(e).then((function(){return t.finalResolveForSubscription(e,n)})).catch((function(n){return t.finalRejectForSubscription(e,n,r)})):t.initWebRtcPeerReceiveFromClient(e).then((function(){return t.finalResolveForSubscription(e,n)})).catch((function(n){return t.finalRejectForSubscription(e,n,r)})))}))},e.prototype.initWebRtcPeerReceiveFromClient=function(e){var t=this;return new Promise((function(n,r){t.completeWebRtcPeerReceive(e,!1).then((function(e){t.webRtcPeer.processRemoteAnswer(e.sdpAnswer).then((function(){return n()})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))},e.prototype.initWebRtcPeerReceiveFromServer=function(e){var t=this;return new Promise((function(n,r){t.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:t.streamId,reconnect:e},(function(o,i){if(o)return r(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(o)));t.completeWebRtcPeerReceive(e,!1,i.sdpOffer).then((function(){return n()})).catch((function(e){return r(e)}))}))}))},e.prototype.completeWebRtcPeerReceive=function(e,t,n){var r=this;return new Promise((function(o,i){w.debug("'Session.subscribe(Stream)' called");var a=function(a){w.debug("Sending local SDP ".concat(n?"answer":"offer"," to subscribe to ").concat(r.streamId),a);var s=e?"reconnectStream":"receiveVideoFrom",l={};l[e?"stream":"sender"]=r.streamId,n?l[e?"sdpString":"sdpAnswer"]=a:l.sdpOffer=a,e&&(l.forciblyReconnect=t),r.session.openvidu.sendRequest(s,l,(function(e,t){return e?i(new Error("Error on "+s+" : "+JSON.stringify(e))):o(t)}))},s={mediaConstraints:{audio:r.hasAudio,video:r.hasVideo},simulcast:!1,onIceCandidate:r.connection.sendIceCandidate.bind(r.connection),onIceConnectionStateException:r.onIceConnectionStateExceptionHandler.bind(r),iceServers:r.getIceServersConf(),rtcConfiguration:r.session.openvidu.advancedConfiguration.rtcConfiguration,mediaServer:r.session.openvidu.mediaServer,typeOfVideo:r.typeOfVideo?m.TypeOfVideo[r.typeOfVideo]:void 0};e&&r.disposeWebRtcPeer(),r.webRtcPeer=new l.WebRtcPeerRecvonly(s),r.webRtcPeer.addIceConnectionStateChangeListener(r.streamId),n?r.webRtcPeer.processRemoteOffer(n).then((function(){r.webRtcPeer.createAnswer().then((function(e){r.webRtcPeer.processLocalAnswer(e).then((function(){a(e.sdp)})).catch((function(e){return i(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(e)))}))})).catch((function(e){return i(new Error("(subscribe) SDP create answer error: "+JSON.stringify(e)))}))})).catch((function(e){return i(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(e)))})):r.webRtcPeer.createOffer().then((function(e){r.webRtcPeer.processLocalOffer(e).then((function(){a(e.sdp)})).catch((function(e){return i(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(e)))}))})).catch((function(e){return i(new Error("(subscribe) SDP create offer error: "+JSON.stringify(e)))}))}))},e.prototype.remotePeerSuccessfullyEstablished=function(e){var t;e&&null!=this.mediaStream&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var n=0,r=this.webRtcPeer.pc.getReceivers();n<r.length;n++)(t=r[n]).track&&this.mediaStream.addTrack(t.track);if(w.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof s.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var o=e?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=o}if(this.mediaStream.getVideoTracks()[0]){o=e?this.videoActive:!!this.videoActive&&!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=o}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},e.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},e.prototype.onIceConnectionStateExceptionHandler=function(e,t,n){switch(e){case c.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case c.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected()}this.session.emitEvent("exception",[new c.ExceptionEvent(this.session,e,this,t,n)])},e.prototype.onIceConnectionFailed=function(){w.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState(c.ExceptionEventName.ICE_CONNECTION_FAILED)},e.prototype.onIceConnectionDisconnected=function(){var e=this;w.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var t=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(t).then((function(n){switch(n){case"failed":w.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":w.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(n));break;case"closed":case"checking":case"new":case"disconnected":w.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(t," ms: ").concat(n)),e.reconnectStreamAndLogResultingIceConnectionState(c.ExceptionEventName.ICE_CONNECTION_DISCONNECTED)}}))},e.prototype.reconnectStreamAndLogResultingIceConnectionState=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(e)];case 1:switch(t=r.sent()){case"connected":case"completed":w.log("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(e,". Current ICE connection state: ").concat(t));break;default:w.error("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(e,". Current ICE connection state: ").concat(t))}return[3,3];case 2:return n=r.sent(),w.error("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(e,": ").concat(n)),[3,3];case 3:return[2]}}))}))},e.prototype.reconnectStreamAndReturnIceConnectionState=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:w.log("[".concat(e,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(e)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.reconnectStream(e)];case 2:return r.sent(),t=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(t)];case 3:return n=r.sent(),w.warn("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(n)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}}))}))},e.prototype.awaitWebRtcPeerConnectionState=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:t=this.getRTCPeerConnection().iceConnectionState,n=150,r=Math.ceil(e/n),i=0,o.label=1;case 1:return i<r?"connected"===(t=this.getRTCPeerConnection().iceConnectionState)||"completed"===t?[3,4]:[4,new Promise((function(e){return setTimeout(e,n)}))]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2,t]}}))}))},e.prototype.reconnectStream=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebsocketConnected(e,3e3)];case 1:if(n.sent())return w.log("[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw t="[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),w.error(t),Error(t)}}))}))},e.prototype.isWebsocketConnected=function(e,t){var n=this;return new Promise((function(r,o){var i=n.session.openvidu.getWsReadyState();if(1!==i)return console.warn("[".concat(e,"] Websocket readyState is ").concat(i)),r(!1);var a=setTimeout((function(){return console.warn("[".concat(e,"] Websocket timeout of ").concat(t,"ms")),r(!1)}),t);n.session.openvidu.sendRequest("echo",{},(function(t,n){return clearTimeout(a),t?(console.warn("[".concat(e,"] Websocket 'echo' returned error: ").concat(t)),r(!1)):r(!0)}))}))},e.prototype.initWebRtcStats=function(){this.webRtcStats=new u.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},e.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},e.prototype.getIceServersConf=function(){var e;return this.session.openvidu.advancedConfiguration.iceServers?"freeice"===this.session.openvidu.advancedConfiguration.iceServers?void 0:this.session.openvidu.advancedConfiguration.iceServers:(null===(e=this.session.openvidu.advancedConfiguration.rtcConfiguration)||void 0===e?void 0:e.iceServers)?this.session.openvidu.advancedConfiguration.rtcConfiguration.iceServers:this.session.openvidu.iceServers?this.session.openvidu.iceServers:void 0},e.prototype.gatherStatsForPeer=function(){var e=this;return new Promise((function(t,n){e.isLocal()?e.getRTCPeerConnection().getSenders().forEach((function(t){return t.getStats().then((function(t){t.forEach((function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"outbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,t.kind?n.mediaType=t.kind:t.mediaType?n.mediaType=t.mediaType:n.mediaType=-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesEncoded=t.framesEncoded),n.packetsSent=t.packetsSent,n.bytesSent=t.bytesSent),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),"remote-inbound-rtp"===t.type||t.type,w.log(n)}}))}))})):e.getRTCPeerConnection().getReceivers().forEach((function(t){return t.getStats().then((function(t){t.forEach((function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"inbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,t.kind?n.mediaType=t.kind:t.mediaType?n.mediaType=t.mediaType:n.mediaType=-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesDecoded=t.framesDecoded),n.packetsReceived=t.packetsReceived,n.packetsLost=t.packetsLost,n.jitter=t.jitter,n.bytesReceived=t.bytesReceived),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableIncomingBitrate=t.availableIncomingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),"remote-inbound-rtp"===t.type||t.type,w.log(n)}}))}))}))}))},e.prototype.isReportWanted=function(e){return"inbound-rtp"===e.type&&!this.isLocal()||"outbound-rtp"===e.type&&this.isLocal()||"candidate-pair"===e.type&&e.nominated&&e.bytesSent>0},e}();t.Stream=A},23777:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManager=void 0;var o,i=n(76855),a=n(28240),s=n(53722),l=n(59906),u=n(75907),c=n(41472),d=n(6478),p=c.OpenViduLogger.getInstance(),h=function(e){function t(t,n){var r=e.call(this)||this;if(r.videos=[],r.lazyLaunchVideoElementCreatedEvent=!1,o=d.PlatformUtils.getInstance(),r.stream=t,r.stream.streamManager=r,r.remote=!r.stream.isLocal(),n){var i=void 0;"string"===typeof n?i=document.getElementById(n):n instanceof HTMLElement&&(i=n),i&&(r.firstVideoElement={targetElement:i,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(o.isSafariBrowser()||o.isIPhoneOrIPad()&&(o.isChromeMobileBrowser()||o.isEdgeMobileBrowser()||o.isOperaMobileBrowser()||o.isFirefoxMobileBrowser()))&&(r.firstVideoElement.video.playsInline=!0),r.targetElement=i,r.element=i)}return r.canPlayListener=function(){r.deactivateStreamPlayingEventExceptionTimeout(),r.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(r,"streamPlaying",void 0)])},r}return r(t,e),t.prototype.on=function(t,n){return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),"streamPlaying"===t&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&("publisherStartSpeaking"===t&&this.stream.enableHarkSpeakingEvent(),"publisherStopSpeaking"===t&&this.stream.enableHarkStoppedSpeakingEvent(),"streamAudioVolumeChange"===t&&this.stream.enableHarkVolumeChangeEvent(!1)),this},t.prototype.once=function(t,n){return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),"streamPlaying"===t&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&("publisherStartSpeaking"===t&&this.stream.enableOnceHarkSpeakingEvent(),"publisherStopSpeaking"===t&&this.stream.enableOnceHarkStoppedSpeakingEvent(),"streamAudioVolumeChange"===t&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},t.prototype.off=function(t,n){(e.prototype.offAux.call(this,t,n),"publisherStartSpeaking"===t)&&(0===this.ee.getListeners(t).length+this.stream.session.ee.getListeners(t).length&&this.stream.disableHarkSpeakingEvent(!1));"publisherStopSpeaking"===t&&(0===this.ee.getListeners(t).length+this.stream.session.ee.getListeners(t).length&&this.stream.disableHarkStoppedSpeakingEvent(!1));"streamAudioVolumeChange"===t&&(0===this.ee.getListeners(t).length&&this.stream.disableHarkVolumeChangeEvent(!1));return this},t.prototype.addVideoElement=function(e){this.initializeVideoProperties(e),!this.remote&&this.stream.displayMyRemote()&&e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream());for(var t=0,n=this.videos;t<n.length;t++){if(n[t].video===e)return 0}for(var r=1,o=0,i=this.stream.session.streamManagers;o<i.length;o++){if(i[o].disassociateVideo(e)){r=-1;break}}return this.stream.session.streamManagers.forEach((function(t){t.disassociateVideo(e)})),this.pushNewStreamManagerVideo({video:e,id:e.id,canplayListenerAdded:!1}),p.info("New video element associated to ",this),r},t.prototype.createVideoElement=function(e,t){var n;if("string"===typeof e){if(!(n=document.getElementById(e)))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e)}else{if(!(e instanceof HTMLElement))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e);n=e}var r=this.createVideo();this.initializeVideoProperties(r);var o=t||u.VideoInsertMode.APPEND;switch(o){case u.VideoInsertMode.AFTER:n.parentNode.insertBefore(r,n.nextSibling);break;case u.VideoInsertMode.APPEND:n.appendChild(r);break;case u.VideoInsertMode.BEFORE:n.parentNode.insertBefore(r,n);break;case u.VideoInsertMode.PREPEND:n.insertBefore(r,n.childNodes[0]);break;case u.VideoInsertMode.REPLACE:n.parentNode.replaceChild(r,n);break;default:o=u.VideoInsertMode.APPEND,n.appendChild(r)}var i={targetElement:n,video:r,insertMode:o,id:r.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(i),this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(i.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,r},t.prototype.updatePublisherSpeakingEventsOptions=function(e){var t=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},n="number"===typeof e.interval?e.interval:"number"===typeof t.interval?t.interval:100,r="number"===typeof e.threshold?e.threshold:"number"===typeof t.threshold?t.threshold:-50;this.stream.harkOptions={interval:n,threshold:r},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(n),this.stream.speechEvent.setThreshold(r))},t.prototype.initializeVideoProperties=function(e){!this.remote&&this.stream.displayMyRemote()||e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream()),e.autoplay=!0,e.controls=!1,(o.isSafariBrowser()||o.isIPhoneOrIPad()&&(o.isChromeMobileBrowser()||o.isEdgeMobileBrowser()||o.isOperaMobileBrowser()||o.isFirefoxMobileBrowser()))&&(e.playsInline=!0),e.id||(e.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=e.id)),this.remote&&this.isMirroredVideo(e)?this.removeMirrorVideo(e):this.remote||this.stream.displayMyRemote()||(e.muted=!0,this.isMirroredVideo(e)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(e):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(e))},t.prototype.removeAllVideos=function(){for(var e=this,t=this.stream.session.streamManagers.length-1;t>=0;--t)this.stream.session.streamManagers[t]===this&&this.stream.session.streamManagers.splice(t,1);this.videos.forEach((function(t){t.video&&t.video.removeEventListener&&t.video.removeEventListener("canplay",e.canPlayListener),t.canplayListenerAdded=!1,t.targetElement&&(t.video.parentNode.removeChild(t.video),e.ee.emitEvent("videoElementDestroyed",[new s.VideoElementEvent(t.video,e,"videoElementDestroyed")])),e.removeSrcObject(t),e.videos=e.videos.filter((function(e){return!e.targetElement}))}))},t.prototype.disassociateVideo=function(e){for(var t=!1,n=0;n<this.videos.length;n++)if(this.videos[n].video===e){this.videos[n].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(n,1),t=!0,p.info("Video element disassociated from ",this);break}return t},t.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},t.prototype.updateMediaStream=function(e){this.videos.forEach((function(t){if(t.video.srcObject=e,o.isIonicIos()){var n=t.video.parentElement,r=t.video;n.replaceChild(r,t.video),t.video=r}}))},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.createVideo=function(){return document.createElement("video")},t.prototype.removeSrcObject=function(e){e.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},t.prototype.pushNewStreamManagerVideo=function(e){this.videos.push(e),this.addPlayEventToFirstVideo(),-1===this.stream.session.streamManagers.indexOf(this)&&this.stream.session.streamManagers.push(this)},t.prototype.mirrorVideo=function(e){o.isIonicIos()||(e.style.transform="rotateY(180deg)",e.style.webkitTransform="rotateY(180deg)")},t.prototype.removeMirrorVideo=function(e){e.style.transform="unset",e.style.webkitTransform="unset"},t.prototype.isMirroredVideo=function(e){return"rotateY(180deg)"===e.style.transform||"rotateY(180deg)"===e.style.webkitTransform},t.prototype.activateStreamPlayingEventExceptionTimeout=function(){var e=this;if(this.remote&&null==this.streamPlayingEventExceptionTimeout){var t=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout((function(){var n="StreamManager of Stream "+e.stream.streamId+" ("+(e.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+t+" ms";p.warn(n),e.stream.session.emitEvent("exception",[new l.ExceptionEvent(e.stream.session,l.ExceptionEventName.NO_STREAM_PLAYING_EVENT,e,n)]),delete e.streamPlayingEventExceptionTimeout}),t)}},t.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},t}(i.EventDispatcher);t.StreamManager=h},37570:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Subscriber=void 0;var o=n(23777),i=n(41472).OpenViduLogger.getInstance(),a=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.element=o.targetElement,o.stream=t,o.properties=r,o}return r(t,e),t.prototype.subscribeToAudio=function(e){return this.stream.getMediaStream().getAudioTracks().forEach((function(t){t.enabled=e})),this.stream.audioActive=e,i.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its audio stream"),this},t.prototype.subscribeToVideo=function(e){return this.stream.getMediaStream().getVideoTracks().forEach((function(t){t.enabled=e})),this.stream.videoActive=e,i.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its video stream"),this},t.prototype.replaceTrackInMediaStream=function(e,t){var n,r=this.stream.getMediaStream();"video"===e.kind?(n=r.getVideoTracks()[0],t&&(this.stream.lastVideoTrackConstraints=e.getConstraints())):n=r.getAudioTracks()[0],r.removeTrack(n),n.stop(),r.addTrack(e)},t}(o.StreamManager);t.Subscriber=a},58671:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=t.ExceptionEventName=t.ExceptionEvent=t.SpeechToTextEvent=t.NetworkQualityLevelChangedEvent=t.FilterEvent=t.ConnectionPropertyChangedEvent=t.StreamPropertyChangedEvent=t.VideoElementEvent=t.StreamManagerEvent=t.StreamEvent=t.SignalEvent=t.SessionDisconnectedEvent=t.RecordingEvent=t.PublisherSpeakingEvent=t.ConnectionEvent=t.Event=t.VideoInsertMode=t.TypeOfVideo=t.OpenViduErrorName=t.OpenViduError=t.LocalRecorderState=t.Filter=t.LocalRecorder=t.Connection=t.Stream=t.StreamManager=t.Subscriber=t.Publisher=t.Session=t.OpenVidu=void 0;var i=n(18988),a=n(58646);Object.defineProperty(t,"OpenVidu",{enumerable:!0,get:function(){return a.OpenVidu}});var s=n(27138);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return s.Session}});var l=n(81898);Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return l.Publisher}});var u=n(37570);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return u.Subscriber}});var c=n(23777);Object.defineProperty(t,"StreamManager",{enumerable:!0,get:function(){return c.StreamManager}});var d=n(46980);Object.defineProperty(t,"Stream",{enumerable:!0,get:function(){return d.Stream}});var p=n(60476);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return p.Connection}});var h=n(66039);Object.defineProperty(t,"LocalRecorder",{enumerable:!0,get:function(){return h.LocalRecorder}});var f=n(49090);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return f.Filter}});var m=n(81014);Object.defineProperty(t,"LocalRecorderState",{enumerable:!0,get:function(){return m.LocalRecorderState}});var g=n(43306);Object.defineProperty(t,"OpenViduError",{enumerable:!0,get:function(){return g.OpenViduError}}),Object.defineProperty(t,"OpenViduErrorName",{enumerable:!0,get:function(){return g.OpenViduErrorName}});var y=n(69978);Object.defineProperty(t,"TypeOfVideo",{enumerable:!0,get:function(){return y.TypeOfVideo}});var v=n(75907);Object.defineProperty(t,"VideoInsertMode",{enumerable:!0,get:function(){return v.VideoInsertMode}});var b=n(20153);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return b.Event}});var x=n(43917);Object.defineProperty(t,"ConnectionEvent",{enumerable:!0,get:function(){return x.ConnectionEvent}});var w=n(88835);Object.defineProperty(t,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return w.PublisherSpeakingEvent}});var A=n(69744);Object.defineProperty(t,"RecordingEvent",{enumerable:!0,get:function(){return A.RecordingEvent}});var S=n(50120);Object.defineProperty(t,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return S.SessionDisconnectedEvent}});var C=n(78385);Object.defineProperty(t,"SignalEvent",{enumerable:!0,get:function(){return C.SignalEvent}});var k=n(11193);Object.defineProperty(t,"StreamEvent",{enumerable:!0,get:function(){return k.StreamEvent}});var E=n(28240);Object.defineProperty(t,"StreamManagerEvent",{enumerable:!0,get:function(){return E.StreamManagerEvent}});var T=n(53722);Object.defineProperty(t,"VideoElementEvent",{enumerable:!0,get:function(){return T.VideoElementEvent}});var I=n(41452);Object.defineProperty(t,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return I.StreamPropertyChangedEvent}});var O=n(6912);Object.defineProperty(t,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return O.ConnectionPropertyChangedEvent}});var R=n(24955);Object.defineProperty(t,"FilterEvent",{enumerable:!0,get:function(){return R.FilterEvent}});var N=n(62414);Object.defineProperty(t,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return N.NetworkQualityLevelChangedEvent}});var _=n(94017);Object.defineProperty(t,"SpeechToTextEvent",{enumerable:!0,get:function(){return _.SpeechToTextEvent}});var P=n(59906);Object.defineProperty(t,"ExceptionEvent",{enumerable:!0,get:function(){return P.ExceptionEvent}}),Object.defineProperty(t,"ExceptionEventName",{enumerable:!0,get:function(){return P.ExceptionEventName}});var M=n(76855);Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return M.EventDispatcher}}),o(n(72174),t),i.JL.setOptions({enabled:!1})},77652:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var o={function:!0,object:!0},i=o[typeof window]&&window||this,a=o[typeof t]&&t,s=o.object&&e&&!e.nodeType&&e,l=a&&s&&"object"==typeof n.g&&n.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(i=l);var u=Math.pow(2,53)-1,c=/\bOpera/,d=Object.prototype,p=d.hasOwnProperty,h=d.toString;function f(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=x(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:f(e)}function g(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?f(e):h.call(e).slice(8,-1)}function v(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=u)for(;++n<r;)t(e[n],n,e);else g(e,t)}(e,(function(r,o){n=t(n,r,o,e)})),n}function x(e){return String(e).replace(/^ +| +$/g,"")}var w=function e(t){var n=i,r=t&&"object"==typeof t&&"String"!=y(t);r&&(n=t,t=null);var o=n.navigator||{},a=o.userAgent||"";t||(t=a);var s,l,u=r?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(h.toString()),d="Object",p=r?d:"ScriptBridgingProxyObject",f=r?d:"Environment",w=r&&n.java?"JavaPackage":y(n.java),A=r?d:"RuntimeObject",S=/\bJava/.test(w)&&n.java,C=S&&y(n.environment)==f,k=S?"a":"\u03b1",E=S?"b":"\u03b2",T=n.document||{},I=n.operamini||n.opera,O=c.test(O=r&&I?I["[[Class]]"]:y(I))?O:I=null,R=t,N=[],_=null,P=t==a,M=P&&I&&"function"==typeof I.version&&I.version(),D=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||v(n))+"\\b","i").exec(t)&&(n.label||n)})),L=function(e){return b(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||v(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),$=B([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),j=function(e){return b(e,(function(e,n,r){return e||(n[$]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+v(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),F=function(e){return b(e,(function(e,n){var r=n.pattern||v(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(e){return b(e,(function(e,n){var r=n.pattern||v(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function V(e){return b(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(D&&(D=[D]),/\bAndroid\b/.test(F)&&!$&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&($=x(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),j&&!$?$=B([j]):j&&$&&($=$.replace(RegExp("^("+v(j)+")[-_.\\s]","i"),j+" ").replace(RegExp("^("+v(j)+")[-_.]?(\\w)","i"),j+" $2")),(s=/\bGoogle TV\b/.exec($))&&($=s[0]),/\bSimulator\b/i.test(t)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==L&&/\bOPiOS\b/.test(t)&&N.push("running in Turbo/Uncompressed mode"),"IE"==L&&/\blike iPhone OS\b/.test(t)?(j=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,$=s.product):/^iP/.test($)?(L||(L="Safari"),F="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==L&&/^Linux\b/i.test(F)?F="Kubuntu":j&&"Google"!=j&&(/Chrome/.test(L)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test($))||/\bAndroid\b/.test(F)&&/^Chrome/.test(L)&&/\bVersion\//i.test(t)?(L="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==L?(/\bMobi/i.test(t)||(F="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&N.unshift("accelerated")):"UC Browser"==L&&/\bUCWEB\b/.test(t)?N.push("speed mode"):"PaleMoon"==L&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?N.push("identifying as Firefox "+s[1]):"Firefox"==L&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(F||(F="Firefox OS"),$||($=s[1])):!L||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(L))?(L&&!$&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(L=null),(s=$||j||F)&&($||j||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(L=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:s)+" Browser")):"Electron"==L&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&N.push("Chromium "+s),M||(M=V(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",v(L),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==D&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(L)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(t)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(L)&&"NetFront")&&(D=[s]),"IE"==L&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(L+=" Mobile",F="Windows Phone "+(/\+$/.test(s)?s:s+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(L="IE Mobile",F="Windows Phone 8.x",N.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=L&&"Trident"==D&&(s=/\brv:([\d.]+)/.exec(t))&&(L&&N.push("identifying as "+L+(M?" "+M:"")),L="IE",M=s[1]),P){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(S&&(R=(s=S.lang.System).getProperty("os.arch"),F=F||s.getProperty("os.name")+" "+s.getProperty("os.version")),C){try{M=n.require("ringo/engine").version.join("."),L="RingoJS"}catch(U){(s=n.system)&&s.global.system==n.system&&(L="Narwhal",F||(F=s[0].os||null))}L||(L="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(N.push("Node "+s.versions.node),L="Electron",M=s.versions.electron):"string"==typeof s.versions.nw&&(N.push("Chromium "+M,"Node "+s.versions.node),L="NW.js",M=s.versions.nw)),L||(L="Node.js",R=s.arch,F=s.platform,M=(M=/[\d.]+/.exec(s.version))?M[0]:null));else y(s=n.runtime)==p?(L="Adobe AIR",F=s.flash.system.Capabilities.os):y(s=n.phantom)==A?(L="PhantomJS",M=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof T.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(M=[M,T.documentMode],(s=+s[1]+4)!=M[1]&&(N.push("IE "+M[1]+" mode"),D&&(D[1]=""),M[1]=s),M="IE"==L?String(M[1].toFixed(1)):M[0]):"number"==typeof T.documentMode&&/^(?:Chrome|Firefox)\b/.test(L)&&(N.push("masking as "+L+" "+M),L="IE",M="11.0",D=["Trident"],F="Windows");F=F&&m(F)}if(M&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(P&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(_=/b/i.test(s)?"beta":"alpha",M=M.replace(RegExp(s+"\\+?$"),"")+("beta"==_?E:k)+(/\d+\+?/.exec(s)||"")),"Fennec"==L||"Firefox"==L&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(F))L="Firefox Mobile";else if("Maxthon"==L&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(F=null),"Xbox 360"==$&&/\bIEMobile\b/.test(t)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(L)&&(!L||$||/Browser|Mobi/.test(L))||"Windows CE"!=F&&!/Mobi/i.test(t))if("IE"==L&&P)try{null===n.external&&N.unshift("platform preview")}catch(U){N.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(t))&&(s=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(F=((s=[s,/BB10/.test(t)])[1]?($=null,j="BlackBerry"):"Device Software")+" "+s[0],M=null):this!=g&&"Wii"!=$&&(P&&I||/Opera/.test(L)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==L&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==L&&(F&&!/^Win/.test(F)&&M>5.5||/\bWindows XP\b/.test(F)&&M>8||8==M&&!/\bTrident\b/.test(t)))&&!c.test(s=e.call(g,t.replace(c,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),c.test(L)?(/\bIE\b/.test(s)&&"Mac OS"==F&&(F=null),s="identify"+s):(s="mask"+s,L=O?m(O.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(F=null),P||(M=null)),D=["Presto"],N.push(s));else L+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==L&&"+"==s[1].slice(-1)?(L="WebKit Nightly",_="alpha",M=s[1].slice(0,-1)):M!=s[1]&&M!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==D&&(D=["Blink"]),P&&(u||s[1])?(D&&(D[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),D&&(D[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==L&&(!M||parseInt(M)>45)?M=s:"Chrome"==L&&/\bHeadlessChrome/i.test(t)&&N.unshift("headless")),"Opera"==L&&(s=/\bzbov|zvav$/.exec(F))?(L+=" ",N.unshift("desktop mode"),"zvav"==s?(L+="Mini",M=null):L+="Mobile",F=F.replace(RegExp(" *"+s+"$"),"")):"Safari"==L&&/\bChrome\b/.exec(D&&D[1])?(N.unshift("desktop mode"),L="Chrome Mobile",M=null,/\bOS X\b/.test(F)?(j="Apple",F="iOS 4.3+"):F=null):/\bSRWare Iron\b/.test(L)&&!M&&(M=V("Chrome")),M&&0==M.indexOf(s=/[\d.]+$/.exec(F))&&t.indexOf("/"+s+"-")>-1&&(F=x(F.replace(s,""))),F&&-1!=F.indexOf(L)&&!RegExp(L+" OS").test(F)&&(F=F.replace(RegExp(" *"+v(L)+" *"),"")),D&&!/\b(?:Avant|Nook)\b/.test(L)&&(/Browser|Lunascape|Maxthon/.test(L)||"Safari"!=L&&/^iOS/.test(F)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(L)&&D[1])&&(s=D[D.length-1])&&N.push(s),N.length&&(N=["("+N.join("; ")+")"]),j&&$&&$.indexOf(j)<0&&N.push("on "+j),$&&N.push((/^on /.test(N[N.length-1])?"":"on ")+$),F&&(s=/ ([\d.+]+)$/.exec(F),l=s&&"/"==F.charAt(F.length-s[0].length-1),F={architecture:32,family:s&&!l?F.replace(s[0],""):F,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+s),"")),L&&(/\bWOW64\b/i.test(t)||P&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&N.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==L&&parseFloat(M)>=39&&(F.architecture=64),t||(t=null);var z={};return z.description=t,z.layout=D&&D[0],z.manufacturer=j,z.name=L,z.prerelease=_,z.product=$,z.ua=t,z.version=L&&M,z.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=e,z.toString=function(){return this.description||""},z.version&&N.unshift(M),z.name&&N.unshift(L),F&&L&&(F!=String(F).split(" ")[0]||F!=L.split(" ")[0]&&!$)&&N.push($?"("+F+")":"on "+F),N.length&&(z.description=N.join(" ")),z}();i.platform=w,void 0===(r=function(){return w}.call(t,n,t,e))||(e.exports=r)}.call(this)},37163:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},41497:(e,t,n)=>{"use strict";var r=n(13218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},65173:(e,t,n)=>{e.exports=n(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},17237:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function o(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,i,a=[];for(i in"string"!==typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),i=o(i),r=o(r),null===i||null===r)continue;a.push(i+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),a=r(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}},38903:(e,t,n)=>{"use strict";var r=n(65043),o=n(97950);function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(i(e)!==e)throw Error("Unable to find node on an unmounted component.")}var s=Object.assign;function l(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function u(){return!0}function c(){return!1}function d(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?u:c,this.isPropagationStopped=c,this}return s(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=u)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=u)},persist:function(){},isPersistent:u}),t}var p={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h=d(p),f=s({},p,{view:0,detail:0});d(f);var m,g,y,v=s({},f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==y&&(y&&"mousemove"===e.type?(m=e.screenX-y.screenX,g=e.screenY-y.screenY):g=m=0,y=e),m)},movementY:function(e){return"movementY"in e?e.movementY:g}});d(v),d(s({},v,{dataTransfer:0})),d(s({},f,{relatedTarget:0})),d(s({},p,{animationName:0,elapsedTime:0,pseudoElement:0})),d(s({},p,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),d(s({},p,{data:0}));var b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=w[e])&&!!t[e]}function S(){return A}function C(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}d(s({},f,{key:function(e){if(e.key){var t=b[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=l(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S,charCode:function(e){return"keypress"===e.type?l(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?l(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),d(s({},v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),d(s({},f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S})),d(s({},p,{propertyName:0,elapsedTime:0,pseudoElement:0})),d(s({},v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}));var k=!1,E=null,T=!1,I=null,O={onError:function(e){k=!0,E=e}};function R(e,t,n,r,o,i,a,s,l){k=!1,E=null,C.apply(O,arguments)}var N=Array.isArray,_=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,P=_[0],M=_[1],D=_[2],L=_[3],$=_[4],j=r.unstable_act;function F(){}function B(e,t){if(!e)return[];if(e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return a(o),e;if(s===r)return a(o),t;s=s.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}(e),!e)return[];for(var n=e,r=[];;){if(5===n.tag||6===n.tag||1===n.tag||0===n.tag){var o=n.stateNode;t(o)&&r.push(o)}if(n.child)n.child.return=n,n=n.child;else{if(n===e)return r;for(;!n.sibling;){if(!n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}}}function V(e,t){if(e&&!e._reactInternals){var n=String(e);throw e=N(e)?"an array":e&&1===e.nodeType&&e.tagName?"a DOM node":"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,Error(t+"(...): the first argument must be a React class instance. Instead received: "+e+".")}}function z(e){return!(!e||1!==e.nodeType||!e.tagName)}function U(e){return!z(e)&&(null!=e&&"function"===typeof e.render&&"function"===typeof e.setState)}function W(e,t){return!!U(e)&&e._reactInternals.type===t}function q(e,t){return V(e,"findAllInRenderedTree"),e?B(e._reactInternals,t):[]}function H(e,t){return V(e,"scryRenderedDOMComponentsWithClass"),q(e,(function(e){if(z(e)){var n=e.className;"string"!==typeof n&&(n=e.getAttribute("class")||"");var r=n.split(/\s+/);if(!N(t)){if(void 0===t)throw Error("TestUtils.scryRenderedDOMComponentsWithClass expects a className as a second argument.");t=t.split(/\s+/)}return t.every((function(e){return-1!==r.indexOf(e)}))}return!1}))}function G(e,t){return V(e,"scryRenderedDOMComponentsWithTag"),q(e,(function(e){return z(e)&&e.tagName.toUpperCase()===t.toUpperCase()}))}function X(e,t){return V(e,"scryRenderedComponentsWithType"),q(e,(function(e){return W(e,t)}))}function K(e,t,n){var r=e.type||"unknown-event";e.currentTarget=M(n),function(e,t,n,r,o,i,a,s,l){if(R.apply(this,arguments),k){if(!k)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var u=E;k=!1,E=null,T||(T=!0,I=u)}}(r,t,void 0,e),e.currentTarget=null}function Y(e,t,n){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Q(e,t){var n=e.stateNode;if(!n)return null;var r=D(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function J(e,t,n){var r=n._reactName;"captured"===t&&(r+="Capture"),(t=Q(e,r))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}var Z={},ee=new Set(["mouseEnter","mouseLeave","pointerEnter","pointerLeave"]);function te(e){return function(t,n){if(r.isValidElement(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.");if(U(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.");var i="on"+e[0].toUpperCase()+e.slice(1),a=new F;a.target=t,a.type=e.toLowerCase();var l=P(t),u=new h(i,a.type,l,a,t);u.persist(),s(u,n),ee.has(e)?u&&u._reactName&&function(e,t,n){e&&n&&n._reactName&&(t=Q(e,n._reactName))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}(u._targetInst,null,u):u&&u._reactName&&Y(u._targetInst,J,u),o.unstable_batchedUpdates((function(){if(L(t),u){var e=u._dispatchListeners,n=u._dispatchInstances;if(N(e))for(var r=0;r<e.length&&!u.isPropagationStopped();r++)K(u,e[r],n[r]);else e&&K(u,e,n);u._dispatchListeners=null,u._dispatchInstances=null,u.isPersistent()||u.constructor.release(u)}if(T)throw e=I,T=!1,I=null,e})),$()}}"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate".split(" ").forEach((function(e){Z[e]=te(e)})),t.act=j},82730:(e,t,n)=>{"use strict";var r=n(65043),o=n(78853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,$=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case A:return"Portal";case k:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ae=null,Se=null;function Ce(e){if(e=go(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=vo(t),we(e.stateNode,e.type,t))}}function ke(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Ee(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==Ae||null!==Se)&&(Ie(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=vo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var _e=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ec){_e=!1}function Me(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Le=null,$e=!1,je=null,Fe={onError:function(e){De=!0,Le=e}};function Be(e,t,n,r,o,i,a,s,l){De=!1,Le=null,Me.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ue(o),e;if(a===r)return Ue(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var He=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Ye=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,Ze=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,rt=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ct(s):0!==(i&=a)&&(r=ct(i))}else 0!==(a=n&~o)?r=ct(a):0!==i&&(r=ct(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,At,St,Ct,kt=!1,Et=[],Tt=null,It=null,Ot=null,Rt=new Map,Nt=new Map,_t=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=go(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=mo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=go(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){$t(e)&&n.delete(t)}function Ft(){kt=!1,null!==Tt&&$t(Tt)&&(Tt=null),null!==It&&$t(It)&&(It=null),null!==Ot&&$t(Ot)&&(Ot=null),Rt.forEach(jt),Nt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Ot&&Bt(Ot,e),Rt.forEach(t),Nt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Lt(n),null===n.blockedOn&&_t.shift()}var zt=x.ReactCurrentBatchConfig,Ut=!0;function Wt(e,t,n,r){var o=vt,i=zt.transition;zt.transition=null;try{vt=1,Ht(e,t,n,r)}finally{vt=o,zt.transition=i}}function qt(e,t,n,r){var o=vt,i=zt.transition;zt.transition=null;try{vt=4,Ht(e,t,n,r)}finally{vt=o,zt.transition=i}}function Ht(e,t,n,r){if(Ut){var o=Xt(e,t,n,r);if(null===o)Br(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,o),!0;case"dragenter":return It=Dt(It,e,t,n,r,o),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var i=go(o);if(null!==i&&xt(i),null===(i=Xt(e,t,n,r))&&Br(e,t,r,Gt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=mo(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(ln),cn=$({},ln,{view:0,detail:0}),dn=rn(cn),pn=$({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=rn(pn),fn=rn($({},pn,{dataTransfer:0})),mn=rn($({},cn,{relatedTarget:0})),gn=rn($({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn($({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=rn($({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return An}var Cn=rn($({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=rn($({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn($({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=rn($({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=rn($({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var _n=c&&"TextEvent"in window&&!Nn,Pn=c&&(!Rn||Nn&&8<Nn&&11>=Nn),Mn=String.fromCharCode(32),Dn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Vn(e,t,n,r){ke(r),0<(t=zr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Un=null;function Wn(e){Mr(e,0)}function qn(e){if(G(yo(e)))return e}function Hn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Xn;if(c){var Kn="oninput"in document;if(!Kn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Kn="function"===typeof Yn.oninput}Xn=Kn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function Qn(){zn&&(zn.detachEvent("onpropertychange",Jn),Un=zn=null)}function Jn(e){if("value"===e.propertyName&&qn(Un)){var t=[];Vn(t,Un,e,xe(e)),Re(Wn,t)}}function Zn(e,t,n){"focusin"===e?(Qn(),Un=n,(zn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Qn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Un)}function tr(e,t){if("click"===e)return qn(t)}function nr(e,t){if("input"===e||"change"===e)return qn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!rr(e[o],t[o]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=ir(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ar(n,i);var a=ar(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,pr=null,hr=null,fr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==pr||pr!==X(r)||("selectionStart"in(r=pr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&or(fr,r)||(fr=r,0<(r=zr(hr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var Ar=wr("animationend"),Sr=wr("animationiteration"),Cr=wr("animationstart"),kr=wr("transitionend"),Er=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Er.set(e,t),l(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Rr=Tr[Or];Ir(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ir(Ar,"onAnimationEnd"),Ir(Sr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,u){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Le;De=!1,Le=null,$e||($e=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Pr(o,s,u),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Pr(o,s,u),i=l}}}if($e)throw e=je,$e=!1,je=null,e}function Dr(e,t){var n=t[po];void 0===n&&(n=t[po]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[$r]){e[$r]=!0,a.forEach((function(t){"selectionchange"!==t&&(_r.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Lr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Kt(t)){case 1:var o=Wt;break;case 4:o=qt;break;default:o=Ht}n=o.bind(null,t,n,e),o=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=mo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=i,o=xe(n),a=[];e:{var s=Er.get(e);if(void 0!==s){var l=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ar:case Sr:case Cr:l=gn;break;case kr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Ne(f,p))&&c.push(Vr(f,m,h)))),d)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!mo(u)&&!u[co])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?mo(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?s:yo(l),h=null==u?s:yo(u),(s=new c(m,f+"leave",l,n,o)).target=d,s.relatedTarget=h,m=null,mo(o)===r&&((c=new c(p,f+"enter",u,n,o)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=Ur(h))f++;for(h=0,m=p;m;m=Ur(m))h++;for(;0<f-h;)c=Ur(c),f--;for(;0<h-f;)p=Ur(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Ur(c),p=Ur(p)}c=null}else c=null;null!==l&&Wr(a,s,l,c,!1),null!==u&&null!==d&&Wr(a,d,u,c,!0)}if("select"===(l=(s=r?yo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Hn;else if(Bn(s))if(Gn)g=nr;else{g=er;var y=Zn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?Vn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?yo(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,hr=r,fr=null);break;case"focusout":fr=hr=pr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(a,n,o);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(a,n,o)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(v=Zt()):(Qt="value"in(Yt=o)?Yt.value:Yt.textContent,jn=!0)),0<(y=zr(r,b)).length&&(b=new vn(b,e,null,n,o),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=_n?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Dn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Rn&&Ln(e,t)?(e=Zt(),Jt=Qt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(o=new vn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Mr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Ne(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Ne(n,i))&&a.unshift(Vr(n,l,s)):o||null!=(l=Ne(n,i))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Hr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Hr,"")}function Xr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(i(425))}function Kr(){}var Yr=null,Qr=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,eo="function"===typeof clearTimeout?clearTimeout:void 0,to="function"===typeof Promise?Promise:void 0,no="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof to?function(e){return to.resolve(null).then(e).catch(ro)}:Zr;function ro(e){setTimeout((function(){throw e}))}function oo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function io(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ao(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),lo="__reactFiber$"+so,uo="__reactProps$"+so,co="__reactContainer$"+so,po="__reactEvents$"+so,ho="__reactListeners$"+so,fo="__reactHandles$"+so;function mo(e){var t=e[lo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[co]||n[lo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ao(e);null!==e;){if(n=e[lo])return n;e=ao(e)}return t}n=(e=n).parentNode}return null}function go(e){return!(e=e[lo]||e[co])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function vo(e){return e[uo]||null}var bo=[],xo=-1;function wo(e){return{current:e}}function Ao(e){0>xo||(e.current=bo[xo],bo[xo]=null,xo--)}function So(e,t){xo++,bo[xo]=e.current,e.current=t}var Co={},ko=wo(Co),Eo=wo(!1),To=Co;function Io(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Ao(Eo),Ao(ko)}function No(e,t,n){if(ko.current!==Co)throw Error(i(168));So(ko,t),So(Eo,n)}function _o(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,U(e)||"Unknown",o));return $({},n,r)}function Po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,To=ko.current,So(ko,e),So(Eo,Eo.current),!0}function Mo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=_o(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,Ao(Eo),Ao(ko),So(ko,e)):Ao(Eo),So(Eo,n)}var Do=null,Lo=!1,$o=!1;function jo(e){null===Do?Do=[e]:Do.push(e)}function Fo(){if(!$o&&null!==Do){$o=!0;var e=0,t=vt;try{var n=Do;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Do=null,Lo=!1}catch(o){throw null!==Do&&(Do=Do.slice(e+1)),He(Je,Fo),o}finally{vt=t,$o=!1}}return null}var Bo=[],Vo=0,zo=null,Uo=0,Wo=[],qo=0,Ho=null,Go=1,Xo="";function Ko(e,t){Bo[Vo++]=Uo,Bo[Vo++]=zo,zo=e,Uo=t}function Yo(e,t,n){Wo[qo++]=Go,Wo[qo++]=Xo,Wo[qo++]=Ho,Ho=e;var r=Go;e=Xo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var i=32-it(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Go=1<<32-it(t)+o|n<<o|r,Xo=i+e}else Go=1<<i|n<<o|r,Xo=e}function Qo(e){null!==e.return&&(Ko(e,1),Yo(e,1,0))}function Jo(e){for(;e===zo;)zo=Bo[--Vo],Bo[Vo]=null,Uo=Bo[--Vo],Bo[Vo]=null;for(;e===Ho;)Ho=Wo[--qo],Wo[qo]=null,Xo=Wo[--qo],Wo[qo]=null,Go=Wo[--qo],Wo[qo]=null}var Zo=null,ei=null,ti=!1,ni=null;function ri(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Zo=e,ei=io(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Zo=e,ei=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ho?{id:Go,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Zo=e,ei=null,!0);default:return!1}}function ii(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ai(e){if(ti){var t=ei;if(t){var n=t;if(!oi(e,t)){if(ii(e))throw Error(i(418));t=io(n.nextSibling);var r=Zo;t&&oi(e,t)?ri(r,n):(e.flags=-4097&e.flags|2,ti=!1,Zo=e)}}else{if(ii(e))throw Error(i(418));e.flags=-4097&e.flags|2,ti=!1,Zo=e}}}function si(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zo=e}function li(e){if(e!==Zo)return!1;if(!ti)return si(e),ti=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=ei)){if(ii(e))throw ui(),Error(i(418));for(;t;)ri(e,t),t=io(t.nextSibling)}if(si(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ei=io(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ei=null}}else ei=Zo?io(e.stateNode.nextSibling):null;return!0}function ui(){for(var e=ei;e;)e=io(e.nextSibling)}function ci(){ei=Zo=null,ti=!1}function di(e){null===ni?ni=[e]:ni.push(e)}var pi=x.ReactCurrentBatchConfig;function hi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function fi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mi(e){return(0,e._init)(e._payload)}function gi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===_&&mi(i)===t.type)?((r=o(t,n.props)).ref=hi(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=hi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=hi(e,null,t),n.return=e,n;case A:return(t=Mu(t,e.mode,n)).return=e,t;case _:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Nu(t,e.mode,n,null)).return=e,t;fi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?u(e,t,n,r):null;case A:return n.key===o?c(e,t,n,r):null;case _:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);fi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case _:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);fi(t,r)}return null}function m(o,i,s,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(o,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===s.length)return n(o,d),ti&&Ko(o,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===c?u=d:c.sibling=d,c=d);return ti&&Ko(o,m),u}for(d=r(o,d);m<s.length;m++)null!==(g=f(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),ti&&Ko(o,m),u}function g(o,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(o,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ti&&Ko(o,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(o,v.value,u))&&(s=a(v,s,g),null===d?c=v:d.sibling=v,d=v);return ti&&Ko(o,g),c}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=f(m,o,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ti&&Ko(o,g),c}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=i;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===_&&mi(u)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=hi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((i=Nu(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=hi(r,i,a),l.return=r,r=l)}return s(r);case A:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mu(a,r.mode,l)).return=r,r=i}return s(r);case _:return e(r,i,(c=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(D(a))return g(r,i,a,l);fi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Pu(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var yi=gi(!0),vi=gi(!1),bi=wo(null),xi=null,wi=null,Ai=null;function Si(){Ai=wi=xi=null}function Ci(e){var t=bi.current;Ao(bi),e._currentValue=t}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){xi=e,Ai=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Ai!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===xi)throw Error(i(308));wi=e,xi.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Ii=null;function Oi(e){null===Ii?Ii=[e]:Ii.push(e)}function Ri(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ni(e,r)}function Ni(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _i=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Li(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ni(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ni(e,n)}function $i(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;_i=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,c=u=l=null,s=i;;){var p=s.lane,h=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=$({},d,p);break e;case 2:_i=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);_l|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Vi={},zi=wo(Vi),Ui=wo(Vi),Wi=wo(Vi);function qi(e){if(e===Vi)throw Error(i(174));return e}function Hi(e,t){switch(So(Wi,t),So(Ui,e),So(zi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(zi),So(zi,t)}function Gi(){Ao(zi),Ao(Ui),Ao(Wi)}function Xi(e){qi(Wi.current);var t=qi(zi.current),n=le(t,e.type);t!==n&&(So(Ui,e),So(zi,n))}function Ki(e){Ui.current===e&&(Ao(zi),Ao(Ui))}var Yi=wo(0);function Qi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ji=[];function Zi(){for(var e=0;e<Ji.length;e++)Ji[e]._workInProgressVersionPrimary=null;Ji.length=0}var ea=x.ReactCurrentDispatcher,ta=x.ReactCurrentBatchConfig,na=0,ra=null,oa=null,ia=null,aa=!1,sa=!1,la=0,ua=0;function ca(){throw Error(i(321))}function da(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,o,a){if(na=a,ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=null===e||null===e.memoizedState?Ka:Ya,e=n(r,o),sa){a=0;do{if(sa=!1,la=0,25<=a)throw Error(i(301));a+=1,ia=oa=null,t.updateQueue=null,ea.current=Qa,e=n(r,o)}while(sa)}if(ea.current=Xa,t=null!==oa&&null!==oa.next,na=0,ia=oa=ra=null,aa=!1,t)throw Error(i(300));return e}function ha(){var e=0!==la;return la=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ia?ra.memoizedState=ia=e:ia=ia.next=e,ia}function ma(){if(null===oa){var e=ra.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ia?ra.memoizedState:ia.next;if(null!==t)ia=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ia?ra.memoizedState=ia=e:ia=ia.next=e}return ia}function ga(e,t){return"function"===typeof t?t(e):t}function ya(e){var t=ma(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((na&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,ra.lanes|=d,_l|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ra.lanes|=a,_l|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function va(e){var t=ma(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);rr(a,t.memoizedState)||(ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ba(){}function xa(e,t){var n=ra,r=ma(),o=t(),a=!rr(r.memoizedState,o);if(a&&(r.memoizedState=o,ms=!0),r=r.queue,_a(Sa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ia&&1&ia.memoizedState.tag){if(n.flags|=2048,Ta(9,Aa.bind(null,n,r,o,t),void 0,null),null===kl)throw Error(i(349));0!==(30&na)||wa(n,t,o)}return o}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ra.updateQueue)?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&ka(e)}function Sa(e,t,n){return n((function(){Ca(t)&&ka(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function ka(e){var t=Ni(e,1);null!==t&&Jl(t,e,1,-1)}function Ea(e){var t=fa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,ra,e),[t.memoizedState,e]}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ra.updateQueue)?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ma().memoizedState}function Oa(e,t,n,r){var o=fa();ra.flags|=e,o.memoizedState=Ta(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var o=ma();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&da(r,a.deps))return void(o.memoizedState=Ta(t,n,i,r))}ra.flags|=e,o.memoizedState=Ta(1|t,n,i,r)}function Na(e,t){return Oa(8390656,8,e,t)}function _a(e,t){return Ra(2048,8,e,t)}function Pa(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function La(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Da.bind(null,t,e),n)}function $a(){}function ja(e,t){var n=ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&na)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=ft(),ra.lanes|=n,_l|=n,e.baseState=!0),t)}function Va(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ta.transition;ta.transition={};try{e(!1),t()}finally{vt=n,ta.transition=r}}function za(){return ma().memoizedState}function Ua(e,t,n){var r=Ql(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e))Ha(t,n);else if(null!==(n=Ri(e,t,n,r))){Jl(n,e,r,Yl()),Ga(n,t,r)}}function Wa(e,t,n){var r=Ql(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Ha(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,rr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Oi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=Ri(e,t,o,r))&&(Jl(n,e,r,o=Yl()),Ga(n,t,r))}}function qa(e){var t=e.alternate;return e===ra||null!==t&&t===ra}function Ha(e,t){sa=aa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ga(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Ti,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},Ka={readContext:Ti,useCallback:function(e,t){return fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Na,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=fa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ua.bind(null,ra,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:Ea,useDebugValue:$a,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=Va.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ra,o=fa();if(ti){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===kl)throw Error(i(349));0!==(30&na)||wa(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Na(Sa.bind(null,r,a,e),[e]),r.flags|=2048,Ta(9,Aa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=fa(),t=kl.identifierPrefix;if(ti){var n=Xo;t=":"+t+"R"+(n=(Go&~(1<<32-it(Go)-1)).toString(32)+n),0<(n=la++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ua++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ya={readContext:Ti,useCallback:ja,useContext:Ti,useEffect:_a,useImperativeHandle:La,useInsertionEffect:Pa,useLayoutEffect:Ma,useMemo:Fa,useReducer:ya,useRef:Ia,useState:function(){return ya(ga)},useDebugValue:$a,useDeferredValue:function(e){return Ba(ma(),oa.memoizedState,e)},useTransition:function(){return[ya(ga)[0],ma().memoizedState]},useMutableSource:ba,useSyncExternalStore:xa,useId:za,unstable_isNewReconciler:!1},Qa={readContext:Ti,useCallback:ja,useContext:Ti,useEffect:_a,useImperativeHandle:La,useInsertionEffect:Pa,useLayoutEffect:Ma,useMemo:Fa,useReducer:va,useRef:Ia,useState:function(){return va(ga)},useDebugValue:$a,useDeferredValue:function(e){var t=ma();return null===oa?t.memoizedState=e:Ba(t,oa.memoizedState,e)},useTransition:function(){return[va(ga)[0],ma().memoizedState]},useMutableSource:ba,useSyncExternalStore:xa,useId:za,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yl(),o=Ql(e),i=Di(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Li(e,i,o))&&(Jl(t,e,o,r),$i(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yl(),o=Ql(e),i=Di(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Li(e,i,o))&&(Jl(t,e,o,r),$i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yl(),r=Ql(e),o=Di(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Li(e,o,r))&&(Jl(t,e,r,n),$i(t,e,r))}};function ts(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(o,i))}function ns(e,t,n){var r=!1,o=Co,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(o=Oo(t)?To:ko.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Io(e,o):Co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function rs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function os(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ti(i):(i=Oo(t)?To:ko.current,o.context=Io(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Za(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&es.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function is(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function as(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,Vl=r),ss(0,t)},n}function cs(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ss(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===zl?zl=new Set([this]):zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Li(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var fs=x.ReactCurrentOwner,ms=!1;function gs(e,t,n,r){t.child=null===e?vi(t,null,n,r):yi(t,e.child,n,r)}function ys(e,t,n,r,o){n=n.render;var i=t.ref;return Ei(t,o),r=pa(e,t,n,r,i,o),n=ha(),null===e||ms?(ti&&n&&Qo(t),t.flags|=1,gs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function vs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Iu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,bs(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return Bs(e,t,o)}return t.flags|=1,(e=Ou(i,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(or(i,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Bs(e,t,o);0!==(131072&e.flags)&&(ms=!0)}}return As(e,t,n,r,o)}function xs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},So(Ol,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,So(Ol,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,So(Ol,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,So(Ol,Il),Il|=r;return gs(e,t,o,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,o){var i=Oo(n)?To:ko.current;return i=Io(t,i),Ei(t,o),n=pa(e,t,n,r,i,o),r=ha(),null===e||ms?(ti&&r&&Qo(t),t.flags|=1,gs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function Ss(e,t,n,r,o){if(Oo(n)){var i=!0;Po(t)}else i=!1;if(Ei(t,o),null===t.stateNode)Fs(e,t),ns(t,n,r),os(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ti(u):u=Io(t,u=Oo(n)?To:ko.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&rs(t,a,r,u),_i=!1;var p=t.memoizedState;a.state=p,Fi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Eo.current||_i?("function"===typeof c&&(Za(t,n,c,r),l=t.memoizedState),(s=_i||ts(t,n,s,r,p,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ja(t.type,s),a.props=u,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Io(t,l=Oo(n)?To:ko.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&rs(t,a,r,l),_i=!1,p=t.memoizedState,a.state=p,Fi(t,r,a,o);var f=t.memoizedState;s!==d||p!==f||Eo.current||_i?("function"===typeof h&&(Za(t,n,h,r),f=t.memoizedState),(u=_i||ts(t,n,u,r,p,f,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,i,o)}function Cs(e,t,n,r,o,i){ws(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Mo(t,n,!1),Bs(e,t,i);r=t.stateNode,fs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=yi(t,e.child,null,i),t.child=yi(t,null,s,i)):gs(e,t,s,i),t.memoizedState=r.state,o&&Mo(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Hi(e,t.containerInfo)}function Es(e,t,n,r,o){return ci(),di(o),t.flags|=256,gs(e,t,n,r),t.child}var Ts,Is,Os,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function _s(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ps(e,t,n){var r,o=t.pendingProps,a=Yi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),So(Yi,1&a),null===e)return ai(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=_u(l,o,0,null),e=Nu(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_s(n),t.memoizedState=Ns,e):Ms(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ds(e,t,s,r=as(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=_u({mode:"visible",children:r.children},o,0,null),(a=Nu(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&yi(t,e.child,null,s),t.child.memoizedState=_s(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Ds(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ds(e,t,s,r=as(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),ms||l){if(null!==(r=kl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ni(e,o),Jl(r,e,o,-1))}return du(),Ds(e,t,s,r=as(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ei=io(o.nextSibling),Zo=t,ti=!0,ni=null,null!==e&&(Wo[qo++]=Go,Wo[qo++]=Xo,Wo[qo++]=Ho,Go=e.id,Xo=e.overflow,Ho=t),t=Ms(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ou(r,s):(s=Nu(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?_s(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,o}return e=(s=e.child).sibling,o=Ou(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ms(e,t){return(t=_u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,r){return null!==r&&di(r),yi(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ls(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function $s(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function js(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=Yi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ls(e,n,t);else if(19===e.tag)Ls(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(So(Yi,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Qi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$s(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Qi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$s(t,!0,n,null,i);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ti)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Us(e,t,n){var r=t.pendingProps;switch(Jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(t),null;case 1:case 17:return Oo(t.type)&&Ro(),zs(t),null;case 3:return r=t.stateNode,Gi(),Ao(Eo),Ao(ko),Zi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(li(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ni&&(nu(ni),ni=null))),Is(e,t),zs(t),null;case 5:Ki(t);var o=qi(Wi.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return zs(t),null}if(e=qi(zi.current),li(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[lo]=t,r[uo]=a,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(o=0;o<Nr.length;o++)Dr(Nr[o],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":Y(r,a),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",r);break;case"textarea":oe(r,a),Dr("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Kr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[lo]=t,e[uo]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Nr.length;o++)Dr(Nr[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":Y(e,r),o=K(e,r),Dr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Dr("invalid",e)}for(a in ye(n,o),u=o)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Dr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=qi(Wi.current),qi(zi.current),li(t)){if(r=t.stateNode,n=t.memoizedProps,r[lo]=t,(a=r.nodeValue!==n)&&null!==(e=Zo))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[lo]=t,t.stateNode=r}return zs(t),null;case 13:if(Ao(Yi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ti&&null!==ei&&0!==(1&t.mode)&&0===(128&t.flags))ui(),ci(),t.flags|=98560,a=!1;else if(a=li(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[lo]=t}else ci(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zs(t),a=!1}else null!==ni&&(nu(ni),ni=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Yi.current)?0===Rl&&(Rl=3):du())),null!==t.updateQueue&&(t.flags|=4),zs(t),null);case 4:return Gi(),Is(e,t),null===e&&jr(t.stateNode.containerInfo),zs(t),null;case 10:return Ci(t.type._context),zs(t),null;case 19:if(Ao(Yi),null===(a=t.memoizedState))return zs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Qi(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return So(Yi,1&Yi.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>jl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Qi(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ti)return zs(t),null}else 2*Ye()-a.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Yi.current,So(Yi,r?1&n|2:1&n),t):(zs(t),null);case 22:case 23:return su(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(zs(t),6&t.subtreeFlags&&(t.flags|=8192)):zs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ws(e,t){switch(Jo(t),t.tag){case 1:return Oo(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gi(),Ao(Eo),Ao(ko),Zi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ki(t),null;case 13:if(Ao(Yi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ci()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(Yi),null;case 4:return Gi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return su(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Os=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,qi(zi.current);var i,a=null;switch(n){case"input":o=K(e,o),r=K(e,r),a=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Dr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Hs=!1,Gs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){xu(e,t,r)}}var Qs=!1;function Js(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&Ys(t,n,i)}o=o.next}while(o!==r)}}function Zs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[lo],delete t[uo],delete t[po],delete t[ho],delete t[fo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Hs||Ks(n,t);case 6:var r=al,o=sl;al=null,ll(e,t,n),sl=o,null!==(al=r)&&(sl?(e=al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):al.removeChild(n.stateNode));break;case 18:null!==al&&(sl?(e=al,n=n.stateNode,8===e.nodeType?oo(e.parentNode,n):1===e.nodeType&&oo(e,n),Vt(e)):oo(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:if(!Hs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ys(n,t,a),o=o.next}while(o!==r)}ll(e,t,n);break;case 1:if(!Hs&&(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xu(n,t,s)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:1&n.mode?(Hs=(r=Hs)||null!==n.memoizedState,ll(e,t,n),Hs=r):ll(e,t,n);break;default:ll(e,t,n)}}function cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gs),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(i(160));ul(a,s,o),al=null,sl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){xu(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),hl(e),4&r){try{Js(3,e,e.return),Zs(3,e)}catch(g){xu(e,e.return,g)}try{Js(5,e,e.return)}catch(g){xu(e,e.return,g)}}break;case 1:dl(t,e),hl(e),512&r&&null!==n&&Ks(n,n.return);break;case 5:if(dl(t,e),hl(e),512&r&&null!==n&&Ks(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(g){xu(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(o,a),ve(l,s);var c=ve(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?me(o,p):"dangerouslySetInnerHTML"===d?ce(o,p):"children"===d?de(o,p):b(o,d,p,c)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[uo]=a}catch(g){xu(e,e.return,g)}}break;case 6:if(dl(t,e),hl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){xu(e,e.return,g)}}break;case 3:if(dl(t,e),hl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){xu(e,e.return,g)}break;case 4:default:dl(t,e),hl(e);break;case 13:dl(t,e),hl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||($l=Ye())),4&r&&cl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Hs=(c=Hs)||d,dl(t,e),Hs=c):dl(t,e),hl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(f=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:Js(4,h,h.return);break;case 1:Ks(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xu(r,n,g)}}break;case 5:Ks(h,h.return);break;case 22:if(null!==h.memoizedState){yl(p);continue}}null!==f?(f.return=h,Xs=f):yl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=fe("display",s))}catch(g){xu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){xu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dl(t,e),hl(e),4&r&&cl(e);case 21:}}function hl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),il(e,rl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,rl(e),a);break;default:throw Error(i(161))}}catch(s){xu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,n){Xs=e,ml(e,t,n)}function ml(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||qs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Hs;s=qs;var u=Hs;if(qs=a,(Hs=l)&&!u)for(Xs=o;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?vl(o):null!==l?(l.return=a,Xs=l):vl(o);for(;null!==i;)Xs=i,ml(i,t,n),i=i.sibling;Xs=o,qs=s,Hs=u}gl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xs=i):gl(e)}}function gl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hs||Zs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ja(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Hs||512&t.flags&&el(t)}catch(h){xu(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function yl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function vl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zs(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){xu(t,o,l)}}var i=t.return;try{el(t)}catch(l){xu(t,i,l)}break;case 5:var a=t.return;try{el(t)}catch(l){xu(t,a,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var bl,xl=Math.ceil,wl=x.ReactCurrentDispatcher,Al=x.ReactCurrentOwner,Sl=x.ReactCurrentBatchConfig,Cl=0,kl=null,El=null,Tl=0,Il=0,Ol=wo(0),Rl=0,Nl=null,_l=0,Pl=0,Ml=0,Dl=null,Ll=null,$l=0,jl=1/0,Fl=null,Bl=!1,Vl=null,zl=null,Ul=!1,Wl=null,ql=0,Hl=0,Gl=null,Xl=-1,Kl=0;function Yl(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function Ql(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Tl?Tl&-Tl:null!==pi.transition?(0===Kl&&(Kl=ft()),Kl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function Jl(e,t,n,r){if(50<Hl)throw Hl=0,Gl=null,Error(i(185));gt(e,n,r),0!==(2&Cl)&&e===kl||(e===kl&&(0===(2&Cl)&&(Pl|=n),4===Rl&&ru(e,Tl)),Zl(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(jl=Ye()+500,Lo&&Fo()))}function Zl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-it(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===kl?Tl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Lo=!0,jo(e)}(ou.bind(null,e)):jo(ou.bind(null,e)),no((function(){0===(6&Cl)&&Fo()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=ku(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(Xl=-1,Kl=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=dt(e,e===kl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pu(e,r);else{t=r;var o=Cl;Cl|=2;var a=cu();for(kl===e&&Tl===t||(Fl=null,jl=Ye()+500,lu(e,t));;)try{fu();break}catch(l){uu(e,l)}Si(),wl.current=a,Cl=o,null!==El?t=0:(kl=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=tu(e,o))),1===t)throw n=Nl,lu(e,0),ru(e,r),Zl(e,Ye()),n;if(6===t)ru(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!rr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=pu(e,r))&&(0!==(a=ht(e))&&(r=a,t=tu(e,a))),1===t))throw n=Nl,lu(e,0),ru(e,r),Zl(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:yu(e,Ll,Fl);break;case 3:if(ru(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){Yl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Zr(yu.bind(null,e,Ll,Fl),t);break}yu(e,Ll,Fl);break;case 4:if(ru(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-it(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=Zr(yu.bind(null,e,Ll,Fl),r);break}yu(e,Ll,Fl);break;default:throw Error(i(329))}}}return Zl(e,Ye()),e.callbackNode===n?eu.bind(null,e):null}function tu(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),2!==(e=pu(e,t))&&(t=Ll,Ll=n,null!==t&&nu(t)),e}function nu(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function ru(e,t){for(t&=~Ml,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(0!==(6&Cl))throw Error(i(327));vu();var t=dt(e,0);if(0===(1&t))return Zl(e,Ye()),null;var n=pu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=tu(e,r))}if(1===n)throw n=Nl,lu(e,0),ru(e,t),Zl(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yu(e,Ll,Fl),Zl(e,Ye()),null}function iu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(jl=Ye()+500,Lo&&Fo())}}function au(e){null!==Wl&&0===Wl.tag&&0===(6&Cl)&&vu();var t=Cl;Cl|=1;var n=Sl.transition,r=vt;try{if(Sl.transition=null,vt=1,e)return e()}finally{vt=r,Sl.transition=n,0===(6&(Cl=t))&&Fo()}}function su(){Il=Ol.current,Ao(Ol)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,eo(n)),null!==El)for(n=El.return;null!==n;){var r=n;switch(Jo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:Gi(),Ao(Eo),Ao(ko),Zi();break;case 5:Ki(r);break;case 4:Gi();break;case 13:case 19:Ao(Yi);break;case 10:Ci(r.type._context);break;case 22:case 23:su()}n=n.return}if(kl=e,El=e=Ou(e.current,null),Tl=Il=t,Rl=0,Nl=null,Ml=Pl=_l=0,Ll=Dl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ii=null}return e}function uu(e,t){for(;;){var n=El;try{if(Si(),ea.current=Xa,aa){for(var r=ra.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}aa=!1}if(na=0,ia=oa=ra=null,sa=!1,la=0,Al.current=null,null===n||null===n.return){Rl=1,Nl=t,El=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Tl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ps(s);if(null!==f){f.flags&=-257,hs(f,s,l,0,t),1&f.mode&&ds(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ds(a,c,t),du();break e}u=Error(i(426))}else if(ti&&1&l.mode){var y=ps(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hs(y,s,l,0,t),di(is(u,l));break e}}a=u=is(u,l),4!==Rl&&(Rl=2),null===Dl?Dl=[a]:Dl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,ji(a,us(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===zl||!zl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,ji(a,cs(a,l,t));break e}}a=a.return}while(null!==a)}gu(n)}catch(x){t=x,El===n&&null!==n&&(El=n=n.return);continue}break}}function cu(){var e=wl.current;return wl.current=Xa,null===e?Xa:e}function du(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===kl||0===(268435455&_l)&&0===(268435455&Pl)||ru(kl,Tl)}function pu(e,t){var n=Cl;Cl|=2;var r=cu();for(kl===e&&Tl===t||(Fl=null,lu(e,t));;)try{hu();break}catch(o){uu(e,o)}if(Si(),Cl=n,wl.current=r,null!==El)throw Error(i(261));return kl=null,Tl=0,Rl}function hu(){for(;null!==El;)mu(El)}function fu(){for(;null!==El&&!Xe();)mu(El)}function mu(e){var t=bl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?gu(e):El=t,Al.current=null}function gu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Us(n,t,Il)))return void(El=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(El=n);if(null===e)return Rl=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Rl&&(Rl=5)}function yu(e,t,n){var r=vt,o=Sl.transition;try{Sl.transition=null,vt=1,function(e,t,n,r){do{vu()}while(null!==Wl);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===kl&&(El=kl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ul||(Ul=!0,ku(et,(function(){return vu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var s=vt;vt=1;var l=Cl;Cl|=4,Al.current=null,function(e,t){if(Yr=Ut,ur(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===o&&(l=s),h===a&&++d===r&&(u=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},Ut=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ja(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){xu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=Qs,Qs=!1}(e,n),pl(n,e),cr(Qr),Ut=!!Yr,Qr=Yr=null,e.current=n,fl(n,e,o),Ke(),Cl=l,vt=s,Sl.transition=a}else e.current=n;if(Ul&&(Ul=!1,Wl=e,ql=o),a=e.pendingLanes,0===a&&(zl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Zl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,e=Vl,Vl=null,e;0!==(1&ql)&&0!==e.tag&&vu(),a=e.pendingLanes,0!==(1&a)?e===Gl?Hl++:(Hl=0,Gl=e):Hl=0,Fo()}(e,t,n,r)}finally{Sl.transition=o,vt=r}return null}function vu(){if(null!==Wl){var e=bt(ql),t=Sl.transition,n=vt;try{if(Sl.transition=null,vt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,ql=0,0!==(6&Cl))throw Error(i(331));var o=Cl;for(Cl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:Js(8,d,a)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var h=(d=Xs).sibling,f=d.return;if(tl(d),d===c){Xs=null;break}if(null!==h){h.return=f,Xs=h;break}Xs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:Js(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xs=v;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var x=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Xs=x;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:Zs(9,l)}}catch(A){xu(l,l.return,A)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Cl=o,Fo(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(A){}r=!0}return r}finally{vt=n,Sl.transition=t}}return!1}function bu(e,t,n){e=Li(e,t=us(0,t=is(n,t),1),1),t=Yl(),null!==e&&(gt(e,1,t),Zl(e,t))}function xu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zl||!zl.has(r))){t=Li(t,e=cs(t,e=is(n,e),1),1),e=Yl(),null!==t&&(gt(t,1,e),Zl(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Yl(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>Ye()-$l?lu(e,0):Ml|=n),Zl(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Yl();null!==(e=Ni(e,t))&&(gt(e,t,n),Zl(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Au(e,n)}function ku(e,t){return He(e,t)}function Eu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Eu(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Nu(n.children,o,a,t);case C:s=8,o|=8;break;case k:return(e=Tu(12,n,t,2|o)).elementType=k,e.lanes=a,e;case O:return(e=Tu(13,n,t,o)).elementType=O,e.lanes=a,e;case R:return(e=Tu(19,n,t,o)).elementType=R,e.lanes=a,e;case P:return _u(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case I:s=11;break e;case N:s=14;break e;case _:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Nu(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function _u(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Pu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Mu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Du(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,o,i,a,s,l){return e=new Du(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function $u(e){if(!e)return Co;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return _o(e,n,t)}return t}function ju(e,t,n,r,o,i,a,s,l){return(e=Lu(n,r,!0,e,0,i,0,s,l)).context=$u(null),n=e.current,(i=Di(r=Yl(),o=Ql(n))).callback=void 0!==t&&null!==t?t:null,Li(n,i,o),e.current.lanes=o,gt(e,o,r),Zl(e,r),e}function Fu(e,t,n,r){var o=t.current,i=Yl(),a=Ql(o);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Li(o,t,a))&&(Jl(e,o,a,i),$i(e,o,a)),a}function Bu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Eo.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:ks(t),ci();break;case 5:Xi(t);break;case 1:Oo(t.type)&&Po(t);break;case 4:Hi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;So(bi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(So(Yi,1&Yi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ps(e,t,n):(So(Yi,1&Yi.current),null!==(e=Bs(e,t,n))?e.sibling:null);So(Yi,1&Yi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),So(Yi,Yi.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Bs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ti&&0!==(1048576&t.flags)&&Yo(t,Uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var o=Io(t,ko.current);Ei(t,n),o=pa(null,t,r,e,o,n);var a=ha();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(a=!0,Po(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Pi(t),o.updater=es,t.stateNode=o,o._reactInternals=t,os(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,ti&&a&&Qo(t),gs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=Ja(r,e),o){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=vs(null,t,r,Ja(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:Ja(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ss(e,t,r,o=t.elementType===r?o:Ja(r,o),n);case 3:e:{if(ks(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Mi(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Es(e,t,r,n,o=is(Error(i(423)),t));break e}if(r!==o){t=Es(e,t,r,n,o=is(Error(i(424)),t));break e}for(ei=io(t.stateNode.containerInfo.firstChild),Zo=t,ti=!0,ni=null,n=vi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ci(),r===o){t=Bs(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ai(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Jr(r,o)?s=null:null!==a&&Jr(r,a)&&(t.flags|=32),ws(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&ai(t),null;case 13:return Ps(e,t,n);case 4:return Hi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yi(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ys(e,t,r,o=t.elementType===r?o:Ja(r,o),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,So(bi,r._currentValue),r._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===o.children&&!Eo.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Di(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),ki(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ki(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}gs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ei(t,n),r=r(o=Ti(o)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return o=Ja(r=t.type,t.pendingProps),vs(e,t,r,o=Ja(r.type,o),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ja(r,o),Fs(e,t),t.tag=1,Oo(r)?(e=!0,Po(t)):e=!1,Ei(t,n),ns(t,r,o),os(t,r,o,n),Cs(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return xs(e,t,n)}throw Error(i(156,t.tag))};var Uu="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function qu(e){this._internalRoot=e}function Hu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Ku(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Bu(a);s.call(e)}}Fu(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Bu(a);i.call(e)}}var a=ju(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[co]=a.current,jr(8===e.nodeType?e.parentNode:e),au(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Bu(l);s.call(e)}}var l=Lu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[co]=l.current,jr(8===e.nodeType?e.parentNode:e),au((function(){Fu(t,l,n,r)})),l}(n,t,e,o,r);return Bu(a)}qu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Fu(e,t,null,null)},qu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;au((function(){Fu(null,e,null,null)})),t[co]=null}},qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),Zl(t,Ye()),0===(6&Cl)&&(jl=Ye()+500,Fo()))}break;case 13:au((function(){var t=Ni(e,1);if(null!==t){var n=Yl();Jl(t,e,1,n)}})),zu(e,1)}},wt=function(e){if(13===e.tag){var t=Ni(e,134217728);if(null!==t)Jl(t,e,134217728,Yl());zu(e,134217728)}},At=function(e){if(13===e.tag){var t=Ql(e),n=Ni(e,t);if(null!==n)Jl(n,e,t,Yl());zu(e,t)}},St=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=vo(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=iu,Ie=au;var Yu={usingClientEntryPoint:!1,Events:[go,yo,vo,ke,Ee,iu]},Qu={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ju={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{rt=Zu.inject(Ju),ot=Zu}catch(ec){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Hu(e))throw Error(i(299));var n=!1,r="",o=Uu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Lu(e,1,!1,null,0,n,0,r,o),e[co]=t.current,jr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return au(e)},t.hydrate=function(e,t,n){if(!Gu(t))throw Error(i(200));return Ku(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Hu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Uu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,o,0,a,s),e[co]=t.current,jr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new qu(t)},t.render=function(e,t,n){if(!Gu(t))throw Error(i(200));return Ku(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(i(40));return!!e._reactRootContainer&&(au((function(){Ku(null,null,e,!1,(function(){e._reactRootContainer=null,e[co]=null}))})),!0)},t.unstable_batchedUpdates=iu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Ku(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},84391:(e,t,n)=>{"use strict";var r=n(97950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},97950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(82730)},17068:(e,t,n)=>{"use strict";e.exports=n(38903)},95082:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function A(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return A(e)||w(e)===c},t.isConcurrentMode=A,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},2086:(e,t,n)=>{"use strict";e.exports=n(95082)},55484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},76214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var o=s(n(65043)),i=s(n(98139)),a=n(61200);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=b();return function(){var n,o=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}t.PrevArrow=function(e){g(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,c(c({},n),r)):o.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(o.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,c(c({},n),r)):o.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(o.default.PureComponent)},75112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(65043))&&r.__esModule?r:{default:r};var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return o.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return o.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=i},58496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var o=s(n(65043)),i=s(n(98139)),a=n(61200);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=f();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,r,s=h(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),s.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,d=t.slidesToScroll,p=t.slidesToShow,h=t.slideCount,f=t.currentSlide,m=(e={slideCount:h,slidesToScroll:d,slidesToShow:p,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},y=[],v=0;v<m;v++){var b=(v+1)*d-1,x=c?b:(0,a.clamp)(b,0,h-1),w=x-(d-1),A=c?w:(0,a.clamp)(w,0,h-1),S=(0,i.default)({"slick-active":c?f>=A&&f<=x:f===A}),C={message:"dots",index:v,slidesToScroll:d,currentSlide:f},k=this.clickHandler.bind(this,C);y=y.concat(o.default.createElement("li",{key:v,className:S},o.default.cloneElement(this.props.customPaging(v),{onClick:k})))}return o.default.cloneElement(this.props.appendDots(y),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(o.default.PureComponent)},92382:(e,t,n)=>{"use strict";t.A=void 0;var r,o=(r=n(90433))&&r.__esModule?r:{default:r};t.A=o.default},4910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},99826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=p(n(65043)),o=p(n(4910)),i=p(n(10446)),a=p(n(98139)),s=n(61200),l=n(90737),u=n(58496),c=n(76214),d=p(n(35820));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function x(e){var t=A();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function C(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(A,e);var t,n,p,g=x(A);function A(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),C(w(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),C(w(t),"trackRefHandler",(function(e){return t.track=e})),C(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),C(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),C(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),C(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var o=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),i=t.didPropsChange(e);i&&t.updateState(o,i,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),C(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,i.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),C(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),C(w(t),"updateState",(function(e,n,o){var i=(0,s.initializedState)(e);e=y(y(y({},e),i),{},{slideIndex:i.currentSlide});var a=(0,s.getTrackLeft)(e);e=y(y({},e),{},{left:a});var l=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(i.trackStyle=l),t.setState(i,o)})),C(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,o=[],i=(0,s.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),a=(0,s.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){o.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<i;l++)n+=o[o.length-1-l],e+=o[o.length-1-l];for(var u=0;u<a;u++)e+=o[u];for(var c=0;c<t.state.currentSlide;c++)n+=o[c];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var p="".concat(o[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(p,") / 2 ) ")}return{trackStyle:d}}var h=r.default.Children.count(t.props.children),f=y(y(y({},t.props),t.state),{},{slideCount:h}),m=(0,s.getPreClones)(f)+(0,s.getPostClones)(f)+h,g=100/t.props.slidesToShow*m,v=100/m,b=-v*((0,s.getPreClones)(f)+t.state.currentSlide)*g/100;return t.props.centerMode&&(b+=(100-v*g/100)/2),{slideWidth:v+"%",trackStyle:{width:g+"%",left:b+"%"}}})),C(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var o=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var i=e.onclick;e.onclick=function(t){i(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=o,e.onerror=function(){o(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),C(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var o=t.state.currentSlide-1;o>=-(0,s.getPreClones)(n);o--)if(t.state.lazyLoadedList.indexOf(o)<0){e.push(o);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),C(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,o=r.asNavFor,i=r.beforeChange,a=r.onLazyLoad,l=r.speed,u=r.afterChange,c=t.state.currentSlide,d=(0,s.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),p=d.state,h=d.nextState;if(p){i&&i(c,p.currentSlide);var f=p.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));a&&f.length>0&&a(f),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),u&&u(c),delete t.animationEndCallback),t.setState(p,(function(){o&&t.asNavForIndex!==e&&(t.asNavForIndex=e,o.innerSlider.slideHandler(e)),h&&(t.animationEndCallback=setTimeout((function(){var e=h.animating,n=m(h,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),u&&u(p.currentSlide),delete t.animationEndCallback}))}),l))}))}})),C(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),o=(0,s.changeSlide)(r,e);if((0===o||o)&&(!0===n?t.slideHandler(o,n):t.slideHandler(o),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var i=t.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),C(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),C(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),C(w(t),"selectHandler",(function(e){t.changeSlide(e)})),C(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),C(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),C(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),C(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),C(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),C(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),C(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),C(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),C(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),C(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),C(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),C(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),C(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),C(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),C(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),C(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),C(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),C(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),C(w(t),"render",(function(){var e,n,o,i=(0,a.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=y(y({},t.props),t.state),p=(0,s.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),h=t.props.pauseOnHover;if(p=y(y({},p),{},{onMouseEnter:h?t.onTrackOver:null,onMouseLeave:h?t.onTrackLeave:null,onMouseOver:h?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,s.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=y(y({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(u.Dots,m)}var v=(0,s.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,v),o=r.default.createElement(c.NextArrow,v));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var x=null;!1===t.props.vertical?!0===t.props.centerMode&&(x={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(x={padding:t.props.centerPadding+" 0px"});var w=y(y({},b),x),A=t.props.touchMove,S={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:A?t.swipeStart:null,onMouseMove:t.state.dragging&&A?t.swipeMove:null,onMouseUp:A?t.swipeEnd:null,onMouseLeave:t.state.dragging&&A?t.swipeEnd:null,onTouchStart:A?t.swipeStart:null,onTouchMove:t.state.dragging&&A?t.swipeMove:null,onTouchEnd:A?t.touchEnd:null,onTouchCancel:t.state.dragging&&A?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},C={className:i,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},C={className:i}),r.default.createElement("div",C,t.props.unslick?"":n,r.default.createElement("div",f({ref:t.listRefHandler},S),r.default.createElement(l.Track,f({ref:t.trackRefHandler},p),t.props.children)),t.props.unslick?"":o,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},o.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=A,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,o=Object.keys(this.props);n<o.length;n++){var i=o[n];if(!e.hasOwnProperty(i)){t=!0;break}if("object"!==h(e[i])&&"function"!==typeof e[i]&&!isNaN(e[i])&&e[i]!==this.props[i]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&v(t.prototype,n),p&&v(t,p),Object.defineProperty(t,"prototype",{writable:!1}),A}(r.default.Component)},90433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(65043)),o=n(99826),i=l(n(41270)),a=l(n(75112)),s=n(61200);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=y();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}var w=(0,s.canUseDOM)()&&n(10535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,l,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b(g(t=u.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){w.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var o;o=0===r?(0,i.default)({minWidth:0,maxWidth:n}):(0,i.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(o,(function(){e.setState({breakpoint:n})}))}));var n=(0,i.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){w.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":p(p(p({},a.default),this.props),t[0].settings):p(p({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var i=r.default.Children.toArray(this.props.children);i=i.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],u=null,d=0;d<i.length;d+=e.rows*e.slidesPerRow){for(var h=[],f=d;f<d+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var m=[],g=f;g<f+e.slidesPerRow&&(e.variableWidth&&i[g].props.style&&(u=i[g].props.style.width),!(g>=i.length));g+=1)m.push(r.default.cloneElement(i[g],{key:100*d+10*f+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));h.push(r.default.createElement("div",{key:10*d+f},m))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:u}},h)):l.push(r.default.createElement("div",{key:d},h))}if("unslick"===e){var y="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:y},i)}return l.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(o.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(e)),l)}}])&&h(t.prototype,n),l&&h(t,l),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},90737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=a(n(65043)),o=a(n(98139)),i=n(61200);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=h();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}var b=function(e){var t,n,r,o,i;return r=(i=e.rtl?e.slideCount-1-e.index:e.index)<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),n=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(t=!0)):t=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":i===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},x=function(e,t){return e.key||t},w=function(e){var t,n=[],a=[],s=[],l=r.default.Children.count(e.children),u=(0,i.lazyStartIndex)(e),c=(0,i.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,p){var h,f={message:"children",index:p,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(p)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:p})),y=h.props.className||"",v=b(g(g({},e),{},{index:p}));if(n.push(r.default.cloneElement(h,{key:"original"+x(h,p),"data-index":p,className:(0,o.default)(v,y),tabIndex:"-1","aria-hidden":!v["slick-active"],style:g(g({outline:"none"},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&!1===e.fade){var w=l-p;w<=(0,i.getPreClones)(e)&&((t=-w)>=u&&(h=d),v=b(g(g({},e),{},{index:t})),a.push(r.default.cloneElement(h,{key:"precloned"+x(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(v,y),"aria-hidden":!v["slick-active"],style:g(g({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}}))),(t=l+p)<c&&(h=d),v=b(g(g({},e),{},{index:t})),s.push(r.default.cloneElement(h,{key:"postcloned"+x(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(v,y),"aria-hidden":!v["slick-active"],style:g(g({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}}))}})),e.rtl?a.concat(n,s).reverse():a.concat(n,s)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,n,o,i=d(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=i.call.apply(i,[this].concat(n))),"node",null),y(p(e),"handleRef",(function(t){e.node=t})),e}return t=a,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.default.PureComponent)},61200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=c,t.extractObject=void 0,t.filterSettings=function(e){return M.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=i(n(65043)),o=i(n(75112));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},p=t.getOnDemandLazySlides=function(e){for(var t=[],n=h(e),r=f(e),o=n;o<r;o++)e.lazyLoadedList.indexOf(o)<0&&t.push(o);return t},h=(t.getRequiredLazySlides=function(e){for(var t=[],n=h(e),r=f(e),o=n;o<r;o++)t.push(o);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),f=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},y=t.getWidth=function(e){return e&&e.offsetWidth||0},v=t.getHeight=function(e){return e&&e.offsetHeight||0},b=t.getSwipeDirection=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(o=Math.round(180*r/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"},x=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},w=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),o=e.listRef,i=Math.ceil(y(o)),a=e.trackRef&&e.trackRef.node,s=Math.ceil(y(a));if(e.vertical)t=i;else{var u=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(u*=i/100),t=Math.ceil((i-u)/e.slidesToShow)}var c=o&&v(o.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=p(l(l({},e),{},{currentSlide:h,lazyLoadedList:f})),g={slideCount:n,slideWidth:t,listWidth:i,trackWidth:s,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:f=f.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,o=e.infinite,i=e.index,a=e.slideCount,s=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var y,v,b,w=i,A={},S={},C=o?i:c(i,0,a-1);if(r){if(!o&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),s&&g.indexOf(w)<0&&(g=g.concat(w)),A={animating:!0,currentSlide:w,lazyLoadedList:g,targetSlide:w},S={animating:!1,targetSlide:w}}else y=w,w<0?(y=w+a,o?a%h!==0&&(y=a-a%h):y=0):!x(e)&&w>u?w=y=u:d&&w>=a?(w=o?a:a-1,y=o?0:a-1):w>=a&&(y=w-a,o?a%h!==0&&(y=0):y=a-f),!o&&w+f>=a&&(y=a-f),v=T(l(l({},e),{},{slideIndex:w})),b=T(l(l({},e),{},{slideIndex:y})),o||(v===b&&(w=y),v=b),s&&(g=g.concat(p(l(l({},e),{},{currentSlide:w})))),m?(A={animating:!0,currentSlide:y,trackStyle:E(l(l({},e),{},{left:v})),lazyLoadedList:g,targetSlide:C},S={animating:!1,currentSlide:y,trackStyle:k(l(l({},e),{},{left:b})),swipeLeft:null,targetSlide:C}):A={currentSlide:y,trackStyle:k(l(l({},e),{},{left:b})),lazyLoadedList:g,targetSlide:C};return{state:A,nextState:S}},t.changeSlide=function(e,t){var n,r,o,i,a=e.slidesToScroll,s=e.slidesToShow,u=e.slideCount,c=e.currentSlide,d=e.targetSlide,p=e.lazyLoad,h=e.infinite;if(n=u%a!==0?0:(u-c)%a,"previous"===t.message)i=c-(o=0===n?a:s-n),p&&!h&&(i=-1===(r=c-o)?u-1:r),h||(i=d-a);else if("next"===t.message)i=c+(o=0===n?a:n),p&&!h&&(i=(c+a)%u+n),h||(i=d+a);else if("dots"===t.message)i=t.index*t.slidesToScroll;else if("children"===t.message){if(i=t.index,h){var f=N(l(l({},e),{},{targetSlide:i}));i>t.currentSlide&&"left"===f?i-=u:i<t.currentSlide&&"right"===f&&(i+=u)}}else"index"===t.message&&(i=Number(t.index));return i},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,o=t.vertical,i=t.swipeToSlide,a=t.verticalSwiping,s=t.rtl,u=t.currentSlide,c=t.edgeFriction,p=t.edgeDragged,h=t.onEdge,f=t.swiped,m=t.swiping,g=t.slideCount,y=t.slidesToScroll,v=t.infinite,w=t.touchObject,A=t.swipeEvent,S=t.listHeight,C=t.listWidth;if(!n){if(r)return d(e);o&&i&&a&&d(e);var E,I={},O=T(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var R=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!a&&!m&&R>10)return{scrolling:!0};a&&(w.swipeLength=R);var N=(s?-1:1)*(w.curX>w.startX?1:-1);a&&(N=w.curY>w.startY?1:-1);var _=Math.ceil(g/y),P=b(t.touchObject,a),M=w.swipeLength;return v||(0===u&&("right"===P||"down"===P)||u+1>=_&&("left"===P||"up"===P)||!x(t)&&("left"===P||"up"===P))&&(M=w.swipeLength*c,!1===p&&h&&(h(P),I.edgeDragged=!0)),!f&&A&&(A(P),I.swiped=!0),E=o?O+M*(S/C)*N:s?O-M*N:O+M*N,a&&(E=O+M*N),I=l(l({},I),{},{touchObject:w,swipeLeft:E,trackStyle:k(l(l({},t),{},{left:E}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?I:(w.swipeLength>10&&(I.swiping=!0,d(e)),I)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,o=t.touchObject,i=t.listWidth,a=t.touchThreshold,s=t.verticalSwiping,u=t.listHeight,c=t.swipeToSlide,p=t.scrolling,h=t.onSwipe,f=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var y=s?u/a:i/a,v=b(o,s),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p)return x;if(!o.swipeLength)return x;if(o.swipeLength>y){var w,C;d(e),h&&h(v);var k=g?m:f;switch(v){case"left":case"up":C=k+S(t),w=c?A(t,C):C,x.currentDirection=0;break;case"right":case"down":C=k-S(t),w=c?A(t,C):C,x.currentDirection=1;break;default:w=k}x.triggerSlideHandler=w}else{var I=T(t);x.trackStyle=E(l(l({},t),{},{left:I}))}return x},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,o=[];n<t;)o.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return o}),A=t.checkNavigable=function(e,t){var n=w(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var o in n){if(t<n[o]){t=r;break}r=n[o]}return t},S=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,o=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(o).every((function(r){if(e.vertical){if(r.offsetTop+v(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+y(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll},C=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},k=t.getTrackCSS=function(e){var t,n;C(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=R(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=l(l({},o),{},{WebkitTransform:i,transform:a,msTransform:s})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),t&&(o.width=t),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},E=t.getTrackAnimateCSS=function(e){C(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=k(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},T=t.getTrackLeft=function(e){if(e.unslick)return 0;C(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,o=e.trackRef,i=e.infinite,a=e.centerMode,s=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,p=e.variableWidth,h=e.slideHeight,f=e.fade,m=e.vertical;if(f||1===e.slideCount)return 0;var g=0;if(i?(g=-I(e),s%u!==0&&r+u>s&&(g=-(r>s?l-(r-s):s%u)),a&&(g+=parseInt(l/2))):(s%u!==0&&r+u>s&&(g=l-s%u),a&&(g=parseInt(l/2))),t=m?r*h*-1+g*h:r*c*-1+g*c,!0===p){var y,v=o&&o.node;if(y=r+I(e),t=(n=v&&v.childNodes[y])?-1*n.offsetLeft:0,!0===a){y=i?r+I(e):r,n=v&&v.children[y],t=0;for(var b=0;b<y;b++)t-=v&&v.children[b]&&v.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},I=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},O=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},R=t.getTotalSlides=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+O(e)},N=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+_(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"},_=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r&&t%2===0&&(i+=1),i}return r?0:t-1},P=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r||t%2!==0||(i+=1),i}return r?t-1:0},M=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(o.default))},76324:(e,t,n)=>{var r,o=n(65043),i=(r=n(22740))&&"object"==typeof r&&"default"in r?r.default:r,a=n(27823),s={scale:{entering:{transform:"translateX(-50%) scale(1.5)"},entered:{transform:"translateX(-50%) scale(1)"},exiting:{transform:"translateX(-50%) scale(1.5)"},exited:{transform:"translateX(-50%) scale(1)"}},rotate:{entering:{transform:"translateX(-50%) rotate(360deg)"},entered:{transform:"translateX(-50%) rotate(0deg)"},exiting:{transform:"translateX(-50%) rotate(0deg)"},exited:{transform:"translateX(-50%) rotate(360deg)"}},skew:{entering:{transform:"translateX(-50%) skewX(20deg)"},entered:{transform:"translateX(-50%) skewX(0deg)"},exiting:{transform:"translateX(-50%) skewX(20deg)"},exited:{transform:"translateX(-50%) skewX(0deg)"}}};function l(e){return(e>100||e<0||"number"!=typeof e)&&console.warn("[react-step-progress-bar]: The value passed to percent or position needs to be a number between 0 and 100 (passed value: "+e+")."),Math.min(100,Math.max(e,0))}var u=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.render=function(){var e=this.props,t=e.accomplished,n=e.index,r=e.children,u=e.transition;void 0===u&&(u=null);var c=e.transitionDuration;void 0===c&&(c=300);var d=l(e.position),p={left:d+"%",transitionDuration:c+"ms"};return o.createElement(a.Transition,{in:t,timeout:c},(function(e){return u&&(i(null!=s[u],u+" is not listed in the built-in transitions."),p=Object.assign({},p,s[u][e])),o.createElement("div",{className:"RSPBstep",style:p},r({accomplished:t,position:d,transitionState:e,index:n}))}))},t}(o.Component),c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.render=function(){var e=this.props,t=e.percent,n=e.children,r=e.stepPositions;void 0===r&&(r=[]);var a=e.unfilledBackground;void 0===a&&(a=null);var s=e.filledBackground;void 0===s&&(s=null);var u=e.width;void 0===u&&(u=null);var c=e.height;void 0===c&&(c=null);var d=e.hasStepZero;void 0===d&&(d=!0);var p=e.text;void 0===p&&(p=null),i(!(r.length>0&&r.length!==o.Children.count(n)),"When specifying a stepPositions props, the number of children must match the length of the positions array.");var h=l(t);return o.createElement("div",{className:"RSPBprogressBar",style:{background:a,width:u,height:c}},o.Children.map(n,(function(e,t){var i=r.length>0?r[t]:function(e,t,n){return n?100/(e-1)*t:100/e*(t+1)}(o.Children.count(n),t,d);return o.cloneElement(e,{accomplished:i<=h,position:i,index:t})})),p?o.createElement("div",{className:"RSPBprogressBarText"},p):null,o.createElement("div",{className:"RSPBprogression",style:{background:s,width:h+"%"}}))},t}(o.Component);t.z=c,t.p=u},41586:(e,t,n)=>{"use strict";var r=n(24994);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=r(n(29819));e.exports=t.default},29819:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},91083:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},88915:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(65173));var r=s(n(41586)),o=s(n(91083)),i=s(n(65043)),a=s(n(14884));n(79687);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=n?r+" "+o:o;t.removeClasses(e,n?"appear":"enter"),u(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,o=n.activeClassName,i=n.doneClassName;r&&c(e,r),o&&c(e,o),i&&c(e,i)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},o.render=function(){var e=l({},this.props);return delete e.classNames,i.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(i.default.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d;t.default=p,e.exports=t.default},16492:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;a(n(65173));var r=a(n(65043)),o=n(97950),i=a(n(20777));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var i,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(i=s.props)[e].apply(i,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},14884:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(65173)),o=s(n(65043)),i=s(n(97950)),a=n(55484);n(79687);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var d="entered";t.ENTERED=d;var p="exiting";t.EXITING=p;var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=c):o=d:o=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:o},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==d&&(t=c):n!==c&&n!==d||(t=p)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:c},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},r}(o.default.Component);function f(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,a.polyfill)(h);t.default=m},20777:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(65173)),o=s(n(65043)),i=n(55484),a=n(97153);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:o,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},i.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),i=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:o.default.createElement(t,r,i)},r}(o.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,i.polyfill)(d);t.default=p,e.exports=t.default},27823:(e,t,n)=>{"use strict";var r=s(n(88915)),o=s(n(16492)),i=s(n(20777)),a=s(n(14884));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:r.default}},97153:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=o(e.children),l=i(t,s);return Object.keys(l).forEach((function(o){var i=l[o];if((0,r.isValidElement)(i)){var u=o in t,c=o in s,d=t[o],p=(0,r.isValidElement)(d)&&!d.props.in;!c||u&&!p?c||!u||p?c&&u&&(0,r.isValidElement)(d)&&(l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):l[o]=(0,r.cloneElement)(i,{in:!1}):l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),l};var r=n(65043);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},79687:(e,t,n)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(65173))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},51153:(e,t,n)=>{"use strict";var r=n(65043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},14202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+I(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),O(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+I(s=e[u],u);l+=O(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=O(s=s.value,t,o,c=i+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},P={transition:null},M={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)A.call(t,u)&&!C.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},65043:(e,t,n)=>{"use strict";e.exports=n(14202)},70579:(e,t,n)=>{"use strict";e.exports=n(51153)},52940:(e,t,n)=>{"use strict";var r=n(82981),o=n(54902),i=Object;e.exports=r((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},92488:(e,t,n)=>{"use strict";var r=n(11779),o=n(61712),i=n(52940),a=n(10201),s=n(20855),l=o(a());r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},10201:(e,t,n)=>{"use strict";var r=n(52940),o=n(11779).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},20855:(e,t,n)=>{"use strict";var r=n(11779).supportsDescriptors,o=n(10201),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(u),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},41356:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},35820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function s(){a(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=v(0,0,0,0);function h(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=h(r.width),l=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=f(r,"left","right")+i),Math.round(l+a)!==n&&(l-=f(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return v(o.left,o.top,s,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function y(e){return o?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):m(e):p}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return c(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);c(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(t,n,this);A.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}}));const C="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:S},27234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,P(A);else{var t=r(c);null!==t&&M(w,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,v(E),E=-1),f=!0;var i=h;try{for(x(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!O());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&o(u),x(n)}else o(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{p=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,E=-1,T=5,I=-1;function O(){return!(t.unstable_now()-I<T)}function R(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,_=N.port2;N.port1.onmessage=R,S=function(){_.postMessage(null)}}else S=function(){y(R,0)};function P(e){k=e,C||(C=!0,S())}function M(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(v(E),E=-1):g=!0,M(w,i-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,P(A))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},78853:(e,t,n)=>{"use strict";e.exports=n(27234)},34334:(e,t,n)=>{var r=n(17359),o=n(77066),i=n(29016),a=n(69538),s=n(6288),l=n(45262),u=n(22430);u.alea=r,u.xor128=o,u.xorwow=i,u.xorshift7=a,u.xor4096=s,u.tychei=l,e.exports=u},17359:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},45262:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},77066:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var r;!function(e,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},69538:function(e,t,n){var r;!function(e,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},29016:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},22430:function(e,t,n){var r;!function(o,i,a){var s,l=256,u=a.pow(l,6),c=a.pow(2,52),d=2*c,p=l-1;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,v(i)]}}():e,3),r),h=new f(r),b=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,y(v(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(a.random=e,t):e})(b,p,"global"in t?t.global:this==a,t.state)}function f(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<l;)a[o]=o++;for(o=0;o<l;o++)a[o]=a[i=p&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=p&o+1],n=n*l+a[p&(a[o]=a[i=p&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function y(e,t){for(var n,r=e+"",o=0;o<r.length;)t[p&o]=p&(n^=19*t[p&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),i),e.exports){e.exports=h;try{s=n(41234)}catch(b){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},68207:(e,t,n)=>{const r=n(31411),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(6225),{safeRe:a,t:s}=n(81323),l=n(56272),{compareIdentifiers:u}=n(59520);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!==typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"===typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},57963:(e,t,n)=>{const r=n(68207);e.exports=(e,t)=>new r(e,t).major},11647:(e,t,n)=>{const r=n(68207);e.exports=(e,t)=>new r(e,t).minor},6225:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},31411:e=>{const t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8080",REACT_APP_ENV:"development"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8080",REACT_APP_ENV:"development"}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};e.exports=t},59520:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},56272:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!==typeof e?t:e:n},81323:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(6225),a=n(31411),s=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,o]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;a(e,o,t),c[e]=o,u[o]=t,s[o]=new RegExp(t,n?"g":void 0),l[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),f("FULL",`^${u[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),f("LOOSE",`^${u[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),f("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[c.COERCE],!0),f("COERCERTLFULL",u[c.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},75438:(e,t,n)=>{"use strict";var r=n(60002),o=n(74992),i=n(12101)(),a=n(95558),s=n(54902),l=r("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new s("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&a){var c=a(e,"length");c&&!c.configurable&&(r=!1),c&&!c.writable&&(u=!1)}return(r||u||!n)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},82981:(e,t,n)=>{"use strict";var r=n(74992),o=n(12101)(),i=n(27699).functionsHaveConfigurableNames(),a=n(54902);e.exports=function(e,t){if("function"!==typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?r(e,"name",t,!0,!0):r(e,"name",t)),e}},19269:(e,t,n)=>{"use strict";var r=n(60002),o=n(12028),i=n(68206),a=n(54902),s=r("%WeakMap%",!0),l=r("%Map%",!0),u=o("WeakMap.prototype.get",!0),c=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),f=o("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return u(e,r)}else if(l){if(t)return p(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(l){if(t)return f(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),c(e,r,o)):l?(t||(t=new l),h(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},35081:(e,t,n)=>{"use strict";var r=n(37129);e.exports=n(27868)(r),"_sockjs_onload"in n.g&&setTimeout(n.g._sockjs_onload,1)},3214:(e,t,n)=>{"use strict";var r=n(56329),o=n(59302);function i(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(i,o),e.exports=i},4372:(e,t,n)=>{"use strict";var r=n(56329),o=n(13447);function i(){o.call(this)}r(i,o),i.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},i.prototype.once=function(e,t){var n=this,r=!1;this.on(e,(function o(){n.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}))},i.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<t.length;i++)t[i].apply(this,r)}},i.prototype.on=i.prototype.addListener=o.prototype.addEventListener,i.prototype.removeListener=o.prototype.removeEventListener,e.exports.b=i},59302:e=>{"use strict";function t(e){this.type=e}t.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},t.prototype.stopPropagation=function(){},t.prototype.preventDefault=function(){},t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,e.exports=t},13447:e=>{"use strict";function t(){this._listeners={}}t.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},t.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1===r||(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e])}},t.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],o=0;o<r.length;o++)r[o].apply(this,n)},e.exports=t},32514:(e,t,n)=>{"use strict";var r=n(56329),o=n(59302);function i(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}r(i,o),e.exports=i},58359:(e,t,n)=>{"use strict";var r=n(6907);function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){r.postMessage("c",JSON.stringify([e,t]))},o.prototype._transportMessage=function(e){r.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},53270:(e,t,n)=>{"use strict";var r=n(7526),o=n(51091),i=n(58359),a=n(92822),s=n(6907),l=n(86646);e.exports=function(e,t){var n,u={};t.forEach((function(e){e.facadeTransport&&(u[e.facadeTransport.transportName]=e.facadeTransport)})),u[a.transportName]=a,e.bootstrap_iframe=function(){var t;s.currentWindowId=l.hash.slice(1);o.attachEvent("message",(function(o){if(o.source===parent&&("undefined"===typeof n&&(n=o.origin),o.origin===n)){var a;try{a=JSON.parse(o.data)}catch(m){return void o.data}if(a.windowId===s.currentWindowId)switch(a.type){case"s":var c;try{c=JSON.parse(a.data)}catch(m){a.data;break}var d=c[0],p=c[1],h=c[2],f=c[3];if(d!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(h,l.href)||!r.isOriginEqual(f,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+h+", "+f+")");t=new i(new u[p](h,f));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}})),s.postMessage("s")}}},40068:(e,t,n)=>{"use strict";var r=n(4372).b,o=n(56329),i=n(35120);function a(e,t){r.call(this);var n=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var r,a;if(200===e){if(a=+new Date-o,t)try{r=JSON.parse(t)}catch(s){}i.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}o(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=a},92822:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b,i=n(98357),a=n(40068);function s(e){var t=this;o.call(this),this.ir=new a(e,i),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",JSON.stringify([e,n]))}))}r(s,o),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=s},77926:(e,t,n)=>{"use strict";var r=n(4372).b,o=n(56329),i=n(51091),a=n(75507),s=n(92822);function l(e,t){var o=this;r.call(this);var l=function(){var n=o.ifr=new a(s.transportName,t,e);n.once("message",(function(e){if(e){var t;try{t=JSON.parse(e)}catch(i){return o.emit("finish"),void o.close()}var n=t[0],r=t[1];o.emit("finish",n,r)}o.close()})),n.once("close",(function(){o.emit("finish"),o.close()}))};n.g.document.body?l():i.attachEvent("load",l)}o(l,r),l.enabled=function(){return a.enabled()},l.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=l},61483:(e,t,n)=>{"use strict";var r=n(4372).b,o=n(56329),i=n(7526),a=n(35631),s=n(39333),l=n(98357),u=n(21285),c=n(77926),d=n(40068);function p(e,t){var n=this;r.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}o(p,r),p._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,l):s.enabled?new d(t,s):a.enabled&&n.sameScheme?new d(t,a):c.enabled()?new c(e,t):new d(t,u)},p.prototype.doXhr=function(e,t){var n=this,r=i.addPath(e,"/info");this.xo=p._getReceiver(e,r,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),p.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},p.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},p.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},p.timeout=8e3,e.exports=p},86646:(e,t,n)=>{"use strict";e.exports=n.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},27868:(e,t,n)=>{"use strict";n(27943);var r,o=n(73775),i=n(56329),a=n(42035),s=n(79892),l=n(7526),u=n(51091),c=n(57074),d=n(35120),p=n(67315),h=n(23265),f=n(59302),m=n(13447),g=n(86646),y=n(3214),v=n(32514),b=n(61483);function x(e,t,n){if(!(this instanceof x))return new x(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=x.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"===typeof r)this._generateSessionId=r;else{if("number"!==typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var i=new o(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var s="https:"===i.protocol;if("https:"===g.protocol&&!s&&!l.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var u=t.sort();u.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<u.length-1&&e===u[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var c=l.getOrigin(g.href);this._origin=c?c.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:l.isOriginEqual(this.url,g.href),sameScheme:l.isSchemeEqual(this.url,g.href)},this._ir=new b(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function w(e){return 1e3===e||e>=3e3&&e<=4999}i(x,m),x.prototype.close=function(e,t){if(e&&!w(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==x.CLOSING&&this.readyState!==x.CLOSED){this._close(e||1e3,t||"Normal closure",!0)}},x.prototype.send=function(e){if("string"!==typeof e&&(e=""+e),this.readyState===x.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===x.OPEN&&this._transport.send(s.quote(e))},x.version=n(77525),x.CONNECTING=0,x.OPEN=1,x.CLOSING=2,x.CLOSED=3,x.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=d.extend(e,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},x.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.transportName,e.needBody&&(!n.g.document.body||"undefined"!==typeof n.g.document.readyState&&"complete"!==n.g.document.readyState&&"interactive"!==n.g.document.readyState))return this._transports.unshift(e),void u.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName],i=new e(r,this._transUrl,o);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},x.prototype._transportTimeout=function(){this.readyState===x.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},x.prototype._transportMessage=function(e){var t,n=this,r=e.slice(0,1),o=e.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new f("heartbeat")),void this.transport}if(o)try{t=JSON.parse(o)}catch(i){}if("undefined"!==typeof t)switch(r){case"a":Array.isArray(t)&&t.forEach((function(e){n.transport,n.dispatchEvent(new v(e))}));break;case"m":this.transport,this.dispatchEvent(new v(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},x.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),w(e)||2e3===e||this.readyState!==x.CONNECTING?this._close(e,t):this._connect()},x.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===x.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=x.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new f("open")),this.transport):this._close(1006,"Server lost session")},x.prototype._close=function(e,t,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===x.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=x.CLOSING,setTimeout(function(){this.readyState=x.CLOSED,r&&this.dispatchEvent(new f("error"));var o=new y("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},x.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return r=c(e),n(53270)(x,e),x}},27943:()=>{"use strict";var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,o=String.prototype,i=t.slice,a=n.toString,s=function(e){return"[object Function]"===n.toString.call(e)},l=function(e){return"[object String]"===a.call(e)},u=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();e=u?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var c=function(t,r,o){for(var i in r)n.hasOwnProperty.call(r,i)&&e(t,i,r[i],o)},d=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function p(){}c(r,{bind:function(e){var t=this;if(!s(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=i.call(arguments,1),r=Math.max(0,t.length-n.length),o=[],a=0;a<r;a++)o.push("$"+a);var l=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof l){var r=t.apply(this,n.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(i.call(arguments)))}));return t.prototype&&(p.prototype=t.prototype,l.prototype=new p,p.prototype=null),l}}),c(Array,{isArray:function(e){return"[object Array]"===a.call(e)}});var h=Object("a"),f="a"!==h[0]||!(0 in h);c(t,{forEach:function(e){var t=d(this),n=f&&l(this)?this.split(""):t,r=arguments[1],o=-1,i=n.length>>>0;if(!s(e))throw new TypeError;for(;++o<i;)o in n&&e.call(r,n[o],o,t)}},!function(e){var t=!0,n=!0;return e&&(e.call("foo",(function(e,n,r){"object"!==typeof r&&(t=!1)})),e.call([1],(function(){n="string"===typeof this}),"x")),!!e&&t&&n}(t.forEach));var m=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);c(t,{indexOf:function(e){var t=f&&l(this)?this.split(""):d(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},m);var g=o.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1];o.split=function(n,r){var o=this;if(void 0===n&&0===r)return[];if("[object RegExp]"!==a.call(n))return g.call(this,n,r);var i,s,l,u,c=[],d=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),p=0;for(n=new RegExp(n.source,d+"g"),o+="",e||(i=new RegExp("^"+n.source+"$(?!\\s)",d)),r=void 0===r?-1>>>0:r>>>0;(s=n.exec(o))&&!((l=s.index+s[0].length)>p&&(c.push(o.slice(p,s.index)),!e&&s.length>1&&s[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)})),s.length>1&&s.index<o.length&&t.push.apply(c,s.slice(1)),u=s[0].length,p=l,c.length>=r));)n.lastIndex===s.index&&n.lastIndex++;return p===o.length?!u&&n.test("")||c.push(""):c.push(o.slice(p)),c.length>r?c.slice(0,r):c}}():"0".split(void 0,0).length&&(o.split=function(e,t){return void 0===e&&0===t?[]:g.call(this,e,t)});var y=o.substr,v="".substr&&"b"!=="0b".substr(-1);c(o,{substr:function(e,t){return y.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},v)},37129:(e,t,n)=>{"use strict";e.exports=[n(75768),n(32840),n(96348),n(84514),n(71408)(n(84514)),n(59260),n(71408)(n(59260)),n(16583),n(67883),n(71408)(n(16583)),n(56263)]},14683:(e,t,n)=>{"use strict";var r=n(4372).b,o=n(56329),i=n(51091),a=n(7526),s=n.g.XMLHttpRequest;function l(e,t,n,o){var i=this;r.call(this),setTimeout((function(){i._start(e,t,n,o)}),0)}o(l,r),l.prototype._start=function(e,t,n,r){var o=this;try{this.xhr=new s}catch(c){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=i.unloadAdd((function(){o._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(d){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!l.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(n.readyState,n.readyState){case 3:try{t=n.status,e=n.responseText}catch(d){}1223===t&&(t=204),200===t&&e&&e.length>0&&o.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),n.responseText,o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(d){o.emit("finish",0,""),o._cleanup(!1)}},l.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!!s;var u=["Active"].concat("Object").join("X");!l.enabled&&u in n.g&&(s=function(){try{return new n.g[u]("Microsoft.XMLHTTP")}catch(e){return null}},l.enabled=!!new s);var c=!1;try{c="withCredentials"in new s}catch(d){}l.supportsCORS=c,e.exports=l},30433:(e,t,n)=>{e.exports=n.g.EventSource},83331:(e,t,n)=>{"use strict";var r=n.g.WebSocket||n.g.MozWebSocket;e.exports=r?function(e){return new r(e)}:void 0},84514:(e,t,n)=>{"use strict";var r=n(56329),o=n(1271),i=n(41200),a=n(39333),s=n(30433);function l(e){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",i,a)}r(l,o),l.enabled=function(){return!!s},l.transportName="eventsource",l.roundTrips=2,e.exports=l},59260:(e,t,n)=>{"use strict";var r=n(56329),o=n(19546),i=n(98357),a=n(1271);function s(e){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",o,i)}r(s,a),s.enabled=function(e){return o.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},75507:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b,i=n(77525),a=n(7526),s=n(6907),l=n(51091),u=n(42035);function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=u.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=s.createIframe(i,(function(e){r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()})),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}r(c,o),c.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},c.prototype._message=function(e){if(e.data,!a.isOriginEqual(e.origin,this.origin))return e.origin,void this.origin;var t;try{t=JSON.parse(e.data)}catch(r){return void e.data}if(t.windowId!==this.windowId)return t.windowId,void this.windowId;switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch(r){return void t.data}this.emit("close",n[0],n[1]),this.close()}},c.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},c.prototype.send=function(e){this.postMessage("m",e)},c.enabled=function(){return s.iframeEnabled},c.transportName="iframe",c.roundTrips=2,e.exports=c},56263:(e,t,n)=>{"use strict";var r=n(56329),o=n(68982),i=n(61395),a=n(527);function s(e){if(!s.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",a,i)}r(s,o),s.enabled=function(){return!!n.g.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s},1271:(e,t,n)=>{"use strict";var r=n(56329),o=n(7526),i=n(68982),a=function(){};function s(e,t,n,r){i.call(this,e,t,function(e){return function(t,n,r){a("create ajax sender",t,n);var i={};"string"===typeof n&&(i.headers={"Content-type":"text/plain"});var s=o.addPath(t,"/xhr_send"),l=new e("POST",s,n,i);return l.once("finish",(function(e){if(a("finish",e),l=null,200!==e&&204!==e)return r(new Error("http status "+e));r()})),function(){a("abort"),l.close(),l=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}(r),n,r)}r(s,i),e.exports=s},51272:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b;function i(e,t){o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}r(i,o),i.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},i.prototype.sendSchedule=function(){this.sendBuffer.length;var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=i},71408:(e,t,n)=>{"use strict";var r=n(56329),o=n(75507),i=n(35120);e.exports=function(e){function t(t,n){o.call(this,e.transportName,t,n)}return r(t,o),t.enabled=function(t,r){if(!n.g.document)return!1;var a=i.extend({},r);return a.sameOrigin=!0,e.enabled(a)&&o.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}},14892:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b;function i(e,t,n){o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}r(i,o),i.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,r){e.pollIsClosing,e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))}))},i.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=i},68982:(e,t,n)=>{"use strict";var r=n(56329),o=n(7526),i=n(51272),a=n(14892);function s(e,t,n,r,s){var l=o.addPath(e,t),u=this;i.call(this,e,n),this.poll=new a(r,l,s),this.poll.on("message",(function(e){u.emit("message",e)})),this.poll.once("close",(function(e,t){u.poll=null,u.emit("close",e,t),u.close()}))}r(s,i),s.prototype.close=function(){i.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=s},41200:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b,i=n(30433);function a(e){o.call(this);var t=this,n=this.es=new i(e);n.onmessage=function(e){e.data,t.emit("message",decodeURI(e.data))},n.onerror=function(e){n.readyState;var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}r(a,o),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},a.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=a},19546:(e,t,n)=>{"use strict";var r=n(56329),o=n(6907),i=n(7526),a=n(4372).b,s=n(42035);function l(e){a.call(this);var t=this;o.polluteGlobalNamespace(),this.id="a"+s.string(6),e=i.addQuery(e,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),l.htmlfileEnabled;var r=l.htmlfileEnabled?o.createHtmlfile:o.createIframe;n.g[o.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,(function(){t._cleanup(),t._close("permanent")}))}r(l,a),l.prototype.abort=function(){this._cleanup(),this._close("user")},l.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n.g[o.WPrefix][this.id]},l.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},l.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in n.g)try{l.htmlfileEnabled=!!new n.g[u]("htmlfile")}catch(c){}l.enabled=l.htmlfileEnabled||o.iframeEnabled,e.exports=l},61395:(e,t,n)=>{"use strict";var r=n(6907),o=n(42035),i=n(67315),a=n(7526),s=n(56329),l=n(4372).b;function u(e){var t=this;l.call(this),r.polluteGlobalNamespace(),this.id="a"+o.string(6);var i=a.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));n.g[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(i),this.timeoutId=setTimeout((function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}s(u,l),u.prototype.abort=function(){if(n.g[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete n.g[r.WPrefix][this.id]},u.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(e){var t,r=this,a=this.script=n.g.document.createElement("script");if(a.id="a"+o.string(8),a.src=e,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(a.readyState,/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){r.loadedOkay=!0;try{a.onclick()}catch(e){}}a&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"===typeof a.async&&n.g.document.attachEvent)if(i.isOpera())(t=this.script2=n.g.document.createElement("script")).text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=t.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(l){}a.async=!0}"undefined"!==typeof a.async&&(a.async=!0);var s=n.g.document.getElementsByTagName("head")[0];s.insertBefore(a,s.firstChild),t&&s.insertBefore(t,s.firstChild)},e.exports=u},3863:(e,t,n)=>{"use strict";var r=n(56329),o=n(4372).b;function i(e,t){o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(i,o),i.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var o=r.slice(0,n);o&&this.emit("message",o)}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=i},527:(e,t,n)=>{"use strict";var r,o,i=n(42035),a=n(7526);e.exports=function(e,t,s){r||((r=n.g.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(o=n.g.document.createElement("textarea")).name="d",r.appendChild(o),n.g.document.body.appendChild(r));var l="a"+i.string(8);r.target=l,r.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+l);var u=function(e){try{return n.g.document.createElement('<iframe name="'+e+'">')}catch(r){var t=n.g.document.createElement("iframe");return t.name=e,t}}(l);u.id=l,u.style.display="none",r.appendChild(u);try{o.value=t}catch(d){}r.submit();var c=function(e){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,setTimeout((function(){u.parentNode.removeChild(u),u=null}),500),o.value="",s(e))};return u.onerror=function(){c()},u.onload=function(){c()},u.onreadystatechange=function(e){u.readyState,"complete"===u.readyState&&c()},function(){c(new Error("Aborted"))}}},35631:(e,t,n)=>{"use strict";var r=n(4372).b,o=n(56329),i=n(51091),a=n(67315),s=n(7526);function l(e,t,n){var o=this;r.call(this),setTimeout((function(){o._start(e,t,n)}),0)}o(l,r),l.prototype._start=function(e,t,r){var o=this,a=new n.g.XDomainRequest;t=s.addQuery(t,"t="+ +new Date),a.onerror=function(){o._error()},a.ontimeout=function(){o._error()},a.onprogress=function(){a.responseText,o.emit("chunk",200,a.responseText)},a.onload=function(){o.emit("finish",200,a.responseText),o._cleanup(!1)},this.xdr=a,this.unloadRef=i.unloadAdd((function(){o._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(l){this._error()}},l.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},l.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!(!n.g.XDomainRequest||!a.hasDomain()),e.exports=l},39333:(e,t,n)=>{"use strict";var r=n(56329),o=n(14683);function i(e,t,n,r){o.call(this,e,t,n,r)}r(i,o),i.enabled=o.enabled&&o.supportsCORS,e.exports=i},21285:(e,t,n)=>{"use strict";var r=n(4372).b;function o(){var e=this;r.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),o.timeout)}n(56329)(o,r),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,e.exports=o},98357:(e,t,n)=>{"use strict";var r=n(56329),o=n(14683);function i(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}r(i,o),i.enabled=o.enabled,e.exports=i},75768:(e,t,n)=>{"use strict";var r=n(51091),o=n(7526),i=n(56329),a=n(4372).b,s=n(83331);function l(e,t,n){if(!l.enabled())throw new Error("Transport created when disabled");a.call(this);var i=this,u=o.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){e.data,i.emit("message",e.data)},this.unloadRef=r.unloadAdd((function(){i.ws.close()})),this.ws.onclose=function(e){e.code,e.reason,i.emit("close",e.code,e.reason),i._cleanup()},this.ws.onerror=function(e){i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}i(l,a),l.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},l.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},l.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return!!s},l.transportName="websocket",l.roundTrips=2,e.exports=l},67883:(e,t,n)=>{"use strict";var r=n(56329),o=n(1271),i=n(96348),a=n(3863),s=n(35631);function l(e){if(!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,s)}r(l,o),l.enabled=i.enabled,l.transportName="xdr-polling",l.roundTrips=2,e.exports=l},96348:(e,t,n)=>{"use strict";var r=n(56329),o=n(1271),i=n(3863),a=n(35631);function s(e){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",i,a)}r(s,o),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(a.enabled&&e.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},16583:(e,t,n)=>{"use strict";var r=n(56329),o=n(1271),i=n(3863),a=n(39333),s=n(98357);function l(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",i,a)}r(l,o),l.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||a.enabled)},l.transportName="xhr-polling",l.roundTrips=2,e.exports=l},32840:(e,t,n)=>{"use strict";var r=n(56329),o=n(1271),i=n(3863),a=n(39333),s=n(98357),l=n(67315);function u(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",i,a)}r(u,o),u.enabled=function(e){return!e.nullOrigin&&(!l.isOpera()&&a.enabled)},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!n.g.document,e.exports=u},67429:(e,t,n)=>{"use strict";n.g.crypto&&n.g.crypto.getRandomValues?e.exports.randomBytes=function(e){var t=new Uint8Array(e);return n.g.crypto.getRandomValues(t),t}:e.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}},67315:(e,t,n)=>{"use strict";e.exports={isOpera:function(){return n.g.navigator&&/opera/i.test(n.g.navigator.userAgent)},isKonqueror:function(){return n.g.navigator&&/konqueror/i.test(n.g.navigator.userAgent)},hasDomain:function(){if(!n.g.document)return!0;try{return!!n.g.document.domain}catch(e){return!1}}}},79892:e=>{"use strict";var t,n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var r=JSON.stringify(e);return n.lastIndex=0,n.test(r)?(t||(t=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(n)),r.replace(n,(function(e){return t[e]}))):r}}},51091:(e,t,n)=>{"use strict";var r=n(42035),o={},i=!1,a=n.g.chrome&&n.g.chrome.app&&n.g.chrome.app.runtime;e.exports={attachEvent:function(e,t){"undefined"!==typeof n.g.addEventListener?n.g.addEventListener(e,t,!1):n.g.document&&n.g.attachEvent&&(n.g.document.attachEvent("on"+e,t),n.g.attachEvent("on"+e,t))},detachEvent:function(e,t){"undefined"!==typeof n.g.addEventListener?n.g.removeEventListener(e,t,!1):n.g.document&&n.g.detachEvent&&(n.g.document.detachEvent("on"+e,t),n.g.detachEvent("on"+e,t))},unloadAdd:function(e){if(a)return null;var t=r.string(8);return o[t]=e,i&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}};a||e.exports.attachEvent("unload",(function(){i||(i=!0,e.exports.triggerUnloadCallbacks())}))},6907:(e,t,n)=>{"use strict";var r=n(51091),o=n(67315);e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n.g||(n.g[e.exports.WPrefix]={})},postMessage:function(t,r){n.g.parent!==n.g&&n.g.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(e,t){var o,i,a=n.g.document.createElement("iframe"),s=function(){clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},l=function(){a&&(s(),setTimeout((function(){a&&a.parentNode.removeChild(a),a=null}),0),r.unloadDel(i))},u=function(e){a&&(l(),t(e))};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(o),o=setTimeout((function(){u("onload timeout")}),2e3)},n.g.document.body.appendChild(a),o=setTimeout((function(){u("timeout")}),15e3),i=r.unloadAdd(l),{post:function(e,t){setTimeout((function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}}),0)},cleanup:l,loaded:s}},createHtmlfile:function(t,o){var i,a,s,l=["Active"].concat("Object").join("X"),u=new n.g[l]("htmlfile"),c=function(){clearTimeout(i),s.onerror=null},d=function(){u&&(c(),r.unloadDel(a),s.parentNode.removeChild(s),s=u=null,CollectGarbage())},p=function(e){u&&(d(),o(e))};u.open(),u.write('<html><script>document.domain="'+n.g.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[e.exports.WPrefix]=n.g[e.exports.WPrefix];var h=u.createElement("div");return u.body.appendChild(h),s=u.createElement("iframe"),h.appendChild(s),s.src=t,s.onerror=function(){p("onerror")},i=setTimeout((function(){p("timeout")}),15e3),a=r.unloadAdd(d),{post:function(e,t){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}),0)}catch(n){}},cleanup:d,loaded:c}}},e.exports.iframeEnabled=!1,n.g.document&&(e.exports.iframeEnabled=("function"===typeof n.g.postMessage||"object"===typeof n.g.postMessage)&&!o.isKonqueror())},23265:(e,t,n)=>{"use strict";var r={};["log","debug","warn"].forEach((function(e){var t;try{t=n.g.console&&n.g.console[e]&&n.g.console[e].apply}catch(o){}r[e]=t?function(){return n.g.console[e].apply(n.g.console,arguments)}:"log"===e?function(){}:r.log})),e.exports=r},35120:e=>{"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,o=arguments.length;r<o;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},42035:(e,t,n)=>{"use strict";var r=n(67429),o="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(e){for(var t=r.randomBytes(e),n=[],i=0;i<e;i++)n.push(o.substr(t[i]%32,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},57074:e=>{"use strict";e.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"===typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)):e.transportName))})),r}}}},7526:(e,t,n)=>{"use strict";var r=n(73775);e.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},77525:e=>{e.exports="1.6.1"},66487:(e,t,n)=>{"use strict";var r=n(76712),o=SyntaxError,i="object"===typeof StopIteration?StopIteration:null;e.exports=function(e){if(!i)throw new o("this environment lacks StopIteration");r.set(e,"[[Done]]",!1);var t={next:function(){var e=r.get(this,"[[Iterator]]"),t=r.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(n){if(r.set(e,"[[Done]]",!0),n!==i)throw n;return{done:!0,value:void 0}}}};return r.set(t,"[[Iterator]]",e),t}},37475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},73775:(e,t,n)=>{"use strict";var r=n(41356),o=n(17237),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function f(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},o={},i=typeof(e=e||r);if("blob:"===e.protocol)o=new y(unescape(e.pathname),{});else if("string"===i)for(t in o=new y(e,{}),h)delete o[t];else if("object"===i){for(t in e)t in h||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=d(e)).replace(a,""),t=t||{};var n,r=u.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],l=0;return i?s?(n=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(n=r[2]+r[4],l=r[2].length):s?(n=r[3]+r[4],l=r[3].length):n=r[4],"file:"===o?l>=2&&(n=n.slice(2)):m(o)?n=r[4]:o?i&&(n=n.slice(2)):l>=2&&m(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||m(o),slashesCount:l,rest:n}}function y(e,t,n){if(e=(e=d(e)).replace(a,""),!(this instanceof y))return new y(e,t,n);var i,s,l,u,h,v,b=p.slice(),x=typeof t,w=this,A=0;for("object"!==x&&"string"!==x&&(n=t,t=null),n&&"function"!==typeof n&&(n=o.parse),i=!(s=g(e||"",t=f(t))).protocol&&!s.slashes,w.slashes=s.slashes||i&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);A<b.length;A++)"function"!==typeof(u=b[A])?(l=u[0],v=u[1],l!==l?w[v]=e:"string"===typeof l?~(h="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"===typeof u[2]?(w[v]=e.slice(0,h),e=e.slice(h+u[2])):(w[v]=e.slice(h),e=e.slice(0,h))):(h=l.exec(e))&&(w[v]=h[1],e=e.slice(0,h.index)),w[v]=w[v]||i&&u[3]&&t[v]||"",u[4]&&(w[v]=w[v].toLowerCase())):e=u(e,w);n&&(w.query=n(w.query)),i&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&m(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(h=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,h),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(h+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&m(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}y.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,l.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<p.length;u++){var c=p[u];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&m(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"===typeof e||(e=o.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||l.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},y.extractProtocol=g,y.location=f,y.trimLeft=d,y.qs=o,e.exports=y},87726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var r=p(n(76857)),o=p(n(49175)),i=p(n(90646)),a=p(n(99605)),s=p(n(16129)),l=p(n(4762)),u=p(n(52378)),c=p(n(38771)),d=p(n(21949));function p(e){return e&&e.__esModule?e:{default:e}}},51434:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,i,a){return r((s=r(r(t,e),r(o,a)))<<(l=i)|s>>>32-l,n);var s,l}function i(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)}function a(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)}function s(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)}function l(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let o=0;o<n;o+=8){const n=e[o>>5]>>>o%32&255,i=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let o=1732584193,u=-271733879,c=-1732584194,d=271733878;for(let n=0;n<e.length;n+=16){const t=o,p=u,h=c,f=d;o=i(o,u,c,d,e[n],7,-680876936),d=i(d,o,u,c,e[n+1],12,-389564586),c=i(c,d,o,u,e[n+2],17,606105819),u=i(u,c,d,o,e[n+3],22,-1044525330),o=i(o,u,c,d,e[n+4],7,-176418897),d=i(d,o,u,c,e[n+5],12,1200080426),c=i(c,d,o,u,e[n+6],17,-1473231341),u=i(u,c,d,o,e[n+7],22,-45705983),o=i(o,u,c,d,e[n+8],7,1770035416),d=i(d,o,u,c,e[n+9],12,-1958414417),c=i(c,d,o,u,e[n+10],17,-42063),u=i(u,c,d,o,e[n+11],22,-1990404162),o=i(o,u,c,d,e[n+12],7,1804603682),d=i(d,o,u,c,e[n+13],12,-40341101),c=i(c,d,o,u,e[n+14],17,-1502002290),u=i(u,c,d,o,e[n+15],22,1236535329),o=a(o,u,c,d,e[n+1],5,-165796510),d=a(d,o,u,c,e[n+6],9,-1069501632),c=a(c,d,o,u,e[n+11],14,643717713),u=a(u,c,d,o,e[n],20,-373897302),o=a(o,u,c,d,e[n+5],5,-701558691),d=a(d,o,u,c,e[n+10],9,38016083),c=a(c,d,o,u,e[n+15],14,-660478335),u=a(u,c,d,o,e[n+4],20,-405537848),o=a(o,u,c,d,e[n+9],5,568446438),d=a(d,o,u,c,e[n+14],9,-1019803690),c=a(c,d,o,u,e[n+3],14,-187363961),u=a(u,c,d,o,e[n+8],20,1163531501),o=a(o,u,c,d,e[n+13],5,-1444681467),d=a(d,o,u,c,e[n+2],9,-51403784),c=a(c,d,o,u,e[n+7],14,1735328473),u=a(u,c,d,o,e[n+12],20,-1926607734),o=s(o,u,c,d,e[n+5],4,-378558),d=s(d,o,u,c,e[n+8],11,-2022574463),c=s(c,d,o,u,e[n+11],16,1839030562),u=s(u,c,d,o,e[n+14],23,-35309556),o=s(o,u,c,d,e[n+1],4,-1530992060),d=s(d,o,u,c,e[n+4],11,1272893353),c=s(c,d,o,u,e[n+7],16,-155497632),u=s(u,c,d,o,e[n+10],23,-1094730640),o=s(o,u,c,d,e[n+13],4,681279174),d=s(d,o,u,c,e[n],11,-358537222),c=s(c,d,o,u,e[n+3],16,-722521979),u=s(u,c,d,o,e[n+6],23,76029189),o=s(o,u,c,d,e[n+9],4,-640364487),d=s(d,o,u,c,e[n+12],11,-421815835),c=s(c,d,o,u,e[n+15],16,530742520),u=s(u,c,d,o,e[n+2],23,-995338651),o=l(o,u,c,d,e[n],6,-198630844),d=l(d,o,u,c,e[n+7],10,1126891415),c=l(c,d,o,u,e[n+14],15,-1416354905),u=l(u,c,d,o,e[n+5],21,-57434055),o=l(o,u,c,d,e[n+12],6,1700485571),d=l(d,o,u,c,e[n+3],10,-1894986606),c=l(c,d,o,u,e[n+10],15,-1051523),u=l(u,c,d,o,e[n+1],21,-2054922799),o=l(o,u,c,d,e[n+8],6,1873313359),d=l(d,o,u,c,e[n+15],10,-30611744),c=l(c,d,o,u,e[n+6],15,-1560198380),u=l(u,c,d,o,e[n+13],21,1309151649),o=l(o,u,c,d,e[n+4],6,-145523070),d=l(d,o,u,c,e[n+11],10,-1120210379),c=l(c,d,o,u,e[n+2],15,718787259),u=l(u,c,d,o,e[n+9],21,-343485551),o=r(o,t),u=r(u,p),c=r(c,h),d=r(d,f)}return[o,u,c,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};t.default=u},12715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},16129:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},21949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(52378))&&r.__esModule?r:{default:r};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=i},34417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},78811:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},58805:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a);for(let n=0;n<a;++n){const t=new Uint32Array(16);for(let r=0;r<16;++r)t[r]=e[64*n+4*r]<<24|e[64*n+4*r+1]<<16|e[64*n+4*r+2]<<8|e[64*n+4*r+3];s[n]=t}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<a;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=s[l][t];for(let t=16;t<80;++t)e[t]=r(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let i=o[0],a=o[1],u=o[2],c=o[3],d=o[4];for(let o=0;o<80;++o){const s=Math.floor(o/20),l=r(i,5)+n(s,a,u,c)+d+t[s]+e[o]>>>0;d=c,c=u,u=r(a,30)>>>0,a=i,i=l}o[0]=o[0]+i>>>0,o[1]=o[1]+a>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+c>>>0,o[4]=o[4]+d>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};t.default=o},38771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,o=(r=n(52378))&&r.__esModule?r:{default:r};const i=[];for(let l=0;l<256;++l)i.push((l+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}var s=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,o.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=s},76857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(78811))&&r.__esModule?r:{default:r},i=n(38771);let a,s,l=0,u=0;var c=function(e,t,n){let r=t&&n||0;const c=t||new Array(16);let d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||o.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:u+1;const m=h-l+(f-u)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,u=f,s=p,h+=122192928e5;const g=(1e4*(268435455&h)+f)%4294967296;c[r++]=g>>>24&255,c[r++]=g>>>16&255,c[r++]=g>>>8&255,c[r++]=255&g;const y=h/4294967296*1e4&268435455;c[r++]=y>>>8&255,c[r++]=255&y,c[r++]=y>>>24&15|16,c[r++]=y>>>16&255,c[r++]=p>>>8|128,c[r++]=255&p;for(let o=0;o<6;++o)c[r+o]=d[o];return t||(0,i.unsafeStringify)(c)};t.default=c},49175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(49124)),o=i(n(51434));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,o.default);t.default=a},49124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,s){var l;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=(0,i.default)(r)),16!==(null===(l=r)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,o.unsafeStringify)(u)}try{r.name=e}catch(l){}return r.DNS=a,r.URL=s,r};var r,o=n(38771),i=(r=n(21949))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},90646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(12715)),o=a(n(78811)),i=n(38771);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||o.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,i.unsafeStringify)(a)};t.default=s},99605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(49124)),o=i(n(58805));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,o.default);t.default=a},52378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(34417))&&r.__esModule?r:{default:r};var i=function(e){return"string"===typeof e&&o.default.test(e)};t.default=i},4762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(52378))&&r.__esModule?r:{default:r};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=i},80728:(e,t,n)=>{"use strict";var r=n(5766),o=n(2042),i=n(87787),a=n(24107),s=n(93008);e.exports=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e?null:r(e)?"String":o(e)?"Number":i(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},84696:(e,t,n)=>{"use strict";var r=n(91787),o=n(10869),i=n(72735),a=n(46641);e.exports=function(e){if(e&&"object"===typeof e){if(r(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},58004:(e,t,n)=>{"use strict";var r=n(51903),o=n(82936),i=n(61712),a=n(12028),s=n(95558),l=a("Object.prototype.toString"),u=n(64635)(),c="undefined"===typeof globalThis?n.g:globalThis,d=o(),p=a("String.prototype.slice"),h=Object.getPrototypeOf,f=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},m={__proto__:null};r(d,u&&s&&h?function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=h(t),r=s(n,Symbol.toStringTag);if(!r){var o=h(n);r=s(o,Symbol.toStringTag)}m["$"+e]=i(r.get)}}:function(e){var t=new c[e],n=t.slice||t.set;n&&(m["$"+e]=i(n))});e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!u){var t=p(l(e),8,-1);return f(d,t)>-1?t:"Object"===t&&function(e){var t=!1;return r(m,(function(n,r){if(!t)try{n(e),t=p(r,1)}catch(o){}})),t}(e)}return s?function(e){var t=!1;return r(m,(function(n,r){if(!t)try{"$"+n(e)===r&&(t=p(r,1))}catch(o){}})),t}(e):null}},96064:e=>{function t(){}e.exports=t,t.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,o=r?arguments[1]:void 0,i=r?arguments[2]:arguments[1];return i._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(i),this},t.once=function(e,t,n){var r=this,o=3===arguments.length,i=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return this.on(e,i,(function t(){r.off(e,t),a.apply(this,arguments)})),this},t.releaseGroup=function(e){var t,n,r,o;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(o=this.callbacks[t]).length;n<r;n++)o[n]._groupName===e&&(o.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(-1!==(n=r.indexOf(t))&&(r.splice(n,1),0===r.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,o=[].slice.call(arguments,1),i=this.callbacks[e],a=this.getWildcardCallbacks(e);if(i)for(t=0,n=(r=i.slice()).length;t<n&&r[t];++t)r[t].apply(this,o);if(a)for(n=a.length,t=0,n=(r=a.slice()).length;t<n&&r[t];++t)r[t].apply(this,[e].concat(o));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},t.mixin(t)},85865:function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}function u(e){return"function"===typeof e||e instanceof RegExp||!(!e||"object"!==typeof e)&&u(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!u(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"===typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=l("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=l("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=l("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!==typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"===typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=l("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=l("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof window?window:this||{})},85817:()=>{},18590:()=>{},42634:()=>{},41234:()=>{},94634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},24994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},54893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},82936:(e,t,n)=>{"use strict";var r=n(37163),o="undefined"===typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"===typeof o[r[t]]&&(e[e.length]=r[t]);return e}},98139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},77991:(e,t,n)=>{"use strict";var r=n(68317),o=n(66487);if(n(72108)()||n(99534)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&"undefined"!==typeof e[i]?e[i]():r(e)?Array.prototype[i].call(e):void 0}}else{var a=n(91141),s=n(5766),l=n(60002),u=l("%Map%",!0),c=l("%Set%",!0),d=n(12028),p=d("Array.prototype.push"),h=d("String.prototype.charCodeAt"),f=d("String.prototype.slice"),m=function(e){var t=0;return{next:function(){var n,r=t>=e.length;return r||(n=e[t],t+=1),{done:r,value:n}}}},g=function(e,t){if(a(e)||r(e))return m(e);if(s(e)){var n=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var n=h(e,t);if(n<55296||n>56319)return t+1;var r=h(e,t+1);return r<56320||r>57343?t+1:t+2}(e,n),r=f(e,n,t);return n=t,{done:t>e.length,value:r}}}}return t&&"undefined"!==typeof e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(u||c){var y=n(91787),v=n(10869),b=d("Map.prototype.forEach",!0),x=d("Set.prototype.forEach",!0);if("undefined"===typeof process||!process.versions||!process.versions.node)var w=d("Map.prototype.iterator",!0),A=d("Set.prototype.iterator",!0);var S=d("Map.prototype.@@iterator",!0)||d("Map.prototype._es6-shim iterator_",!0),C=d("Set.prototype.@@iterator",!0)||d("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(y(e)){if(w)return o(w(e));if(S)return S(e);if(b){var t=[];return b(e,(function(e,n){p(t,[n,e])})),m(t)}}if(v(e)){if(A)return o(A(e));if(C)return C(e);if(x){var n=[];return x(e,(function(e){p(n,e)})),m(n)}}}(e)||g(e)}}else e.exports=function(e){if(null!=e)return g(e,!0)}}},58168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},98587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},58387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},44439:e=>{"use strict";e.exports=JSON.parse('["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]')},70056:e=>{"use strict";e.exports=[]},5393:e=>{"use strict";e.exports=JSON.parse('{"author":"OpenVidu","dependencies":{"events":"3.3.0","freeice":"2.2.2","hark":"1.2.3","inherits":"2.0.4","jsnlog":"2.30.0","mime":"3.0.0","platform":"1.3.6","semver":"7.6.2","uuid":"9.0.1","wolfy87-eventemitter":"5.2.9"},"description":"OpenVidu Browser","devDependencies":{"@types/node":"18.11.9","@types/platform":"1.3.4","browserify":"17.0.0","terser":"5.15.1","tsify":"5.0.4","tslint":"6.1.3","typedoc":"0.23.21","typescript":"4.9.3"},"license":"Apache-2.0","main":"lib/index.js","name":"openvidu-browser","repository":{"type":"git","url":"git://github.com/OpenVidu/openvidu"},"scripts":{"browserify":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js","build":"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname \'*.d.ts\' -delete && ./config/replace_for_ts44.sh","docs":"./generate-docs.sh"},"types":"lib/index.d.ts","typesVersions":{"<4.4":{"*":["ts4.4/*"]}},"version":"2.30.1"}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>wp,hasStandardBrowserEnv:()=>Ap,hasStandardBrowserWebWorkerEnv:()=>Cp,origin:()=>kp});var t={};n.r(t),n.d(t,{CompositeArrayBuffer:()=>rK,browserFiles:()=>qY,browserHTTPRequest:()=>eQ,concatenateArrayBuffers:()=>AK,copyModel:()=>sY,decodeWeights:()=>hK,decodeWeightsStream:()=>vK,encodeWeights:()=>pK,fromMemory:()=>oQ,fromMemorySync:()=>iQ,getLoadHandlers:()=>PK,getModelArtifactsForJSON:()=>EK,getModelArtifactsForJSONSync:()=>kK,getModelArtifactsInfoForJSON:()=>TK,getSaveHandlers:()=>_K,getWeightSpecs:()=>IK,http:()=>ZY,isHTTPScheme:()=>QY,listModels:()=>iY,loadWeights:()=>XY,moveModel:()=>lY,registerLoadRouter:()=>NK,registerSaveRouter:()=>RK,removeModel:()=>aY,weightsLoaderFactory:()=>KY,withSaveHandler:()=>aQ,withSaveHandlerSync:()=>sQ});var r={};n.r(r),n.d(r,{assertParamsValid:()=>yQ,computeFlatOffset:()=>RQ,computeOutShape:()=>bQ,getNormalizedAxes:()=>SQ,isSliceContinous:()=>OQ,maskToAxes:()=>vQ,parseSliceParams:()=>NQ,sliceInfo:()=>_Q,startForAxis:()=>TQ,startIndicesWithElidedDims:()=>CQ,stopForAxis:()=>IQ,stopIndicesWithElidedDims:()=>kQ,stridesForAxis:()=>EQ,stridesWithElidedDims:()=>xQ});var o={};n.r(o),n.d(o,{conv2d:()=>q1,depthwiseConv2d:()=>X1,matMul:()=>K1});var i={};n.r(i),n.d(i,{collectGatherOpShapeInfo:()=>t4,computeOutShape:()=>e4,segOpComputeOptimalWindowSize:()=>Z3});var a={};n.r(a),n.d(a,{ERF_A1:()=>y3,ERF_A2:()=>v3,ERF_A3:()=>b3,ERF_A4:()=>x3,ERF_A5:()=>w3,ERF_P:()=>g3,PARALLELIZE_THRESHOLD:()=>i3,RowPartitionType:()=>e3,SELU_SCALE:()=>m3,SELU_SCALEALPHA:()=>f3,applyActivation:()=>U1,assertAndGetBroadcastShape:()=>jY,assertAxesAreInnerMostDims:()=>iZ,assertParamsConsistent:()=>J2,assignToTypedArray:()=>T3,axesAreInnerMostDims:()=>tZ,calculateShapes:()=>b1,checkEinsumDimSizes:()=>L3,checkPadOnDimRoundingMode:()=>aJ,combineLocations:()=>nZ,combineRaggedTensorToTensorShapes:()=>t3,complexWithEvenIndex:()=>C3,complexWithOddIndex:()=>k3,computeConv2DInfo:()=>KQ,computeConv3DInfo:()=>YQ,computeDefaultPad:()=>QQ,computeDilation2DInfo:()=>HQ,computeOptimalWindowSize:()=>a3,computeOutAndReduceShapes:()=>rZ,computeOutShape:()=>Z2,computePool2DInfo:()=>GQ,computePool3DInfo:()=>XQ,convertConv2DDataFormat:()=>iJ,decodeEinsumEquation:()=>M3,eitherStridesOrDilationsAreOne:()=>rJ,expandShapeToKeepDim:()=>oZ,exponent:()=>O3,exponents:()=>I3,fromStringArrayToUint8:()=>r4,fromUint8ToStringArray:()=>n4,getAxesPermutation:()=>aZ,getBroadcastDims:()=>LY,getComplexWithIndex:()=>E3,getEinsumComputePath:()=>$3,getEinsumPermutation:()=>D3,getFusedBiasGradient:()=>z1,getFusedDyActivation:()=>V1,getImageCenter:()=>s3,getInnerMostAxes:()=>lZ,getPermuted:()=>u3,getRaggedRank:()=>r3,getReductionAxes:()=>$Y,getReshaped:()=>l3,getReshapedPermuted:()=>c3,getRowPartitionTypesHelper:()=>n3,getSliceBeginCoords:()=>d3,getSliceSize:()=>p3,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>V3,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>z3,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>U3,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>H3,getSparseReshapeInputOutputMismatchErrorMessage:()=>X3,getSparseReshapeInputOutputMultipleErrorMessage:()=>G3,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>W3,getSparseReshapeNegativeOutputDimErrorMessage:()=>q3,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>J3,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>K3,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Y3,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>Q3,getUndoAxesPermutation:()=>sZ,isIdentityPermutation:()=>j3,log:()=>OG,mergeRealAndImagArrays:()=>A3,prepareAndValidate:()=>h3,prepareSplitSize:()=>B3,segment_util:()=>i,shouldFuse:()=>W1,slice_util:()=>r,splitRealAndImagArrays:()=>S3,stridesOrDilationsArePositive:()=>oJ,tupleValuesAreOne:()=>nJ,upcastType:()=>OX,validateDefaultValueShape:()=>o3,validateInput:()=>v1,validateUpdateShape:()=>y1,warn:()=>IG});var s={};n.r(s),n.d(s,{json:()=>g4});var l={};n.r(l),n.d(l,{json:()=>y4});var u={};n.r(u),n.d(u,{json:()=>v4});var c={};n.r(c),n.d(c,{json:()=>b4});var d={};n.r(d),n.d(d,{json:()=>x4});var p={};n.r(p),n.d(p,{json:()=>w4});var h={};n.r(h),n.d(h,{json:()=>A4});var f={};n.r(f),n.d(f,{json:()=>S4});var m={};n.r(m),n.d(m,{json:()=>C4});var g={};n.r(g),n.d(g,{json:()=>k4});var y={};n.r(y),n.d(y,{json:()=>E4});var v={};n.r(v),n.d(v,{json:()=>T4});var b={};n.r(b),n.d(b,{json:()=>I4});var x={};n.r(x),n.d(x,{json:()=>O4});var w={};n.r(w),n.d(w,{json:()=>R4});var A={};n.r(A),n.d(A,{json:()=>N4});var S={};n.r(S),n.d(S,{json:()=>_4});var C={};n.r(C),n.d(C,{json:()=>P4});var k={};n.r(k),n.d(k,{json:()=>M4});var E={};n.r(E),n.d(E,{OP_SCOPE_SUFFIX:()=>QX,abs:()=>DY,acos:()=>MQ,acosh:()=>DQ,add:()=>yY,addN:()=>LQ,all:()=>$Q,any:()=>jQ,argMax:()=>FQ,argMin:()=>BQ,asin:()=>VQ,asinh:()=>zQ,atan:()=>UQ,atan2:()=>WQ,atanh:()=>qQ,avgPool:()=>lJ,avgPool3d:()=>uJ,basicLSTMCell:()=>mJ,batchNorm:()=>yJ,batchNorm2d:()=>vJ,batchNorm3d:()=>bJ,batchNorm4d:()=>xJ,batchToSpaceND:()=>gJ,bincount:()=>wJ,bitwiseAnd:()=>AJ,booleanMaskAsync:()=>R1,broadcastArgs:()=>SJ,broadcastTo:()=>CJ,buffer:()=>hY,cast:()=>fY,ceil:()=>kJ,clipByValue:()=>EJ,clone:()=>mY,complex:()=>ZX,concat:()=>cJ,concat1d:()=>TJ,concat2d:()=>IJ,concat3d:()=>OJ,concat4d:()=>RJ,conv1d:()=>_J,conv2d:()=>NJ,conv2dTranspose:()=>MJ,conv3d:()=>DJ,conv3dTranspose:()=>$J,cos:()=>jJ,cosh:()=>FJ,cosineWindow:()=>j1,cumprod:()=>BJ,cumsum:()=>VJ,denseBincount:()=>zJ,depthToSpace:()=>UJ,depthwiseConv2d:()=>WJ,diag:()=>qJ,dilation2d:()=>HJ,div:()=>bY,divNoNan:()=>KJ,dot:()=>YJ,dropout:()=>L1,einsum:()=>QJ,elu:()=>JJ,enclosingPowerOfTwo:()=>$1,ensureShape:()=>ZJ,equal:()=>GJ,erf:()=>eZ,euclideanNorm:()=>fZ,exp:()=>mZ,expandDims:()=>gZ,expm1:()=>yZ,eye:()=>bZ,fft:()=>t1,fill:()=>_Y,floor:()=>xZ,floorDiv:()=>vY,fused:()=>o,gather:()=>wZ,gatherND:()=>D1,greater:()=>AZ,greaterEqual:()=>SZ,ifft:()=>n1,imag:()=>CZ,image:()=>H2,inTopKAsync:()=>F1,irfft:()=>r1,isFinite:()=>kZ,isInf:()=>EZ,isNaN:()=>TZ,leakyRelu:()=>IZ,less:()=>OZ,lessEqual:()=>RZ,linalg:()=>G2,linspace:()=>NZ,localResponseNormalization:()=>_Z,log:()=>PZ,log1p:()=>MZ,logSigmoid:()=>$Z,logSoftmax:()=>jZ,logSumExp:()=>FZ,logicalAnd:()=>BZ,logicalNot:()=>VZ,logicalOr:()=>zZ,logicalXor:()=>UZ,losses:()=>X2,lowerBound:()=>HZ,matMul:()=>dJ,max:()=>uZ,maxPool:()=>GZ,maxPool3d:()=>XZ,maxPoolWithArgmax:()=>KZ,maximum:()=>FY,mean:()=>YZ,meshgrid:()=>ZZ,min:()=>cZ,minimum:()=>e0,mirrorPad:()=>t0,mod:()=>n0,moments:()=>r0,movingAverage:()=>_1,mul:()=>xY,multiRNNCell:()=>o0,multinomial:()=>i0,neg:()=>DZ,norm:()=>hZ,notEqual:()=>a0,oneHot:()=>s0,ones:()=>JZ,onesLike:()=>l0,op:()=>JX,outerProduct:()=>u0,pad:()=>c0,pad1d:()=>d0,pad2d:()=>p0,pad3d:()=>h0,pad4d:()=>f0,pool:()=>g0,pow:()=>PY,prelu:()=>y0,print:()=>gY,prod:()=>v0,raggedGather:()=>b0,raggedRange:()=>x0,raggedTensorToTensor:()=>w0,rand:()=>A0,randomGamma:()=>T0,randomNormal:()=>I0,randomStandardNormal:()=>O0,randomUniform:()=>R0,randomUniformInt:()=>N0,range:()=>_0,real:()=>P0,reciprocal:()=>M0,relu:()=>D0,relu6:()=>L0,reshape:()=>sJ,reverse:()=>$0,reverse1d:()=>j0,reverse2d:()=>F0,reverse3d:()=>B0,reverse4d:()=>V0,rfft:()=>i1,round:()=>z0,rsqrt:()=>U0,scalar:()=>kY,scatterND:()=>P1,searchSorted:()=>qZ,selu:()=>W0,separableConv2d:()=>q0,setdiff1dAsync:()=>H0,sigmoid:()=>pJ,sign:()=>G0,signal:()=>q2,sin:()=>X0,sinh:()=>K0,slice:()=>hJ,slice1d:()=>Y0,slice2d:()=>Q0,slice3d:()=>J0,slice4d:()=>Z0,softmax:()=>e1,softplus:()=>LZ,spaceToBatchND:()=>m0,sparse:()=>K2,sparseToDense:()=>M1,spectral:()=>W2,split:()=>o1,sqrt:()=>wY,square:()=>AY,squaredDifference:()=>a1,squeeze:()=>s1,stack:()=>l1,step:()=>u1,stridedSlice:()=>c1,string:()=>Y2,sub:()=>MY,sum:()=>dZ,tan:()=>d1,tanh:()=>fJ,tensor:()=>tK,tensor1d:()=>p1,tensor2d:()=>h1,tensor3d:()=>lQ,tensor4d:()=>f1,tensor5d:()=>m1,tensor6d:()=>g1,tensorScatterUpdate:()=>x1,tile:()=>vZ,topk:()=>w1,transpose:()=>N1,truncatedNormal:()=>A1,unique:()=>S1,unsortedSegmentSum:()=>C1,unstack:()=>k1,upperBound:()=>E1,variable:()=>T1,where:()=>XJ,whereAsync:()=>O1,zeros:()=>QZ,zerosLike:()=>SY});var T={};n.r(T),n.d(T,{mx:()=>h7,XI:()=>m7,Nk:()=>g7,f6:()=>y7,ct:()=>u7,YG:()=>w7,hH:()=>A7,z3:()=>S7,sG:()=>C7,uM:()=>k7,C1:()=>T7,vS:()=>E7,qB:()=>I7,GG:()=>O7,lg:()=>N7,rq:()=>R7,cu:()=>P7,WR:()=>_7,GE:()=>M7,px:()=>D7,jC:()=>L7,He:()=>$7,hE:()=>j7,BF:()=>F7,Dk:()=>V7,cl:()=>z7,_B:()=>W7,ub:()=>X7,_f:()=>Y7,Ku:()=>t9,qy:()=>n9,Zy:()=>r9,bu:()=>o9,zv:()=>i9,dH:()=>r7,HS:()=>a9,yH:()=>s9,l3:()=>l9,z9:()=>u9,x6:()=>c9,_m:()=>d9,eW:()=>p9,GK:()=>f9,SP:()=>g9,yr:()=>y9,dl:()=>v9,Dw:()=>x9,xT:()=>S9,_X:()=>U7,wz:()=>C9});var I,O=n(65043),R=n.t(O,2),N=n(84391);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(I||(I={}));const P="popstate";function M(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function $(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function F(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=I.Pop,l=null,u=c();function c(){return(a.state||{idx:null}).idx}function d(){s=I.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:s,location:h.location,delta:t})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:j(e);return n=n.replace(/ $/,"%20"),M(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,a.replaceState(_({},a.state,{idx:u}),""));let h={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(P,d),l=e,()=>{o.removeEventListener(P,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=I.Push;let r=$(h.location,e,t);n&&n(r,e),u=c()+1;let d=L(r,u),p=h.createHref(r);try{a.pushState(d,"",p)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(p)}i&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s=I.Replace;let r=$(h.location,e,t);n&&n(r,e),u=c();let o=L(r,u),d=h.createHref(r);a.replaceState(o,"",d),i&&l&&l({action:s,location:h.location,delta:0})},go:e=>a.go(e)};return h}var V;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(V||(V={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,t,n){return void 0===n&&(n="/"),U(e,t,n,!1)}function U(e,t,n,r){let o=re(("string"===typeof t?F(t):t).pathname||"/",n);if(null==o)return null;let i=W(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=ne(o);a=ee(i[s],e,r)}return a}function W(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(M(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=le([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(M(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),W(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Z(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of q(e.path))o(e,t,r);else o(e,t)})),t}function q(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=q(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const H=/^:[\w-]+$/,G=3,X=2,K=1,Y=10,Q=-2,J=e=>"*"===e;function Z(e,t){let n=e.split("/"),r=n.length;return n.some(J)&&(r+=Q),t&&(r+=X),n.filter((e=>!J(e))).reduce(((e,t)=>e+(H.test(t)?G:""===t?K:Y)),r)}function ee(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:le([i,c.pathname]),pathnameBase:ue(le([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=le([i,c.pathnameBase]))}return a}function te(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function ne(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function re(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function oe(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ie(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ae(e,t){let n=ie(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function se(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=F(e):(o=_({},e),M(!o.pathname||!o.pathname.includes("?"),oe("?","pathname","search",o)),M(!o.pathname||!o.pathname.includes("#"),oe("#","pathname","hash",o)),M(!o.search||!o.search.includes("#"),oe("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?F(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:ce(r),hash:de(o)}}(o,i),u=s&&"/"!==s&&s.endsWith("/"),c=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const le=e=>e.join("/").replace(/\/\/+/g,"/"),ue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ce=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",de=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const he=["post","put","patch","delete"],fe=(new Set(he),["get",...he]);new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}const ge=O.createContext(null);const ye=O.createContext(null);const ve=O.createContext(null);const be=O.createContext(null);const xe=O.createContext({outlet:null,matches:[],isDataRoute:!1});const we=O.createContext(null);function Ae(){return null!=O.useContext(be)}function Se(){return Ae()||M(!1),O.useContext(be).location}function Ce(e){O.useContext(ve).static||O.useLayoutEffect(e)}function ke(){let{isDataRoute:e}=O.useContext(xe);return e?function(){let{router:e}=De(Pe.UseNavigateStable),t=$e(Me.UseNavigateStable),n=O.useRef(!1);Ce((()=>{n.current=!0}));let r=O.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,me({fromRouteId:t},o)))}),[e,t]);return r}():function(){Ae()||M(!1);let e=O.useContext(ge),{basename:t,future:n,navigator:r}=O.useContext(ve),{matches:o}=O.useContext(xe),{pathname:i}=Se(),a=JSON.stringify(ae(o,n.v7_relativeSplatPath)),s=O.useRef(!1);Ce((()=>{s.current=!0}));let l=O.useCallback((function(n,o){if(void 0===o&&(o={}),!s.current)return;if("number"===typeof n)return void r.go(n);let l=se(n,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:le([t,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)}),[t,r,a,i,e]);return l}()}function Ee(){let{matches:e}=O.useContext(xe),t=e[e.length-1];return t?t.params:{}}function Te(e,t,n,r){Ae()||M(!1);let{navigator:o}=O.useContext(ve),{matches:i}=O.useContext(xe),a=i[i.length-1],s=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,c=Se();if(t){var d;let e="string"===typeof t?F(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||M(!1),u=e}else u=c;let p=u.pathname||"/",h=p;if("/"!==l){let e=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=z(e,{pathname:h});let m=_e(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:le([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:le([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&m?O.createElement(be.Provider,{value:{location:me({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:I.Pop}},m):m}function Ie(){let e=function(){var e;let t=O.useContext(we),n=Le(Me.UseRouteError),r=$e(Me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=pe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:o},n):null,null)}const Oe=O.createElement(Ie,null);class Re extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?O.createElement(xe.Provider,{value:this.props.routeContext},O.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ne(e){let{routeContext:t,match:n,children:r}=e,o=O.useContext(ge);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(xe.Provider,{value:t},r)}function _e(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,s=null==(o=n)?void 0:o.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||M(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let e=a[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){l=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let i,c=!1,d=null,p=null;var h;n&&(i=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||Oe,l&&(u<0&&0===o?(h="route-fallback",!1||je[h]||(je[h]=!0),c=!0,p=null):u===o&&(c=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=i?d:c?p:r.route.Component?O.createElement(r.route.Component,null):r.route.element?r.route.element:e,O.createElement(Ne,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?O.createElement(Re,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var Pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pe||{}),Me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Me||{});function De(e){let t=O.useContext(ge);return t||M(!1),t}function Le(e){let t=O.useContext(ye);return t||M(!1),t}function $e(e){let t=function(){let e=O.useContext(xe);return e||M(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||M(!1),n.route.id}const je={};R.startTransition;function Fe(e){let{to:t,replace:n,state:r,relative:o}=e;Ae()||M(!1);let{future:i,static:a}=O.useContext(ve),{matches:s}=O.useContext(xe),{pathname:l}=Se(),u=ke(),c=se(t,ae(s,i.v7_relativeSplatPath),l,"path"===o),d=JSON.stringify(c);return O.useEffect((()=>u(JSON.parse(d),{replace:n,state:r,relative:o})),[u,d,o,n,r]),null}function Be(e){M(!1)}function Ve(e){let{basename:t="/",children:n=null,location:r,navigationType:o=I.Pop,navigator:i,static:a=!1,future:s}=e;Ae()&&M(!1);let l=t.replace(/^\/*/,"/"),u=O.useMemo((()=>({basename:l,navigator:i,static:a,future:me({v7_relativeSplatPath:!1},s)})),[l,s,i,a]);"string"===typeof r&&(r=F(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,m=O.useMemo((()=>{let e=re(c,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:h,key:f},navigationType:o}}),[l,c,d,p,h,f,o]);return null==m?null:O.createElement(ve.Provider,{value:u},O.createElement(be.Provider,{children:n,value:m}))}function ze(e){let{children:t,location:n}=e;return Te(Ue(t),n)}new Promise((()=>{}));O.Component;function Ue(e,t){void 0===t&&(t=[]);let n=[];return O.Children.forEach(e,((e,r)=>{if(!O.isValidElement(e))return;let o=[...t,r];if(e.type===O.Fragment)return void n.push.apply(n,Ue(e.props.children,o));e.type!==Be&&M(!1),e.props.index&&e.props.children&&M(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ue(e.props.children,o)),n.push(i)})),n}var We=n(97950),qe=n.t(We,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Nve){}new Map;const He=R.startTransition;qe.flushSync,R.useId;function Ge(e){let{basename:t,children:n,future:r,window:o}=e,i=O.useRef();var a;null==i.current&&(i.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),B((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return $("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:j(t)}),null,a)));let s=i.current,[l,u]=O.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=O.useCallback((e=>{c&&He?He((()=>u(e))):u(e)}),[u,c]);return O.useLayoutEffect((()=>s.listen(d)),[s,d]),O.createElement(Ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Xe,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xe||(Xe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));var Ye=n(70579);const Qe=(0,O.createContext)(null);function Je(e){const t=(0,O.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Ze=(0,O.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class et extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tt(e){let{children:t,isPresent:n}=e;const r=(0,O.useId)(),o=(0,O.useRef)(null),i=(0,O.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,O.useContext)(Ze);return(0,O.useInsertionEffect)((()=>{const{width:e,height:t,top:s,left:l}=i.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${s}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}}),[n]),(0,Ye.jsx)(et,{isPresent:n,childRef:o,sizeRef:i,children:O.cloneElement(t,{ref:o})})}const nt=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:a,mode:s}=e;const l=Je(rt),u=(0,O.useId)(),c=(0,O.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:i,onExitComplete:e=>{l.set(e,!0);for(const t of l.values())if(!t)return;o&&o()},register:e=>(l.set(e,!1),()=>l.delete(e))})),a?[Math.random()]:[r]);return(0,O.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[r]),O.useEffect((()=>{!r&&!l.size&&o&&o()}),[r]),"popLayout"===s&&(t=(0,Ye.jsx)(tt,{isPresent:r,children:t})),(0,Ye.jsx)(Qe.Provider,{value:c,children:t})};function rt(){return new Map}const ot=(0,O.createContext)({}),it=e=>e;let at=it,st=it;const lt=e=>e.key||"";function ut(e){const t=[];return O.Children.forEach(e,(e=>{(0,O.isValidElement)(e)&&t.push(e)})),t}const ct="undefined"!==typeof window,dt=ct?O.useLayoutEffect:O.useEffect,pt=e=>{let{children:t,exitBeforeEnter:n,custom:r,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:s="sync"}=e;st(!n,"Replace exitBeforeEnter with mode='wait'");const l=(0,O.useMemo)((()=>ut(t)),[t]),u=l.map(lt),c=(0,O.useRef)(!0),d=(0,O.useRef)(l),p=Je((()=>new Map)),[h,f]=(0,O.useState)(l),[m,g]=(0,O.useState)(l);dt((()=>{c.current=!1,d.current=l;for(let e=0;e<m.length;e++){const t=lt(m[e]);u.includes(t)?p.delete(t):!0!==p.get(t)&&p.set(t,!1)}}),[m,u.length,u.join("-")]);const y=[];if(l!==h){let e=[...l];for(let t=0;t<m.length;t++){const n=m[t],r=lt(n);u.includes(r)||(e.splice(t,0,n),y.push(n))}return"wait"===s&&y.length&&(e=y),g(ut(e)),void f(l)}const{forceRender:v}=(0,O.useContext)(ot);return(0,Ye.jsx)(Ye.Fragment,{children:m.map((e=>{const t=lt(e),n=l===m||u.includes(t);return(0,Ye.jsx)(nt,{isPresent:n,initial:!(c.current&&!o)&&void 0,custom:n?void 0:r,presenceAffectsLayout:a,mode:s,onExitComplete:n?void 0:()=>{if(!p.has(t))return;p.set(t,!0);let e=!0;p.forEach((t=>{t||(e=!1)})),e&&(null===v||void 0===v||v(),g(d.current),i&&i())},children:e},t)}))})};var ht=n(92382);const ft=n.p+"static/media/test.d4cb59a48c9ed667f72c.png";const mt=function(){return(0,Ye.jsx)("div",{className:"loginslider-container",children:(0,Ye.jsxs)(ht.A,{dots:!0,infinite:!0,speed:3e3,slidesToShow:1,slidesToScroll:1,draggable:!0,autoplay:!0,autoplaySpeed:6e3,children:[(0,Ye.jsxs)("div",{className:"loginslider-desc",children:[(0,Ye.jsx)("img",{className:"loginslider-desc-img",src:ft}),(0,Ye.jsx)("div",{className:"loginslider-desc-text"})]}),(0,Ye.jsxs)("div",{className:"loginslider-desc",children:[(0,Ye.jsx)("img",{className:"loginslider-desc-img",src:ft}),(0,Ye.jsx)("div",{className:"loginslider-desc-text"})]}),(0,Ye.jsxs)("div",{className:"loginslider-desc",children:[(0,Ye.jsx)("img",{className:"loginslider-desc-img",src:ft}),(0,Ye.jsx)("div",{className:"loginslider-desc-text"})]})]})})},gt=e=>{let{label:t,type:n,value:r,onChange:o,placeHolder:i}=e;return(0,Ye.jsx)("div",{className:"input-wrapper",children:(0,Ye.jsxs)("label",{className:"input-field",children:[(0,Ye.jsx)("div",{children:t}),(0,Ye.jsx)("input",{type:n,value:r,onChange:o,required:!0,placeholder:i})]})})},yt=n.p+"static/media/logo.422afe8d9f27949075c4.png",vt=n.p+"static/media/login.35877fff23ede6b490fd.gif",bt=n.p+"static/media/sign.cae3dec744af4e07c50c.gif",xt=(0,O.createContext)({}),wt=(0,O.createContext)({strict:!1}),At=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),St="data-"+At("framerAppearId"),Ct=!1,kt=!1;const Et=["read","resolveKeyframes","update","preRender","render","postRender"];function Tt(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Et.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,o=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(t){i.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{a=e,r?o=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(s),r=!1,o&&(o=!1,l.process(e)))}};return l}(i),e)),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:p}=a,h=()=>{const i=kt?o.timestamp:performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,s.process(o),l.process(o),u.process(o),c.process(o),d.process(o),p.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(h))},f=Et.reduce(((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(h)),s.schedule(t,i,a)},t}),{});return{schedule:f,cancel:e=>{for(let t=0;t<Et.length;t++)a[Et[t]].cancel(e)},state:o,steps:a}}const{schedule:It,cancel:Ot}=Tt(queueMicrotask,!1);function Rt(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Nt=(0,O.createContext)({});let _t=!1;function Pt(e,t,n,r,o){var i;const{visualElement:a}=(0,O.useContext)(xt),s=(0,O.useContext)(wt),l=(0,O.useContext)(Qe),u=(0,O.useContext)(Ze).reducedMotion,c=(0,O.useRef)();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));const d=c.current,p=(0,O.useContext)(Nt);!d||d.projection||!o||"html"!==d.type&&"svg"!==d.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Dt(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&Rt(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(c.current,n,o,p),(0,O.useInsertionEffect)((()=>{d&&d.update(n,l)}));const h=n[St],f=(0,O.useRef)(Boolean(h)&&!window.MotionHandoffIsComplete&&(null===(i=window.MotionHasOptimisedAnimation)||void 0===i?void 0:i.call(window,h)));return dt((()=>{d&&(d.updateFeatures(),It.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())})),(0,O.useEffect)((()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current=!1,_t||(_t=!0,queueMicrotask(Mt)))})),d}function Mt(){window.MotionHandoffIsComplete=!0}function Dt(e){if(e)return!1!==e.options.allowProjection?e.projection:Dt(e.parent)}function Lt(e,t,n){return(0,O.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Rt(n)&&(n.current=r))}),[t])}function $t(e){return"string"===typeof e||Array.isArray(e)}function jt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Ft=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bt=["initial",...Ft];function Vt(e){return jt(e.animate)||Bt.some((t=>$t(e[t])))}function zt(e){return Boolean(Vt(e)||e.variants)}function Ut(e){const{initial:t,animate:n}=function(e,t){if(Vt(e)){const{initial:t,animate:n}=e;return{initial:!1===t||$t(t)?t:void 0,animate:$t(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,O.useContext)(xt));return(0,O.useMemo)((()=>({initial:t,animate:n})),[Wt(t),Wt(n)])}function Wt(e){return Array.isArray(e)?e.join(" "):e}const qt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ht={};for(const n in qt)Ht[n]={isEnabled:e=>qt[n].some((t=>!!e[t]))};const Gt=Symbol.for("motionComponentSymbol");function Xt(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:i}=e;t&&function(e){for(const t in e)Ht[t]={...Ht[t],...e[t]}}(t);const a=(0,O.forwardRef)((function(e,t){let a;const s={...(0,O.useContext)(Ze),...e,layoutId:Kt(e)},{isStatic:l}=s,u=Ut(e),c=o(e,l);if(!l&&ct){!function(){(0,O.useContext)(wt).strict;0}();const e=function(e){const{drag:t,layout:n}=Ht;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=e.MeasureLayout,u.visualElement=Pt(i,c,s,n,e.ProjectionNode)}return(0,Ye.jsxs)(xt.Provider,{value:u,children:[a&&u.visualElement?(0,Ye.jsx)(a,{visualElement:u.visualElement,...s}):null,r(i,e,Lt(c,u.visualElement,t),c,l,u.visualElement)]})}));return a[Gt]=i,a}function Kt(e){let{layoutId:t}=e;const n=(0,O.useContext)(ot).id;return n&&void 0!==t?n+"-"+t:t}function Yt(e){function t(t){return Xt(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Qt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jt(e){return"string"===typeof e&&!e.includes("-")&&!!(Qt.indexOf(e)>-1||/[A-Z]/u.test(e))}const Zt={};const en=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tn=new Set(en);function nn(e,t){let{layout:n,layoutId:r}=t;return tn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Zt[e]||"opacity"===e)}const rn=e=>Boolean(e&&e.getVelocity),on=(e,t)=>t&&"number"===typeof e?t.transform(e):e,an=(e,t,n)=>n>t?t:n<e?e:n,sn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ln={...sn,transform:e=>an(0,1,e)},un={...sn,default:1},cn=e=>Math.round(1e5*e)/1e5,dn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,pn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,hn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function fn(e){return"string"===typeof e}const mn=e=>({test:t=>fn(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),gn=mn("deg"),yn=mn("%"),vn=mn("px"),bn=mn("vh"),xn=mn("vw"),wn={...yn,parse:e=>yn.parse(e)/100,transform:e=>yn.transform(100*e)},An={...sn,transform:Math.round},Sn={borderWidth:vn,borderTopWidth:vn,borderRightWidth:vn,borderBottomWidth:vn,borderLeftWidth:vn,borderRadius:vn,radius:vn,borderTopLeftRadius:vn,borderTopRightRadius:vn,borderBottomRightRadius:vn,borderBottomLeftRadius:vn,width:vn,maxWidth:vn,height:vn,maxHeight:vn,size:vn,top:vn,right:vn,bottom:vn,left:vn,padding:vn,paddingTop:vn,paddingRight:vn,paddingBottom:vn,paddingLeft:vn,margin:vn,marginTop:vn,marginRight:vn,marginBottom:vn,marginLeft:vn,rotate:gn,rotateX:gn,rotateY:gn,rotateZ:gn,scale:un,scaleX:un,scaleY:un,scaleZ:un,skew:gn,skewX:gn,skewY:gn,distance:vn,translateX:vn,translateY:vn,translateZ:vn,x:vn,y:vn,z:vn,perspective:vn,transformPerspective:vn,opacity:ln,originX:wn,originY:wn,originZ:vn,zIndex:An,backgroundPositionX:vn,backgroundPositionY:vn,fillOpacity:ln,strokeOpacity:ln,numOctaves:An},Cn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kn=en.length;const En=e=>t=>"string"===typeof t&&t.startsWith(e),Tn=En("--"),In=En("var(--"),On=e=>!!In(e)&&Rn.test(e.split("/*")[0].trim()),Rn=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Nn(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const l in t){const e=t[l];if(tn.has(l))a=!0;else if(Tn(l))o[l]=e;else{const t=on(e,Sn[l]);l.startsWith("origin")?(s=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<kn;i++){const a=en[i],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=on(s,Sn[a]);l||(o=!1,r+=`${Cn[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const _n=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pn(e,t,n){for(const r in t)rn(t[r])||nn(r,n)||(e[r]=t[r])}function Mn(e,t){const n={};return Pn(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,O.useMemo)((()=>{const e=_n();return Nn(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Dn(e,t){const n={},r=Mn(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ln=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $n(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ln.has(e)}let jn=e=>!$n(e);try{(Fn=require("@emotion/is-prop-valid").default)&&(jn=e=>e.startsWith("on")?!$n(e):Fn(e))}catch(_ve){}var Fn;function Bn(e,t,n){return"string"===typeof e?e:vn.transform(t+n*e)}const Vn={offset:"stroke-dashoffset",array:"stroke-dasharray"},zn={offset:"strokeDashoffset",array:"strokeDasharray"};function Un(e,t,n,r){let{attrX:o,attrY:i,attrScale:a,originX:s,originY:l,pathLength:u,pathSpacing:c=1,pathOffset:d=0,...p}=t;if(Nn(e,p,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:m}=e;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(void 0!==s||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){return`${Bn(t,e.x,e.width)} ${Bn(n,e.y,e.height)}`}(m,void 0!==s?s:.5,void 0!==l?l:.5)),void 0!==o&&(h.x=o),void 0!==i&&(h.y=i),void 0!==a&&(h.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?Vn:zn;e[i.offset]=vn.transform(-r);const a=vn.transform(t),s=vn.transform(n);e[i.array]=`${a} ${s}`}(h,u,c,d,!1)}const Wn=()=>({..._n(),attrs:{}}),qn=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Hn(e,t,n,r){const o=(0,O.useMemo)((()=>{const n=Wn();return Un(n,t,qn(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Pn(t,e.style,e),o.style={...t,...o.style}}return o}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,i)=>{let{latestValues:a}=o;const s=(Jt(t)?Hn:Dn)(n,a,i,t),l=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(jn(o)||!0===n&&$n(o)||!t&&!$n(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),u=t!==O.Fragment?{...l,...s,ref:r}:{},{children:c}=n,d=(0,O.useMemo)((()=>rn(c)?c.get():c),[c]);return(0,O.createElement)(t,{...u,children:d})}}function Xn(e,t,n,r){let{style:o,vars:i}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const Kn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yn(e,t,n,r){Xn(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Kn.has(o)?o:At(o),t.attrs[o])}function Qn(e,t,n){var r;const{style:o}=e,i={};for(const a in o)(rn(o[a])||t.style&&rn(t.style[a])||nn(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=o[a]);return n&&o&&"string"===typeof o.willChange&&(n.applyWillChange=!1),i}function Jn(e,t,n){const r=Qn(e,t,n);for(const o in e)if(rn(e[o])||rn(t[o])){r[-1!==en.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}function Zn(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function er(e,t,n,r){if("function"===typeof t){const[o,i]=Zn(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=Zn(r);t=t(void 0!==n?n:e.custom,o,i)}return t}const tr=e=>Array.isArray(e),nr=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),rr=e=>tr(e)?e[e.length-1]||0:e;function or(e){const t=rn(e)?e.get():e;return nr(t)?t.toValue():t}const ir=new Set(["opacity","clipPath","filter","transform"]);function ar(e){return tn.has(e)?"transform":ir.has(e)?At(e):void 0}function sr(e,t){-1===e.indexOf(t)&&e.push(t)}function lr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ur=e=>(t,n)=>{const r=(0,O.useContext)(xt),o=(0,O.useContext)(Qe),i=()=>function(e,t,n,r,o){let{applyWillChange:i=!1,scrapeMotionValuesFromProps:a,createRenderState:s,onMount:l}=e;const u={latestValues:pr(t,n,r,!o&&i,a),renderState:s()};return l&&(u.mount=e=>l(t,e,u)),u}(e,t,r,o,n);return n?i():Je(i)};function cr(e,t){const n=ar(t);n&&sr(e,n)}function dr(e,t,n){const r=Array.isArray(t)?t:[t];for(let o=0;o<r.length;o++){const t=er(e,r[o]);if(t){const{transitionEnd:e,transition:r,...o}=t;n(o,e)}}}function pr(e,t,n,r,o){var i;const a={},s=[],l=r&&void 0===(null===(i=e.style)||void 0===i?void 0:i.willChange),u=o(e,{});for(const g in u)a[g]=or(u[g]);let{initial:c,animate:d}=e;const p=Vt(e),h=zt(e);t&&h&&!p&&!1!==e.inherit&&(void 0===c&&(c=t.initial),void 0===d&&(d=t.animate));let f=!!n&&!1===n.initial;f=f||!1===c;const m=f?d:c;return m&&"boolean"!==typeof m&&!jt(m)&&dr(e,m,((e,t)=>{for(const n in e){let t=e[n];if(Array.isArray(t)){t=t[f?t.length-1:0]}null!==t&&(a[n]=t)}for(const n in t)a[n]=t[n]})),l&&(d&&!1!==c&&!jt(d)&&dr(e,d,(e=>{for(const t in e)cr(s,t)})),s.length&&(a.willChange=s.join(","))),a}const{schedule:hr,cancel:fr,state:mr,steps:gr}=Tt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:it,!0),yr={useVisualState:ur({scrapeMotionValuesFromProps:Jn,createRenderState:Wn,onMount:(e,t,n)=>{let{renderState:r,latestValues:o}=n;hr.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Nve){r.dimensions={x:0,y:0,width:0,height:0}}})),hr.render((()=>{Un(r,o,qn(t.tagName),e.transformTemplate),Yn(t,r)}))}})},vr={useVisualState:ur({applyWillChange:!0,scrapeMotionValuesFromProps:Qn,createRenderState:_n})};function br(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const xr=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const Ar=e=>t=>xr(t)&&e(t,wr(t));function Sr(e,t,n,r){return br(e,t,Ar(n),r)}const Cr=(e,t)=>n=>t(e(n)),kr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Cr)};function Er(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Tr=Er("dragHorizontal"),Ir=Er("dragVertical");function Or(e){let t=!1;if("y"===e)t=Ir();else if("x"===e)t=Tr();else{const e=Tr(),n=Ir();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Rr(){const e=Or(!0);return!e||(e(),!1)}class Nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _r(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return Sr(e.current,n,((n,o)=>{if("touch"===n.pointerType||Rr())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t);const a=i[r];a&&hr.postRender((()=>a(n,o)))}),{passive:!e.getProps()[r]})}const Pr=(e,t)=>!!t&&(e===t||Pr(e,t.parentElement));function Mr(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wr(n))}const Dr=new WeakMap,Lr=new WeakMap,$r=e=>{const t=Dr.get(e.target);t&&t(e)},jr=e=>{e.forEach($r)};function Fr(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Lr.has(r)||Lr.set(r,{});const o=Lr.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(jr,{root:t,...n})),o[i]}(t);return Dr.set(e,n),r.observe(e),()=>{Dr.delete(e),r.unobserve(e)}}const Br={some:0,all:1};const Vr={inView:{Feature:class extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Br[r]};return Fr(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Nr{constructor(){super(...arguments),this.removeStartListeners=it,this.removeEndListeners=it,this.removeAccessibleListeners=it,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Sr(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps(),i=o||Pr(this.node.current,e.target)?n:r;i&&hr.update((()=>i(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),o=Sr(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=kr(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=br(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=br(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Mr("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&hr.postRender((()=>n(e,t)))}))})),Mr("down",((e,t)=>{this.startPress(e,t)}))})),t=br(this.node.current,"blur",(()=>{this.isPressing&&Mr("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=kr(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&hr.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Rr()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&hr.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Sr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=br(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kr(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Nve){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kr(br(this.node.current,"focus",(()=>this.onFocus())),br(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Nr{mount(){this.unmount=kr(_r(this.node,!0),_r(this.node,!1))}unmount(){}}}};function zr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ur(e,t,n){const r=e.getProps();return er(r,t,void 0!==n?n:r.custom,e)}const Wr=e=>1e3*e,qr=e=>e/1e3,Hr={type:"spring",stiffness:500,damping:25,restSpeed:10},Gr={type:"keyframes",duration:.8},Xr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kr=(e,t)=>{let{keyframes:n}=t;return n.length>2?Gr:tn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Hr:Xr};function Yr(e,t){return e[t]||e.default||e}const Qr=!1,Jr=e=>null!==e;function Zr(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(Jr),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}let eo;function to(){eo=void 0}const no={now:()=>(void 0===eo&&no.set(mr.isProcessing||kt?mr.timestamp:performance.now()),eo),set:e=>{eo=e,queueMicrotask(to)}},ro=e=>/^0[^.\s]+$/u.test(e);function oo(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||ro(e))}const io=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ao=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function so(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;st(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,o]=function(e){const t=ao.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${null!==n&&void 0!==n?n:r}`,o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return io(e)?parseFloat(e):e}return On(o)?so(o,t,n+1):o}const lo=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uo=e=>e===sn||e===vn,co=(e,t)=>parseFloat(e.split(", ")[t]),po=(e,t)=>(n,r)=>{let{transform:o}=r;if("none"===o||!o)return 0;const i=o.match(/^matrix3d\((.+)\)$/u);if(i)return co(i[1],t);{const t=o.match(/^matrix\((.+)\)$/u);return t?co(t[1],e):0}},ho=new Set(["x","y","z"]),fo=en.filter((e=>!ho.has(e)));const mo={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:po(4,13),y:po(5,14)};mo.translateX=mo.x,mo.translateY=mo.y;const go=e=>t=>t.test(e),yo=[sn,vn,yn,gn,xn,bn,{test:e=>"auto"===e,parse:e=>e}],vo=e=>yo.find(go(e)),bo=new Set;let xo=!1,wo=!1;function Ao(){if(wo){const e=Array.from(bo).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return fo.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var o;null===(o=e.getValue(n))||void 0===o||o.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}wo=!1,xo=!1,bo.forEach((e=>e.complete())),bo.clear()}function So(){bo.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(wo=!0)}))}class Co{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bo.add(this),xo||(xo=!0,hr.read(So),hr.resolveKeyframes(Ao))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let o=0;o<e.length;o++)if(null===e[o])if(0===o){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ko=(e,t)=>n=>Boolean(fn(n)&&hn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Eo=(e,t,n)=>r=>{if(!fn(r))return r;const[o,i,a,s]=r.match(dn);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},To={...sn,transform:e=>Math.round((e=>an(0,255,e))(e))},Io={test:ko("rgb","red"),parse:Eo("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+To.transform(t)+", "+To.transform(n)+", "+To.transform(r)+", "+cn(ln.transform(o))+")"}};const Oo={test:ko("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Io.transform},Ro={test:ko("hsl","hue"),parse:Eo("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+yn.transform(cn(n))+", "+yn.transform(cn(r))+", "+cn(ln.transform(o))+")"}},No={test:e=>Io.test(e)||Oo.test(e)||Ro.test(e),parse:e=>Io.test(e)?Io.parse(e):Ro.test(e)?Ro.parse(e):Oo.parse(e),transform:e=>fn(e)?e:e.hasOwnProperty("red")?Io.transform(e):Ro.transform(e)};const _o="number",Po="color",Mo="var",Do="var(",Lo="${}",$o=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace($o,(e=>(No.test(e)?(r.color.push(i),o.push(Po),n.push(No.parse(e))):e.startsWith(Do)?(r.var.push(i),o.push(Mo),n.push(e)):(r.number.push(i),o.push(_o),n.push(parseFloat(e))),++i,Lo))).split(Lo);return{values:n,split:a,indexes:r,types:o}}function Fo(e){return jo(e).values}function Bo(e){const{split:t,types:n}=jo(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===_o?cn(e[i]):t===Po?No.transform(e[i]):e[i]}return o}}const Vo=e=>"number"===typeof e?0:e;const zo={test:function(e){var t,n;return isNaN(e)&&fn(e)&&((null===(t=e.match(dn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(pn))||void 0===n?void 0:n.length)||0)>0},parse:Fo,createTransformer:Bo,getAnimatableNone:function(e){const t=Fo(e);return Bo(e)(t.map(Vo))}},Uo=new Set(["brightness","contrast","saturate","opacity"]);function Wo(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(dn)||[];if(!r)return e;const o=n.replace(r,"");let i=Uo.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const qo=/\b([a-z-]*)\(.*?\)/gu,Ho={...zo,getAnimatableNone:e=>{const t=e.match(qo);return t?t.map(Wo).join(" "):e}},Go={...Sn,color:No,backgroundColor:No,outlineColor:No,fill:No,stroke:No,borderColor:No,borderTopColor:No,borderRightColor:No,borderBottomColor:No,borderLeftColor:No,filter:Ho,WebkitFilter:Ho},Xo=e=>Go[e];function Ko(e,t){let n=Xo(e);return n!==Ho&&(n=zo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Yo=new Set(["auto","none","0"]);class Qo extends Co{constructor(e,t,n,r){super(e,t,n,r,null===r||void 0===r?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),On(n))){const r=so(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!lo.has(n)||2!==e.length)return;const[r,o]=e,i=vo(r),a=vo(o);if(i!==a)if(uo(i)&&uo(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)oo(e[r])&&n.push(r);n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!Yo.has(t)&&jo(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=Ko(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=mo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function Jo(e){let t;return()=>(void 0===t&&(t=e()),t)}const Zo=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!zo.test(e)&&"0"!==e||e.startsWith("url(")));class ei{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:a="loop",...s}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:a,...s},this.updateFinishedPromise()}get resolved(){return this._resolved||this.hasAttemptedResolve||(So(),Ao()),this._resolved}onKeyframesResolved(e,t){this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:o,delay:i,onComplete:a,onUpdate:s,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=Zo(o,t),s=Zo(i,t);return at(a===s,`You are trying to animate ${t} from "${o}" to "${i}". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${i} via the \`style\` property.`),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||"spring"===n&&r)}(e,n,r,o)){if(Qr||!i)return null===s||void 0===s||s(Zr(e,this.options,t)),null===a||void 0===a||a(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function ti(e,t){return t?e*(1e3/t):0}const ni=5;function ri(e,t,n){const r=Math.max(t-ni,0);return ti(n-e(r),t-r)}const oi=.001,ii=.01,ai=10,si=.05,li=1;function ui(e){let t,n,{duration:r=800,bounce:o=.25,velocity:i=0,mass:a=1}=e;at(r<=Wr(ai),"Spring duration must be 10 seconds or less");let s=1-o;s=an(si,li,s),r=an(ii,ai,qr(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=di(e,s),l=Math.exp(-n);return oi-o/a*l},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=di(Math.pow(e,2),s);return(-t(e)+oi>0?-1:1)*((o-a)*l)/u}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-oi,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<ci;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Wr(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const ci=12;function di(e,t){return e*Math.sqrt(1-t*t)}const pi=["duration","bounce"],hi=["stiffness","damping","mass"];function fi(e,t){return t.some((t=>void 0!==e[t]))}function mi(e){let{keyframes:t,restDelta:n,restSpeed:r,...o}=e;const i=t[0],a=t[t.length-1],s={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:h}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!fi(e,hi)&&fi(e,pi)){const n=ui(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...o,velocity:-qr(o.velocity||0)}),f=p||0,m=u/(2*Math.sqrt(l*c)),g=a-i,y=qr(Math.sqrt(l/c)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=di(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:h&&d||null,next:e=>{const t=b(e);if(h)s.done=e>=d;else{let o=0;m<1&&(o=0===e?Wr(f):ri(b,e,t));const i=Math.abs(o)<=r,l=Math.abs(a-t)<=n;s.done=i&&l}return s.value=s.done?a:t,s}}}function gi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:c=.5,restSpeed:d}=e;const p=t[0],h={done:!1,value:p},f=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=p+m,y=void 0===s?g:s(g);y!==g&&(m=y-p);const v=e=>-m*Math.exp(-e/o),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?y:n};let w,A;const S=e=>{(e=>void 0!==l&&e<l||void 0!==u&&e>u)(h.value)&&(w=e,A=mi({keyframes:[h.value,f(h.value)],velocity:ri(b,e,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return A||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?A.next(e-w):(!t&&x(e),h)}}}const yi=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vi=1e-7,bi=12;function xi(e,t,n,r){if(e===t&&n===r)return it;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=yi(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>vi&&++s<bi);return a}(t,0,1,e,n);return e=>0===e||1===e?e:yi(o(e),t,r)}const wi=xi(.42,0,1,1),Ai=xi(0,0,.58,1),Si=xi(.42,0,.58,1),Ci=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ki=e=>t=>1-e(1-t),Ei=e=>1-Math.sin(Math.acos(e)),Ti=ki(Ei),Ii=Ci(Ei),Oi=xi(.33,1.53,.69,.99),Ri=ki(Oi),Ni=Ci(Ri),_i={linear:it,easeIn:wi,easeInOut:Si,easeOut:Ai,circIn:Ei,circInOut:Ii,circOut:Ti,backIn:Ri,backInOut:Ni,backOut:Oi,anticipate:e=>(e*=2)<1?.5*Ri(e):.5*(2-Math.pow(2,-10*(e-1)))},Pi=e=>{if(Array.isArray(e)){st(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,o]=e;return xi(t,n,r,o)}return"string"===typeof e?(st(void 0!==_i[e],`Invalid easing type '${e}'`),_i[e]):e},Mi=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Di=(e,t,n)=>e+(t-e)*n;function Li(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $i(e,t){return n=>n>0?t:e}const ji=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Fi=[Oo,Io,Ro];function Bi(e){const t=(e=>Fi.find((t=>t.test(e))))(e);if(at(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===Ro&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Li(o,e,t+1/3),a=Li(o,e,t),s=Li(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(n)),n}const Vi=(e,t)=>{const n=Bi(e),r=Bi(t);if(!n||!r)return $i(e,t);const o={...n};return e=>(o.red=ji(n.red,r.red,e),o.green=ji(n.green,r.green,e),o.blue=ji(n.blue,r.blue,e),o.alpha=Di(n.alpha,r.alpha,e),Io.transform(o))},zi=new Set(["none","hidden"]);function Ui(e,t){return n=>Di(e,t,n)}function Wi(e){return"number"===typeof e?Ui:"string"===typeof e?On(e)?$i:No.test(e)?Vi:Gi:Array.isArray(e)?qi:"object"===typeof e?No.test(e)?Vi:Hi:$i}function qi(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>Wi(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function Hi(e,t){const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Wi(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Gi=(e,t)=>{const n=zo.createTransformer(t),r=jo(e),o=jo(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?zi.has(e)&&!o.values.length||zi.has(t)&&!r.values.length?function(e,t){return zi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):kr(qi(function(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][o[a]],l=null!==(n=e.values[s])&&void 0!==n?n:0;r[i]=l,o[a]++}return r}(r,o),o.values),n):(at(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),$i(e,t))};function Xi(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Di(e,t,n);return Wi(e)(e,t)}function Ki(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(st(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],o=n||Xi,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||it:t;n=kr(e,n)}r.push(n)}return r}(t,r,o),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Mi(e[n],e[n+1],t);return a[n](r)};return n?t=>l(an(e[0],e[i-1],t)):l}function Yi(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Mi(0,t,r);e.push(Di(n,1,o))}}(t,e.length-1),t}function Qi(e,t){return e.map((()=>t||Si)).splice(0,e.length-1)}function Ji(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(Pi):Pi(o),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Yi(n),t),l=Ki(s,n,{ease:Array.isArray(i)?i:Qi(n,i)});return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Zi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>hr.update(t,!0),stop:()=>fr(t),now:()=>mr.isProcessing?mr.timestamp:no.now()}},ea={decay:gi,inertia:gi,tween:Ji,keyframes:Ji,spring:mi},ta=e=>e/100;class na extends ei{constructor(e){let{KeyframeResolver:t=Co,...n}=e;super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:r,motionValue:o,keyframes:i}=this.options,a=(e,t)=>this.onKeyframesResolved(e,t);r&&o&&o.owner?this.resolver=o.owner.resolveKeyframes(i,a,r,o):this.resolver=new t(i,a,r,o),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=this.options,a=ea[t]||Ji;let s,l;a!==Ji&&"number"!==typeof e[0]&&(s=kr(ta,Xi(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});"mirror"===o&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===u.calculatedDuration&&(u.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(u));const{calculatedDuration:c}=u,d=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:c,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return o.next(0);const{delay:d,repeat:p,repeatType:h,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let v=this.currentTime,b=o;if(p){const e=Math.min(this.currentTime,u)/c;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,p+1);Boolean(t%2)&&("reverse"===h?(n=1-n,f&&(n-=f/c)):"mirror"===h&&(b=i)),v=an(0,1,n)*c}const x=y?{done:!1,value:s[0]}:b.next(v);a&&(x.value=a(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return A&&void 0!==r&&(x.value=Zr(s,this.options,r)),m&&m(x.value),A&&this.finish(),x}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Wr(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Zi,onPlay:t}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime&&"finished"!==this.state||(this.startTime=n),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ra=e=>Array.isArray(e)&&"number"===typeof e[0];function oa(e){return Boolean(!e||"string"===typeof e&&e in aa||ra(e)||Array.isArray(e)&&e.every(oa))}const ia=e=>{let[t,n,r,o]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${o})`},aa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ia([0,.65,.55,1]),circOut:ia([.55,0,1,.45]),backIn:ia([.31,.01,.66,-.59]),backOut:ia([.33,1.53,.69,.99])};function sa(e){return la(e)||aa.easeOut}function la(e){return e?ra(e)?ia(e):Array.isArray(e)?e.map(sa):aa[e]:void 0}const ua=Jo((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class ca extends ei{constructor(e){super(e);const{name:t,motionValue:n,keyframes:r}=this.options;this.resolver=new Qo(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:o,ease:i,type:a,motionValue:s,name:l}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if("spring"===(u=this.options).type||!oa(u.ease)){const{onComplete:t,onUpdate:n,motionValue:s,...l}=this.options,u=function(e,t){const n=new na({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),o.push(r.value),i+=10;return{times:void 0,keyframes:o,duration:i-10,ease:"linear"}}(e,l);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,o=u.times,i=u.ease,a="keyframes"}var u;const c=function(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=la(s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:o,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}(s.owner.current,l,e,{...this.options,duration:r,times:o,ease:i});return c.startTime=no.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;s.set(Zr(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Wr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return it;const{animation:n}=t;n.timeline=e,n.onfinish=null}else this.pendingTimeline=e;return it}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:o,ease:i,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:s,...l}=this.options,u=new na({...l,keyframes:n,duration:r,type:o,ease:i,times:a,isGenerator:!0}),c=Wr(this.time);e.setWithVelocity(u.sample(c-10).value,u.sample(c).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:i,type:a}=e;return ua()&&n&&ir.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==o&&0!==i&&"inertia"!==a}}const da=Jo((()=>void 0!==window.ScrollTimeline));class pa{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map((t=>{if(!da()||!t.attachTimeline)return t.pause(),function(e,t){let n;const r=()=>{const{currentTime:r}=t,o=(null===r?0:r.value)/100;n!==o&&e(o),n=o};return hr.update(r,!0),()=>fr(r)}((e=>{t.time=t.duration*e}),e);t.attachTimeline(e)}));return()=>{t.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const ha=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return s=>{const l=Yr(r,e)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c-=Wr(u);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:e,motionValue:t,element:i?void 0:o};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:c,...d}=e;return!!Object.keys(d).length})(l)||(d={...d,...Kr(e,d)}),d.duration&&(d.duration=Wr(d.duration)),d.repeatDelay&&(d.repeatDelay=Wr(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(p=!0)),(Qr||Ct)&&(p=!0,d.duration=0,d.delay=0),p&&!i&&void 0!==t.get()){const e=Zr(d.keyframes,l);if(void 0!==e)return hr.update((()=>{d.onUpdate(e),d.onComplete()})),new pa([])}return!i&&ca.supports(d)?new ca(d):new na(d)}};class fa{constructor(){this.subscriptions=[]}add(e){return sr(this.subscriptions,e),()=>lr(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ma={current:void 0};class ga{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.3.23",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=no.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=no.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fa);const n=this.events[e].add(t);return"change"===e?()=>{n(),hr.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ma.current&&ma.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=no.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ti(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ya(e,t){return new ga(e,t)}function va(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ya(n))}function ba(e){return e.getProps()[St]}class xa extends ga{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const t=ar(e);if(!t)return;const n=this.counts.get(t)||0;this.counts.set(t,n+1),0===n&&(this.output.push(t),this.update());let r=!1;return()=>{if(r)return;r=!0;const e=this.counts.get(t)-1;this.counts.set(t,e),0===e&&(lr(this.output,t),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function wa(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");return r||(null===(n=e.props.style)||void 0===n?void 0:n.willChange)||(r=new xa("auto"),e.addValue("willChange",r)),function(e){return Boolean(rn(e)&&e.add)}(r)?r.add(t):void 0}function Aa(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function Sa(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(a=r);const u=[],c=o&&e.animationState&&e.animationState.getState()[o];for(const d in l){const t=e.getValue(d,null!==(i=e.latestValues[d])&&void 0!==i?i:null),r=l[d];if(void 0===r||c&&Aa(c,d))continue;const o={delay:n,elapsed:0,...Yr(a||{},d)};let s=!1;if(window.MotionHandoffAnimation){const t=ba(e);if(t){const e=window.MotionHandoffAnimation(t,d,hr);null!==e&&(o.elapsed=e,s=!0)}}t.start(ha(d,t,r,e.shouldReduceMotion&&tn.has(d)?{type:!1}:o,e,s,wa(e,d)));const p=t.animation;p&&u.push(p)}return s&&Promise.all(u).then((()=>{hr.update((()=>{s&&function(e,t){const n=Ur(e,t);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const a in i)va(e,a,rr(i[a]))}(e,s)}))})),u}function Ca(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const o=Ur(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const a=o?()=>Promise.all(Sa(e,o,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(ka).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(Ca(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(n.delay)])}function ka(e,t){return e.sortNodePosition(t)}const Ea=[...Ft].reverse(),Ta=Ft.length;function Ia(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>Ca(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=Ca(e,t,r);else{const o="function"===typeof t?Ur(e,t,r.custom):t;n=Promise.all(Sa(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Oa(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!zr(t,e)}function Ra(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Na(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}let _a=0;const Pa={animation:{Feature:class extends Nr{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=Ia(e),n=Na(),r=!0;const o=t=>(n,r)=>{var o;const i=Ur(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const a=e.getProps(),s=e.getVariantContext(!0)||{},l=[],u=new Set;let c={},d=1/0;for(let t=0;t<Ta;t++){const p=Ea[t],h=n[p],f=void 0!==a[p]?a[p]:s[p],m=$t(f),g=p===i?h.isActive:null;!1===g&&(d=t);let y=f===s[p]&&f!==a[p]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),h.protectedKeys={...c},!h.isActive&&null===g||!f&&!h.prevProp||jt(f)||"boolean"===typeof f)continue;let v=Oa(h.prevProp,f)||p===i&&h.isActive&&!y&&m||t>d&&m,b=!1;const x=Array.isArray(f)?f:[f];let w=x.reduce(o(p),{});!1===g&&(w={});const{prevResolvedValues:A={}}=h,S={...A,...w},C=t=>{v=!0,u.has(t)&&(b=!0,u.delete(t)),h.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=w[e],n=A[e];if(c.hasOwnProperty(e))continue;let r=!1;r=tr(t)&&tr(n)?!zr(t,n):t!==n,r?void 0!==t&&null!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):h.protectedKeys[e]=!0}h.prevProp=f,h.prevResolvedValues=w,h.isActive&&(c={...c,...w}),r&&e.blockInitialAnimation&&(v=!1),!v||y&&!b||l.push(...x.map((e=>({animation:e,options:{type:p}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Na(),r=!0}}}(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Nr{constructor(){super(...arguments),this.id=_a++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ma=(e,t)=>Math.abs(e-t);class Da{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ja(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ma(e.x,t.x),r=Ma(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=mr;this.history.push({...r,timestamp:o});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=La(t,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=ja("pointercancel"===e.type?this.lastMoveEventInfo:La(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!xr(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=La(wr(e),this.transformPagePoint),{point:a}=i,{timestamp:s}=mr;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=t;l&&l(e,ja(i,this.history)),this.removeListeners=kr(Sr(this.contextWindow,"pointermove",this.handlePointerMove),Sr(this.contextWindow,"pointerup",this.handlePointerUp),Sr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function La(e,t){return t?{point:t(e.point)}:e}function $a(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ja(e,t){let{point:n}=e;return{point:n,delta:$a(n,Ba(t)),offset:$a(n,Fa(t)),velocity:Va(t,.1)}}function Fa(e){return e[0]}function Ba(e){return e[e.length-1]}function Va(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Ba(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Wr(t)));)n--;if(!r)return{x:0,y:0};const i=qr(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const za=.9999,Ua=1.0001,Wa=-.01,qa=.01;function Ha(e){return e.max-e.min}function Ga(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Di(t.min,t.max,e.origin),e.scale=Ha(n)/Ha(t),e.translate=Di(n.min,n.max,e.origin)-e.originPoint,(e.scale>=za&&e.scale<=Ua||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wa&&e.translate<=qa||isNaN(e.translate))&&(e.translate=0)}function Xa(e,t,n,r){Ga(e.x,t.x,n.x,r?r.originX:void 0),Ga(e.y,t.y,n.y,r?r.originY:void 0)}function Ka(e,t,n){e.min=n.min+t.min,e.max=e.min+Ha(t)}function Ya(e,t,n){e.min=t.min-n.min,e.max=e.min+Ha(t)}function Qa(e,t,n){Ya(e.x,t.x,n.x),Ya(e.y,t.y,n.y)}function Ja(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Za(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const es=.35;function ts(e,t,n){return{min:ns(e,t),max:ns(e,n)}}function ns(e,t){return"number"===typeof e?e:e[t]||0}const rs=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),os=()=>({x:{min:0,max:0},y:{min:0,max:0}});function is(e){return[e("x"),e("y")]}function as(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function ss(e){return void 0===e||1===e}function ls(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ss(t)||!ss(n)||!ss(r)}function us(e){return ls(e)||cs(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cs(e){return ds(e.x)||ds(e.y)}function ds(e){return e&&"0%"!==e}function ps(e,t,n){return n+t*(e-n)}function hs(e,t,n,r,o){return void 0!==o&&(e=ps(e,o,r)),ps(e,n,r)+t}function fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=hs(e.min,t,n,r,o),e.max=hs(e.max,t,n,r,o)}function ms(e,t){let{x:n,y:r}=t;fs(e.x,n.translate,n.scale,n.originPoint),fs(e.y,r.translate,r.scale,r.originPoint)}const gs=.999999999999,ys=1.0000000000001;function vs(e,t){e.min=e.min+t,e.max=e.max+t}function bs(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;fs(e,t,n,Di(e.min,e.max,o),r)}function xs(e,t){bs(e.x,t.x,t.scaleX,t.scale,t.originX),bs(e.y,t.y,t.scaleY,t.scale,t.originY)}function ws(e,t){return as(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const As=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Ss=new WeakMap;class Cs{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=os(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Da(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wr(e,"page").point)},onStart:(e,t)=>{var n;const{drag:r,dragPropagation:o,onDragStart:i}=this.getProps();if(r&&!o&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Or(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is((e=>{let t=this.getAxisMotionValue(e).get()||0;if(yn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ha(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&hr.postRender((()=>i(e,t))),null===(n=this.removeWillChange)||void 0===n||n.call(this),this.removeWillChange=wa(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>is((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:As(this.visualElement)})}stop(e,t){var n;null===(n=this.removeWillChange)||void 0===n||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&hr.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ks(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?Di(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Di(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Rt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Ja(e.x,r,i),y:Ja(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;return!1===e?e=0:!0===e&&(e=es),{x:ts(e,"left","right"),y:ts(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&is((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rt(e))return!1;const n=e.current;st(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=ws(e,n),{scroll:o}=t;return o&&(vs(r.x,o.offset.x),vs(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Za(e.x,t.x),y:Za(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=as(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=is((a=>{if(!ks(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(ha(e,n,0,t,this.visualElement,!1,wa(this.visualElement,e)))}stopAnimation(){is((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){is((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){is((t=>{const{drag:n}=this.getProps();if(!ks(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-Di(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Rt(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};is((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ha(e),o=Ha(t);return o>r?n=Mi(t.min,t.max-r,e.min):r>o&&(n=Mi(e.min,e.max-o,t.min)),an(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),is((t=>{if(!ks(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Di(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Ss.set(this.visualElement,this);const e=Sr(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Rt(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),hr.read(t);const o=br(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(is((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=es,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function ks(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Es=e=>(t,n)=>{e&&hr.postRender((()=>e(t,n)))};const Ts={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Is(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Os={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!vn.test(e))return e;e=parseFloat(e)}return`${Is(e,t.target.x)}% ${Is(e,t.target.y)}%`}},Rs={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=zo.parse(e);if(i.length>5)return o;const a=zo.createTransformer(e),s="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;i[0+s]/=l,i[1+s]/=u;const c=Di(l,u,.5);return"number"===typeof i[2+s]&&(i[2+s]/=c),"number"===typeof i[3+s]&&(i[3+s]/=c),a(i)}};class Ns extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var i;i=Ps,Object.assign(Zt,i),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ts.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||hr.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),It.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _s(e){const[t,n]=function(){const e=(0,O.useContext)(Qe);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=(0,O.useId)();(0,O.useEffect)((()=>r(o)),[]);const i=(0,O.useCallback)((()=>n&&n(o)),[o,n]);return!t&&n?[!1,i]:[!0]}(),r=(0,O.useContext)(ot);return(0,Ye.jsx)(Ns,{...e,layoutGroup:r,switchLayoutGroup:(0,O.useContext)(Nt),isPresent:t,safeToRemove:n})}const Ps={borderRadius:{...Os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Os,borderTopRightRadius:Os,borderBottomLeftRadius:Os,borderBottomRightRadius:Os,boxShadow:Rs},Ms=["TopLeft","TopRight","BottomLeft","BottomRight"],Ds=Ms.length,Ls=e=>"string"===typeof e?parseFloat(e):e,$s=e=>"number"===typeof e||vn.test(e);function js(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Fs=Vs(0,.5,Ti),Bs=Vs(.5,.95,it);function Vs(e,t,n){return r=>r<e?0:r>t?1:n(Mi(e,t,r))}function zs(e,t){e.min=t.min,e.max=t.max}function Us(e,t){zs(e.x,t.x),zs(e.y,t.y)}function Ws(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qs(e,t,n,r,o){return e=ps(e-=t,1/n,r),void 0!==o&&(e=ps(e,1/o,r)),e}function Hs(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;yn.test(t)&&(t=parseFloat(t),t=Di(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Di(i.min,i.max,r);e===i&&(s-=t),e.min=qs(e.min,t,n,s,o),e.max=qs(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Gs=["x","scaleX","originX"],Xs=["y","scaleY","originY"];function Ks(e,t,n,r){Hs(e.x,t,Gs,n?n.x:void 0,r?r.x:void 0),Hs(e.y,t,Xs,n?n.y:void 0,r?r.y:void 0)}function Ys(e){return 0===e.translate&&1===e.scale}function Qs(e){return Ys(e.x)&&Ys(e.y)}function Js(e,t){return e.min===t.min&&e.max===t.max}function Zs(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function el(e,t){return Zs(e.x,t.x)&&Zs(e.y,t.y)}function tl(e){return Ha(e.x)/Ha(e.y)}function nl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rl{constructor(){this.members=[]}add(e){sr(this.members,e),e.scheduleRender()}remove(e){if(lr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ol=(e,t)=>e.depth-t.depth;class il{constructor(){this.children=[],this.isDirty=!1}add(e){sr(this.children,e),this.isDirty=!0}remove(e){lr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ol),this.isDirty=!1,this.children.forEach(e)}}const al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sl="undefined"!==typeof window&&void 0!==window.MotionDebug,ll=["","X","Y","Z"],ul={visibility:"hidden"};let cl=0;function dl(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function pl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return!1;const{visualElement:t}=e.options;return!!t&&(!!window.MotionHasOptimisedTransformAnimation(ba(t))||!(!e.parent||e.parent.hasCheckedOptimisedAppear)&&pl(e.parent))}function hl(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cl++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sl&&(al.totalNodes=al.resolvedTargetDeltas=al.recalculatedProjection=0),this.nodes.forEach(gl),this.nodes.forEach(Sl),this.nodes.forEach(Cl),this.nodes.forEach(yl),sl&&window.MotionDebug.record(al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new il)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fa),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:o,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||o)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=no.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(fr(r),e(a-t))};return hr.read(r,!0),()=>fr(r)}(r,250),Ts.hasAnimatedSinceResize&&(Ts.hasAnimatedSinceResize=!1,this.nodes.forEach(Al))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&a&&(o||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Rl,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),u=!this.targetLayout||!el(this.targetLayout,o)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...Yr(i,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Al(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kl),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionHandoffCancelAll&&pl(this)&&window.MotionHandoffCancelAll(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(bl);this.isUpdating||this.nodes.forEach(xl),this.isUpdating=!1,this.nodes.forEach(wl),this.nodes.forEach(fl),this.nodes.forEach(ml),this.clearAllSnapshots();const e=no.now();mr.delta=an(0,1e3/60,e-mr.timestamp),mr.timestamp=e,mr.isProcessing=!0,gr.update.process(mr),gr.preRender.process(mr),gr.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,It.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vl),this.sharedNodes.forEach(El)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Qs(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||us(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Pl((r=n).x),Pl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return os();const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Dl))){const{scroll:e}=this.root;e&&(vs(n.x,e.offset.x),vs(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n=os();if(Us(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&Us(n,e),vs(n.x,o.offset.x),vs(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=os();Us(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&xs(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),us(e.latestValues)&&xs(n,e.latestValues)}return us(this.latestValues)&&xs(n,this.latestValues),n}removeTransform(e){const t=os();Us(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!us(e.latestValues))continue;ls(e.latestValues)&&e.updateSnapshot();const r=os();Us(r,e.measurePageBox()),Ks(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return us(this.latestValues)&&Ks(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=os(),this.relativeTargetOrigin=os(),Qa(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=os(),this.targetWithTransforms=os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),function(e,t,n){Ka(e.x,t.x,n.x),Ka(e.y,t.y,n.y)}(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),ms(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=os(),this.relativeTargetOrigin=os(),Qa(this.relativeTargetOrigin,this.target,e.target),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sl&&al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ls(this.parent.latestValues)&&!cs(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;Us(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ms(e,a)),r&&us(i.latestValues)&&xs(e,i.latestValues))}t.x<ys&&t.x>gs&&(t.x=1),t.y<ys&&t.y>gs&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=os());const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Ws(this.prevProjectionDelta.x,this.projectionDelta.x),Ws(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Xa(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&nl(this.projectionDelta.x,this.prevProjectionDelta.x)&&nl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),sl&&al.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rs(),this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs()}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},i=rs();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=os(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(Ol));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Tl(i.x,e.x,n),Tl(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qa(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Il(e.x,t.x,n.x,r),Il(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return Js(e.x,t.x)&&Js(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=os()),Us(d,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){o?(e.opacity=Di(0,void 0!==n.opacity?n.opacity:1,Fs(r)),e.opacityExit=Di(void 0!==t.opacity?t.opacity:1,0,Bs(r))):i&&(e.opacity=Di(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Ds;a++){const o=`border${Ms[a]}Radius`;let i=js(t,o),s=js(n,o);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||$s(i)===$s(s)?(e[o]=Math.max(Di(Ls(i),Ls(s),r),0),(yn.test(s)||yn.test(i))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=Di(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update((()=>{Ts.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=rn(e)?e:ya(e);return r.start(ha("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ml(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||os();const t=Ha(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ha(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Us(t,n),xs(t,o),Xa(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rl);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&dl("z",e,r,this.animationValues);for(let o=0;o<ll.length;o++)dl(`rotate${ll[o]}`,e,r,this.animationValues),dl(`skew${ll[o]}`,e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ul;const r={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=or(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=or(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!us(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r=`translate3d(${o}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),o&&(r+=`rotateX(${o}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),o&&(r.transform=o(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const u in Zt){if(void 0===a[u])continue;const{correct:e,applyTo:t}=Zt[u],n="none"===r.transform?a[u]:e(a[u],i);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=i===this?or(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(bl),this.root.sharedNodes.clear()}}}function fl(e){e.updateLayout()}function ml(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?is((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Ha(r);r.min=t[e].min,r.max=r.min+o})):Ml(o,n.layoutBox,t)&&is((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=Ha(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=rs();Xa(a,t,n.layoutBox);const s=rs();i?Xa(s,e.applyTransform(r,!0),n.measuredBox):Xa(s,t,n.layoutBox);const l=!Qs(a);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a=os();Qa(a,n.layoutBox,o.layoutBox);const s=os();Qa(s,t,i.layoutBox),el(a,s)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function gl(e){sl&&al.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vl(e){e.clearSnapshot()}function bl(e){e.clearMeasurements()}function xl(e){e.isLayoutDirty=!1}function wl(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Al(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Sl(e){e.resolveTargetDelta()}function Cl(e){e.calcProjection()}function kl(e){e.resetSkewAndRotation()}function El(e){e.removeLeadSnapshot()}function Tl(e,t,n){e.translate=Di(t.translate,0,n),e.scale=Di(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Il(e,t,n,r){e.min=Di(t.min,n.min,r),e.max=Di(t.max,n.max,r)}function Ol(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Rl={duration:.45,ease:[.4,0,.1,1]},Nl=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_l=Nl("applewebkit/")&&!Nl("chrome/")?Math.round:it;function Pl(e){e.min=_l(e.min),e.max=_l(e.max)}function Ml(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(tl(t),tl(n),.2)}function Dl(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ll=hl({attachResizeListener:(e,t)=>br(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$l={current:void 0},jl=hl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$l.current){const e=new Ll({});e.mount(window),e.setOptions({layoutScroll:!0}),$l.current=e}return $l.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Fl={pan:{Feature:class extends Nr{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(e){this.session=new Da(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:As(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Es(e),onStart:Es(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&hr.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Sr(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Nr{constructor(e){super(e),this.removeGroupControls=it,this.removeListeners=it,this.controls=new Cs(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:jl,MeasureLayout:_s}},Bl={current:null},Vl={current:!1};const zl=new WeakMap,Ul=[...yo,No,zo],Wl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ql=Bt.length;class Hl{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.resolveKeyframes=(e,t,n,r)=>new this.KeyframeResolver(e,t,n,r,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,hr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Vt(n),this.isVariantNode=zt(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const e=d[p];void 0!==l[p]&&rn(e)&&e.set(l[p],!1)}}mount(e){this.current=e,zl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Vl.current||function(){if(Vl.current=!0,ct)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bl.current=e.matches;e.addListener(t),t()}else Bl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Bl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zl.delete(this.current),this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){const n=tn.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&hr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ht){const t=Ht[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):os()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Wl.length;n++){const t=Wl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(rn(o))e.addValue(r,o);else if(rn(i))e.addValue(r,ya(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,ya(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<ql;t++){const n=Bt[t],r=this.props[n];($t(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ya(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(io(r)||ro(r))?r=parseFloat(r):!(e=>Ul.find(go(e)))(r)&&zo.test(t)&&(r=Ko(e,t)),this.setBaseTarget(e,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const o=er(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);o&&(r=o[e])}if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||rn(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new fa),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Gl extends Hl{constructor(){super(...arguments),this.KeyframeResolver=Qo}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class Xl extends Gl{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Xn}readValueFromInstance(e,t){if(tn.has(t)){const e=Xo(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(Tn(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return ws(e,n)}build(e,t,n){Nn(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Qn(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Kl extends Gl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=os}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tn.has(t)){const e=Xo(t);return e&&e.default||0}return t=Kn.has(t)?t:At(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Jn(e,t,n)}build(e,t,n){Un(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){Yn(e,t,0,r)}mount(e){this.isSVGTag=qn(e.tagName),super.mount(e)}}const Yl=(e,t)=>Jt(e)?new Kl(t):new Xl(t,{allowProjection:e!==O.Fragment}),Ql={...Pa,...Vr,...Fl,...{layout:{ProjectionNode:jl,MeasureLayout:_s}}},Jl=Yt(((e,t)=>function(e,t,n,r){let{forwardMotionProps:o=!1}=t;return{...Jt(e)?yr:vr,preloadedFeatures:n,useRender:Gn(o),createVisualElement:r,Component:e}}(e,t,Ql,Yl)));const Zl=e=>{let{children:t,...n}=e;return(0,Ye.jsx)(Jl.div,{initial:"initial",animate:"in",exit:"out",transition:{duration:.7},variants:{initial:{opacity:0},in:{opacity:1},out:{opacity:0}},...n,children:t})};var eu=n(58168),tu=n(98587),nu=n(58387),ru=n(13174),ou=n(58812),iu=n(18698),au=n(18280),su=n(84575);const lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=O.useContext(su.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},uu=(0,au.A)();const cu=function(){return lu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu)},du=["className","component"];var pu=n(79386),hu=n(88279),fu=n(13375),mu=n(92532);const gu=(0,mu.A)("MuiBox",["root"]),yu=(0,hu.A)(),vu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=(0,ru.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(ou.A),a=O.forwardRef((function(e,a){const s=cu(n),l=(0,iu.A)(e),{className:u,component:c="div"}=l,d=(0,tu.A)(l,du);return(0,Ye.jsx)(i,(0,eu.A)({as:c,ref:a,className:(0,nu.A)(u,o?o(r):r),theme:t&&s[t]||s},d))}));return a}({themeId:fu.A,defaultTheme:yu,defaultClassName:gu.root,generateClassName:pu.A.generate}),bu=vu;var xu=n(98610),wu=n(63462);const Au=function(e){return"string"===typeof e};const Su=function(e,t,n){return void 0===e||Au(e)?t:(0,eu.A)({},t,{ownerState:(0,eu.A)({},t.ownerState,n)})};const Cu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const ku=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const Eu=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,nu.A)(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,eu.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,eu.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Cu((0,eu.A)({},o,r)),s=ku(r),l=ku(o),u=t(a),c=(0,nu.A)(null==u?void 0:u.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,eu.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,eu.A)({},u,n,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}};const Tu=function(e,t,n){return"function"===typeof e?e(t,n):e},Iu=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Ou=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=(0,tu.A)(e,Iu),s=i?{}:Tu(r,o),{props:l,internalRef:u}=Eu((0,eu.A)({},a,{externalSlotProps:s})),c=(0,wu.A)(u,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref);return Su(n,(0,eu.A)({},l,{ref:c}),o)};var Ru=n(31668);const Nu=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _u(e){const t=[],n=[];return Array.from(e.querySelectorAll(Nu)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Pu(){return!0}const Mu=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=_u,isEnabled:a=Pu,open:s}=e,l=O.useRef(!1),u=O.useRef(null),c=O.useRef(null),d=O.useRef(null),p=O.useRef(null),h=O.useRef(!1),f=O.useRef(null),m=(0,wu.A)(t.ref,f),g=O.useRef(null);O.useEffect((()=>{s&&f.current&&(h.current=!n)}),[n,s]),O.useEffect((()=>{if(!s||!f.current)return;const e=(0,Ru.A)(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),h.current&&f.current.focus()),()=>{o||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}}),[s]),O.useEffect((()=>{if(!s||!f.current)return;const e=(0,Ru.A)(f.current),t=t=>{g.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(l.current=!0,c.current&&c.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!a()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==c.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!h.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==c.current||(n=i(f.current)),n.length>0){var o,s;const e=Boolean((null==(o=g.current)?void 0:o.shiftKey)&&"Tab"===(null==(s=g.current)?void 0:s.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const o=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,s,i]);const y=e=>{null===d.current&&(d.current=e.relatedTarget),h.current=!0};return(0,Ye.jsxs)(O.Fragment,{children:[(0,Ye.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),h.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Ye.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})};var Du=n(84440),Lu=n(26564);const $u=O.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[i,a]=O.useState(null),s=(0,wu.A)(O.isValidElement(n)?n.ref:null,t);if((0,Du.A)((()=>{o||a(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),(0,Du.A)((()=>{if(i&&!o)return(0,Lu.A)(t,i),()=>{(0,Lu.A)(t,null)}}),[t,i,o]),o){if(O.isValidElement(n)){const e={ref:s};return O.cloneElement(n,e)}return(0,Ye.jsx)(O.Fragment,{children:n})}return(0,Ye.jsx)(O.Fragment,{children:i?We.createPortal(n,i):i})}));var ju=n(34535),Fu=n(98206);function Bu(e,t){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bu(e,t)}function Vu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bu(e,t)}const zu=!1,Uu=O.createContext(null);var Wu="unmounted",qu="exited",Hu="entering",Gu="entered",Xu="exiting",Ku=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=qu,r.appearStatus=Hu):o=Gu:o=t.unmountOnExit||t.mountOnEnter?Wu:qu,r.state={status:o},r.nextCallback=null,r}Vu(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Wu?{status:qu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Hu&&n!==Gu&&(t=Hu):n!==Hu&&n!==Gu||(t=Xu)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Hu){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qu&&this.setState({status:Wu})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[We.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||zu?this.safeSetState({status:Gu},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:Hu},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Gu},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:We.findDOMNode(this);t&&!zu?(this.props.onExit(r),this.safeSetState({status:Xu},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:qu},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:qu},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Wu)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,tu.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return O.createElement(Uu.Provider,{value:null},"function"===typeof n?n(e,r):O.cloneElement(O.Children.only(n),r))},t}(O.Component);function Yu(){}Ku.contextType=Uu,Ku.propTypes={},Ku.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yu,onEntering:Yu,onEntered:Yu,onExit:Yu,onExiting:Yu,onExited:Yu},Ku.UNMOUNTED=Wu,Ku.EXITED=qu,Ku.ENTERING=Hu,Ku.ENTERED=Gu,Ku.EXITING=Xu;const Qu=Ku;var Ju=n(15170);function Zu(){const e=cu(Ju.A);return e[fu.A]||e}const ec=e=>e.scrollTop;function tc(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:a.transitionDelay}}var nc=n(95849);const rc=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],oc={entering:{opacity:1},entered:{opacity:1}},ic=O.forwardRef((function(e,t){const n=Zu(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:i=!0,children:a,easing:s,in:l,onEnter:u,onEntered:c,onEntering:d,onExit:p,onExited:h,onExiting:f,style:m,timeout:g=r,TransitionComponent:y=Qu}=e,v=(0,tu.A)(e,rc),b=O.useRef(null),x=(0,nc.A)(b,a.ref,t),w=e=>t=>{if(e){const n=b.current;void 0===t?e(n):e(n,t)}},A=w(d),S=w(((e,t)=>{ec(e);const r=tc({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=w(c),k=w(f),E=w((e=>{const t=tc({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),T=w(h);return(0,Ye.jsx)(y,(0,eu.A)({appear:i,in:l,nodeRef:b,onEnter:S,onEntered:C,onEntering:A,onExit:E,onExited:T,onExiting:k,addEndListener:e=>{o&&o(b.current,e)},timeout:g},v,{children:(e,t)=>O.cloneElement(a,(0,eu.A)({style:(0,eu.A)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},oc[e],m,a.props.style),ref:x},t))}))})),ac=ic;var sc=n(72372);function lc(e){return(0,sc.Ay)("MuiBackdrop",e)}(0,mu.A)("MuiBackdrop",["root","invisible"]);const uc=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],cc=(0,ju.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),dc=O.forwardRef((function(e,t){var n,r,o;const i=(0,Fu.b)({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:l="div",components:u={},componentsProps:c={},invisible:d=!1,open:p,slotProps:h={},slots:f={},TransitionComponent:m=ac,transitionDuration:g}=i,y=(0,tu.A)(i,uc),v=(0,eu.A)({},i,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,xu.A)(r,lc,t)})(v),x=null!=(n=h.root)?n:c.root;return(0,Ye.jsx)(m,(0,eu.A)({in:p,timeout:g},y,{children:(0,Ye.jsx)(cc,(0,eu.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(o=f.root)?o:u.Root)?r:l,className:(0,nu.A)(b.root,s,null==x?void 0:x.className),ownerState:(0,eu.A)({},v,null==x?void 0:x.ownerState),classes:b,ref:t,children:a}))}))})),pc=dc;var hc=n(31782),fc=n(42456),mc=n(63940);function gc(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function yc(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function vc(e){return parseInt((0,mc.A)(e).getComputedStyle(e).paddingRight,10)||0}function bc(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&yc(e,o)}))}function xc(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function wc(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Ru.A)(e);return t.body===e?(0,mc.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=gc((0,Ru.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${vc(r)+e}px`;const t=(0,Ru.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${vc(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,Ru.A)(r).body;else{const t=r.parentElement,n=(0,mc.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Ac=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&yc(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);bc(t,e.mount,e.modalRef,r,!0);const o=xc(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=xc(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=wc(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=xc(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&yc(e.modalRef,t),bc(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&yc(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Sc=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=Ac,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:u,open:c,rootRef:d}=e,p=O.useRef({}),h=O.useRef(null),f=O.useRef(null),m=(0,wu.A)(f,d),[g,y]=O.useState(!c),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const x=()=>(p.current.modalRef=f.current,p.current.mount=h.current,p.current),w=()=>{o.mount(x(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},A=(0,hc.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,Ru.A)(h.current).body;o.add(x(),e),f.current&&w()})),S=O.useCallback((()=>o.isTopModal(x())),[o]),C=(0,hc.A)((e=>{h.current=e,e&&(c&&S()?w():f.current&&yc(f.current,b))})),k=O.useCallback((()=>{o.remove(x(),b)}),[b,o]);O.useEffect((()=>()=>{k()}),[k]),O.useEffect((()=>{c?A():v&&i||k()}),[c,k,v,i,A]);const E=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Cu(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,eu.A)({},n,t);return(0,eu.A)({role:"presentation"},r,{onKeyDown:E(r),ref:m})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,eu.A)({"aria-hidden":!0},e,{onClick:T(e),open:c})},getTransitionProps:()=>({onEnter:(0,fc.A)((()=>{y(!1),a&&a()}),null==l?void 0:l.props.onEnter),onExited:(0,fc.A)((()=>{y(!0),s&&s(),i&&k()}),null==l?void 0:l.props.onExited)}),rootRef:m,portalRef:C,isTopModal:S,exited:g,hasTransition:v}};function Cc(e){return(0,sc.Ay)("MuiModal",e)}(0,mu.A)("MuiModal",["root","hidden","backdrop"]);const kc=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Ec=(0,ju.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Tc=(0,ju.Ay)(pc,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ic=O.forwardRef((function(e,t){var n,r,o,i,a,s;const l=(0,Fu.b)({name:"MuiModal",props:e}),{BackdropComponent:u=Tc,BackdropProps:c,className:d,closeAfterTransition:p=!1,children:h,container:f,component:m,components:g={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:A=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:E,open:T,slotProps:I,slots:R}=l,N=(0,tu.A)(l,kc),_=(0,eu.A)({},l,{closeAfterTransition:p,disableAutoFocus:v,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:A,disableScrollLock:S,hideBackdrop:C,keepMounted:k}),{getRootProps:P,getBackdropProps:M,getTransitionProps:D,portalRef:L,isTopModal:$,exited:j,hasTransition:F}=Sc((0,eu.A)({},_,{rootRef:t})),B=(0,eu.A)({},_,{exited:j}),V=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,xu.A)(o,Cc,r)})(B),z={};if(void 0===h.props.tabIndex&&(z.tabIndex="-1"),F){const{onEnter:e,onExited:t}=D();z.onEnter=e,z.onExited=t}const U=null!=(n=null!=(r=null==R?void 0:R.root)?r:g.Root)?n:Ec,W=null!=(o=null!=(i=null==R?void 0:R.backdrop)?i:g.Backdrop)?o:u,q=null!=(a=null==I?void 0:I.root)?a:y.root,H=null!=(s=null==I?void 0:I.backdrop)?s:y.backdrop,G=Ou({elementType:U,externalSlotProps:q,externalForwardedProps:N,getSlotProps:P,additionalProps:{ref:t,as:m},ownerState:B,className:(0,nu.A)(d,null==q?void 0:q.className,null==V?void 0:V.root,!B.open&&B.exited&&(null==V?void 0:V.hidden))}),X=Ou({elementType:W,externalSlotProps:H,additionalProps:c,getSlotProps:e=>M((0,eu.A)({},e,{onClick:t=>{E&&E(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,nu.A)(null==H?void 0:H.className,null==c?void 0:c.className,null==V?void 0:V.backdrop),ownerState:B});return k||T||F&&!j?(0,Ye.jsx)($u,{ref:L,container:f,disablePortal:w,children:(0,Ye.jsxs)(U,(0,eu.A)({},G,{children:[!C&&u?(0,Ye.jsx)(W,(0,eu.A)({},X)):null,(0,Ye.jsx)(Mu,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:A,isEnabled:$,open:T,children:O.cloneElement(h,z)})]}))}):null})),Oc=Ic;var Rc=n(67266),Nc=n(93319),_c=n(13574);function Pc(e,t){var n=Object.create(null);return e&&O.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,O.isValidElement)(e)?t(e):e}(e)})),n}function Mc(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Dc(e,t,n){var r=Pc(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(o).forEach((function(i){var a=o[i];if((0,O.isValidElement)(a)){var s=i in t,l=i in r,u=t[i],c=(0,O.isValidElement)(u)&&!u.props.in;!l||s&&!c?l||!s||c?l&&s&&(0,O.isValidElement)(u)&&(o[i]=(0,O.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:Mc(a,"exit",e),enter:Mc(a,"enter",e)})):o[i]=(0,O.cloneElement)(a,{in:!1}):o[i]=(0,O.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:Mc(a,"exit",e),enter:Mc(a,"enter",e)})}})),o}var Lc=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},$c=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Vu(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,Pc(n.children,(function(e){return(0,O.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Mc(e,"appear",n),enter:Mc(e,"enter",n),exit:Mc(e,"exit",n)})}))):Dc(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=Pc(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,eu.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,tu.A)(e,["component","childFactory"]),o=this.state.contextValue,i=Lc(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?O.createElement(Uu.Provider,{value:o},i):O.createElement(Uu.Provider,{value:o},O.createElement(t,r,i))},t}(O.Component);$c.propTypes={},$c.defaultProps={component:"div",childFactory:function(e){return e}};const jc=$c;var Fc=n(83290),Bc=n(99303);const Vc=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:a,in:s,onExited:l,timeout:u}=e,[c,d]=O.useState(!1),p=(0,nu.A)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:a,height:a,top:-a/2+i,left:-a/2+o},f=(0,nu.A)(n.child,c&&n.childLeaving,r&&n.childPulsate);return s||c||d(!0),O.useEffect((()=>{if(!s&&null!=l){const e=setTimeout(l,u);return()=>{clearTimeout(e)}}}),[l,s,u]),(0,Ye.jsx)("span",{className:p,style:h,children:(0,Ye.jsx)("span",{className:f})})};const zc=(0,mu.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Uc=["center","classes","className"];let Wc,qc,Hc,Gc,Xc=e=>e;const Kc=(0,Fc.i7)(Wc||(Wc=Xc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Yc=(0,Fc.i7)(qc||(qc=Xc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Qc=(0,Fc.i7)(Hc||(Hc=Xc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Jc=(0,ju.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Zc=(0,ju.Ay)(Vc,{name:"MuiTouchRipple",slot:"Ripple"})(Gc||(Gc=Xc`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zc.rippleVisible,Kc,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),zc.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),zc.child,zc.childLeaving,Yc,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),zc.childPulsate,Qc,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),ed=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:i}=n,a=(0,tu.A)(n,Uc),[s,l]=O.useState([]),u=O.useRef(0),c=O.useRef(null);O.useEffect((()=>{c.current&&(c.current(),c.current=null)}),[s]);const d=O.useRef(!1),p=(0,Bc.A)(),h=O.useRef(null),f=O.useRef(null),m=O.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;l((e=>[...e,(0,Ye.jsx)(Zc,{classes:{ripple:(0,nu.A)(o.ripple,zc.ripple),rippleVisible:(0,nu.A)(o.rippleVisible,zc.rippleVisible),ripplePulsate:(0,nu.A)(o.ripplePulsate,zc.ripplePulsate),child:(0,nu.A)(o.child,zc.child),childLeaving:(0,nu.A)(o.childLeaving,zc.childLeaving),childPulsate:(0,nu.A)(o.childPulsate,zc.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,c.current=a}),[o]),g=O.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:o=!1,center:i=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&d.current)return void(d.current=!1);"touchstart"===(null==e?void 0:e.type)&&(d.current=!0);const s=a?null:f.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,g;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(i)g=Math.sqrt((2*l.width**2+l.height**2)/3),g%2===0&&(g+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;g=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===h.current&&(h.current=()=>{m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})},p.start(80,(()=>{h.current&&(h.current(),h.current=null)}))):m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})}),[r,m,p]),y=O.useCallback((()=>{g({},{pulsate:!0})}),[g]),v=O.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&h.current)return h.current(),h.current=null,void p.start(0,(()=>{v(e,t)}));h.current=null,l((e=>e.length>0?e.slice(1):e)),c.current=t}),[p]);return O.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:v})),[y,g,v]),(0,Ye.jsx)(Jc,(0,eu.A)({className:(0,nu.A)(zc.root,o.root,i),ref:f},a,{children:(0,Ye.jsx)(jc,{component:null,exit:!0,children:s})}))})),td=ed;function nd(e){return(0,sc.Ay)("MuiButtonBase",e)}const rd=(0,mu.A)("MuiButtonBase",["root","disabled","focusVisible"]),od=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],id=(0,ju.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${rd.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ad=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:i,className:a,component:s="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:d=!1,LinkComponent:p="a",onBlur:h,onClick:f,onContextMenu:m,onDragLeave:g,onFocus:y,onFocusVisible:v,onKeyDown:b,onKeyUp:x,onMouseDown:w,onMouseLeave:A,onMouseUp:S,onTouchEnd:C,onTouchMove:k,onTouchStart:E,tabIndex:T=0,TouchRippleProps:I,touchRippleRef:R,type:N}=n,_=(0,tu.A)(n,od),P=O.useRef(null),M=O.useRef(null),D=(0,nc.A)(M,R),{isFocusVisibleRef:L,onFocus:$,onBlur:j,ref:F}=(0,_c.A)(),[B,V]=O.useState(!1);l&&B&&V(!1),O.useImperativeHandle(r,(()=>({focusVisible:()=>{V(!0),P.current.focus()}})),[]);const[z,U]=O.useState(!1);O.useEffect((()=>{U(!0)}),[]);const W=z&&!u&&!l;function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return(0,Nc.A)((r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0}))}O.useEffect((()=>{B&&d&&!u&&z&&M.current.pulsate()}),[u,d,B,z]);const H=q("start",w),G=q("stop",m),X=q("stop",g),K=q("stop",S),Y=q("stop",(e=>{B&&e.preventDefault(),A&&A(e)})),Q=q("start",E),J=q("stop",C),Z=q("stop",k),ee=q("stop",(e=>{j(e),!1===L.current&&V(!1),h&&h(e)}),!1),te=(0,Nc.A)((e=>{P.current||(P.current=e.currentTarget),$(e),!0===L.current&&(V(!0),v&&v(e)),y&&y(e)})),ne=()=>{const e=P.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},re=O.useRef(!1),oe=(0,Nc.A)((e=>{d&&!re.current&&B&&M.current&&" "===e.key&&(re.current=!0,M.current.stop(e,(()=>{M.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),b&&b(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!l&&(e.preventDefault(),f&&f(e))})),ie=(0,Nc.A)((e=>{d&&" "===e.key&&M.current&&B&&!e.defaultPrevented&&(re.current=!1,M.current.stop(e,(()=>{M.current.pulsate(e)}))),x&&x(e),f&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&f(e)}));let ae=s;"button"===ae&&(_.href||_.to)&&(ae=p);const se={};"button"===ae?(se.type=void 0===N?"button":N,se.disabled=l):(_.href||_.to||(se.role="button"),l&&(se["aria-disabled"]=l));const le=(0,nc.A)(t,F,P);const ue=(0,eu.A)({},n,{centerRipple:o,component:s,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:d,tabIndex:T,focusVisible:B}),ce=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,xu.A)(i,nd,o);return n&&r&&(a.root+=` ${r}`),a})(ue);return(0,Ye.jsxs)(id,(0,eu.A)({as:ae,className:(0,nu.A)(ce.root,a),ownerState:ue,onBlur:ee,onClick:f,onContextMenu:G,onFocus:te,onKeyDown:oe,onKeyUp:ie,onMouseDown:H,onMouseLeave:Y,onMouseUp:K,onDragLeave:X,onTouchEnd:J,onTouchMove:Z,onTouchStart:Q,ref:le,tabIndex:l?-1:T,type:N},se,_,{children:[i,W?(0,Ye.jsx)(td,(0,eu.A)({ref:D,center:o},I)):null]}))})),sd=ad;var ld=n(6803);function ud(e){return(0,sc.Ay)("MuiIconButton",e)}const cd=(0,mu.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),dd=["edge","children","className","color","disabled","disableFocusRipple","size"],pd=(0,ju.Ay)(sd,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,ld.A)(n.color)}`],n.edge&&t[`edge${(0,ld.A)(n.edge)}`],t[`size${(0,ld.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Rc.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,eu.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,eu.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,eu.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Rc.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${cd.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),hd=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=(0,tu.A)(n,dd),d=(0,eu.A)({},n,{edge:r,color:a,disabled:s,disableFocusRipple:l,size:u}),p=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,a={root:["root",n&&"disabled","default"!==r&&`color${(0,ld.A)(r)}`,o&&`edge${(0,ld.A)(o)}`,`size${(0,ld.A)(i)}`]};return(0,xu.A)(a,ud,t)})(d);return(0,Ye.jsx)(pd,(0,eu.A)({className:(0,nu.A)(p.root,i),centerRipple:!0,focusRipple:!l,disabled:s,ref:t},c,{ownerState:d,children:o}))})),fd=hd;var md=n(74802);function gd(e,t){return function(){return e.apply(t,arguments)}}const{toString:yd}=Object.prototype,{getPrototypeOf:vd}=Object,bd=(xd=Object.create(null),e=>{const t=yd.call(e);return xd[t]||(xd[t]=t.slice(8,-1).toLowerCase())});var xd;const wd=e=>(e=e.toLowerCase(),t=>bd(t)===e),Ad=e=>t=>typeof t===e,{isArray:Sd}=Array,Cd=Ad("undefined");const kd=wd("ArrayBuffer");const Ed=Ad("string"),Td=Ad("function"),Id=Ad("number"),Od=e=>null!==e&&"object"===typeof e,Rd=e=>{if("object"!==bd(e))return!1;const t=vd(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nd=wd("Date"),_d=wd("File"),Pd=wd("Blob"),Md=wd("FileList"),Dd=wd("URLSearchParams"),[Ld,$d,jd,Fd]=["ReadableStream","Request","Response","Headers"].map(wd);function Bd(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Sd(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function Vd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const zd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ud=e=>!Cd(e)&&e!==zd;const Wd=(qd="undefined"!==typeof Uint8Array&&vd(Uint8Array),e=>qd&&e instanceof qd);var qd;const Hd=wd("HTMLFormElement"),Gd=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Xd=wd("RegExp"),Kd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Bd(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},Yd="abcdefghijklmnopqrstuvwxyz",Qd="0123456789",Jd={DIGIT:Qd,ALPHA:Yd,ALPHA_DIGIT:Yd+Yd.toUpperCase()+Qd};const Zd=wd("AsyncFunction"),ep=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],zd.addEventListener("message",(e=>{let{source:t,data:o}=e;t===zd&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),zd.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Td(zd.postMessage)),tp="undefined"!==typeof queueMicrotask?queueMicrotask.bind(zd):"undefined"!==typeof process&&process.nextTick||ep,np={isArray:Sd,isArrayBuffer:kd,isBuffer:function(e){return null!==e&&!Cd(e)&&null!==e.constructor&&!Cd(e.constructor)&&Td(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Td(e.append)&&("formdata"===(t=bd(e))||"object"===t&&Td(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kd(e.buffer),t},isString:Ed,isNumber:Id,isBoolean:e=>!0===e||!1===e,isObject:Od,isPlainObject:Rd,isReadableStream:Ld,isRequest:$d,isResponse:jd,isHeaders:Fd,isUndefined:Cd,isDate:Nd,isFile:_d,isBlob:Pd,isRegExp:Xd,isFunction:Td,isStream:e=>Od(e)&&Td(e.pipe),isURLSearchParams:Dd,isTypedArray:Wd,isFileList:Md,forEach:Bd,merge:function e(){const{caseless:t}=Ud(this)&&this||{},n={},r=(r,o)=>{const i=t&&Vd(n,o)||o;Rd(n[i])&&Rd(r)?n[i]=e(n[i],r):Rd(r)?n[i]=e({},r):Sd(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Bd(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Bd(t,((t,r)=>{n&&Td(t)?e[r]=gd(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&vd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bd,kindOfTest:wd,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Sd(e))return e;let t=e.length;if(!Id(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Hd,hasOwnProperty:Gd,hasOwnProp:Gd,reduceDescriptors:Kd,freezeMethods:e=>{Kd(e,((t,n)=>{if(Td(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Td(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Sd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Vd,global:zd,isContextDefined:Ud,ALPHABET:Jd,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jd.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Td(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Od(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=Sd(e)?[]:{};return Bd(e,((e,t)=>{const i=n(e,r+1);!Cd(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Zd,isThenable:e=>e&&(Od(e)||Td(e))&&Td(e.then)&&Td(e.catch),setImmediate:ep,asap:tp};function rp(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}np.inherits(rp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:np.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const op=rp.prototype,ip={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ip[e]={value:e}})),Object.defineProperties(rp,ip),Object.defineProperty(op,"isAxiosError",{value:!0}),rp.from=(e,t,n,r,o,i)=>{const a=Object.create(op);return np.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),rp.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const ap=rp;function sp(e){return np.isPlainObject(e)||np.isArray(e)}function lp(e){return np.endsWith(e,"[]")?e.slice(0,-2):e}function up(e,t,n){return e?e.concat(t).map((function(e,t){return e=lp(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const cp=np.toFlatObject(np,{},null,(function(e){return/^is[A-Z]/.test(e)}));const dp=function(e,t,n){if(!np.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=np.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!np.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&np.isSpecCompliantForm(t);if(!np.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(np.isDate(e))return e.toISOString();if(!s&&np.isBlob(e))throw new ap("Blob is not supported. Use a Buffer instead.");return np.isArrayBuffer(e)||np.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(np.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(np.isArray(e)&&function(e){return np.isArray(e)&&!e.some(sp)}(e)||(np.isFileList(e)||np.endsWith(n,"[]"))&&(s=np.toArray(e)))return n=lp(n),s.forEach((function(e,r){!np.isUndefined(e)&&null!==e&&t.append(!0===a?up([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!sp(e)||(t.append(up(o,n,i),l(e)),!1)}const c=[],d=Object.assign(cp,{defaultVisitor:u,convertValue:l,isVisitable:sp});if(!np.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!np.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),np.forEach(n,(function(n,i){!0===(!(np.isUndefined(n)||null===n)&&o.call(t,n,np.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),c.pop()}}(e),t};function pp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function hp(e,t){this._pairs=[],e&&dp(e,this,t)}const fp=hp.prototype;fp.append=function(e,t){this._pairs.push([e,t])},fp.toString=function(e){const t=e?function(t){return e.call(this,t,pp)}:pp;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const mp=hp;function gp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yp(e,t,n){if(!t)return e;const r=n&&n.encode||gp,o=n&&n.serialize;let i;if(i=o?o(t,n):np.isURLSearchParams(t)?t.toString():new mp(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const vp=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){np.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},bp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xp={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:mp,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},wp="undefined"!==typeof window&&"undefined"!==typeof document,Ap=(Sp="undefined"!==typeof navigator&&navigator.product,wp&&["ReactNative","NativeScript","NS"].indexOf(Sp)<0);var Sp;const Cp="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,kp=wp&&window.location.href||"http://localhost",Ep={...e,...xp};const Tp=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&np.isArray(r)?r.length:i,s)return np.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&np.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&np.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(np.isFormData(e)&&np.isFunction(e.entries)){const n={};return np.forEachEntry(e,((e,r)=>{t(function(e){return np.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Ip={transitional:bp,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=np.isObject(e);o&&np.isHTMLForm(e)&&(e=new FormData(e));if(np.isFormData(e))return r?JSON.stringify(Tp(e)):e;if(np.isArrayBuffer(e)||np.isBuffer(e)||np.isStream(e)||np.isFile(e)||np.isBlob(e)||np.isReadableStream(e))return e;if(np.isArrayBufferView(e))return e.buffer;if(np.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return dp(e,new Ep.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ep.isNode&&np.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=np.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return dp(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(np.isString(e))try{return(t||JSON.parse)(e),np.trim(e)}catch(Nve){if("SyntaxError"!==Nve.name)throw Nve}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ip.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(np.isResponse(e)||np.isReadableStream(e))return e;if(e&&np.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Nve){if(n){if("SyntaxError"===Nve.name)throw ap.from(Nve,ap.ERR_BAD_RESPONSE,this,null,this.response);throw Nve}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ep.classes.FormData,Blob:Ep.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};np.forEach(["delete","get","head","post","put","patch"],(e=>{Ip.headers[e]={}}));const Op=Ip,Rp=np.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Np=Symbol("internals");function _p(e){return e&&String(e).trim().toLowerCase()}function Pp(e){return!1===e||null==e?e:np.isArray(e)?e.map(Pp):String(e)}function Mp(e,t,n,r,o){return np.isFunction(r)?r.call(this,t,n):(o&&(t=n),np.isString(t)?np.isString(r)?-1!==t.indexOf(r):np.isRegExp(r)?r.test(t):void 0:void 0)}class Dp{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=_p(t);if(!o)throw new Error("header name must be a non-empty string");const i=np.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Pp(e))}const i=(e,t)=>np.forEach(e,((e,n)=>o(e,n,t)));if(np.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(np.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Rp[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(np.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=_p(e)){const n=np.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(np.isFunction(t))return t.call(this,e,n);if(np.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_p(e)){const n=np.findKey(this,e);return!(!n||void 0===this[n]||t&&!Mp(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=_p(e)){const o=np.findKey(n,e);!o||t&&!Mp(0,n[o],o,t)||(delete n[o],r=!0)}}return np.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Mp(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return np.forEach(this,((r,o)=>{const i=np.findKey(n,o);if(i)return t[i]=Pp(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=Pp(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return np.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&np.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Np]=this[Np]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_p(e);t[r]||(!function(e,t){const n=np.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return np.isArray(e)?e.forEach(r):r(e),this}}Dp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),np.reduceDescriptors(Dp.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),np.freezeMethods(Dp);const Lp=Dp;function $p(e,t){const n=this||Op,r=t||n,o=Lp.from(r.headers);let i=r.data;return np.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function jp(e){return!(!e||!e.__CANCEL__)}function Fp(e,t,n){ap.call(this,null==e?"canceled":e,ap.ERR_CANCELED,t,n),this.name="CanceledError"}np.inherits(Fp,ap,{__CANCEL__:!0});const Bp=Fp;function Vp(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ap("Request failed with status code "+n.status,[ap.ERR_BAD_REQUEST,ap.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const zp=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[a];o||(o=l),n[i]=s,r[i]=l;let c=a,d=0;for(;c!==i;)d+=n[c++],c%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};const Up=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},Wp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=zp(50,250);return Up((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},qp=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Hp=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return np.asap((()=>e(...n)))},Gp=Ep.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=np.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},Xp=Ep.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];np.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),np.isString(r)&&a.push("path="+r),np.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Kp(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Yp=e=>e instanceof Lp?{...e}:e;function Qp(e,t){t=t||{};const n={};function r(e,t,n){return np.isPlainObject(e)&&np.isPlainObject(t)?np.merge.call({caseless:n},e,t):np.isPlainObject(t)?np.merge({},t):np.isArray(t)?t.slice():t}function o(e,t,n){return np.isUndefined(t)?np.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!np.isUndefined(t))return r(void 0,t)}function a(e,t){return np.isUndefined(t)?np.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(Yp(e),Yp(t),!0)};return np.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);np.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Jp=e=>{const t=Qp({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Lp.from(s),t.url=yp(Kp(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),np.isFormData(r))if(Ep.hasStandardBrowserEnv||Ep.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ep.hasStandardBrowserEnv&&(o&&np.isFunction(o)&&(o=o(t)),o||!1!==o&&Gp(t.url))){const e=i&&a&&Xp.read(a);e&&s.set(i,e)}return t},Zp="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Jp(e);let o=r.data;const i=Lp.from(r.headers).normalize();let a,s,l,u,c,{responseType:d,onUploadProgress:p,onDownloadProgress:h}=r;function f(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Lp.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Vp((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ap("Request aborted",ap.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ap("Network Error",ap.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||bp;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ap(t,o.clarifyTimeoutError?ap.ETIMEDOUT:ap.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&np.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),np.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),h&&([l,c]=Wp(h,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,u]=Wp(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Bp(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Ep.protocols.indexOf(y)?n(new ap("Unsupported protocol "+y+":",ap.ERR_BAD_REQUEST,e)):m.send(o||null)}))},eh=(e,t)=>{let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ap?t:new Bp(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{o(new ap(`timeout ${t} of ms exceeded`,ap.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",o):e.unsubscribe(o))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{i&&clearTimeout(i),i=null}]},th=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},nh=(e,t,n,r,o)=>{const i=async function*(e,t,n){for await(const r of e)yield*th(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,o);let a,s=0,l=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return l(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),i.return())},{highWaterMark:2})},rh="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,oh=rh&&"function"===typeof ReadableStream,ih=rh&&("function"===typeof TextEncoder?(ah=new TextEncoder,e=>ah.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ah;const sh=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Nve){return!1}},lh=oh&&sh((()=>{let e=!1;const t=new Request(Ep.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),uh=oh&&sh((()=>np.isReadableStream(new Response("").body))),ch={stream:uh&&(e=>e.body)};var dh;rh&&(dh=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ch[e]&&(ch[e]=np.isFunction(dh[e])?t=>t[e]():(t,n)=>{throw new ap(`Response type '${e}' is not supported`,ap.ERR_NOT_SUPPORT,n)})})));const ph=async(e,t)=>{const n=np.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:np.isBlob(e)?e.size:np.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:np.isArrayBufferView(e)||np.isArrayBuffer(e)?e.byteLength:(np.isURLSearchParams(e)&&(e+=""),np.isString(e)?(await ih(e)).byteLength:void 0))(t):n},hh=rh&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:p}=Jp(e);u=u?(u+"").toLowerCase():"text";let h,f,[m,g]=o||i||a?eh([o,i],a):[];const y=()=>{!h&&setTimeout((()=>{m&&m.unsubscribe()})),h=!0};let v;try{if(l&&lh&&"get"!==n&&"head"!==n&&0!==(v=await ph(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(np.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=qp(v,Wp(Hp(l)));r=nh(n.body,65536,e,t,ih)}}np.isString(d)||(d=d?"include":"omit"),f=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:d});let o=await fetch(f);const i=uh&&("stream"===u||"response"===u);if(uh&&(s||i)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=np.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&qp(t,Wp(Hp(s),!0))||[];o=new Response(nh(o.body,65536,n,(()=>{r&&r(),i&&y()}),ih),e)}u=u||"text";let a=await ch[np.findKey(ch,u)||"text"](o,e);return!i&&y(),g&&g(),await new Promise(((t,n)=>{Vp(t,n,{data:a,headers:Lp.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new ap("Network Error",ap.ERR_NETWORK,e,f),{cause:b.cause||b});throw ap.from(b,b&&b.code,e,f)}}),fh={http:null,xhr:Zp,fetch:hh};np.forEach(fh,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Nve){}Object.defineProperty(e,"adapterName",{value:t})}}));const mh=e=>`- ${e}`,gh=e=>np.isFunction(e)||null===e||!1===e,yh=e=>{e=np.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!gh(n)&&(r=fh[(t=String(n)).toLowerCase()],void 0===r))throw new ap(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(mh).join("\n"):" "+mh(e[0]):"as no adapter specified";throw new ap("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function vh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bp(null,e)}function bh(e){vh(e),e.headers=Lp.from(e.headers),e.data=$p.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return yh(e.adapter||Op.adapter)(e).then((function(t){return vh(e),t.data=$p.call(e,e.transformResponse,t),t.headers=Lp.from(t.headers),t}),(function(t){return jp(t)||(vh(e),t&&t.response&&(t.response.data=$p.call(e,e.transformResponse,t.response),t.response.headers=Lp.from(t.response.headers))),Promise.reject(t)}))}const xh="1.7.3",wh={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{wh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ah={};wh.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new ap(r(o," has been removed"+(t?" in "+t:"")),ap.ERR_DEPRECATED);return t&&!Ah[o]&&(Ah[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};const Sh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ap("options must be an object",ap.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new ap("option "+i+" must be "+n,ap.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ap("Unknown option "+i,ap.ERR_BAD_OPTION)}},validators:wh},Ch=Sh.validators;class kh{constructor(e){this.defaults=e,this.interceptors={request:new vp,response:new vp}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Nve){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Qp(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Sh.assertOptions(n,{silentJSONParsing:Ch.transitional(Ch.boolean),forcedJSONParsing:Ch.transitional(Ch.boolean),clarifyTimeoutError:Ch.transitional(Ch.boolean)},!1),null!=r&&(np.isFunction(r)?t.paramsSerializer={serialize:r}:Sh.assertOptions(r,{encode:Ch.function,serialize:Ch.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&np.merge(o.common,o[t.method]);o&&np.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Lp.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!s){const e=[bh.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=a.length;let p=t;for(d=0;d<c;){const e=a[d++],t=a[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{u=bh.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return yp(Kp((e=Qp(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}np.forEach(["delete","get","head","options"],(function(e){kh.prototype[e]=function(t,n){return this.request(Qp(n||{},{method:e,url:t,data:(n||{}).data}))}})),np.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Qp(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}kh.prototype[e]=t(),kh.prototype[e+"Form"]=t(!0)}));const Eh=kh;class Th{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Bp(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Th((function(t){e=t}));return{token:t,cancel:e}}}const Ih=Th;const Oh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oh).forEach((e=>{let[t,n]=e;Oh[n]=t}));const Rh=Oh;const Nh=function e(t){const n=new Eh(t),r=gd(Eh.prototype.request,n);return np.extend(r,Eh.prototype,n,{allOwnKeys:!0}),np.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Qp(t,n))},r}(Op);Nh.Axios=Eh,Nh.CanceledError=Bp,Nh.CancelToken=Ih,Nh.isCancel=jp,Nh.VERSION=xh,Nh.toFormData=dp,Nh.AxiosError=ap,Nh.Cancel=Nh.CanceledError,Nh.all=function(e){return Promise.all(e)},Nh.spread=function(e){return function(t){return e.apply(null,t)}},Nh.isAxiosError=function(e){return np.isObject(e)&&!0===e.isAxiosError},Nh.mergeConfig=Qp,Nh.AxiosHeaders=Lp,Nh.formToJSON=e=>Tp(np.isHTMLForm(e)?new FormData(e):e),Nh.getAdapter=yh,Nh.HttpStatusCode=Rh,Nh.default=Nh;const _h=Nh,Ph="http://localhost:8080",Mh=Ph,Dh={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,height:600,bgcolor:"background.paper",boxShadow:24,p:2,display:"flex",flexDirection:"column",borderRadius:"10px"},Lh=()=>{const[e,t]=(0,O.useState)(!1),[n,r]=(0,O.useState)(""),[o,i]=(0,O.useState)(""),[a,s]=(0,O.useState)(""),[l,u]=(0,O.useState)(!1),c=()=>t(!1);(0,O.useEffect)((()=>{/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[^a-zA-Z\d\s]).{8,}$/.test(o)?u(!1):u(!0)}),[o]);const d=async e=>{let{email:t,password:n}=e;try{return(await _h.post(Mh+"/api/raidu/users/register",{email:t,password:n})).data}catch(l){throw l}};return(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("button",{onClick:()=>t(!0),className:"register-button",children:"\ud68c\uc6d0\uac00\uc785"}),(0,Ye.jsx)(Oc,{open:e,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:(0,Ye.jsxs)(bu,{sx:Dh,children:[(0,Ye.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end"},children:(0,Ye.jsx)(fd,{onClick:c,sx:{width:"50px",height:"50px",border:"2px solid grey",zIndex:"10"},children:(0,Ye.jsx)(md.A,{})})}),(0,Ye.jsxs)("div",{style:{display:"flex",width:"400px",height:"600px",position:"absolute",alignItems:"center",flexDirection:"column"},children:[(0,Ye.jsx)("div",{className:"icon-circle",style:{position:"relative",top:"-50px"},children:(0,Ye.jsx)("img",{src:bt,alt:"?"})}),(0,Ye.jsx)("h2",{className:"title-login",style:{position:"relative",top:"-30px",textAlign:"center"},children:"\ud68c\uc6d0\uac00\uc785"}),(0,Ye.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o===a?(console.log("Email:",n),console.log("Password:",o),d({email:n,password:o}).then((e=>{console.log(e),alert("\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),c()})).catch((e=>{console.error(e),"\uc911\ubcf5\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4!"===e.response.data.message&&alert("\uc774\ubbf8 \uc0ac\uc6a9\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4!"),alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))):alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},children:[(0,Ye.jsx)(gt,{label:"\uc774\uba54\uc77c",type:"email",value:n,onChange:e=>{r(e.target.value)}}),(0,Ye.jsx)(gt,{label:"\ube44\ubc00\ubc88\ud638 (\uc601\ubb38, \uc22b\uc790, \ud2b9\uc218\uae30\ud638 \ud3ec\ud568 8\uae00\uc790 \uc774\uc0c1)",type:"password",value:o,onChange:e=>{i(e.target.value)}}),(0,Ye.jsx)("p",{className:"error-msg "+(l?"visible":"hidden"),children:"\ube44\ubc00\ubc88\ud638 \uc870\uac74\uc744 \ub9cc\uc871\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)(gt,{label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",value:a,onChange:e=>{s(e.target.value)}}),(0,Ye.jsx)("button",{type:"submit",className:"login-button",children:"\uac00\uc785\ud558\uae30"})]})]})]})})]})},$h=()=>{const e=ke(),[t,n]=(0,O.useState)(""),[r,o]=(0,O.useState)("");return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{id:"page-wrapper",children:[(0,Ye.jsx)("div",{id:"background-img"}),(0,Ye.jsxs)("div",{className:"content",children:[(0,Ye.jsxs)("div",{className:"content-left",children:[(0,Ye.jsx)("div",{className:"logo",children:(0,Ye.jsx)("img",{alt:"\ub85c\uace0 \uc790\ub9ac",src:yt})}),(0,Ye.jsx)("div",{className:"service-description",children:(0,Ye.jsx)(mt,{})})]}),(0,Ye.jsx)("div",{className:"content-right",children:(0,Ye.jsxs)("div",{className:"login-form",children:[(0,Ye.jsx)("div",{className:"icon-circle",children:(0,Ye.jsx)("img",{alt:"\ub85c\uadf8\uc778 gif",src:vt})}),(0,Ye.jsxs)("div",{className:"login-content",children:[(0,Ye.jsx)("h1",{className:"title-login",children:"\ub85c\uadf8\uc778"}),(0,Ye.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{console.log("\ub85c\uadf8\uc778\uc2dc\ub3c4: \uc774\uba54\uc77c",t),console.log("\ub85c\uadf8\uc778\uc2dc\ub3c4: \ube44\ubc00\ubc88\ud638",r);const n=await _h.post(`${Mh}/api/raidu/users/login`,{email:t,password:r});console.log(n),localStorage.setItem("accessToken",n.data.data.accessToken),localStorage.setItem("refreshToken",n.data.data.refreshToken),console.log("\uc800\uc7a5\ub41c access\ud1a0\ud070 : "+localStorage.getItem("accessToken")),console.log("\uc800\uc7a5\ub41c refresh\ud1a0\ud070 : "+localStorage.getItem("refreshToken")),e("/home")}catch(o){console.error("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4:",o),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}},children:[(0,Ye.jsx)(gt,{label:"\uc544\uc774\ub514",type:"text",value:t,onChange:e=>{n(e.target.value)}}),(0,Ye.jsx)(gt,{label:"\ube44\ubc00\ubc88\ud638",type:"password",value:r,onChange:e=>{o(e.target.value)}}),(0,Ye.jsx)("button",{type:"submit",className:"login-button",children:"\ub85c\uadf8\uc778"})]}),(0,Ye.jsx)(Lh,{})]})]})})]})]})})};const jh=O.createContext(null);function Fh(){return O.useContext(jh)}const Bh="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Vh=function(e){const{children:t,theme:n}=e,r=Fh(),o=O.useMemo((()=>{const e=null===r?n:function(e,t){if("function"===typeof t)return t(e);return(0,eu.A)({},e,t)}(r,n);return null!=e&&(e[Bh]=null!==r),e}),[n,r]);return(0,Ye.jsx)(jh.Provider,{value:o,children:t})},zh=["value"],Uh=O.createContext();const Wh=()=>{const e=O.useContext(Uh);return null!=e&&e},qh=function(e){let{value:t}=e,n=(0,tu.A)(e,zh);return(0,Ye.jsx)(Uh.Provider,(0,eu.A)({value:null==t||t},n))};var Hh=n(13654);const Gh={};function Xh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return O.useMemo((()=>{const o=e&&t[e]||t;if("function"===typeof n){const i=n(o),a=e?(0,eu.A)({},t,{[e]:i}):i;return r?()=>a:a}return e?(0,eu.A)({},t,{[e]:n}):(0,eu.A)({},t,n)}),[e,t,n,r])}const Kh=function(e){const{children:t,theme:n,themeId:r}=e,o=lu(Gh),i=Fh()||Gh,a=Xh(r,o,n),s=Xh(r,i,n,!0),l="rtl"===a.direction;return(0,Ye.jsx)(Vh,{theme:s,children:(0,Ye.jsx)(su.T.Provider,{value:a,children:(0,Ye.jsx)(qh,{value:l,children:(0,Ye.jsx)(Hh.A,{value:null==a?void 0:a.components,children:t})})})})},Yh=["theme"];function Qh(e){let{theme:t}=e,n=(0,tu.A)(e,Yh);const r=t[fu.A];return(0,Ye.jsx)(Kh,(0,eu.A)({},n,{themeId:r?fu.A:void 0,theme:r||t}))}const Jh=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Zh(e){return(0,sc.Ay)("MuiPaper",e)}(0,mu.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ef=["className","component","elevation","square","variant"],tf=(0,ju.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,eu.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,eu.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,Rc.X4)("#fff",Jh(n.elevation))}, ${(0,Rc.X4)("#fff",Jh(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),nf=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:a=!1,variant:s="elevation"}=n,l=(0,tu.A)(n,ef),u=(0,eu.A)({},n,{component:o,elevation:i,square:a,variant:s}),c=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,xu.A)(i,Zh,o)})(u);return(0,Ye.jsx)(tf,(0,eu.A)({as:o,ownerState:u,className:(0,nu.A)(c.root,r),ref:t},l))})),rf=nf;function of(e){return(0,sc.Ay)("MuiAppBar",e)}(0,mu.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const af=["className","color","enableColorOnDark","position"],sf=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,lf=(0,ju.Ay)(rf,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,ld.A)(n.position)}`],t[`color${(0,ld.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,eu.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,eu.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,eu.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,eu.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:sf(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:sf(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:sf(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:sf(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),uf=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:a="fixed"}=n,s=(0,tu.A)(n,af),l=(0,eu.A)({},n,{color:o,position:a,enableColorOnDark:i}),u=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,ld.A)(t)}`,`position${(0,ld.A)(n)}`]};return(0,xu.A)(o,of,r)})(l);return(0,Ye.jsx)(lf,(0,eu.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,nu.A)(u.root,r,"fixed"===a&&"mui-fixed"),ref:t},s))})),cf=uf;function df(e){return(0,sc.Ay)("MuiToolbar",e)}(0,mu.A)("MuiToolbar",["root","gutters","regular","dense"]);const pf=["className","component","disableGutters","variant"],hf=(0,ju.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),ff=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:a="regular"}=n,s=(0,tu.A)(n,pf),l=(0,eu.A)({},n,{component:o,disableGutters:i,variant:a}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,xu.A)(o,df,t)})(l);return(0,Ye.jsx)(hf,(0,eu.A)({as:o,className:(0,nu.A)(u.root,r),ref:t,ownerState:l},s))})),mf=ff;function gf(e){return(0,sc.Ay)("MuiTypography",e)}(0,mu.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yf=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],vf=(0,ju.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,ld.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),bf={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xf={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},wf=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiTypography"}),r=(e=>xf[e]||e)(n.color),o=(0,iu.A)((0,eu.A)({},n,{color:r})),{align:i="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:d="body1",variantMapping:p=bf}=o,h=(0,tu.A)(o,yf),f=(0,eu.A)({},o,{align:i,color:r,className:a,component:s,gutterBottom:l,noWrap:u,paragraph:c,variant:d,variantMapping:p}),m=s||(c?"p":p[d]||bf[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,s={root:["root",i,"inherit"!==e.align&&`align${(0,ld.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,xu.A)(s,gf,a)})(f);return(0,Ye.jsx)(vf,(0,eu.A)({as:m,ref:t,ownerState:f,className:(0,nu.A)(g.root,a)},h))})),Af=wf;n(30805);var Sf=n(22427);const Cf=O.createContext({});function kf(e){return(0,sc.Ay)("MuiList",e)}(0,mu.A)("MuiList",["root","padding","dense","subheader"]);const Ef=["children","className","component","dense","disablePadding","subheader"],Tf=(0,ju.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),If=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiList"}),{children:r,className:o,component:i="ul",dense:a=!1,disablePadding:s=!1,subheader:l}=n,u=(0,tu.A)(n,Ef),c=O.useMemo((()=>({dense:a})),[a]),d=(0,eu.A)({},n,{component:i,dense:a,disablePadding:s}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,xu.A)(i,kf,t)})(d);return(0,Ye.jsx)(Cf.Provider,{value:c,children:(0,Ye.jsxs)(Tf,(0,eu.A)({as:i,className:(0,nu.A)(p.root,o),ref:t,ownerState:d},u,{children:[l,r]}))})})),Of=If,Rf=gc;var Nf=n(55013);const _f=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Pf(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Mf(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Df(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Lf(e,t,n,r,o,i){let a=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Df(s,i)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const $f=O.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:i,className:a,disabledItemsFocusable:s=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu"}=e,d=(0,tu.A)(e,_f),p=O.useRef(null),h=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Nf.A)((()=>{r&&p.current.focus()}),[r]),O.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${Rf((0,Sf.A)(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const f=(0,nc.A)(p,t);let m=-1;O.Children.forEach(i,((e,t)=>{O.isValidElement(e)?(e.props.disabled||("selectedMenu"===c&&e.props.selected||-1===m)&&(m=t),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=i.length&&(m=-1))):m===t&&(m+=1,m>=i.length&&(m=-1))}));const g=O.Children.map(i,((e,t)=>{if(t===m){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),O.cloneElement(e,t)}return e}));return(0,Ye.jsx)(Of,(0,eu.A)({role:"menu",ref:f,className:a,onKeyDown:e=>{const t=p.current,n=e.key,r=(0,Sf.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Lf(t,r,l,s,Pf);else if("ArrowUp"===n)e.preventDefault(),Lf(t,r,l,s,Mf);else if("Home"===n)e.preventDefault(),Lf(t,null,l,s,Pf);else if("End"===n)e.preventDefault(),Lf(t,null,l,s,Mf);else if(1===n.length){const o=h.current,i=n.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);const l=r&&!o.repeating&&Df(r,o);o.previousKeyMatched&&(l||Lf(t,r,!1,s,Pf,o))?e.preventDefault():o.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},d,{children:g}))})),jf=$f;var Ff=n(80950),Bf=n(36078);const Vf=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function zf(e){return`scale(${e}, ${e**2})`}const Uf={entering:{opacity:1,transform:zf(1)},entered:{opacity:1,transform:"none"}},Wf="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qf=O.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:i,in:a,onEnter:s,onEntered:l,onEntering:u,onExit:c,onExited:d,onExiting:p,style:h,timeout:f="auto",TransitionComponent:m=Qu}=e,g=(0,tu.A)(e,Vf),y=(0,Bc.A)(),v=O.useRef(),b=Zu(),x=O.useRef(null),w=(0,nc.A)(x,o.ref,t),A=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},S=A(u),C=A(((e,t)=>{ec(e);const{duration:n,delay:r,easing:o}=tc({style:h,timeout:f,easing:i},{mode:"enter"});let a;"auto"===f?(a=b.transitions.getAutoHeightDuration(e.clientHeight),v.current=a):a=n,e.style.transition=[b.transitions.create("opacity",{duration:a,delay:r}),b.transitions.create("transform",{duration:Wf?a:.666*a,delay:r,easing:o})].join(","),s&&s(e,t)})),k=A(l),E=A(p),T=A((e=>{const{duration:t,delay:n,easing:r}=tc({style:h,timeout:f,easing:i},{mode:"exit"});let o;"auto"===f?(o=b.transitions.getAutoHeightDuration(e.clientHeight),v.current=o):o=t,e.style.transition=[b.transitions.create("opacity",{duration:o,delay:n}),b.transitions.create("transform",{duration:Wf?o:.666*o,delay:Wf?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=zf(.75),c&&c(e)})),I=A(d);return(0,Ye.jsx)(m,(0,eu.A)({appear:r,in:a,nodeRef:x,onEnter:C,onEntered:k,onEntering:S,onExit:T,onExited:I,onExiting:E,addEndListener:e=>{"auto"===f&&y.start(v.current||0,e),n&&n(x.current,e)},timeout:"auto"===f?null:f},g,{children:(e,t)=>O.cloneElement(o,(0,eu.A)({style:(0,eu.A)({opacity:0,transform:zf(.75),visibility:"exited"!==e||a?void 0:"hidden"},Uf[e],h,o.props.style),ref:w},t))}))}));qf.muiSupportAuto=!0;const Hf=qf;function Gf(e){return(0,sc.Ay)("MuiPopover",e)}(0,mu.A)("MuiPopover",["root","paper"]);const Xf=["onEntering"],Kf=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Yf=["slotProps"];function Qf(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Jf(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Zf(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function em(e){return"function"===typeof e?e():e}const tm=(0,ju.Ay)(Oc,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nm=(0,ju.Ay)(rf,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rm=O.forwardRef((function(e,t){var n,r,o;const i=(0,Fu.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:c="anchorEl",children:d,className:p,container:h,elevation:f=8,marginThreshold:m=16,open:g,PaperProps:y={},slots:v,slotProps:b,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:w=Hf,transitionDuration:A="auto",TransitionProps:{onEntering:S}={},disableScrollLock:C=!1}=i,k=(0,tu.A)(i.TransitionProps,Xf),E=(0,tu.A)(i,Kf),T=null!=(n=null==b?void 0:b.paper)?n:y,I=O.useRef(),R=(0,nc.A)(I,T.ref),N=(0,eu.A)({},i,{anchorOrigin:l,anchorReference:c,elevation:f,marginThreshold:m,externalPaperSlotProps:T,transformOrigin:x,TransitionComponent:w,transitionDuration:A,TransitionProps:k}),_=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"],paper:["paper"]},Gf,t)})(N),P=O.useCallback((()=>{if("anchorPosition"===c)return u;const e=em(s),t=(e&&1===e.nodeType?e:(0,Sf.A)(I.current).body).getBoundingClientRect();return{top:t.top+Qf(t,l.vertical),left:t.left+Jf(t,l.horizontal)}}),[s,l.horizontal,l.vertical,u,c]),M=O.useCallback((e=>({vertical:Qf(e,x.vertical),horizontal:Jf(e,x.horizontal)})),[x.horizontal,x.vertical]),D=O.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===c)return{top:null,left:null,transformOrigin:Zf(n)};const r=P();let o=r.top-n.vertical,i=r.left-n.horizontal;const a=o+t.height,l=i+t.width,u=(0,Bf.A)(em(s)),d=u.innerHeight-m,p=u.innerWidth-m;if(null!==m&&o<m){const e=o-m;o-=e,n.vertical+=e}else if(null!==m&&a>d){const e=a-d;o-=e,n.vertical+=e}if(null!==m&&i<m){const e=i-m;i-=e,n.horizontal+=e}else if(l>p){const e=l-p;i-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(i)}px`,transformOrigin:Zf(n)}}),[s,c,P,M,m]),[L,$]=O.useState(g),j=O.useCallback((()=>{const e=I.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,$(!0)}),[D]);O.useEffect((()=>(C&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[s,C,j]);O.useEffect((()=>{g&&j()})),O.useImperativeHandle(a,(()=>g?{updatePosition:()=>{j()}}:null),[g,j]),O.useEffect((()=>{if(!g)return;const e=(0,Ff.A)((()=>{j()})),t=(0,Bf.A)(s);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[s,g,j]);let F=A;"auto"!==A||w.muiSupportAuto||(F=void 0);const B=h||(s?(0,Sf.A)(em(s)).body:void 0),V=null!=(r=null==v?void 0:v.root)?r:tm,z=null!=(o=null==v?void 0:v.paper)?o:nm,U=Ou({elementType:z,externalSlotProps:(0,eu.A)({},T,{style:L?T.style:(0,eu.A)({},T.style,{opacity:0})}),additionalProps:{elevation:f,ref:R},ownerState:N,className:(0,nu.A)(_.paper,null==T?void 0:T.className)}),W=Ou({elementType:V,externalSlotProps:(null==b?void 0:b.root)||{},externalForwardedProps:E,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:B,open:g},ownerState:N,className:(0,nu.A)(_.root,p)}),{slotProps:q}=W,H=(0,tu.A)(W,Yf);return(0,Ye.jsx)(V,(0,eu.A)({},H,!Au(V)&&{slotProps:q,disableScrollLock:C},{children:(0,Ye.jsx)(w,(0,eu.A)({appear:!0,in:g,onEntering:(e,t)=>{S&&S(e,t),j()},onExited:()=>{$(!1)},timeout:F},k,{children:(0,Ye.jsx)(z,(0,eu.A)({},U,{children:d}))}))}))})),om=rm;var im=n(61475);function am(e){return(0,sc.Ay)("MuiMenu",e)}(0,mu.A)("MuiMenu",["root","paper","list"]);const sm=["onEntering"],lm=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],um={vertical:"top",horizontal:"right"},cm={vertical:"top",horizontal:"left"},dm=(0,ju.Ay)(om,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pm=(0,ju.Ay)(nm,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),hm=(0,ju.Ay)(jf,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),fm=O.forwardRef((function(e,t){var n,r;const o=(0,Fu.b)({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:s,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:c,open:d,PaperProps:p={},PopoverClasses:h,transitionDuration:f="auto",TransitionProps:{onEntering:m}={},variant:g="selectedMenu",slots:y={},slotProps:v={}}=o,b=(0,tu.A)(o.TransitionProps,sm),x=(0,tu.A)(o,lm),w=Wh(),A=(0,eu.A)({},o,{autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:m,PaperProps:p,transitionDuration:f,TransitionProps:b,variant:g}),S=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"],paper:["paper"],list:["list"]},am,t)})(A),C=i&&!l&&d,k=O.useRef(null);let E=-1;O.Children.map(a,((e,t)=>{O.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===E)&&(E=t))}));const T=null!=(n=y.paper)?n:pm,I=null!=(r=v.paper)?r:p,R=Ou({elementType:y.root,externalSlotProps:v.root,ownerState:A,className:[S.root,s]}),N=Ou({elementType:T,externalSlotProps:I,ownerState:A,className:S.paper});return(0,Ye.jsx)(dm,(0,eu.A)({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?um:cm,slots:{paper:T,root:y.root},slotProps:{root:R,paper:N},open:d,ref:t,transitionDuration:f,TransitionProps:(0,eu.A)({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),m&&m(e,t)}},b),ownerState:A},x,{classes:h,children:(0,Ye.jsx)(hm,(0,eu.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))},actions:k,autoFocus:i&&(-1===E||l),autoFocusItem:C,variant:g},u,{className:(0,nu.A)(S.list,u.className),children:a}))}))})),mm=fm;var gm=n(89611),ym=n(67598),vm=n(13030);function bm(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=cu(r);o&&(i=i[o]||i);const a=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,vm.A)(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t});return a}var xm=n(19172);const wm=["ownerState"],Am=["variants"],Sm=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Cm(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const km=(0,au.A)(),Em=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Tm(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function Im(e){return e?(t,n)=>n[e]:null}function Om(e,t){let{ownerState:n}=t,r=(0,tu.A)(t,wm);const o="function"===typeof e?e((0,eu.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>Om(e,(0,eu.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,tu.A)(o,Am);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,eu.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,eu.A)({ownerState:n},r,n)):e.style))})),t}return o}const Rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=km,rootShouldForwardProp:r=Cm,slotShouldForwardProp:o=Cm}=e,i=e=>(0,ou.A)((0,eu.A)({},e,{theme:Tm((0,eu.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ru.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:d=Im(Em(l))}=a,p=(0,tu.A)(a,Sm),h=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,f=c||!1;let m=Cm;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,ru.default)(e,(0,eu.A)({shouldForwardProp:m,label:undefined},p)),y=e=>"function"===typeof e&&e.__emotion_real!==e||(0,xm.Q)(e)?r=>Om(e,(0,eu.A)({},r,{theme:Tm({theme:r.theme,defaultTheme:n,themeId:t})})):e,v=function(r){let o=y(r);for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];const c=l?l.map(y):[];s&&d&&c.push((e=>{const r=Tm((0,eu.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,i={};return Object.entries(o).forEach((t=>{let[n,o]=t;i[n]=Om(o,(0,eu.A)({},e,{theme:r}))})),d(e,i)})),s&&!h&&c.push((e=>{var r;const o=Tm((0,eu.A)({},e,{defaultTheme:n,themeId:t}));return Om({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},(0,eu.A)({},e,{theme:o}))})),f||c.push(i);const p=c.length-l.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=g(o,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(v.withConfig=g.withConfig),v}}(),Nm=Rm,_m=["className","component","disableGutters","fixed","maxWidth","classes"],Pm=(0,au.A)(),Mm=Nm("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,ym.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Dm=e=>bm({props:e,name:"MuiContainer",defaultTheme:Pm});const Lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=Mm,useThemeProps:n=Dm,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),i=O.forwardRef((function(e,t){const i=n(e),{className:a,component:s="div",disableGutters:l=!1,fixed:u=!1,maxWidth:c="lg"}=i,d=(0,tu.A)(i,_m),p=(0,eu.A)({},i,{component:s,disableGutters:l,fixed:u,maxWidth:c}),h=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,a={root:["root",i&&`maxWidth${(0,ym.A)(String(i))}`,r&&"fixed",o&&"disableGutters"]};return(0,xu.A)(a,(e=>(0,sc.Ay)(t,e)),n)})(p,r);return(0,Ye.jsx)(o,(0,eu.A)({as:s,ownerState:p,className:(0,nu.A)(h.root,a),ref:t},d))}));return i}({createStyledComponent:(0,ju.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,ld.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Fu.b)({props:e,name:"MuiContainer"})}),$m=Lm;var jm=n(59662);const Fm=(0,jm.A)((0,Ye.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Bm(e){return(0,sc.Ay)("MuiAvatar",e)}(0,mu.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Vm=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],zm=["component","slots","slotProps"],Um=["component"];const Wm=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],qm=(0,ju.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,eu.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,eu.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),Hm=(0,ju.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Gm=(0,ju.Ay)(Fm,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const Xm=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:i,component:a="div",slots:s={},slotProps:l={},imgProps:u,sizes:c,src:d,srcSet:p,variant:h="circular"}=n,f=(0,tu.A)(n,Wm);let m=null;const g=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[i,a]=O.useState(!1);return O.useEffect((()=>{if(!r&&!o)return;a(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&a("loaded")},i.onerror=()=>{e&&a("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),()=>{e=!1}}),[t,n,r,o]),i}((0,eu.A)({},u,{src:d,srcSet:p})),y=d||p,v=y&&"error"!==g,b=(0,eu.A)({},n,{colorDefault:!v,component:a,variant:h}),x=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,xu.A)(o,Bm,t)})(b),[w,A]=function(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:s}=t,l=(0,tu.A)(t,Vm),{component:u,slots:c={[e]:void 0},slotProps:d={[e]:void 0}}=i,p=(0,tu.A)(i,zm),h=c[e]||r,f=Tu(d[e],o),m=Eu((0,eu.A)({className:n},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=m,v=(0,tu.A)(m.props,Um),b=(0,wu.A)(y,null==f?void 0:f.ref,t.ref),x=a?a(v):{},w=(0,eu.A)({},o,x),A="root"===e?g||u:g,S=Su(h,(0,eu.A)({},"root"===e&&!u&&!c[e]&&s,"root"!==e&&!c[e]&&s,v,A&&{as:A},{ref:b}),w);return Object.keys(x).forEach((e=>{delete S[e]})),[h,S]}("img",{className:x.img,elementType:Hm,externalForwardedProps:{slots:s,slotProps:{img:(0,eu.A)({},u,l.img)}},additionalProps:{alt:r,src:d,srcSet:p,sizes:c},ownerState:b});return m=v?(0,Ye.jsx)(w,(0,eu.A)({},A)):o||0===o?o:y&&r?r[0]:(0,Ye.jsx)(Gm,{ownerState:b,className:x.fallback}),(0,Ye.jsx)(qm,(0,eu.A)({as:a,ownerState:b,className:(0,nu.A)(x.root,i),ref:t},f,{children:m}))})),Km=Xm;function Ym(e){return(0,sc.Ay)("MuiButton",e)}const Qm=(0,mu.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Jm=O.createContext({});const Zm=O.createContext(void 0),eg=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],tg=e=>(0,eu.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ng=(0,ju.Ay)(sd,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,ld.A)(n.color)}`],t[`size${(0,ld.A)(n.size)}`],t[`${n.variant}Size${(0,ld.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,eu.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,eu.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Rc.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Rc.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Rc.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,eu.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Qm.focusVisible}`]:(0,eu.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Qm.disabled}`]:(0,eu.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,Rc.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qm.disabled}`]:{boxShadow:"none"}}})),rg=(0,ju.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,ld.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},tg(t))})),og=(0,ju.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,ld.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},tg(t))})),ig=O.forwardRef((function(e,t){const n=O.useContext(Jm),r=O.useContext(Zm),o=(0,vm.A)(n,e),i=(0,Fu.b)({props:o,name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:f,fullWidth:m=!1,size:g="medium",startIcon:y,type:v,variant:b="text"}=i,x=(0,tu.A)(i,eg),w=(0,eu.A)({},i,{color:s,component:l,disabled:c,disableElevation:d,disableFocusRipple:p,fullWidth:m,size:g,type:v,variant:b}),A=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,s={root:["root",i,`${i}${(0,ld.A)(t)}`,`size${(0,ld.A)(o)}`,`${i}Size${(0,ld.A)(o)}`,`color${(0,ld.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,ld.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,ld.A)(o)}`]},l=(0,xu.A)(s,Ym,a);return(0,eu.A)({},a,l)})(w),S=y&&(0,Ye.jsx)(rg,{className:A.startIcon,ownerState:w,children:y}),C=h&&(0,Ye.jsx)(og,{className:A.endIcon,ownerState:w,children:h}),k=r||"";return(0,Ye.jsxs)(ng,(0,eu.A)({ownerState:w,className:(0,nu.A)(n.className,A.root,u,k),component:l,disabled:c,focusRipple:!p,focusVisibleClassName:(0,nu.A)(A.focusVisible,f),ref:t,type:v},x,{classes:A,children:[S,a,C]}))})),ag=ig;var sg=n(92374);function lg(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ug(e){return e instanceof lg(e).Element||e instanceof Element}function cg(e){return e instanceof lg(e).HTMLElement||e instanceof HTMLElement}function dg(e){return"undefined"!==typeof ShadowRoot&&(e instanceof lg(e).ShadowRoot||e instanceof ShadowRoot)}var pg=Math.max,hg=Math.min,fg=Math.round;function mg(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function gg(){return!/^((?!chrome|android).)*safari/i.test(mg())}function yg(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&cg(e)&&(o=e.offsetWidth>0&&fg(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&fg(r.height)/e.offsetHeight||1);var a=(ug(e)?lg(e):window).visualViewport,s=!gg()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,u=(r.top+(s&&a?a.offsetTop:0))/i,c=r.width/o,d=r.height/i;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function vg(e){var t=lg(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bg(e){return e?(e.nodeName||"").toLowerCase():null}function xg(e){return((ug(e)?e.ownerDocument:e.document)||window.document).documentElement}function wg(e){return yg(xg(e)).left+vg(e).scrollLeft}function Ag(e){return lg(e).getComputedStyle(e)}function Sg(e){var t=Ag(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Cg(e,t,n){void 0===n&&(n=!1);var r=cg(t),o=cg(t)&&function(e){var t=e.getBoundingClientRect(),n=fg(t.width)/e.offsetWidth||1,r=fg(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=xg(t),a=yg(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==bg(t)||Sg(i))&&(s=function(e){return e!==lg(e)&&cg(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:vg(e);var t}(t)),cg(t)?((l=yg(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=wg(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function kg(e){var t=yg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Eg(e){return"html"===bg(e)?e:e.assignedSlot||e.parentNode||(dg(e)?e.host:null)||xg(e)}function Tg(e){return["html","body","#document"].indexOf(bg(e))>=0?e.ownerDocument.body:cg(e)&&Sg(e)?e:Tg(Eg(e))}function Ig(e,t){var n;void 0===t&&(t=[]);var r=Tg(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=lg(r),a=o?[i].concat(i.visualViewport||[],Sg(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Ig(Eg(a)))}function Og(e){return["table","td","th"].indexOf(bg(e))>=0}function Rg(e){return cg(e)&&"fixed"!==Ag(e).position?e.offsetParent:null}function Ng(e){for(var t=lg(e),n=Rg(e);n&&Og(n)&&"static"===Ag(n).position;)n=Rg(n);return n&&("html"===bg(n)||"body"===bg(n)&&"static"===Ag(n).position)?t:n||function(e){var t=/firefox/i.test(mg());if(/Trident/i.test(mg())&&cg(e)&&"fixed"===Ag(e).position)return null;var n=Eg(e);for(dg(n)&&(n=n.host);cg(n)&&["html","body"].indexOf(bg(n))<0;){var r=Ag(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var _g="top",Pg="bottom",Mg="right",Dg="left",Lg="auto",$g=[_g,Pg,Mg,Dg],jg="start",Fg="end",Bg="clippingParents",Vg="viewport",zg="popper",Ug="reference",Wg=$g.reduce((function(e,t){return e.concat([t+"-"+jg,t+"-"+Fg])}),[]),qg=[].concat($g,[Lg]).reduce((function(e,t){return e.concat([t,t+"-"+jg,t+"-"+Fg])}),[]),Hg=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Gg(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Xg(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Kg={placement:"bottom",modifiers:[],strategy:"absolute"};function Yg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Qg(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Kg:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kg,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;u(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:ug(e)?Ig(e):e.contextElement?Ig(e.contextElement):[],popper:Ig(t)};var c=function(e){var t=Gg(e);return Hg.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:r}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Yg(t,n)){o.rects={reference:Cg(t,Ng(n),"fixed"===o.options.strategy),popper:kg(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,u=i.options,c=void 0===u?{}:u,d=i.name;"function"===typeof a&&(o=a({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Xg((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),s=!0}};if(!Yg(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Jg={passive:!0};function Zg(e){return e.split("-")[0]}function ey(e){return e.split("-")[1]}function ty(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ny(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Zg(o):null,a=o?ey(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case _g:t={x:s,y:n.y-r.height};break;case Pg:t={x:s,y:n.y+n.height};break;case Mg:t={x:n.x+n.width,y:l};break;case Dg:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=i?ty(i):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case jg:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Fg:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var ry={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oy(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=a.x,h=void 0===p?0:p,f=a.y,m=void 0===f?0:f,g="function"===typeof c?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=Dg,x=_g,w=window;if(u){var A=Ng(n),S="clientHeight",C="clientWidth";if(A===lg(n)&&"static"!==Ag(A=xg(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),o===_g||(o===Dg||o===Mg)&&i===Fg)x=Pg,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[S])-r.height,m*=l?1:-1;if(o===Dg||(o===_g||o===Pg)&&i===Fg)b=Mg,h-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[C])-r.width,h*=l?1:-1}var k,E=Object.assign({position:s},u&&ry),T=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:fg(n*o)/o||0,y:fg(r*o)/o||0}}({x:h,y:m},lg(n)):{x:h,y:m};return h=T.x,m=T.y,l?Object.assign({},E,((k={})[x]=v?"0":"",k[b]=y?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",k)):Object.assign({},E,((t={})[x]=v?m+"px":"",t[b]=y?h+"px":"",t.transform="",t))}const iy={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];cg(o)&&bg(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});cg(r)&&bg(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const ay={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=qg.reduce((function(e,n){return e[n]=function(e,t,n){var r=Zg(e),o=[Dg,_g].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Dg,Mg].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var sy={left:"right",right:"left",bottom:"top",top:"bottom"};function ly(e){return e.replace(/left|right|bottom|top/g,(function(e){return sy[e]}))}var uy={start:"end",end:"start"};function cy(e){return e.replace(/start|end/g,(function(e){return uy[e]}))}function dy(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dg(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function py(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hy(e,t,n){return t===Vg?py(function(e,t){var n=lg(e),r=xg(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var u=gg();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+wg(e),y:l}}(e,n)):ug(t)?function(e,t){var n=yg(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):py(function(e){var t,n=xg(e),r=vg(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=pg(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=pg(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+wg(e),l=-r.scrollTop;return"rtl"===Ag(o||n).direction&&(s+=pg(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(xg(e)))}function fy(e,t,n,r){var o="clippingParents"===t?function(e){var t=Ig(Eg(e)),n=["absolute","fixed"].indexOf(Ag(e).position)>=0&&cg(e)?Ng(e):e;return ug(n)?t.filter((function(e){return ug(e)&&dy(e,n)&&"body"!==bg(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=hy(e,n,r);return t.top=pg(o.top,t.top),t.right=hg(o.right,t.right),t.bottom=hg(o.bottom,t.bottom),t.left=pg(o.left,t.left),t}),hy(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function my(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function gy(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function yy(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?Bg:s,u=n.rootBoundary,c=void 0===u?Vg:u,d=n.elementContext,p=void 0===d?zg:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,y=my("number"!==typeof g?g:gy(g,$g)),v=p===zg?Ug:zg,b=e.rects.popper,x=e.elements[f?v:p],w=fy(ug(x)?x:x.contextElement||xg(e.elements.popper),l,c,a),A=yg(e.elements.reference),S=ny({reference:A,element:b,strategy:"absolute",placement:o}),C=py(Object.assign({},b,S)),k=p===zg?C:A,E={top:w.top-k.top+y.top,bottom:k.bottom-w.bottom+y.bottom,left:w.left-k.left+y.left,right:k.right-w.right+y.right},T=e.modifiersData.offset;if(p===zg&&T){var I=T[o];Object.keys(E).forEach((function(e){var t=[Mg,Pg].indexOf(e)>=0?1:-1,n=[_g,Pg].indexOf(e)>=0?"y":"x";E[e]+=I[n]*t}))}return E}const vy={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,y=Zg(g),v=l||(y===g||!f?[ly(g)]:function(e){if(Zg(e)===Lg)return[];var t=ly(e);return[cy(e),t,cy(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(Zg(n)===Lg?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?qg:l,c=ey(r),d=c?s?Wg:Wg.filter((function(e){return ey(e)===c})):$g,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=yy(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[Zg(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,A=new Map,S=!0,C=b[0],k=0;k<b.length;k++){var E=b[k],T=Zg(E),I=ey(E)===jg,O=[_g,Pg].indexOf(T)>=0,R=O?"width":"height",N=yy(t,{placement:E,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),_=O?I?Mg:Dg:I?Pg:_g;x[R]>w[R]&&(_=ly(_));var P=ly(_),M=[];if(i&&M.push(N[T]<=0),s&&M.push(N[_]<=0,N[P]<=0),M.every((function(e){return e}))){C=E,S=!1;break}A.set(E,M)}if(S)for(var D=function(e){var t=b.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},L=f?3:1;L>0;L--){if("break"===D(L))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function by(e,t,n){return pg(e,hg(t,n))}const xy={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=yy(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Zg(t.placement),v=ey(t.placement),b=!v,x=ty(y),w="x"===x?"y":"x",A=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(A){if(i){var O,R="y"===x?_g:Dg,N="y"===x?Pg:Mg,_="y"===x?"height":"width",P=A[x],M=P+g[R],D=P-g[N],L=h?-C[_]/2:0,$=v===jg?S[_]:C[_],j=v===jg?-C[_]:-S[_],F=t.elements.arrow,B=h&&F?kg(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[R],U=V[N],W=by(0,S[_],B[_]),q=b?S[_]/2-L-W-z-E.mainAxis:$-W-z-E.mainAxis,H=b?-S[_]/2+L+W+U+E.mainAxis:j+W+U+E.mainAxis,G=t.elements.arrow&&Ng(t.elements.arrow),X=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,K=null!=(O=null==T?void 0:T[x])?O:0,Y=P+H-K,Q=by(h?hg(M,P+q-K-X):M,P,h?pg(D,Y):D);A[x]=Q,I[x]=Q-P}if(s){var J,Z="x"===x?_g:Dg,ee="x"===x?Pg:Mg,te=A[w],ne="y"===w?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[_g,Dg].indexOf(y),ae=null!=(J=null==T?void 0:T[w])?J:0,se=ie?re:te-S[ne]-C[ne]-ae+E.altAxis,le=ie?te+S[ne]+C[ne]-ae-E.altAxis:oe,ue=h&&ie?function(e,t,n){var r=by(e,t,n);return r>n?n:r}(se,te,le):by(h?se:re,te,h?le:oe);A[w]=ue,I[w]=ue-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const wy={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Zg(n.placement),l=ty(s),u=[Dg,Mg].indexOf(s)>=0?"height":"width";if(i&&a){var c=function(e,t){return my("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:gy(e,$g))}(o.padding,n),d=kg(i),p="y"===l?_g:Dg,h="y"===l?Pg:Mg,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],g=Ng(i),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=c[p],x=y-d[u]-c[h],w=y/2-d[u]/2+v,A=by(b,w,x),S=l;n.modifiersData[r]=((t={})[S]=A,t.centerOffset=A-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&dy(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ay(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Sy(e){return[_g,Mg,Pg,Dg].some((function(t){return e[t]>=0}))}var Cy=Qg({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=lg(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,Jg)})),s&&l.addEventListener("resize",n.update,Jg),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Jg)})),s&&l.removeEventListener("resize",n.update,Jg)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ny({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,u={placement:Zg(t.placement),variation:ey(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oy(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oy(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},iy,ay,vy,xy,wy,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=yy(t,{elementContext:"reference"}),s=yy(t,{altBoundary:!0}),l=Ay(a,r),u=Ay(s,o,i),c=Sy(l),d=Sy(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});function ky(e){return(0,sc.Ay)("MuiPopper",e)}(0,mu.A)("MuiPopper",["root"]);const Ey=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ty=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Iy(e){return"function"===typeof e?e():e}function Oy(e){return void 0!==e.nodeType}const Ry={},Ny=O.forwardRef((function(e,t){var n;const{anchorEl:r,children:o,direction:i,disablePortal:a,modifiers:s,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:p={},slots:h={},TransitionProps:f}=e,m=(0,tu.A)(e,Ey),g=O.useRef(null),y=(0,wu.A)(g,t),v=O.useRef(null),b=(0,wu.A)(v,d),x=O.useRef(b);(0,Du.A)((()=>{x.current=b}),[b]),O.useImperativeHandle(d,(()=>v.current),[]);const w=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,i),[A,S]=O.useState(w),[C,k]=O.useState(Iy(r));O.useEffect((()=>{v.current&&v.current.forceUpdate()})),O.useEffect((()=>{r&&k(Iy(r))}),[r]),(0,Du.A)((()=>{if(!C||!l)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{S(e.placement)})(t)}}];null!=s&&(e=e.concat(s)),c&&null!=c.modifiers&&(e=e.concat(c.modifiers));const t=Cy(C,g.current,(0,eu.A)({placement:w},c,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[C,a,s,l,c,w]);const E={placement:A};null!==f&&(E.TransitionProps=f);const T=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"]},ky,t)})(e),I=null!=(n=h.root)?n:"div",R=Ou({elementType:I,externalSlotProps:p.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:T.root});return(0,Ye.jsx)(I,(0,eu.A)({},R,{children:"function"===typeof o?o(E):o}))})),_y=O.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:i="ltr",disablePortal:a=!1,keepMounted:s=!1,modifiers:l,open:u,placement:c="bottom",popperOptions:d=Ry,popperRef:p,style:h,transition:f=!1,slotProps:m={},slots:g={}}=e,y=(0,tu.A)(e,Ty),[v,b]=O.useState(!0);if(!s&&!u&&(!f||v))return null;let x;if(o)x=o;else if(n){const e=Iy(n);x=e&&Oy(e)?(0,Ru.A)(e).body:(0,Ru.A)(null).body}const w=u||!s||f&&!v?void 0:"none",A=f?{in:u,onEnter:()=>{b(!1)},onExited:()=>{b(!0)}}:void 0;return(0,Ye.jsx)($u,{disablePortal:a,container:x,children:(0,Ye.jsx)(Ny,(0,eu.A)({anchorEl:n,direction:i,disablePortal:a,modifiers:l,ref:t,open:f?!v:u,placement:c,popperOptions:d,popperRef:p,slotProps:m,slots:g},y,{style:(0,eu.A)({position:"fixed",top:0,left:0,display:w},h),TransitionProps:A,children:r}))})})),Py=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],My=(0,ju.Ay)(_y,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Dy=O.forwardRef((function(e,t){var n;const r=(0,sg.A)(),o=(0,Fu.b)({props:e,name:"MuiPopper"}),{anchorEl:i,component:a,components:s,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:y,slots:v,slotProps:b}=o,x=(0,tu.A)(o,Py),w=null!=(n=null==v?void 0:v.root)?n:null==s?void 0:s.Root,A=(0,eu.A)({anchorEl:i,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:y},x);return(0,Ye.jsx)(My,(0,eu.A)({as:a,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=b?b:l},A,{ref:t}))})),Ly=Dy;var $y=n(45879),jy=n(15420);function Fy(e){return(0,sc.Ay)("MuiTooltip",e)}const By=(0,mu.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Vy=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function zy(e){return Math.round(1e5*e)/1e5}const Uy=(0,ju.Ay)(Ly,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,eu.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${By.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${By.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${By.arrow}`]:(0,eu.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${By.arrow}`]:(0,eu.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),Wy=(0,ju.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,ld.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,Rc.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${zy(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${By.popper}[data-popper-placement*="left"] &`]:(0,eu.A)({transformOrigin:"right center"},n.isRtl?(0,eu.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,eu.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${By.popper}[data-popper-placement*="right"] &`]:(0,eu.A)({transformOrigin:"left center"},n.isRtl?(0,eu.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,eu.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${By.popper}[data-popper-placement*="top"] &`]:(0,eu.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${By.popper}[data-popper-placement*="bottom"] &`]:(0,eu.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})})),qy=(0,ju.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Rc.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let Hy=!1;const Gy=new Bc.E;let Xy={x:0,y:0};function Ky(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const Yy=O.forwardRef((function(e,t){var n,r,o,i,a,s,l,u,c,d,p,h,f,m,g,y,v,b,x;const w=(0,Fu.b)({props:e,name:"MuiTooltip"}),{arrow:A=!1,children:S,components:C={},componentsProps:k={},describeChild:E=!1,disableFocusListener:T=!1,disableHoverListener:I=!1,disableInteractive:R=!1,disableTouchListener:N=!1,enterDelay:_=100,enterNextDelay:P=0,enterTouchDelay:M=700,followCursor:D=!1,id:L,leaveDelay:$=0,leaveTouchDelay:j=1500,onClose:F,onOpen:B,open:V,placement:z="bottom",PopperComponent:U,PopperProps:W={},slotProps:q={},slots:H={},title:G,TransitionComponent:X=Hf,TransitionProps:K}=w,Y=(0,tu.A)(w,Vy),Q=O.isValidElement(S)?S:(0,Ye.jsx)("span",{children:S}),J=Zu(),Z=Wh(),[ee,te]=O.useState(),[ne,re]=O.useState(null),oe=O.useRef(!1),ie=R||D,ae=(0,Bc.A)(),se=(0,Bc.A)(),le=(0,Bc.A)(),ue=(0,Bc.A)(),[ce,de]=(0,jy.A)({controlled:V,default:!1,name:"Tooltip",state:"open"});let pe=ce;const he=(0,$y.A)(L),fe=O.useRef(),me=(0,Nc.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ue.clear()}));O.useEffect((()=>me),[me]);const ge=e=>{Gy.clear(),Hy=!0,de(!0),B&&!pe&&B(e)},ye=(0,Nc.A)((e=>{Gy.start(800+$,(()=>{Hy=!1})),de(!1),F&&pe&&F(e),ae.start(J.transitions.duration.shortest,(()=>{oe.current=!1}))})),ve=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),se.clear(),le.clear(),_||Hy&&P?se.start(Hy?P:_,(()=>{ge(e)})):ge(e))},be=e=>{se.clear(),le.start($,(()=>{ye(e)}))},{isFocusVisibleRef:xe,onBlur:we,onFocus:Ae,ref:Se}=(0,_c.A)(),[,Ce]=O.useState(!1),ke=e=>{we(e),!1===xe.current&&(Ce(!1),be(e))},Ee=e=>{ee||te(e.currentTarget),Ae(e),!0===xe.current&&(Ce(!0),ve(e))},Te=e=>{oe.current=!0;const t=Q.props;t.onTouchStart&&t.onTouchStart(e)},Ie=e=>{Te(e),le.clear(),ae.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ue.start(M,(()=>{document.body.style.WebkitUserSelect=fe.current,ve(e)}))},Oe=e=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(e),me(),le.start(j,(()=>{ye(e)}))};O.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ye(e)}}),[ye,pe]);const Re=(0,nc.A)(Q.ref,Se,te,t);G||0===G||(pe=!1);const Ne=O.useRef(),_e={},Pe="string"===typeof G;E?(_e.title=pe||!Pe||I?null:G,_e["aria-describedby"]=pe?he:null):(_e["aria-label"]=Pe?G:null,_e["aria-labelledby"]=pe&&!Pe?he:null);const Me=(0,eu.A)({},_e,Y,Q.props,{className:(0,nu.A)(Y.className,Q.props.className),onTouchStart:Te,ref:Re},D?{onMouseMove:e=>{const t=Q.props;t.onMouseMove&&t.onMouseMove(e),Xy={x:e.clientX,y:e.clientY},Ne.current&&Ne.current.update()}}:{});const De={};N||(Me.onTouchStart=Ie,Me.onTouchEnd=Oe),I||(Me.onMouseOver=Ky(ve,Me.onMouseOver),Me.onMouseLeave=Ky(be,Me.onMouseLeave),ie||(De.onMouseOver=ve,De.onMouseLeave=be)),T||(Me.onFocus=Ky(Ee,Me.onFocus),Me.onBlur=Ky(ke,Me.onBlur),ie||(De.onFocus=Ee,De.onBlur=ke));const Le=O.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=W.popperOptions)&&e.modifiers&&(t=t.concat(W.popperOptions.modifiers)),(0,eu.A)({},W.popperOptions,{modifiers:t})}),[ne,W]),$e=(0,eu.A)({},w,{isRtl:Z,arrow:A,disableInteractive:ie,placement:z,PopperComponentProp:U,touch:oe.current}),je=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,ld.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,xu.A)(a,Fy,t)})($e),Fe=null!=(n=null!=(r=H.popper)?r:C.Popper)?n:Uy,Be=null!=(o=null!=(i=null!=(a=H.transition)?a:C.Transition)?i:X)?o:Hf,Ve=null!=(s=null!=(l=H.tooltip)?l:C.Tooltip)?s:Wy,ze=null!=(u=null!=(c=H.arrow)?c:C.Arrow)?u:qy,Ue=Su(Fe,(0,eu.A)({},W,null!=(d=q.popper)?d:k.popper,{className:(0,nu.A)(je.popper,null==W?void 0:W.className,null==(p=null!=(h=q.popper)?h:k.popper)?void 0:p.className)}),$e),We=Su(Be,(0,eu.A)({},K,null!=(f=q.transition)?f:k.transition),$e),qe=Su(Ve,(0,eu.A)({},null!=(m=q.tooltip)?m:k.tooltip,{className:(0,nu.A)(je.tooltip,null==(g=null!=(y=q.tooltip)?y:k.tooltip)?void 0:g.className)}),$e),He=Su(ze,(0,eu.A)({},null!=(v=q.arrow)?v:k.arrow,{className:(0,nu.A)(je.arrow,null==(b=null!=(x=q.arrow)?x:k.arrow)?void 0:b.className)}),$e);return(0,Ye.jsxs)(O.Fragment,{children:[O.cloneElement(Q,Me),(0,Ye.jsx)(Fe,(0,eu.A)({as:null!=U?U:Ly,placement:z,anchorEl:D?{getBoundingClientRect:()=>({top:Xy.y,left:Xy.x,right:Xy.x,bottom:Xy.y,width:0,height:0})}:ee,popperRef:Ne,open:!!ee&&pe,id:he,transition:!0},De,Ue,{popperOptions:Le,children:e=>{let{TransitionProps:t}=e;return(0,Ye.jsx)(Be,(0,eu.A)({timeout:J.transitions.duration.shorter},t,We,{children:(0,Ye.jsxs)(Ve,(0,eu.A)({},qe,{children:[G,A?(0,Ye.jsx)(ze,(0,eu.A)({},He,{ref:re})):null]}))}))}}))]})})),Qy=Yy;const Jy=(0,mu.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Zy=(0,mu.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);const ev=(0,mu.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function tv(e){return(0,sc.Ay)("MuiMenuItem",e)}const nv=(0,mu.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),rv=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ov=(0,ju.Ay)(sd,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nv.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Rc.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${nv.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Rc.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${nv.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Rc.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Rc.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${nv.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${nv.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Jy.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Jy.inset}`]:{marginLeft:52},[`& .${ev.root}`]:{marginTop:0,marginBottom:0},[`& .${ev.inset}`]:{paddingLeft:36},[`& .${Zy.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,eu.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Zy.root} svg`]:{fontSize:"1.25rem"}}))})),iv=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:i=!1,divider:a=!1,disableGutters:s=!1,focusVisibleClassName:l,role:u="menuitem",tabIndex:c,className:d}=n,p=(0,tu.A)(n,rv),h=O.useContext(Cf),f=O.useMemo((()=>({dense:i||h.dense||!1,disableGutters:s})),[h.dense,i,s]),m=O.useRef(null);(0,Nf.A)((()=>{r&&m.current&&m.current.focus()}),[r]);const g=(0,eu.A)({},n,{dense:f.dense,divider:a,disableGutters:s}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,s={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},l=(0,xu.A)(s,tv,a);return(0,eu.A)({},a,l)})(n),v=(0,nc.A)(m,t);let b;return n.disabled||(b=void 0!==c?c:-1),(0,Ye.jsx)(Cf.Provider,{value:f,children:(0,Ye.jsx)(ov,(0,eu.A)({ref:v,role:u,tabIndex:b,component:o,focusVisibleClassName:(0,nu.A)(y.focusVisible,l),className:(0,nu.A)(y.root,d)},p,{ownerState:g,classes:y}))})})),av=iv;var sv=n(64195);const lv=n.p+"static/media/topgrass.56247141cd63d1d16ffd.png",uv=[{name:"\ud65c\ub3d9",subLevels:["\ub808\uc774\ub450"]},{name:"\uac00\uc774\ub4dc",subLevels:["\ud29c\ud1a0\ub9ac\uc5bc","\ucee8\uc149 \ubd81","\uc6b4\ub3d9 \ubc31\uacfc"]},{name:"\uc815\ubcf4",subLevels:["\uc720\uc800 \uac80\uc0c9"]}],cv=["\ub9c8\uc774\ud398\uc774\uc9c0","\uac1c\uc778\uc815\ubcf4 \uc218\uc815","\ub85c\uadf8\uc544\uc6c3"],dv=(0,hu.A)({components:{MuiTypography:{styleOverrides:{root:{color:"black",fontFamily:'"Noto Sans KR", sans-serif',fontOpticalSizing:"auto",fontStyle:"normal"}}}}});const pv=function(){const e=Ph,t=ke(),[n,r]=O.useState(null),[o,i]=O.useState(null),[a,s]=O.useState(null),[l,u]=O.useState(null),[c,d]=O.useState([]);(0,O.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem("accessToken");console.log("\uc0ac\uc6a9\ud55c \ud1a0\ud070 : "+t);const n=await _h.get(e+"/api/raidu/userpage",{headers:{Authorization:`Bearer ${t}`}});console.log("\ub0b4\ube0c\ubc14  ",n),console.log(n.data.data.userProfile.id),r(n.data.data.userProfile)}catch(n){console.error("\uc720\uc800 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328..."),console.log(n),"NOT_FOUND"===n.response.data.status&&(console.log("\uccab \ubc29\ubb38\uc784..."),t("/firstvisit")),"\uc561\uc138\uc2a4 \ud1a0\ud070\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"===n.response.data.message&&(alert("\ud1a0\ud070 \ub9cc\ub8cc! \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."),t("/login"))}})()}),[t]);const p=(0,O.useCallback)((e=>{s(null),"\ub9c8\uc774\ud398\uc774\uc9c0"===e?(console.log("\ubc1b\uc740 id\uac12 : "+n.id),t(`/mypage/${n.id}`)):"\uac1c\uc778\uc815\ubcf4 \uc218\uc815"===e?t("/editprofile"):"\ub85c\uadf8\uc544\uc6c3"===e&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t("/login"))}),[t,n]),h=(e,t)=>{u(e.currentTarget),d(t)},f=e=>{u(null),d([]),"\ub808\uc774\ub450"===e?t("/raid"):"\ud29c\ud1a0\ub9ac\uc5bc"===e?t("/tutorial"):"\ucee8\uc149 \ubd81"===e?t("/conceptbook"):"\uc6b4\ub3d9 \ubc31\uacfc"===e?t("/dictionary"):"\uc720\uc800 \uac80\uc0c9"===e&&t("/usersearch")},m=()=>{t("/home")};return(0,Ye.jsxs)("div",{className:"nav-wrapper",children:[(0,Ye.jsxs)(Qh,{theme:dv,children:[(0,Ye.jsx)(cf,{position:"static",sx:{bgcolor:"white"},children:(0,Ye.jsx)($m,{maxWidth:"xl",children:(0,Ye.jsxs)(mf,{disableGutters:!0,children:[(0,Ye.jsxs)(bu,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,Ye.jsx)(fd,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{i(e.currentTarget)},color:"black",children:(0,Ye.jsx)(gm.A,{})}),(0,Ye.jsx)("div",{className:"nav-logo",onClick:m,style:{cursor:"pointer"},children:(0,Ye.jsx)("img",{alt:"\ub85c\uace0 \uc790\ub9ac",src:yt})}),(0,Ye.jsx)(mm,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(o),onClose:()=>{i(null)},sx:{display:{xs:"block",md:"none"}},disableScrollLock:!0,children:uv.map((e=>(0,Ye.jsx)(av,{onClick:t=>h(t,e.subLevels),children:(0,Ye.jsx)(Af,{textAlign:"center",children:e.name})},e.name)))})]}),(0,Ye.jsx)(sv.A,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,Ye.jsxs)(bu,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(0,Ye.jsx)("div",{className:"nav-logo-large",onClick:m,style:{cursor:"pointer"},children:(0,Ye.jsx)("img",{alt:"\ud070 \ub85c\uace0",src:yt})}),uv.map((e=>(0,Ye.jsx)(ag,{onClick:t=>h(t,e.subLevels),sx:{my:"auto",color:"black",display:"block",fontFamily:"inherit",marginLeft:"100px",fontSize:"16px",fontWeight:"bold"},className:"menu-large",children:e.name},e.name)))]}),(0,Ye.jsxs)(bu,{sx:{flexGrow:0,display:"flex",alignItems:"center"},children:[n&&(0,Ye.jsxs)(Af,{variant:"h6",sx:{fontSize:"12px",marginRight:"20px"},children:[n.nickname," \ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4!"]}),(0,Ye.jsx)(Qy,{title:"\uacc4\uc815 \uad00\ub9ac",children:(0,Ye.jsx)(fd,{onClick:e=>{s(e.currentTarget)},sx:{p:0},children:(0,Ye.jsx)(Km,{alt:"\ud504\uc0ac"})})}),(0,Ye.jsx)(mm,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:()=>s(null),disableScrollLock:!0,children:cv.map((e=>(0,Ye.jsx)(av,{onClick:()=>p(e),children:(0,Ye.jsx)(Af,{textAlign:"center",children:e})},e)))})]})]})})}),(0,Ye.jsx)(mm,{id:"submenu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:f,disableScrollLock:!0,children:c.map((e=>(0,Ye.jsx)(av,{onClick:()=>f(e),children:(0,Ye.jsx)(Af,{textAlign:"center",children:e})},e)))})]}),(0,Ye.jsx)("div",{className:"nav-image",children:(0,Ye.jsx)("img",{src:lv,alt:"topgrass"})})]})};const hv=function(){return(0,Ye.jsx)("div",{className:"homeslider-container",children:(0,Ye.jsxs)(ht.A,{dots:!0,infinite:!0,speed:3e3,slidesToShow:1,slidesToScroll:1,draggable:!0,autoplay:!0,autoplaySpeed:6e3,children:[(0,Ye.jsx)("div",{className:"homeslider-desc",children:(0,Ye.jsx)("img",{className:"homeslider-desc-img",src:ft})}),(0,Ye.jsx)("div",{className:"homeslider-desc",children:(0,Ye.jsx)("img",{className:"homeslider-desc-img",src:ft})}),(0,Ye.jsx)("div",{className:"homeslider-desc",children:(0,Ye.jsx)("img",{className:"homeslider-desc-img",src:ft})})]})})};const fv=e=>{let{targetNumber:t}=e;const[n,r]=(0,O.useState)(0),o=(0,O.useRef)(null);return(0,O.useEffect)((()=>{const e=(t-n)/85;return o.current&&clearInterval(o.current),o.current=setInterval((()=>{r((n=>n>=t&&e>0||n<=t&&e<0?(clearInterval(o.current),t):n+e))}),20),()=>clearInterval(o.current)}),[t]),(0,Ye.jsx)("div",{style:{display:"inline"},children:(i=Math.round(n),i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))});var i};var mv=n(65173),gv=n.n(mv),yv=Pv(),vv=e=>Ov(e,yv),bv=Pv();vv.write=e=>Ov(e,bv);var xv=Pv();vv.onStart=e=>Ov(e,xv);var wv=Pv();vv.onFrame=e=>Ov(e,wv);var Av=Pv();vv.onFinish=e=>Ov(e,Av);var Sv=[];vv.setTimeout=(e,t)=>{const n=vv.now()+t,r=()=>{const e=Sv.findIndex((e=>e.cancel==r));~e&&Sv.splice(e,1),Tv-=~e?1:0},o={time:n,handler:e,cancel:r};return Sv.splice(Cv(n),0,o),Tv+=1,Rv(),o};var Cv=e=>~(~Sv.findIndex((t=>t.time>e))||~Sv.length);vv.cancel=e=>{xv.delete(e),wv.delete(e),Av.delete(e),yv.delete(e),bv.delete(e)},vv.sync=e=>{Iv=!0,vv.batchedUpdates(e),Iv=!1},vv.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t=r,vv.onStart(n)}return r.handler=e,r.cancel=()=>{xv.delete(n),t=null},r};var kv="undefined"!=typeof window?window.requestAnimationFrame:()=>{};vv.use=e=>kv=e,vv.now="undefined"!=typeof performance?()=>performance.now():Date.now,vv.batchedUpdates=e=>e(),vv.catch=console.error,vv.frameLoop="always",vv.advance=()=>{"demand"!==vv.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_v()};var Ev=-1,Tv=0,Iv=!1;function Ov(e,t){Iv?(t.delete(e),e(0)):(t.add(e),Rv())}function Rv(){Ev<0&&(Ev=0,"demand"!==vv.frameLoop&&kv(Nv))}function Nv(){~Ev&&(kv(Nv),vv.batchedUpdates(_v))}function _v(){const e=Ev;Ev=vv.now();const t=Cv(Ev);t&&(Mv(Sv.splice(0,t),(e=>e.handler())),Tv-=t),Tv?(xv.flush(),yv.flush(e?Math.min(64,Ev-e):16.667),wv.flush(),bv.flush(),Av.flush()):Ev=-1}function Pv(){let e=new Set,t=e;return{add(n){Tv+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Tv-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Tv-=t.size,Mv(t,(t=>t(n)&&e.add(t))),Tv+=e.size,t=e)}}}function Mv(e,t){e.forEach((e=>{try{t(e)}catch(Nve){vv.catch(Nve)}}))}var Dv=Object.defineProperty,Lv={};function $v(){}((e,t)=>{for(var n in t)Dv(e,n,{get:t[n],enumerable:!0})})(Lv,{assign:()=>Qv,colors:()=>Xv,createStringInterpolator:()=>Wv,skipAnimation:()=>Kv,to:()=>qv,willAdvance:()=>Yv});var jv={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Fv(e,t){if(jv.arr(e)){if(!jv.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Bv=(e,t)=>e.forEach(t);function Vv(e,t,n){if(jv.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var zv=e=>jv.und(e)?[]:jv.arr(e)?e:[e];function Uv(e,t){if(e.size){const n=Array.from(e);e.clear(),Bv(n,t)}}var Wv,qv,Hv=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uv(e,(e=>e(...n)))},Gv=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Xv=null,Kv=!1,Yv=$v,Qv=e=>{e.to&&(qv=e.to),e.now&&(vv.now=e.now),void 0!==e.colors&&(Xv=e.colors),null!=e.skipAnimation&&(Kv=e.skipAnimation),e.createStringInterpolator&&(Wv=e.createStringInterpolator),e.requestAnimationFrame&&vv.use(e.requestAnimationFrame),e.batchedUpdates&&(vv.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Yv=e.willAdvance),e.frameLoop&&(vv.frameLoop=e.frameLoop)},Jv=new Set,Zv=[],eb=[],tb=0,nb={get idle(){return!Jv.size&&!Zv.length},start(e){tb>e.priority?(Jv.add(e),vv.onStart(rb)):(ob(e),vv(ab))},advance:ab,sort(e){if(tb)vv.onFrame((()=>nb.sort(e)));else{const t=Zv.indexOf(e);~t&&(Zv.splice(t,1),ib(e))}},clear(){Zv=[],Jv.clear()}};function rb(){Jv.forEach(ob),Jv.clear(),vv(ab)}function ob(e){Zv.includes(e)||ib(e)}function ib(e){Zv.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(Zv,(t=>t.priority>e.priority)),0,e)}function ab(e){const t=eb;for(let n=0;n<Zv.length;n++){const r=Zv[n];tb=r.priority,r.idle||(Yv(r),r.advance(e),r.idle||t.push(r))}return tb=0,(eb=Zv).length=0,(Zv=t).length>0}var sb="[-+]?\\d*\\.?\\d+",lb=sb+"%";function ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var cb=new RegExp("rgb"+ub(sb,sb,sb)),db=new RegExp("rgba"+ub(sb,sb,sb,sb)),pb=new RegExp("hsl"+ub(sb,lb,lb)),hb=new RegExp("hsla"+ub(sb,lb,lb,sb)),fb=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,mb=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gb=/^#([0-9a-fA-F]{6})$/,yb=/^#([0-9a-fA-F]{8})$/;function vb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bb(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,i=vb(o,r,e+1/3),a=vb(o,r,e),s=vb(o,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function xb(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function wb(e){return(parseFloat(e)%360+360)%360/360}function Ab(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Sb(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Cb(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=gb.exec(e))?parseInt(t[1]+"ff",16)>>>0:Xv&&void 0!==Xv[e]?Xv[e]:(t=cb.exec(e))?(xb(t[1])<<24|xb(t[2])<<16|xb(t[3])<<8|255)>>>0:(t=db.exec(e))?(xb(t[1])<<24|xb(t[2])<<16|xb(t[3])<<8|Ab(t[4]))>>>0:(t=fb.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=yb.exec(e))?parseInt(t[1],16)>>>0:(t=mb.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=pb.exec(e))?(255|bb(wb(t[1]),Sb(t[2]),Sb(t[3])))>>>0:(t=hb.exec(e))?(bb(wb(t[1]),Sb(t[2]),Sb(t[3]))|Ab(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var kb=(e,t,n)=>{if(jv.fun(e))return e;if(jv.arr(e))return kb({range:e,output:t,extrapolate:n});if(jv.str(e.output[0]))return Wv(e);const r=e,o=r.output,i=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,o,i,a,s,l){let u=l?l(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=i(u),r===-1/0?u=-u:o===1/0?u+=r:u=u*(o-r)+r;return u}(e,i[t],i[t+1],o[t],o[t+1],l,a,s,r.map)}};var Eb=1.70158,Tb=1.525*Eb,Ib=Eb+1,Ob=2*Math.PI/3,Rb=2*Math.PI/4.5,Nb=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},_b={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Ib*e*e*e-Eb*e*e,easeOutBack:e=>1+Ib*Math.pow(e-1,3)+Eb*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Tb)/2:(Math.pow(2*e-2,2)*((Tb+1)*(2*e-2)+Tb)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Ob),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Ob)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Rb)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Rb)/2+1,easeInBounce:e=>1-Nb(1-e),easeOutBounce:Nb,easeInOutBounce:e=>e<.5?(1-Nb(1-2*e))/2:(1+Nb(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Pb=Symbol.for("FluidValue.get"),Mb=Symbol.for("FluidValue.observers"),Db=e=>Boolean(e&&e[Pb]),Lb=e=>e&&e[Pb]?e[Pb]():e,$b=e=>e[Mb]||null;function jb(e,t){const n=e[Mb];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Fb=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Bb(this,e)}},Bb=(e,t)=>Wb(e,Pb,t);function Vb(e,t){if(e[Pb]){let n=e[Mb];n||Wb(e,Mb,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function zb(e,t){const n=e[Mb];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Mb]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ub,Wb=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),qb=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Hb=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Gb=new RegExp(`(${qb.source})(%|[a-z]+)`,"i"),Xb=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Kb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Yb=e=>{const[t,n]=Qb(e);if(!t||Gv())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Kb.test(n)?Yb(n):n||e},Qb=e=>{const t=Kb.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Jb=(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,Zb=e=>{Ub||(Ub=Xv?new RegExp(`(${Object.keys(Xv).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Lb(e).replace(Kb,Yb).replace(Hb,Cb).replace(Ub,Cb))),n=t.map((e=>e.match(qb).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))),o=r.map((t=>kb({...e,output:t})));return e=>{const n=!Gb.test(t[0])&&t.find((e=>Gb.test(e)))?.replace(qb,"");let r=0;return t[0].replace(qb,(()=>`${o[r++](e)}${n||""}`)).replace(Xb,Jb)}},ex="react-spring: ",tx=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${ex}once requires a function parameter`);return function(){n||(t(...arguments),n=!0)}},nx=tx(console.warn);var rx=tx(console.warn);function ox(e){return jv.str(e)&&("#"==e[0]||/\d/.test(e)||!Gv()&&Kb.test(e)||e in(Xv||{}))}var ix=Gv()?O.useEffect:O.useLayoutEffect,ax=()=>{const e=(0,O.useRef)(!1);return ix((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function sx(){const e=(0,O.useState)()[1],t=ax();return()=>{t.current&&e(Math.random())}}var lx=e=>(0,O.useEffect)(e,ux),ux=[];function cx(e){const t=(0,O.useRef)();return(0,O.useEffect)((()=>{t.current=e})),t.current}var dx=Symbol.for("Animated:node"),px=e=>e&&e[dx],hx=(e,t)=>((e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}))(e,dx,t),fx=e=>e&&e[dx]&&e[dx].getPayload(),mx=class{constructor(){hx(this,this)}getPayload(){return this.payload||[]}},gx=class extends mx{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,jv.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new gx(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return jv.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,jv.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},yx=class extends gx{constructor(e){super(0),this._string=null,this._toString=kb({output:[e,e]})}static create(e){return new yx(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(jv.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=kb({output:[this.getValue(),e]})),this._value=0,super.reset()}},vx={dependencies:null},bx=class extends mx{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Vv(this.source,((n,r)=>{(e=>!!e&&e[dx]===e)(n)?t[r]=n.getValue(e):Db(n)?t[r]=Lb(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Bv(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Vv(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){vx.dependencies&&Db(e)&&vx.dependencies.add(e);const t=fx(e);t&&Bv(t,(e=>this.add(e)))}},xx=class extends bx{constructor(e){super(e)}static create(e){return new xx(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(wx)),!0)}};function wx(e){return(ox(e)?yx:gx).create(e)}function Ax(e){const t=px(e);return t?t.constructor:jv.arr(e)?xx:ox(e)?yx:gx}var Sx=(e,t)=>{const n=!jv.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,O.forwardRef)(((r,o)=>{const i=(0,O.useRef)(null),a=n&&(0,O.useCallback)((e=>{i.current=function(e,t){e&&(jv.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[s,l]=function(e,t){const n=new Set;vx.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new bx(e),vx.dependencies=null,[e,n]}(r,t),u=sx(),c=()=>{const e=i.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&u()},d=new Cx(c,l),p=(0,O.useRef)();ix((()=>(p.current=d,Bv(l,(e=>Vb(e,d))),()=>{p.current&&(Bv(p.current.deps,(e=>zb(e,p.current))),vv.cancel(p.current.update))}))),(0,O.useEffect)(c,[]),lx((()=>()=>{const e=p.current;Bv(e.deps,(t=>zb(t,e)))}));const h=t.getComponentProps(s.getValue());return O.createElement(e,{...h,ref:a})}))},Cx=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&vv.write(this.update)}};var kx=Symbol.for("AnimatedComponent"),Ex=e=>jv.str(e)?e:e&&jv.str(e.displayName)?e.displayName:jv.fun(e)&&e.name||null;function Tx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jv.fun(e)?e(...n):e}var Ix=(e,t)=>!0===e||!!(t&&e&&(jv.fun(e)?e(t):zv(e).includes(t))),Ox=(e,t)=>jv.obj(e)?t&&e[t]:e,Rx=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Nx=e=>e,_x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nx,n=Px;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const o of n){const n=t(e[o],o);jv.und(n)||(r[o]=n)}return r},Px=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Mx={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Dx(e){const t=function(e){const t={};let n=0;if(Vv(e,((e,r)=>{Mx[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Vv(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function Lx(e){return e=Lb(e),jv.arr(e)?e.map(Lx):ox(e)?Lv.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function $x(e){for(const t in e)return!0;return!1}function jx(e){return jv.fun(e)||jv.arr(e)&&jv.obj(e[0])}function Fx(e,t){e.ref?.delete(e),t?.delete(e)}function Bx(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var Vx={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},zx={...Vx.default,mass:1,damping:1,easing:_b.linear,clamp:!1},Ux=class{constructor(){this.velocity=0,Object.assign(this,zx)}};function Wx(e,t){if(jv.und(t.decay)){const n=!jv.und(t.tension)||!jv.und(t.friction);!n&&jv.und(t.frequency)&&jv.und(t.damping)&&jv.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var qx=[],Hx=class{constructor(){this.changed=!1,this.values=qx,this.toValues=null,this.fromValues=qx,this.config=new Ux,this.immediate=!1}};function Gx(e,t){let{key:n,props:r,defaultProps:o,state:i,actions:a}=t;return new Promise(((t,s)=>{let l,u,c=Ix(r.cancel??o?.cancel,n);if(c)h();else{jv.und(r.pause)||(i.paused=Ix(r.pause,n));let e=o?.pause;!0!==e&&(e=i.paused||Ix(e,n)),l=Tx(r.delay||0,n),e?(i.resumeQueue.add(p),a.pause()):(a.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-vv.now()}function p(){l>0&&!Lv.skipAnimation?(i.delayed=!0,u=vv.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{a.start({...r,callId:e,cancel:c},t)}catch(n){s(n)}}}))}var Xx=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Qx(e.get()):t.every((e=>e.noop))?Kx(e.get()):Yx(e.get(),t.every((e=>e.finished))),Kx=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Yx=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Qx=e=>({value:e,cancelled:!0,finished:!1});function Jx(e,t,n,r){const{callId:o,parentId:i,onRest:a}=t,{asyncTo:s,promise:l}=n;return i||e!==s||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const u=_x(t,((e,t)=>"onRest"===t?void 0:e));let c,d;const p=new Promise(((e,t)=>(c=e,d=t))),h=e=>{const t=o<=(n.cancelId||0)&&Qx(r)||o!==n.asyncId&&Yx(r,!1);if(t)throw e.result=t,d(e),e},f=(e,t)=>{const i=new ew,a=new tw;return(async()=>{if(Lv.skipAnimation)throw Zx(n),a.result=Yx(r,!1),d(a),a;h(i);const s=jv.obj(e)?{...e}:{...t,to:e};s.parentId=o,Vv(u,((e,t)=>{jv.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return h(i),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(Lv.skipAnimation)return Zx(n),Yx(r,!1);try{let t;t=jv.arr(e)?(async e=>{for(const t of e)await f(t)})(e):Promise.resolve(e(f,r.stop.bind(r))),await Promise.all([t.then(c),p]),m=Yx(r.get(),!0,!1)}catch(g){if(g instanceof ew)m=g.result;else{if(!(g instanceof tw))throw g;m=g.result}}finally{o==n.asyncId&&(n.asyncId=i,n.asyncTo=i?s:void 0,n.promise=i?l:void 0)}return jv.fun(a)&&vv.batchedUpdates((()=>{a(m,r,r.item)})),m})():l}function Zx(e,t){Uv(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ew=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tw=class extends Error{constructor(){super("SkipAnimationSignal")}},nw=e=>e instanceof ow,rw=1,ow=class extends Fb{constructor(){super(...arguments),this.id=rw++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=px(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lv.to(this,t)}interpolate(){nx(`${ex}The "interpolate" function is deprecated in v9 (use "to" instead)`);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lv.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){jb(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||nb.sort(this),jb(this,{type:"priority",parent:this,priority:e})}},iw=Symbol.for("SpringPhase"),aw=e=>(1&e[iw])>0,sw=e=>(2&e[iw])>0,lw=e=>(4&e[iw])>0,uw=(e,t)=>t?e[iw]|=3:e[iw]&=-3,cw=(e,t)=>t?e[iw]|=4:e[iw]&=-5,dw=class extends ow{constructor(e,t){if(super(),this.animation=new Hx,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!jv.und(e)||!jv.und(t)){const n=jv.obj(e)?{...e}:{...t,from:e};jv.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(sw(this)||this._state.asyncTo)||lw(this)}get goal(){return Lb(this.animation.to)}get velocity(){const e=px(this);return e instanceof gx?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return aw(this)}get isAnimating(){return sw(this)}get isPaused(){return lw(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:o}=r;const{config:i}=r,a=fx(r.to);!a&&Db(r.to)&&(o=zv(Lb(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const u=s.constructor==yx?1:a?a[l].lastPosition:o[l];let c=r.immediate,d=u;if(!c){if(d=s.lastPosition,i.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],o=null!=s.v0?s.v0:s.v0=jv.arr(i.velocity)?i.velocity[l]:i.velocity;let a;const p=i.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n)));if(jv.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*t);d=n+o/(1-e)*(1-r),c=Math.abs(s.lastPosition-d)<=p,a=o*r}else{a=null==s.lastVelocity?o:s.lastVelocity;const t=i.restVelocity||p/10,r=i.clamp?0:i.bounce,l=!jv.und(r),h=n==u?s.v0>0:n<u;let f,m=!1;const g=1,y=Math.ceil(e/g);for(let e=0;e<y&&(f=Math.abs(a)>t,f||(c=Math.abs(u-d)<=p,!c));++e){l&&(m=d==u||d>u==h,m&&(a=-a*r,d=u));a+=(1e-6*-i.tension*(d-u)+.001*-i.friction*a)/i.mass*g,d+=a*g}}else{let r=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,s.durationProgress>0&&(s.elapsedTime=i.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(i.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+i.easing(r)*(u-n),a=(d-s.lastPosition)/e,c=1==r}s.lastVelocity=a,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}a&&!a[l].done&&(c=!1),c?s.done=!0:t=!1,s.setValue(d,i.round)&&(n=!0)}));const s=px(this),l=s.getValue();if(t){const e=Lb(r.to);l===e&&!n||i.decay?n&&i.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return vv.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(sw(this)){const{to:e,config:t}=this.animation;vv.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return jv.und(e)?(n=this.queue||[],this.queue=[]):n=[jv.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>Xx(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Zx(this._state,e&&this._lastCallId),vv.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=jv.obj(n)?n[t]:n,(null==n||jx(n))&&(n=void 0),r=jv.obj(r)?r[t]:r,null==r&&(r=void 0);const o={to:n,from:r};return aw(this)||(e.reverse&&([n,r]=[r,n]),r=Lb(r),jv.und(r)?px(this)||this._set(n):this._set(r)),o}_update(e,t){let{...n}=e;const{key:r,defaultProps:o}=this;n.default&&Object.assign(o,_x(n,((e,t)=>/^on/.test(t)?Ox(e,r):e))),vw(this,n,"onProps"),bw(this,"onProps",n,this);const i=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Gx(++this._lastCallId,{key:r,props:n,defaultProps:o,state:a,actions:{pause:()=>{lw(this)||(cw(this,!0),Hv(a.pauseQueue),bw(this,"onPause",Yx(this,pw(this,this.animation.to)),this))},resume:()=>{lw(this)&&(cw(this,!1),sw(this)&&this._resume(),Hv(a.resumeQueue),bw(this,"onResume",Yx(this,pw(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=hw(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Qx(this));const r=!jv.und(e.to),o=!jv.und(e.from);if(r||o){if(!(t.callId>this._lastToId))return n(Qx(this));this._lastToId=t.callId}const{key:i,defaultProps:a,animation:s}=this,{to:l,from:u}=s;let{to:c=l,from:d=u}=e;!o||r||t.default&&!jv.und(c)||(c=d),t.reverse&&([c,d]=[d,c]);const p=!Fv(d,u);p&&(s.from=d),d=Lb(d);const h=!Fv(c,l);h&&this._focus(c);const f=jx(t.to),{config:m}=s,{decay:g,velocity:y}=m;(r||o)&&(m.velocity=0),t.config&&!f&&function(e,t,n){n&&(Wx(n={...n},t),t={...n,...t}),Wx(e,t),Object.assign(e,t);for(const a in zx)null==e[a]&&(e[a]=zx[a]);let{frequency:r,damping:o}=e;const{mass:i}=e;jv.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*o*i/r)}(m,Tx(t.config,i),t.config!==a.config?Tx(a.config,i):void 0);let v=px(this);if(!v||jv.und(c))return n(Yx(this,!0));const b=jv.und(t.reset)?o&&!t.default:!jv.und(d)&&Ix(t.reset,i),x=b?d:this.get(),w=Lx(c),A=jv.num(w)||jv.arr(w)||ox(w),S=!f&&(!A||Ix(a.immediate||t.immediate,i));if(h){const e=Ax(c);if(e!==v.constructor){if(!S)throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`);v=this._set(w)}}const C=v.constructor;let k=Db(c),E=!1;if(!k){const e=b||!aw(this)&&p;(h||e)&&(E=Fv(Lx(x),w),k=!E),(Fv(s.immediate,S)||S)&&Fv(m.decay,g)&&Fv(m.velocity,y)||(k=!0)}if(E&&sw(this)&&(s.changed&&!b?k=!0:k||this._stop(l)),!f&&((k||Db(l))&&(s.values=v.getPayload(),s.toValues=Db(c)?null:C==yx?[1]:zv(w)),s.immediate!=S&&(s.immediate=S,S||b||this._set(l)),k)){const{onRest:e}=s;Bv(yw,(e=>vw(this,t,e)));const r=Yx(this,pw(this,l));Hv(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&vv.batchedUpdates((()=>{s.changed=!b,e?.(r,this),b?Tx(a.onRest,r):s.onStart?.(r,this)}))}b&&this._set(x),f?n(Jx(t.to,t,this._state,this)):k?this._start():sw(this)&&!h?this._pendingCalls.add(n):n(Kx(x))}_focus(e){const t=this.animation;e!==t.to&&($b(this)&&this._detach(),t.to=e,$b(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Db(t)&&(Vb(t,this),nw(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Db(e)&&zb(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Lb(e);if(!jv.und(n)){const e=px(this);if(!e||!Fv(n,e.getValue())){const r=Ax(n);e&&e.constructor==r?e.setValue(n):hx(this,r.create(n)),e&&vv.batchedUpdates((()=>{this._onChange(n,t)}))}}return px(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,bw(this,"onStart",Yx(this,pw(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Tx(this.animation.onChange,e,this)),Tx(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;px(this).reset(Lb(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),sw(this)||(uw(this,!0),lw(this)||this._resume())}_resume(){Lv.skipAnimation?this.finish():nb.start(this)}_stop(e,t){if(sw(this)){uw(this,!1);const n=this.animation;Bv(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),jb(this,{type:"idle",parent:this});const r=t?Qx(this.get()):Yx(this.get(),pw(this,e??n.to));Hv(this._pendingCalls,r),n.changed&&(n.changed=!1,bw(this,"onRest",r,this))}}};function pw(e,t){const n=Lx(t);return Fv(Lx(e.get()),n)}function hw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=Tx(t);if(r){const o=!0!==r&&Dx(r),i=(o||e).reverse,a=!o||o.reset;return fw({...e,loop:t,default:!1,pause:void 0,to:!i||jx(n)?n:void 0,from:a?e.from:void 0,reset:a,...o})}}function fw(e){const{to:t,from:n}=e=Dx(e),r=new Set;return jv.obj(t)&&gw(t,r),jv.obj(n)&&gw(n,r),e.keys=r.size?Array.from(r):null,e}function mw(e){const t=fw(e);return jv.und(t.default)&&(t.default=_x(t)),t}function gw(e,t){Vv(e,((e,n)=>null!=e&&t.add(n)))}var yw=["onStart","onRest","onChange","onPause","onResume"];function vw(e,t,n){e.animation[n]=t[n]!==Rx(t,n)?Ox(t[n],e.key):void 0}function bw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var xw=["onStart","onChange","onRest"],ww=1,Aw=class{constructor(e,t){this.id=ww++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];jv.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(fw(e)),this}start(e){let{queue:t}=this;return e?t=zv(e).map(fw):this.queue=[],this._flush?this._flush(this,t):(Ow(this,t),Sw(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Bv(zv(t),(t=>n[t].stop(!!e)))}else Zx(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(jv.und(e))this.start({pause:!0});else{const t=this.springs;Bv(zv(e),(e=>t[e].pause()))}return this}resume(e){if(jv.und(e))this.start({pause:!1});else{const t=this.springs;Bv(zv(e),(e=>t[e].resume()))}return this}each(e){Vv(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,o=this._changed.size>0;(r&&!this._started||o&&!this._started)&&(this._started=!0,Uv(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const i=!r&&this._started,a=o||i&&n.size?this.get():null;o&&t.size&&Uv(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),i&&(this._started=!1,Uv(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}vv.onFrame(this._onFrame)}};function Sw(e,t){return Promise.all(t.map((t=>Cw(e,t)))).then((t=>Xx(e,t)))}async function Cw(e,t,n){const{keys:r,to:o,from:i,loop:a,onRest:s,onResolve:l}=t,u=jv.obj(t.default)&&t.default;a&&(t.loop=!1),!1===o&&(t.to=null),!1===i&&(t.from=null);const c=jv.arr(o)||jv.fun(o)?o:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Bv(xw,(n=>{const r=t[n];if(jv.fun(r)){const o=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const i=o.get(r);i?(t||(i.finished=!1),n&&(i.cancelled=!0)):o.set(r,{value:null,finished:t||!1,cancelled:n||!1})},u&&(u[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Hv(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),h=!0===t.cancel||!0===Rx(t,"cancel");(c||h&&d.asyncId)&&p.push(Gx(++e._lastAsyncId,{props:t,state:d,actions:{pause:$v,resume:$v,start(t,n){h?(Zx(d,e._lastAsyncId),n(Qx(e))):(t.onRest=s,n(Jx(c,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const f=Xx(e,await Promise.all(p));if(a&&f.finished&&(!n||!f.noop)){const n=hw(t,a,o);if(n)return Ow(e,[n]),Cw(e,n,!0)}return l&&vv.batchedUpdates((()=>l(f,e,e.item))),f}function kw(e,t){const n={...e.springs};return t&&Bv(zv(t),(e=>{jv.und(e.keys)&&(e=fw(e)),jv.obj(e.to)||(e={...e,to:void 0}),Iw(n,e,(e=>Tw(e)))})),Ew(e,n),n}function Ew(e,t){Vv(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Vb(t,e))}))}function Tw(e,t){const n=new dw;return n.key=e,t&&Vb(n,t),n}function Iw(e,t,n){t.keys&&Bv(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Ow(e,t){Bv(t,(t=>{Iw(e.springs,t,(t=>Tw(t,e)))}))}var Rw,Nw,_w=e=>{let{children:t,...n}=e;const r=(0,O.useContext)(Pw),o=n.pause||!!r.pause,i=n.immediate||!!r.immediate;n=function(e,t){const[n]=(0,O.useState)((()=>({inputs:t,result:e()}))),r=(0,O.useRef)(),o=r.current;let i=o;i?Boolean(t&&i.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.inputs))||(i={inputs:t,result:e()}):i=n;return(0,O.useEffect)((()=>{r.current=i,o==n&&(n.inputs=n.result=void 0)}),[i]),i.result}((()=>({pause:o,immediate:i})),[o,i]);const{Provider:a}=Pw;return O.createElement(a,{value:n},t)},Pw=(Rw=_w,Nw={},Object.assign(Rw,O.createContext(Nw)),Rw.Provider._context=Rw,Rw.Consumer._context=Rw,Rw);_w.Provider=Pw.Provider,_w.Consumer=Pw.Consumer;var Mw=()=>{const e=[],t=function(t){rx(`${ex}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return Bv(e,((e,o)=>{if(jv.und(t))r.push(e.start());else{const i=n(t,e,o);i&&r.push(e.start(i))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Bv(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Bv(e,(e=>e.resume(...arguments))),this},t.set=function(t){Bv(e,((e,n)=>{const r=jv.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return Bv(e,((e,r)=>{if(jv.und(t))n.push(e.start());else{const o=this._getProps(t,e,r);o&&n.push(e.start(o))}})),n},t.stop=function(){return Bv(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Bv(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return jv.fun(e)?e(n,t):e};return t._getProps=n,t};function Dw(e,t,n){const r=jv.fun(t)&&t;r&&!n&&(n=[]);const o=(0,O.useMemo)((()=>r||3==arguments.length?Mw():void 0),[]),i=(0,O.useRef)(0),a=sx(),s=(0,O.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=kw(e,t);return i.current>0&&!s.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?Sw(e,t):new Promise((r=>{Ew(e,n),s.queue.push((()=>{r(Sw(e,t))})),a()}))}})),[]),l=(0,O.useRef)([...s.ctrls]),u=[],c=cx(e)||0;function d(e,n){for(let o=e;o<n;o++){const e=l.current[o]||(l.current[o]=new Aw(null,s.flush)),n=r?r(o,e):t[o];n&&(u[o]=mw(n))}}(0,O.useMemo)((()=>{Bv(l.current.slice(e,c),(e=>{Fx(e,o),e.stop(!0)})),l.current.length=e,d(c,e)}),[e]),(0,O.useMemo)((()=>{d(0,Math.min(c,e))}),n);const p=l.current.map(((e,t)=>kw(e,u[t]))),h=(0,O.useContext)(_w),f=cx(h),m=h!==f&&$x(h);ix((()=>{i.current++,s.ctrls=l.current;const{queue:e}=s;e.length&&(s.queue=[],Bv(e,(e=>e()))),Bv(l.current,((e,t)=>{o?.add(e),m&&e.start({default:h});const n=u[t];n&&(Bx(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),lx((()=>()=>{Bv(s.ctrls,(e=>e.stop(!0)))}));const g=p.map((e=>({...e})));return o?[g,o]:g}function Lw(e,t){const n=jv.fun(e),[[r],o]=Dw(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,o]:r}function $w(e,t,n){const r=jv.fun(t)&&t,{reset:o,sort:i,trail:a=0,expires:s=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=r?r():t,p=(0,O.useMemo)((()=>r||3==arguments.length?Mw():void 0),[]),h=zv(e),f=[],m=(0,O.useRef)(null),g=o?null:m.current;ix((()=>{m.current=f})),lx((()=>(Bv(f,(e=>{p?.add(e.ctrl),e.ctrl.ref=p})),()=>{Bv(m.current,(e=>{e.expired&&clearTimeout(e.expirationId),Fx(e.ctrl,p),e.ctrl.stop(!0)}))})));const y=function(e,t,n){let{key:r,keys:o=r}=t;if(null===o){const t=new Set;return e.map((e=>{const r=n&&n.find((n=>n.item===e&&"leave"!==n.phase&&!t.has(n)));return r?(t.add(r),r.key):jw++}))}return jv.und(o)?e:jv.fun(o)?e.map(o):zv(o)}(h,r?r():t,g),v=o&&m.current||[];ix((()=>Bv(v,(e=>{let{ctrl:t,item:n,key:r}=e;Fx(t,p),Tx(u,n,r)}))));const b=[];if(g&&Bv(g,((e,t)=>{e.expired?(clearTimeout(e.expirationId),v.push(e)):~(t=b[t]=y.indexOf(e.key))&&(f[t]=e)})),Bv(h,((e,t)=>{f[t]||(f[t]={key:y[t],item:e,phase:"mount",ctrl:new Aw},f[t].ctrl.item=e)})),b.length){let e=-1;const{leave:n}=r?r():t;Bv(b,((t,r)=>{const o=g[r];~t?(e=f.indexOf(o),f[e]={...o,item:h[t]}):n&&f.splice(++e,0,o)}))}jv.fun(i)&&f.sort(((e,t)=>i(e.item,t.item)));let x=-a;const w=sx(),A=_x(t),S=new Map,C=(0,O.useRef)(new Map),k=(0,O.useRef)(!1);Bv(f,((e,n)=>{const o=e.key,i=e.phase,u=r?r():t;let p,h;const f=Tx(u.delay||0,o);if("mount"==i)p=u.enter,h="enter";else{const e=y.indexOf(o)<0;if("leave"!=i)if(e)p=u.leave,h="leave";else{if(!(p=u.update))return;h="update"}else{if(e)return;p=u.enter,h="enter"}}if(p=Tx(p,e.item,n),p=jv.obj(p)?Dx(p):{to:p},!p.config){const t=d||A.config;p.config=Tx(t,e.item,n,h)}x+=a;const v={...A,delay:f+x,ref:c,immediate:u.immediate,reset:!1,...p};if("enter"==h&&jv.und(v.from)){const o=r?r():t,i=jv.und(o.initial)||g?o.from:o.initial;v.from=Tx(i,e.item,n)}const{onResolve:b}=v;v.onResolve=e=>{Tx(b,e);const t=m.current,n=t.find((e=>e.key===o));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){const e=t.every((e=>e.ctrl.idle));if("leave"==n.phase){const t=Tx(s,n.item);if(!1!==t){const r=!0===t?0:t;if(n.expired=!0,!e&&r>0)return void(r<=2147483647&&(n.expirationId=setTimeout(w,r)))}}e&&t.some((e=>e.expired))&&(C.current.delete(n),l&&(k.current=!0),w())}};const E=kw(e.ctrl,v);"leave"===h&&l?C.current.set(e,{phase:h,springs:E,payload:v}):S.set(e,{phase:h,springs:E,payload:v})}));const E=(0,O.useContext)(_w),T=cx(E),I=E!==T&&$x(E);ix((()=>{I&&Bv(f,(e=>{e.ctrl.start({default:E})}))}),[E]),Bv(S,((e,t)=>{if(C.current.size){const e=f.findIndex((e=>e.key===t.key));f.splice(e,1)}})),ix((()=>{Bv(C.current.size?C.current:S,((e,t)=>{let{phase:n,payload:r}=e;const{ctrl:o}=t;t.phase=n,p?.add(o),I&&"enter"==n&&o.start({default:E}),r&&(Bx(o,r.ref),!o.ref&&!p||k.current?(o.start(r),k.current&&(k.current=!1)):o.update(r))}))}),o?void 0:n);const R=e=>O.createElement(O.Fragment,null,f.map(((t,n)=>{const{springs:r}=S.get(t)||t.ctrl,o=e({...r},t.item,t,n);return o&&o.type?O.createElement(o.type,{...o.props,key:jv.str(t.key)||jv.num(t.key)?t.key:t.ctrl.id,ref:o.ref}):o})));return p?[R,p]:R}var jw=1;var Fw=class extends ow{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=kb(...t);const n=this._get(),r=Ax(n);hx(this,r.create(n))}advance(e){const t=this._get();Fv(t,this.get())||(px(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Vw(this._active)&&zw(this)}_get(){const e=jv.arr(this.source)?this.source.map(Lb):zv(Lb(this.source));return this.calc(...e)}_start(){this.idle&&!Vw(this._active)&&(this.idle=!1,Bv(fx(this),(e=>{e.done=!1})),Lv.skipAnimation?(vv.batchedUpdates((()=>this.advance())),zw(this)):nb.start(this))}_attach(){let e=1;Bv(zv(this.source),(t=>{Db(t)&&Vb(t,this),nw(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Bv(zv(this.source),(e=>{Db(e)&&zb(e,this)})),this._active.clear(),zw(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=zv(this.source).reduce(((e,t)=>Math.max(e,(nw(t)?t.priority:0)+1)),0))}};function Bw(e){return!1!==e.idle}function Vw(e){return!e.size||Array.from(e).every(Bw)}function zw(e){e.idle||(e.idle=!0,Bv(fx(e),(e=>{e.done=!0})),jb(e,{type:"idle",parent:e}))}var Uw=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Fw(e,n)};Lv.assign({createStringInterpolator:Zb,to:(e,t)=>new Fw(e,t)});nb.advance;var Ww=/^--/;function qw(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Ww.test(e)||Gw.hasOwnProperty(e)&&Gw[e]?(""+t).trim():t+"px"}var Hw={};var Gw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","Ms","Moz","O"];Gw=Object.keys(Gw).reduce(((e,t)=>(Xw.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Gw);var Kw=/^(matrix|translate|scale|rotate|skew)/,Yw=/^(translate)/,Qw=/^(rotate|skew)/,Jw=(e,t)=>jv.num(e)&&0!==e?e+t:e,Zw=(e,t)=>jv.arr(e)?e.every((e=>Zw(e,t))):jv.num(e)?e===t:parseFloat(e)===t,eA=class extends bx{constructor(e){let{x:t,y:n,z:r,...o}=e;const i=[],a=[];(t||n||r)&&(i.push([t||0,n||0,r||0]),a.push((e=>[`translate3d(${e.map((e=>Jw(e,"px"))).join(",")})`,Zw(e,0)]))),Vv(o,((e,t)=>{if("transform"===t)i.push([e||""]),a.push((e=>[e,""===e]));else if(Kw.test(t)){if(delete o[t],jv.und(e))return;const n=Yw.test(t)?"px":Qw.test(t)?"deg":"";i.push(zv(e)),a.push("rotate3d"===t?e=>{let[t,r,o,i]=e;return[`rotate3d(${t},${r},${o},${Jw(i,n)})`,Zw(i,0)]}:e=>[`${t}(${e.map((e=>Jw(e,n))).join(",")})`,Zw(e,t.startsWith("scale")?1:0)])}})),i.length&&(o.transform=new tA(i,a)),super(o)}},tA=class extends Fb{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Bv(this.inputs,((n,r)=>{const o=Lb(n[0]),[i,a]=this.transforms[r](jv.arr(o)?o:n.map(Lb));e+=" "+i,t=t&&a})),t?"none":e}observerAdded(e){1==e&&Bv(this.inputs,(e=>Bv(e,(e=>Db(e)&&Vb(e,this)))))}observerRemoved(e){0==e&&Bv(this.inputs,(e=>Bv(e,(e=>Db(e)&&zb(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),jb(this,e)}};Lv.assign({batchedUpdates:We.unstable_batchedUpdates,createStringInterpolator:Zb,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var nA=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new bx(e),getComponentProps:r=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=e=>{const t=Ex(e)||"Anonymous";return(e=jv.str(e)?i[e]||(i[e]=Sx(e,o)):e[kx]||(e[kx]=Sx(e,o))).displayName=`Animated(${t})`,e};return Vv(e,((t,n)=>{jv.arr(e)&&(n=Ex(t)),i[n]=i(t)})),{animated:i}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:o,scrollTop:i,scrollLeft:a,viewBox:s,...l}=t,u=Object.values(l),c=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:Hw[t]||(Hw[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(const d in r)if(r.hasOwnProperty(d)){const t=qw(d,r[d]);Ww.test(d)?e.style.setProperty(d,t):e.style[d]=t}c.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==i&&(e.scrollTop=i),void 0!==a&&(e.scrollLeft=a),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new eA(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),rA=nA.animated;function oA(){return oA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oA.apply(this,arguments)}var iA={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},aA=function(e,t){return"translate("+e+"px, "+t+"px)"},sA=(0,O.memo)((function(e){var t,n=e.position,r=e.anchor,o=e.children,i=XI(),a=MI(),s=a.animate,l=a.config,u=UI(),c=u[0],d=u[1],p=(0,O.useRef)(!1),h=void 0,f=!1,m=d.width>0&&d.height>0,g=Math.round(n[0]),y=Math.round(n[1]);m&&("top"===r?(g-=d.width/2,y-=d.height+14):"right"===r?(g+=14,y-=d.height/2):"bottom"===r?(g-=d.width/2,y+=14):"left"===r?(g-=d.width+14,y-=d.height/2):"center"===r&&(g-=d.width/2,y-=d.height/2),h={transform:aA(g,y)},p.current||(f=!0),p.current=[g,y]);var v=Lw({to:h,config:l,immediate:!s||f}),b=oA({},iA,i.tooltip.wrapper,{transform:null!=(t=v.transform)?t:aA(g,y),opacity:v.transform?1:0});return(0,Ye.jsx)(rA.div,{ref:c,style:b,children:o})}));sA.displayName="TooltipWrapper";var lA=(0,O.memo)((function(e){var t=e.size,n=void 0===t?12:t,r=e.color,o=e.style;return(0,Ye.jsx)("span",{style:oA({display:"block",width:n,height:n,background:r},void 0===o?{}:o)})})),uA=(0,O.memo)((function(e){var t,n=e.id,r=e.value,o=e.format,i=e.enableChip,a=void 0!==i&&i,s=e.color,l=e.renderContent,u=XI(),c=WI(o);if("function"==typeof l)t=l();else{var d=r;void 0!==c&&void 0!==d&&(d=c(d)),t=(0,Ye.jsxs)("div",{style:u.tooltip.basic,children:[a&&(0,Ye.jsx)(lA,{color:s,style:u.tooltip.chip}),void 0!==d?(0,Ye.jsxs)("span",{children:[n,": ",(0,Ye.jsx)("strong",{children:""+d})]}):n]})}return(0,Ye.jsx)("div",{style:u.tooltip.container,children:t})})),cA={width:"100%",borderCollapse:"collapse"};(0,O.memo)((function(e){var t,n=e.title,r=e.rows,o=void 0===r?[]:r,i=e.renderContent,a=XI();return o.length?(t="function"==typeof i?i():(0,Ye.jsxs)("div",{children:[n&&n,(0,Ye.jsx)("table",{style:oA({},cA,a.tooltip.table),children:(0,Ye.jsx)("tbody",{children:o.map((function(e,t){return(0,Ye.jsx)("tr",{children:e.map((function(e,t){return(0,Ye.jsx)("td",{style:a.tooltip.tableCell,children:e},t)}))},t)}))})})]}),(0,Ye.jsx)("div",{style:a.tooltip.container,children:t})):null})).displayName="TableTooltip";var dA=(0,O.memo)((function(e){var t=e.x0,n=e.x1,r=e.y0,o=e.y1,i=XI(),a=MI(),s=a.animate,l=a.config,u=(0,O.useMemo)((function(){return oA({},i.crosshair.line,{pointerEvents:"none"})}),[i.crosshair.line]),c=Lw({x1:t,x2:n,y1:r,y2:o,config:l,immediate:!s});return(0,Ye.jsx)(rA.line,oA({},c,{fill:"none",style:u}))}));dA.displayName="CrosshairLine",(0,O.memo)((function(e){var t,n,r=e.width,o=e.height,i=e.type,a=e.x,s=e.y;return"cross"===i?(t={x0:a,x1:a,y0:0,y1:o},n={x0:0,x1:r,y0:s,y1:s}):"top-left"===i?(t={x0:a,x1:a,y0:0,y1:s},n={x0:0,x1:a,y0:s,y1:s}):"top"===i?t={x0:a,x1:a,y0:0,y1:s}:"top-right"===i?(t={x0:a,x1:a,y0:0,y1:s},n={x0:a,x1:r,y0:s,y1:s}):"right"===i?n={x0:a,x1:r,y0:s,y1:s}:"bottom-right"===i?(t={x0:a,x1:a,y0:s,y1:o},n={x0:a,x1:r,y0:s,y1:s}):"bottom"===i?t={x0:a,x1:a,y0:s,y1:o}:"bottom-left"===i?(t={x0:a,x1:a,y0:s,y1:o},n={x0:0,x1:a,y0:s,y1:s}):"left"===i?n={x0:0,x1:a,y0:s,y1:s}:"x"===i?t={x0:a,x1:a,y0:0,y1:o}:"y"===i&&(n={x0:0,x1:r,y0:s,y1:s}),(0,Ye.jsxs)(Ye.Fragment,{children:[t&&(0,Ye.jsx)(dA,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&(0,Ye.jsx)(dA,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})})).displayName="Crosshair";var pA=(0,O.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),hA={isVisible:!1,position:[null,null],content:null,anchor:null},fA=(0,O.createContext)(hA),mA=function(e){var t=(0,O.useState)(hA),n=t[0],r=t[1],o=(0,O.useCallback)((function(e,t,n){var o=t[0],i=t[1];void 0===n&&(n="top"),r({isVisible:!0,position:[o,i],anchor:n,content:e})}),[r]),i=(0,O.useCallback)((function(t,n,o){void 0===o&&(o="top");var i=e.current.getBoundingClientRect(),a=e.current.offsetWidth,s=a===i.width?1:a/i.width,l="touches"in n?n.touches[0]:n,u=l.clientX,c=l.clientY,d=(u-i.left)*s,p=(c-i.top)*s;"left"!==o&&"right"!==o||(o=d<i.width/2?"right":"left"),r({isVisible:!0,position:[d,p],anchor:o,content:t})}),[e,r]),a=(0,O.useCallback)((function(){r(hA)}),[r]);return{actions:(0,O.useMemo)((function(){return{showTooltipAt:o,showTooltipFromEvent:i,hideTooltip:a}}),[o,i,a]),state:n}},gA=function(){var e=(0,O.useContext)(pA);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},yA=function(){var e=function(){var e=(0,O.useContext)(fA);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e}();return function(e){return e.isVisible}(e)?(0,Ye.jsx)(sA,{position:e.position,anchor:e.anchor,children:e.content}):null},vA=function(e){var t=e.container,n=e.children,r=mA(t),o=r.actions,i=r.state;return(0,Ye.jsx)(pA.Provider,{value:o,children:(0,Ye.jsx)(fA.Provider,{value:i,children:n})})},bA=n(34677),xA=n.n(bA),wA=n(33097),AA=n.n(wA),SA=n(69613),CA=n.n(SA);function kA(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var EA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TA=new RegExp(EA.source,"g");function IA(e,t){var n,r,o,i=EA.lastIndex=TA.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=EA.exec(e))&&(r=TA.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:kA(n,r)})),i=TA.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}var OA=n(90620),RA=n.n(OA),NA=n(74065),_A=n.n(NA);n(54052);class PA extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$A;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(MA(this,e))}has(e){return super.has(MA(this,e))}set(e,t){return super.set(DA(this,e),t)}delete(e){return super.delete(LA(this,e))}}Set;function MA(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function DA(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}function LA(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}function $A(e){return null!==e&&"object"===typeof e?e.valueOf():e}function jA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const FA=Symbol("implicit");function BA(){var e=new PA,t=[],n=[],r=FA;function o(o){let i=e.get(o);if(void 0===i){if(r!==FA)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new PA;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return BA(t,n).unknown(r)},jA.apply(o,arguments),o}function VA(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function zA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function UA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function WA(){}var qA=.7,HA=1/qA,GA="\\s*([+-]?\\d+)\\s*",XA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YA=/^#([0-9a-f]{3,8})$/,QA=new RegExp(`^rgb\\(${GA},${GA},${GA}\\)$`),JA=new RegExp(`^rgb\\(${KA},${KA},${KA}\\)$`),ZA=new RegExp(`^rgba\\(${GA},${GA},${GA},${XA}\\)$`),eS=new RegExp(`^rgba\\(${KA},${KA},${KA},${XA}\\)$`),tS=new RegExp(`^hsl\\(${XA},${KA},${KA}\\)$`),nS=new RegExp(`^hsla\\(${XA},${KA},${KA},${XA}\\)$`),rS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oS(){return this.rgb().formatHex()}function iS(){return this.rgb().formatRgb()}function aS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sS(t):3===n?new dS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?lS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?lS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=QA.exec(e))?new dS(t[1],t[2],t[3],1):(t=JA.exec(e))?new dS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ZA.exec(e))?lS(t[1],t[2],t[3],t[4]):(t=eS.exec(e))?lS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tS.exec(e))?yS(t[1],t[2]/100,t[3]/100,1):(t=nS.exec(e))?yS(t[1],t[2]/100,t[3]/100,t[4]):rS.hasOwnProperty(e)?sS(rS[e]):"transparent"===e?new dS(NaN,NaN,NaN,0):null}function sS(e){return new dS(e>>16&255,e>>8&255,255&e,1)}function lS(e,t,n,r){return r<=0&&(e=t=n=NaN),new dS(e,t,n,r)}function uS(e){return e instanceof WA||(e=aS(e)),e?new dS((e=e.rgb()).r,e.g,e.b,e.opacity):new dS}function cS(e,t,n,r){return 1===arguments.length?uS(e):new dS(e,t,n,null==r?1:r)}function dS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pS(){return`#${gS(this.r)}${gS(this.g)}${gS(this.b)}`}function hS(){const e=fS(this.opacity);return`${1===e?"rgb(":"rgba("}${mS(this.r)}, ${mS(this.g)}, ${mS(this.b)}${1===e?")":`, ${e})`}`}function fS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mS(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gS(e){return((e=mS(e))<16?"0":"")+e.toString(16)}function yS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bS(e,t,n,r)}function vS(e){if(e instanceof bS)return new bS(e.h,e.s,e.l,e.opacity);if(e instanceof WA||(e=aS(e)),!e)return new bS;if(e instanceof bS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new bS(a,s,l,e.opacity)}function bS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function xS(e){return(e=(e||0)%360)<0?e+360:e}function wS(e){return Math.max(0,Math.min(1,e||0))}function AS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function SS(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}zA(WA,aS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oS,formatHex:oS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return vS(this).formatHsl()},formatRgb:iS,toString:iS}),zA(dS,cS,UA(WA,{brighter(e){return e=null==e?HA:Math.pow(HA,e),new dS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qA:Math.pow(qA,e),new dS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dS(mS(this.r),mS(this.g),mS(this.b),fS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pS,formatHex:pS,formatHex8:function(){return`#${gS(this.r)}${gS(this.g)}${gS(this.b)}${gS(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:hS,toString:hS})),zA(bS,(function(e,t,n,r){return 1===arguments.length?vS(e):new bS(e,t,n,null==r?1:r)}),UA(WA,{brighter(e){return e=null==e?HA:Math.pow(HA,e),new bS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qA:Math.pow(qA,e),new bS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new dS(AS(e>=240?e-240:e+120,o,r),AS(e,o,r),AS(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new bS(xS(this.h),wS(this.s),wS(this.l),fS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fS(this.opacity);return`${1===e?"hsl(":"hsla("}${xS(this.h)}, ${100*wS(this.s)}%, ${100*wS(this.l)}%${1===e?")":`, ${e})`}`}}));const CS=e=>()=>e;function kS(e,t){return function(n){return e+n*t}}function ES(e){return 1===(e=+e)?TS:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):CS(isNaN(t)?n:t)}}function TS(e,t){var n=t-e;return n?kS(e,n):CS(isNaN(e)?t:e)}const IS=function e(t){var n=ES(t);function r(e,t){var r=n((e=cS(e)).r,(t=cS(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=TS(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function OS(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=cS(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}var RS=OS((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return SS((n-r/t)*t,a,o,i,s)}}));OS((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return SS((n-r/t)*t,o,i,a,s)}}));const NS=e=>RS(e[e.length-1]);var _S=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(VA);const PS=NS(_S);var MS=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(VA);const DS=NS(MS);var LS=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(VA);const $S=NS(LS);var jS=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(VA);const FS=NS(jS);var BS=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(VA);const VS=NS(BS);var zS=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(VA);const US=NS(zS);var WS=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(VA);const qS=NS(WS);var HS=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(VA);const GS=NS(HS);var XS=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(VA);const KS=NS(XS);var YS=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(VA);const QS=NS(YS);var JS=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(VA);const ZS=NS(JS);var eC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(VA);const tC=NS(eC);var nC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(VA);const rC=NS(nC);var oC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(VA);const iC=NS(oC);var aC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(VA);const sC=NS(aC);var lC=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(VA);const uC=NS(lC);var cC=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(VA);const dC=NS(cC);var pC=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(VA);const hC=NS(pC);var fC=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(VA);const mC=NS(fC);var gC=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(VA);const yC=NS(gC);var vC=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(VA);const bC=NS(vC);var xC=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(VA);const wC=NS(xC);var AC=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(VA);const SC=NS(AC);var CC=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(VA);const kC=NS(CC);var EC=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(VA);const TC=NS(EC);var IC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(VA);const OC=NS(IC);var RC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(VA);const NC=NS(RC),_C=VA("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),PC=VA("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),MC=VA("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),DC=VA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),LC=VA("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),$C=VA("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),jC=VA("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),FC=VA("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),BC=VA("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function VC(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const zC=VC(VA("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var UC=VC(VA("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),WC=VC(VA("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),qC=VC(VA("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const HC=Math.PI/180,GC=180/Math.PI;var XC=-.14861,KC=1.78277,YC=-.29227,QC=-.90649,JC=1.97294,ZC=JC*QC,ek=JC*KC,tk=KC*YC-QC*XC;function nk(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof rk)return new rk(e.h,e.s,e.l,e.opacity);e instanceof dS||(e=uS(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(tk*r+ZC*t-ek*n)/(tk+ZC-ek),i=r-o,a=(JC*(n-o)-YC*i)/QC,s=Math.sqrt(a*a+i*i)/(JC*o*(1-o)),l=s?Math.atan2(a,i)*GC-120:NaN;return new rk(l<0?l+360:l,s,o,e.opacity)}(e):new rk(e,t,n,null==r?1:r)}function rk(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ok(e){return function t(n){function r(t,r){var o=e((t=nk(t)).h,(r=nk(r)).h),i=TS(t.s,r.s),a=TS(t.l,r.l),s=TS(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}zA(rk,nk,UA(WA,{brighter(e){return e=null==e?HA:Math.pow(HA,e),new rk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qA:Math.pow(qA,e),new rk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*HC,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new dS(255*(t+n*(XC*r+KC*o)),255*(t+n*(YC*r+QC*o)),255*(t+n*(JC*r)),this.opacity)}}));ok((function(e,t){var n=t-e;return n?kS(e,n>180||n<-180?n-360*Math.round(n/360):n):CS(isNaN(e)?t:e)}));var ik=ok(TS),ak=ik(nk(-100,.75,.35),nk(80,1.5,.8)),sk=ik(nk(260,.75,.35),nk(80,1.5,.8)),lk=nk();function uk(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return lk.h=360*e-100,lk.s=1.5-1.5*t,lk.l=.8-.9*t,lk+""}const ck=ik(nk(300,.5,0),nk(-240,.5,1));var dk=cS(),pk=Math.PI/3,hk=2*Math.PI/3;function fk(e){var t;return e=(.5-e)*Math.PI,dk.r=255*(t=Math.sin(e))*t,dk.g=255*(t=Math.sin(e+pk))*t,dk.b=255*(t=Math.sin(e+hk))*t,dk+""}var mk=n(11629),gk=n.n(mk),yk=n(16757),vk=n.n(yk);function bk(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function xk(e){this._context=e}function wk(){}function Ak(e){this._context=e}function Sk(e){this._context=e}function Ck(e,t){this._basis=new xk(e),this._beta=t}xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ak.prototype={areaStart:wk,areaEnd:wk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ck.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],i=t[0],a=e[n]-o,s=t[n]-i,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*a),this._beta*t[l]+(1-this._beta)*(i+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const kk=function e(t){function n(e){return 1===t?new xk(e):new Ck(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Ek(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Tk(e,t){this._context=e,this._k=(1-t)/6}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ek(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ek(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ik=function e(t){function n(e){return new Tk(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ok(e,t){this._context=e,this._k=(1-t)/6}Ok.prototype={areaStart:wk,areaEnd:wk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ek(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Rk=function e(t){function n(e){return new Ok(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Nk(e,t){this._context=e,this._k=(1-t)/6}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ek(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _k=function e(t){function n(e){return new Nk(e,t)}return n.tension=function(t){return e(+t)},n}(0);Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI;function Pk(e,t,n){var r=e._x1,o=e._y1,i=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,o,i,a,e._x2,e._y2)}function Mk(e,t){this._context=e,this._alpha=t}Mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Pk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Dk=function e(t){function n(e){return t?new Mk(e,t):new Tk(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Lk(e,t){this._context=e,this._alpha=t}Lk.prototype={areaStart:wk,areaEnd:wk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $k=function e(t){function n(e){return t?new Lk(e,t):new Ok(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function jk(e,t){this._context=e,this._alpha=t}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fk=function e(t){function n(e){return t?new jk(e,t):new Nk(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Bk(e){this._context=e}function Vk(e){this._context=e}function zk(e){return e<0?-1:1}function Uk(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(zk(i)+zk(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function Wk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qk(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function Hk(e){this._context=e}function Gk(e){this._context=new Xk(e)}function Xk(e){this._context=e}function Kk(e){this._context=e}function Yk(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function Qk(e,t){this._context=e,this._t=t}function Jk(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Zk(e){var t=e.map(eE);return Jk(e).sort((function(e,n){return t[e]-t[n]}))}function eE(e){for(var t,n=0,r=-1,o=e.length;++r<o;)(t=+e[r][1])&&(n+=t);return n}function tE(e){for(var t,n=-1,r=0,o=e.length,i=-1/0;++n<o;)(t=+e[n][1])>i&&(i=t,r=n);return r}function nE(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function rE(e,t){if((s=e.length)>0)for(var n,r,o,i,a,s,l=0,u=e[t[0]].length;l<u;++l)for(i=a=0,n=0;n<s;++n)(o=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=i,r[1]=i+=o):o<0?(r[1]=a,r[0]=a+=o):(r[0]=0,r[1]=o)}function oE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function iE(e){return(e=oE(Math.abs(e)))?e[1]:NaN}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Vk.prototype={areaStart:wk,areaEnd:wk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qk(this,this._t0,Wk(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qk(this,Wk(this,n=Uk(this,e,t)),n);break;default:qk(this,this._t0,n=Uk(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Gk.prototype=Object.create(Hk.prototype)).point=function(e,t){Hk.prototype.point.call(this,t,e)},Xk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Yk(e),o=Yk(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var aE,sE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lE(e){if(!(t=sE.exec(e)))throw new Error("invalid format: "+e);var t;return new uE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function uE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cE(e,t){var n=oE(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}lE.prototype=uE.prototype,uE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const dE={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return cE(100*e,t)},r:cE,s:function(e,t){var n=oE(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(aE=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+oE(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function pE(e){return e}var hE,fE,mE,gE=Array.prototype.map,yE=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function vE(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?pE:(t=gE.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?pE:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(gE.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=lE(e)).fill,n=e.align,d=e.sign,p=e.symbol,h=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):dE[v]||(void 0===g&&(g=12),y=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",w=dE[v],A=/[defgprs%]/.test(v);function S(e){var o,i,l,p=b,S=x;if("c"===v)S=w(e)+S,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==d&&(C=!1),p=(C?"("===d?d:u:"-"===d||"("===d?"":d)+p,S=("s"===v?yE[8+aE/3]:"")+S+(C&&"("===d?")":""),A)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){S=(46===l?a+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!h&&(e=r(e,1/0));var k=p.length+e.length+S.length,E=k<f?new Array(f-k+1).join(t):"";switch(m&&h&&(e=r(E+e,E.length?f-S.length:1/0),E=""),n){case"<":e=p+e+S+E;break;case"=":e=p+E+e+S;break;case"^":e=E.slice(0,k=E.length>>1)+p+e+S+E.slice(k);break;default:e=E+p+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=lE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(iE(t)/3))),o=Math.pow(10,-r),i=yE[8+r/3];return function(e){return n(o*e)+i}}}}hE=vE({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),fE=hE.format,mE=hE.formatPrefix;var bE=new Date,xE=new Date;function wE(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return wE((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return bE.setTime(+t),xE.setTime(+r),e(bE),e(xE),Math.floor(n(bE,xE))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}const AE=6e4,SE=864e5,CE=6048e5;function kE(e){return wE((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/CE}))}var EE=kE(0),TE=kE(1),IE=kE(2),OE=kE(3),RE=kE(4),NE=kE(5),_E=kE(6),PE=(EE.range,TE.range,IE.range,OE.range,RE.range,NE.range,_E.range,wE((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/SE}),(function(e){return e.getUTCDate()-1})));const ME=PE;PE.range;function DE(e){return wE((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AE)/CE}))}var LE=DE(0),$E=DE(1),jE=DE(2),FE=DE(3),BE=DE(4),VE=DE(5),zE=DE(6),UE=(LE.range,$E.range,jE.range,FE.range,BE.range,VE.range,zE.range,wE((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AE)/SE),(e=>e.getDate()-1)));const WE=UE;UE.range;var qE=wE((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));qE.every=function(e){return isFinite(e=Math.floor(e))&&e>0?wE((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const HE=qE;qE.range;var GE=wE((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));GE.every=function(e){return isFinite(e=Math.floor(e))&&e>0?wE((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const XE=GE;GE.range;function KE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function QE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var JE,ZE,eT,tT,nT,rT={"-":"",_:" ",0:"0"},oT=/^\s*\d+/,iT=/^%/,aT=/[\\^$*+?|[\]().{}]/g;function sT(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function lT(e){return e.replace(aT,"\\$&")}function uT(e){return new RegExp("^(?:"+e.map(lT).join("|")+")","i")}function cT(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function dT(e,t,n){var r=oT.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pT(e,t,n){var r=oT.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function mT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gT(e,t,n){var r=oT.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vT(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bT(e,t,n){var r=oT.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function xT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AT(e,t,n){var r=oT.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ST(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function CT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kT(e,t,n){var r=oT.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ET(e,t,n){var r=oT.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TT(e,t,n){var r=oT.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IT(e,t,n){var r=iT.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function OT(e,t,n){var r=oT.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function RT(e,t,n){var r=oT.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NT(e,t){return sT(e.getDate(),t,2)}function _T(e,t){return sT(e.getHours(),t,2)}function PT(e,t){return sT(e.getHours()%12||12,t,2)}function MT(e,t){return sT(1+WE.count(HE(e),e),t,3)}function DT(e,t){return sT(e.getMilliseconds(),t,3)}function LT(e,t){return DT(e,t)+"000"}function $T(e,t){return sT(e.getMonth()+1,t,2)}function jT(e,t){return sT(e.getMinutes(),t,2)}function FT(e,t){return sT(e.getSeconds(),t,2)}function BT(e){var t=e.getDay();return 0===t?7:t}function VT(e,t){return sT(LE.count(HE(e)-1,e),t,2)}function zT(e){var t=e.getDay();return t>=4||0===t?BE(e):BE.ceil(e)}function UT(e,t){return e=zT(e),sT(BE.count(HE(e),e)+(4===HE(e).getDay()),t,2)}function WT(e){return e.getDay()}function qT(e,t){return sT($E.count(HE(e)-1,e),t,2)}function HT(e,t){return sT(e.getFullYear()%100,t,2)}function GT(e,t){return sT((e=zT(e)).getFullYear()%100,t,2)}function XT(e,t){return sT(e.getFullYear()%1e4,t,4)}function KT(e,t){var n=e.getDay();return sT((e=n>=4||0===n?BE(e):BE.ceil(e)).getFullYear()%1e4,t,4)}function YT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sT(t/60|0,"0",2)+sT(t%60,"0",2)}function QT(e,t){return sT(e.getUTCDate(),t,2)}function JT(e,t){return sT(e.getUTCHours(),t,2)}function ZT(e,t){return sT(e.getUTCHours()%12||12,t,2)}function eI(e,t){return sT(1+ME.count(XE(e),e),t,3)}function tI(e,t){return sT(e.getUTCMilliseconds(),t,3)}function nI(e,t){return tI(e,t)+"000"}function rI(e,t){return sT(e.getUTCMonth()+1,t,2)}function oI(e,t){return sT(e.getUTCMinutes(),t,2)}function iI(e,t){return sT(e.getUTCSeconds(),t,2)}function aI(e){var t=e.getUTCDay();return 0===t?7:t}function sI(e,t){return sT(EE.count(XE(e)-1,e),t,2)}function lI(e){var t=e.getUTCDay();return t>=4||0===t?RE(e):RE.ceil(e)}function uI(e,t){return e=lI(e),sT(RE.count(XE(e),e)+(4===XE(e).getUTCDay()),t,2)}function cI(e){return e.getUTCDay()}function dI(e,t){return sT(TE.count(XE(e)-1,e),t,2)}function pI(e,t){return sT(e.getUTCFullYear()%100,t,2)}function hI(e,t){return sT((e=lI(e)).getUTCFullYear()%100,t,2)}function fI(e,t){return sT(e.getUTCFullYear()%1e4,t,4)}function mI(e,t){var n=e.getUTCDay();return sT((e=n>=4||0===n?RE(e):RE.ceil(e)).getUTCFullYear()%1e4,t,4)}function gI(){return"+0000"}function yI(){return"%"}function vI(e){return+e}function bI(e){return Math.floor(+e/1e3)}!function(e){JE=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=uT(o),c=cT(o),d=uT(i),p=cT(i),h=uT(a),f=cT(a),m=uT(s),g=cT(s),y=uT(l),v=cT(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:NT,e:NT,f:LT,g:GT,G:KT,H:_T,I:PT,j:MT,L:DT,m:$T,M:jT,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:vI,s:bI,S:FT,u:BT,U:VT,V:UT,w:WT,W:qT,x:null,X:null,y:HT,Y:XT,Z:YT,"%":yI},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:QT,e:QT,f:nI,g:hI,G:mI,H:JT,I:ZT,j:eI,L:tI,m:rI,M:oI,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:vI,s:bI,S:iI,u:aI,U:sI,V:uI,w:cI,W:dI,x:null,X:null,y:pI,Y:fI,Z:gI,"%":yI},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:wT,e:wT,f:TT,g:yT,G:gT,H:ST,I:ST,j:AT,L:ET,m:xT,M:CT,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:bT,Q:OT,s:RT,S:kT,u:pT,U:hT,V:fT,w:dT,W:mT,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:yT,Y:gT,Z:vT,"%":IT};function A(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=rT[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,o,i=QE(1900,void 0,1);if(C(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=YE(QE(i.y,0,1))).getUTCDay(),r=o>4||0===o?TE.ceil(r):TE(r),r=ME.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=KE(QE(i.y,0,1))).getDay(),r=o>4||0===o?$E.ceil(r):$E(r),r=WE.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?YE(QE(i.y,0,1)).getUTCDay():KE(QE(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,YE(i)):KE(i)}}function C(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in rT?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=A(n,b),b.X=A(r,b),b.c=A(t,b),x.x=A(n,x),x.X=A(r,x),x.c=A(t,x),{format:function(e){var t=A(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=A(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),ZE=JE.format,eT=JE.parse,tT=JE.utcFormat,nT=JE.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xI=n(12322),wI=n.n(xI),AI=n(22616),SI=n.n(AI),CI=n(19853),kI=n.n(CI),EI={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function TI(){return TI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TI.apply(this,arguments)}function II(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var OI=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],RI=function(e,t){var n=xA()({},e,t);return OI.forEach((function(e){CA()(n,e,function(e,t){return TI({},t,e)}(AA()(n,e),n.text))})),n},NI=(0,O.createContext)(),_I=function(e){var t=e.children,n=e.animate,r=void 0===n||n,o=e.config,i=void 0===o?"default":o,a=(0,O.useMemo)((function(){var e=RA()(i)?Vx[i]:i;return{animate:r,config:e}}),[r,i]);return(0,Ye.jsx)(NI.Provider,{value:a,children:t})},PI={animate:gv().bool,motionConfig:gv().oneOfType([gv().oneOf(Object.keys(Vx)),gv().shape({mass:gv().number,tension:gv().number,friction:gv().number,clamp:gv().bool,precision:gv().number,velocity:gv().number,duration:gv().number,easing:gv().func})])};_I.propTypes={children:gv().node.isRequired,animate:PI.animate,config:PI.motionConfig};var MI=function(){return(0,O.useContext)(NI)},DI={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:_A()(_S),PRGn:_A()(MS),PiYG:_A()(LS),PuOr:_A()(jS),RdBu:_A()(BS),RdGy:_A()(zS),RdYlBu:_A()(WS),RdYlGn:_A()(HS),spectral:_A()(XS),blues:_A()(YS),greens:_A()(JS),greys:_A()(eC),oranges:_A()(nC),purples:_A()(oC),reds:_A()(aC),BuGn:_A()(lC),BuPu:_A()(cC),GnBu:_A()(pC),OrRd:_A()(fC),PuBuGn:_A()(gC),PuBu:_A()(vC),PuRd:_A()(xC),RdPu:_A()(AC),YlGnBu:_A()(CC),YlGn:_A()(EC),YlOrBr:_A()(IC),YlOrRd:_A()(RC)},LI=Object.keys(DI),$I=(_A()(_S),_A()(MS),_A()(LS),_A()(jS),_A()(BS),_A()(zS),_A()(WS),_A()(HS),_A()(XS),_A()(YS),_A()(JS),_A()(eC),_A()(nC),_A()(oC),_A()(aC),_A()(lC),_A()(cC),_A()(pC),_A()(fC),_A()(gC),_A()(vC),_A()(xC),_A()(AC),_A()(CC),_A()(EC),_A()(IC),_A()(RC),gv().oneOfType([gv().oneOf(LI),gv().func,gv().arrayOf(gv().string)]),{basis:function(e){return new xk(e)},basisClosed:function(e){return new Ak(e)},basisOpen:function(e){return new Sk(e)},bundle:kk,cardinal:Ik,cardinalClosed:Rk,cardinalOpen:_k,catmullRom:Dk,catmullRomClosed:$k,catmullRomOpen:Fk,linear:function(e){return new Bk(e)},linearClosed:function(e){return new Vk(e)},monotoneX:function(e){return new Hk(e)},monotoneY:function(e){return new Gk(e)},natural:function(e){return new Kk(e)},step:function(e){return new Qk(e,.5)},stepAfter:function(e){return new Qk(e,1)},stepBefore:function(e){return new Qk(e,0)}}),jI=Object.keys($I),FI=(jI.filter((function(e){return e.endsWith("Closed")})),vk()(jI,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),vk()(jI,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),{ascending:Zk,descending:function(e){return Zk(e).reverse()},insideOut:function(e){var t,n,r=e.length,o=e.map(eE),i=function(e){var t=e.map(tE);return Jk(e).sort((function(e,n){return t[e]-t[n]}))}(e),a=0,s=0,l=[],u=[];for(t=0;t<r;++t)n=i[t],a<s?(a+=o[n],l.push(n)):(s+=o[n],u.push(n));return u.reverse().concat(l)},none:Jk,reverse:function(e){return Jk(e).reverse()}}),BI=(Object.keys(FI),{expand:function(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}nE(e,t)}},diverging:rE,none:nE,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}nE(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[a][1]||0,p=(d-(c[a-1][1]||0))/2,h=0;h<s;++h){var f=e[t[h]];p+=(f[a][1]||0)-(f[a-1][1]||0)}l+=d,u+=p*d}n[a-1][1]+=n[a-1][0]=i,l&&(i-=u/l)}n[a-1][1]+=n[a-1][0]=i,nE(e,t)}}}),VI=(Object.keys(BI),gv().shape({top:gv().number,right:gv().number,bottom:gv().number,left:gv().number}).isRequired,gv().oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),BA(BC),{top:0,right:0,bottom:0,left:0}),zI=function(e,t,n){return void 0===n&&(n={}),(0,O.useMemo)((function(){var r=TI({},VI,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,n.top,n.right,n.bottom,n.left])},UI=function(){var e=(0,O.useRef)(null),t=(0,O.useState)({left:0,top:0,width:0,height:0}),n=t[0],r=t[1],o=(0,O.useState)((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e[0];return r(t.contentRect)}))}))[0];return(0,O.useEffect)((function(){return e.current&&null!==o&&o.observe(e.current),function(){null!==o&&o.disconnect()}}),[]),[e,n]},WI=function(e){return(0,O.useMemo)((function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?ZE(e.slice("5")):fE(e):function(e){return""+e}}(e)}),[e])},qI=(0,O.createContext)(),HI={},GI=function(e){var t=e.theme,n=void 0===t?HI:t,r=e.children,o=function(e){return(0,O.useMemo)((function(){return RI(EI,e)}),[e])}(n);return(0,Ye.jsx)(qI.Provider,{value:o,children:r})};GI.propTypes={children:gv().node.isRequired,theme:gv().object};var XI=function(){return(0,O.useContext)(qI)},KI=["outlineWidth","outlineColor","outlineOpacity"],YI=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,II(e,KI)},QI=function(e){var t=e.children,n=e.condition,r=e.wrapper;return n?(0,O.cloneElement)(r,{},t):t};QI.propTypes={children:gv().node.isRequired,condition:gv().bool.isRequired,wrapper:gv().element.isRequired};var JI={position:"relative"},ZI=function(e){var t=e.children,n=e.theme,r=e.renderWrapper,o=void 0===r||r,i=e.isInteractive,a=void 0===i||i,s=e.animate,l=e.motionConfig,u=(0,O.useRef)(null);return(0,Ye.jsx)(GI,{theme:n,children:(0,Ye.jsx)(_I,{animate:s,config:l,children:(0,Ye.jsx)(vA,{container:u,children:(0,Ye.jsxs)(QI,{condition:o,wrapper:(0,Ye.jsx)("div",{style:JI,ref:u}),children:[t,a&&(0,Ye.jsx)(yA,{})]})})})})};ZI.propTypes={children:gv().element.isRequired,isInteractive:gv().bool,renderWrapper:gv().bool,theme:gv().object,animate:gv().bool,motionConfig:gv().string};gv().func.isRequired,gv().bool,gv().bool,gv().object.isRequired,gv().bool.isRequired,gv().string;var eO=function(e){var t=e.children,n=UI(),r=n[0],o=n[1],i=o.width>0&&o.height>0;return(0,Ye.jsx)("div",{ref:r,style:{width:"100%",height:"100%"},children:i&&t({width:o.width,height:o.height})})};eO.propTypes={children:gv().func.isRequired};var tO=["id","colors"],nO=function(e){var t=e.id,n=e.colors,r=II(e,tO);return(0,Ye.jsx)("linearGradient",TI({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map((function(e){var t=e.offset,n=e.color,r=e.opacity;return(0,Ye.jsx)("stop",{offset:t+"%",stopColor:n,stopOpacity:void 0!==r?r:1},t)}))}))};nO.propTypes={id:gv().string.isRequired,colors:gv().arrayOf(gv().shape({offset:gv().number.isRequired,color:gv().string.isRequired,opacity:gv().number})).isRequired,gradientTransform:gv().string};var rO={linearGradient:nO},oO="#000000",iO="#ffffff",aO=4,sO=4,lO=!1,uO=(0,O.memo)((function(e){var t=e.id,n=e.background,r=void 0===n?iO:n,o=e.color,i=void 0===o?oO:o,a=e.size,s=void 0===a?aO:a,l=e.padding,u=void 0===l?sO:l,c=e.stagger,d=void 0===c?lO:c,p=s+u,h=s/2,f=u/2;return!0===d&&(p=2*s+2*u),(0,Ye.jsxs)("pattern",{id:t,width:p,height:p,patternUnits:"userSpaceOnUse",children:[(0,Ye.jsx)("rect",{width:p,height:p,fill:r}),(0,Ye.jsx)("circle",{cx:f+h,cy:f+h,r:h,fill:i}),d&&(0,Ye.jsx)("circle",{cx:1.5*u+s+h,cy:1.5*u+s+h,r:h,fill:i})]})}));uO.displayName="PatternDots",uO.propTypes={id:gv().string.isRequired,color:gv().string.isRequired,background:gv().string.isRequired,size:gv().number.isRequired,padding:gv().number.isRequired,stagger:gv().bool.isRequired};Math.PI;var cO=function(e){return e*Math.PI/180},dO=function(e){return 180*e/Math.PI},pO=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},hO={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},fO=5,mO=0,gO="#000000",yO="#ffffff",vO=2,bO=(0,O.memo)((function(e){var t=e.id,n=e.spacing,r=void 0===n?fO:n,o=e.rotation,i=void 0===o?mO:o,a=e.background,s=void 0===a?gO:a,l=e.color,u=void 0===l?yO:l,c=e.lineWidth,d=void 0===c?vO:c,p=Math.round(i)%360,h=Math.abs(r);p>180?p-=360:p>90?p-=180:p<-180?p+=360:p<-90&&(p+=180);var f,m=h,g=h;return 0===p?f="\n                M 0 0 L "+m+" 0\n                M 0 "+g+" L "+m+" "+g+"\n            ":90===p?f="\n                M 0 0 L 0 "+g+"\n                M "+m+" 0 L "+m+" "+g+"\n            ":(m=Math.abs(h/Math.sin(cO(p))),g=h/Math.sin(cO(90-p)),f=p>0?"\n                    M 0 "+-g+" L "+2*m+" "+g+"\n                    M "+-m+" "+-g+" L "+m+" "+g+"\n                    M "+-m+" 0 L "+m+" "+2*g+"\n                ":"\n                    M "+-m+" "+g+" L "+m+" "+-g+"\n                    M "+-m+" "+2*g+" L "+2*m+" "+-g+"\n                    M 0 "+2*g+" L "+2*m+" 0\n                "),(0,Ye.jsxs)("pattern",{id:t,width:m,height:g,patternUnits:"userSpaceOnUse",children:[(0,Ye.jsx)("rect",{width:m,height:g,fill:s,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),(0,Ye.jsx)("path",{d:f,strokeWidth:d,stroke:u,strokeLinecap:"square"})]})}));bO.displayName="PatternLines",bO.propTypes={id:gv().string.isRequired,spacing:gv().number.isRequired,rotation:gv().number.isRequired,background:gv().string.isRequired,color:gv().string.isRequired,lineWidth:gv().number.isRequired};var xO="#000000",wO="#ffffff",AO=4,SO=4,CO=!1,kO=(0,O.memo)((function(e){var t=e.id,n=e.color,r=void 0===n?xO:n,o=e.background,i=void 0===o?wO:o,a=e.size,s=void 0===a?AO:a,l=e.padding,u=void 0===l?SO:l,c=e.stagger,d=void 0===c?CO:c,p=s+u,h=u/2;return!0===d&&(p=2*s+2*u),(0,Ye.jsxs)("pattern",{id:t,width:p,height:p,patternUnits:"userSpaceOnUse",children:[(0,Ye.jsx)("rect",{width:p,height:p,fill:i}),(0,Ye.jsx)("rect",{x:h,y:h,width:s,height:s,fill:r}),d&&(0,Ye.jsx)("rect",{x:1.5*u+s,y:1.5*u+s,width:s,height:s,fill:r})]})}));kO.displayName="PatternSquares",kO.propTypes={id:gv().string.isRequired,color:gv().string.isRequired,background:gv().string.isRequired,size:gv().number.isRequired,padding:gv().number.isRequired,stagger:gv().bool.isRequired};var EO={patternDots:uO,patternLines:bO,patternSquares:kO},TO=["type"],IO=TI({},rO,EO),OO=function(e){var t=e.defs;return!t||t.length<1?null:(0,Ye.jsx)("defs",{"aria-hidden":!0,children:t.map((function(e){var t=e.type,n=II(e,TO);return IO[t]?(0,O.createElement)(IO[t],TI({key:n.id},n)):null}))})};OO.propTypes={defs:gv().arrayOf(gv().shape({type:gv().oneOf(Object.keys(IO)).isRequired,id:gv().string.isRequired}))};var RO=(0,O.memo)(OO),NO=function(e){var t=e.width,n=e.height,r=e.margin,o=e.defs,i=e.children,a=e.role,s=e.ariaLabel,l=e.ariaLabelledBy,u=e.ariaDescribedBy,c=e.isFocusable,d=XI();return(0,Ye.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:a,"aria-label":s,"aria-labelledby":l,"aria-describedby":u,focusable:c,tabIndex:c?0:void 0,children:[(0,Ye.jsx)(RO,{defs:o}),(0,Ye.jsx)("rect",{width:t,height:n,fill:d.background}),(0,Ye.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:i})]})};NO.propTypes={width:gv().number.isRequired,height:gv().number.isRequired,margin:gv().shape({top:gv().number.isRequired,left:gv().number.isRequired}).isRequired,defs:gv().array,children:gv().oneOfType([gv().arrayOf(gv().node),gv().node]).isRequired,role:gv().string,isFocusable:gv().bool,ariaLabel:gv().string,ariaLabelledBy:gv().string,ariaDescribedBy:gv().string};var _O=function(e){var t=e.size,n=e.color,r=e.borderWidth,o=e.borderColor;return(0,Ye.jsx)("circle",{r:t/2,fill:n,stroke:o,strokeWidth:r,style:{pointerEvents:"none"}})};_O.propTypes={size:gv().number.isRequired,color:gv().string.isRequired,borderWidth:gv().number.isRequired,borderColor:gv().string.isRequired};var PO=(0,O.memo)(_O),MO=function(e){var t=e.x,n=e.y,r=e.symbol,o=void 0===r?PO:r,i=e.size,a=e.datum,s=e.color,l=e.borderWidth,u=e.borderColor,c=e.label,d=e.labelTextAnchor,p=void 0===d?"middle":d,h=e.labelYOffset,f=void 0===h?-12:h,m=XI(),g=MI(),y=g.animate,v=Lw({transform:"translate("+t+", "+n+")",config:g.config,immediate:!y});return(0,Ye.jsxs)(rA.g,{transform:v.transform,style:{pointerEvents:"none"},children:[(0,O.createElement)(o,{size:i,color:s,datum:a,borderWidth:l,borderColor:u}),c&&(0,Ye.jsx)("text",{textAnchor:p,y:f,style:YI(m.dots.text),children:c})]})};MO.propTypes={x:gv().number.isRequired,y:gv().number.isRequired,datum:gv().object.isRequired,size:gv().number.isRequired,color:gv().string.isRequired,borderWidth:gv().number.isRequired,borderColor:gv().string.isRequired,symbol:gv().oneOfType([gv().func,gv().object]),label:gv().oneOfType([gv().string,gv().number]),labelTextAnchor:gv().oneOf(["start","middle","end"]),labelYOffset:gv().number};(0,O.memo)(MO);var DO=function(e){var t=e.width,n=e.height,r=e.axis,o=e.scale,i=e.value,a=e.lineStyle,s=e.textStyle,l=e.legend,u=e.legendPosition,c=void 0===u?"top-right":u,d=e.legendOffsetX,p=void 0===d?14:d,h=e.legendOffsetY,f=void 0===h?14:h,m=e.legendOrientation,g=void 0===m?"horizontal":m,y=XI(),v=0,b=0,x=0,w=0;"y"===r?(x=o(i),b=t):(v=o(i),w=n);var A=null;if(l){var S=function(e){var t=e.width,n=e.height,r=e.position,o=e.offsetX,i=e.offsetY,a=e.orientation,s=0,l=0,u="vertical"===a?-90:0,c="start";if("x"===e.axis)switch(r){case"top-left":s=-o,l=i,c="end";break;case"top":l=-i,c="horizontal"===a?"middle":"start";break;case"top-right":s=o,l=i,c="horizontal"===a?"start":"end";break;case"right":s=o,l=n/2,c="horizontal"===a?"start":"middle";break;case"bottom-right":s=o,l=n-i,c="start";break;case"bottom":l=n+i,c="horizontal"===a?"middle":"end";break;case"bottom-left":l=n-i,s=-o,c="horizontal"===a?"end":"start";break;case"left":s=-o,l=n/2,c="horizontal"===a?"end":"middle"}else switch(r){case"top-left":s=o,l=-i,c="start";break;case"top":s=t/2,l=-i,c="horizontal"===a?"middle":"start";break;case"top-right":s=t-o,l=-i,c="horizontal"===a?"end":"start";break;case"right":s=t+o,c="horizontal"===a?"start":"middle";break;case"bottom-right":s=t-o,l=i,c="end";break;case"bottom":s=t/2,l=i,c="horizontal"===a?"middle":"end";break;case"bottom-left":s=o,l=i,c="horizontal"===a?"start":"end";break;case"left":s=-o,c="horizontal"===a?"end":"middle"}return{x:s,y:l,rotation:u,textAnchor:c}}({axis:r,width:t,height:n,position:c,offsetX:p,offsetY:f,orientation:g});A=(0,Ye.jsx)("text",{transform:"translate("+S.x+", "+S.y+") rotate("+S.rotation+")",textAnchor:S.textAnchor,dominantBaseline:"central",style:s,children:l})}return(0,Ye.jsxs)("g",{transform:"translate("+v+", "+x+")",children:[(0,Ye.jsx)("line",{x1:0,x2:b,y1:0,y2:w,stroke:y.markers.lineColor,strokeWidth:y.markers.lineStrokeWidth,style:a}),A]})};DO.propTypes={width:gv().number.isRequired,height:gv().number.isRequired,axis:gv().oneOf(["x","y"]).isRequired,scale:gv().func.isRequired,value:gv().oneOfType([gv().number,gv().string,gv().instanceOf(Date)]).isRequired,lineStyle:gv().object,textStyle:gv().object,legend:gv().string,legendPosition:gv().oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:gv().number.isRequired,legendOffsetY:gv().number.isRequired,legendOrientation:gv().oneOf(["horizontal","vertical"]).isRequired};var LO=(0,O.memo)(DO),$O=function(e){var t=e.markers,n=e.width,r=e.height,o=e.xScale,i=e.yScale;return t&&0!==t.length?t.map((function(e,t){return(0,Ye.jsx)(LO,TI({},e,{width:n,height:r,scale:"y"===e.axis?i:o}),t)})):null};$O.propTypes={width:gv().number.isRequired,height:gv().number.isRequired,xScale:gv().func.isRequired,yScale:gv().func.isRequired,markers:gv().arrayOf(gv().shape({axis:gv().oneOf(["x","y"]).isRequired,value:gv().oneOfType([gv().number,gv().string,gv().instanceOf(Date)]).isRequired,lineStyle:gv().object,textStyle:gv().object}))};var jO=(0,O.memo)($O),FO=function(e){return gk()(e)?e:function(t){return AA()(t,e)}},BO=function(e){return(0,O.useMemo)((function(){return FO(e)}),[e])},VO=function(e,t){var n,r="touches"in t?t.touches[0]:t,o=r.clientX,i=r.clientY,a=e.getBoundingClientRect(),s=(n=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===a.width?1:n.width/a.width;return[(o-a.left)*s,(i-a.top)*s]},zO=Object.keys(rO),UO=Object.keys(EO),WO=function(e,t,n,r){var o=void 0===r?{}:r,i=o.dataKey,a=o.colorKey,s=void 0===a?"color":a,l=o.targetKey,u=void 0===l?"fill":l,c=[],d={};return e.length&&t.length&&(c=[].concat(e),t.forEach((function(t){for(var r=function(){var r=n[o],a=r.id;if(function(e,t,n){if("*"===e)return!0;if(gk()(e))return e(t);if(wI()(e)){var r=n?AA()(t,n):t;return kI()(SI()(r,Object.keys(e)),e)}return!1}(r.match,t,i)){var l=e.find((function(e){return e.id===a}));if(l)if(UO.includes(l.type))if("inherit"===l.background||"inherit"===l.color){var p=AA()(t,s),h=l.background,f=l.color,m=a;"inherit"===l.background&&(m=m+".bg."+p,h=p),"inherit"===l.color&&(m=m+".fg."+p,f=p),CA()(t,u,"url(#"+m+")"),d[m]||(c.push(TI({},l,{id:m,background:h,color:f})),d[m]=1)}else CA()(t,u,"url(#"+a+")");else if(zO.includes(l.type))if(l.colors.map((function(e){return e.color})).includes("inherit")){var g=AA()(t,s),y=a,v=TI({},l,{colors:l.colors.map((function(e,t){return"inherit"!==e.color?e:(y=y+"."+t+"."+g,TI({},e,{color:"inherit"===e.color?g:e.color}))}))});v.id=y,CA()(t,u,"url(#"+y+")"),d[y]||(c.push(v),d[y]=1)}else CA()(t,u,"url(#"+a+")");return"break"}},o=0;o<n.length&&"break"!==r();o++);}))),c},qO=(n(9376),n(20977)),HO=n.n(qO);n(87424),n(93085);const GO=Math.sqrt(50),XO=Math.sqrt(10),KO=Math.sqrt(2);function YO(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=GO?10:i>=XO?5:i>=KO?2:1;let s,l,u;return o<0?(u=Math.pow(10,-o)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,o)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?YO(e,t,2*n):[s,l,u]}function QO(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?YO(t,e,n):YO(e,t,n);if(!(i>=o))return[];const s=i-o+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(i-u)/-a;else for(let u=0;u<s;++u)l[u]=(i-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(o+u)/-a;else for(let u=0;u<s;++u)l[u]=(o+u)*a;return l}function JO(e,t,n){return YO(e=+e,t=+t,n=+n)[2]}function ZO(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?JO(t,e,n):JO(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function eR(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tR(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nR(e){let t,n,r;function o(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=eR,n=(t,n)=>eR(e(t),n),r=(t,n)=>e(t)-n):(t=e===eR||e===tR?e:rR,n=e,r=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=o(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function rR(){return 0}const oR=nR(eR),iR=oR.right,aR=(oR.left,nR((function(e){return null===e?NaN:+e})).center,iR);function sR(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=dR(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function lR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function uR(e,t){var n,r={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=dR(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}function cR(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function dR(e,t){var n,r=typeof t;return null==t||"boolean"===r?CS(t):("number"===r?kA:"string"===r?(n=aS(t))?(t=n,IS):IA:t instanceof aS?IS:t instanceof Date?lR:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?cR:Array.isArray(t)?sR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?uR:kA)(e,t)}function pR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hR(e){return+e}var fR=[0,1];function mR(e){return e}function gR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function yR(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=gR(o,r),i=n(a,i)):(r=gR(r,o),i=n(i,a)),function(e){return i(r(e))}}function vR(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=gR(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=aR(e,t,1,r)-1;return i[n](o[n](t))}}function bR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xR(){var e,t,n,r,o,i,a=fR,s=fR,l=dR,u=mR;function c(){var e=Math.min(a.length,s.length);return u!==mR&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?vR:yR,o=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(s,a.map(e),kA)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,hR),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=pR,c()},d.clamp=function(e){return arguments.length?(u=!!e||mR,c()):u!==mR},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function wR(){return xR()(mR,mR)}function AR(e,t,n,r){var o,i=ZO(e,t,n);switch((r=lE(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(iE(t)/3)))-iE(Math.abs(e)))}(i,a))||(r.precision=o),mE(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iE(t)-iE(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-iE(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return fE(r)}function SR(e){var t=e.domain;return e.ticks=function(e){var n=t();return QO(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return AR(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,l=i[a],u=i[s],c=10;for(u<l&&(o=l,l=u,u=o,o=a,a=s,s=o);c-- >0;){if((o=JO(l,u,n))===r)return i[a]=l,i[s]=u,t(i);if(o>0)l=Math.floor(l/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,u=Math.floor(u*o)/o}r=o}return e},e}function CR(){var e=wR();return e.copy=function(){return bR(e,CR())},jA.apply(e,arguments),SR(e)}function kR(){var e,t,n=BA().unknown(void 0),r=n.domain,o=n.range,i=0,a=1,s=!1,l=0,u=0,c=.5;function d(){var n=r().length,d=a<i,p=d?a:i,h=d?i:a;e=(h-p)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),p+=(h-p-e*(n-l))*c,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(n).map((function(t){return p+e*t}));return o(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,a]=e,i=+i,a=+a,d()):[i,a]},n.rangeRound=function(e){return[i,a]=e,i=+i,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return kR(r(),[i,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},jA.apply(d(),arguments)}function ER(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ER(t())},e}function TR(){return ER(kR.apply(null,arguments).paddingInner(1))}const IR=1e3,OR=6e4,RR=36e5,NR=864e5,_R=6048e5,PR=2592e6,MR=31536e6,DR=new Date,LR=new Date;function $R(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,i)=>{const a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;let s;do{a.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return a},o.filter=n=>$R((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(DR.setTime(+t),LR.setTime(+r),e(DR),e(LR),Math.floor(n(DR,LR))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const jR=$R((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));jR.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?$R((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):jR:null);jR.range;const FR=$R((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*IR)}),((e,t)=>(t-e)/IR),(e=>e.getUTCSeconds())),BR=(FR.range,$R((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IR)}),((e,t)=>{e.setTime(+e+t*OR)}),((e,t)=>(t-e)/OR),(e=>e.getMinutes()))),VR=(BR.range,$R((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*OR)}),((e,t)=>(t-e)/OR),(e=>e.getUTCMinutes()))),zR=(VR.range,$R((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IR-e.getMinutes()*OR)}),((e,t)=>{e.setTime(+e+t*RR)}),((e,t)=>(t-e)/RR),(e=>e.getHours()))),UR=(zR.range,$R((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*RR)}),((e,t)=>(t-e)/RR),(e=>e.getUTCHours()))),WR=(UR.range,$R((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OR)/NR),(e=>e.getDate()-1))),qR=(WR.range,$R((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/NR),(e=>e.getUTCDate()-1))),HR=(qR.range,$R((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/NR),(e=>Math.floor(e/NR))));HR.range;function GR(e){return $R((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OR)/_R))}const XR=GR(0),KR=GR(1),YR=GR(2),QR=GR(3),JR=GR(4),ZR=GR(5),eN=GR(6);XR.range,KR.range,YR.range,QR.range,JR.range,ZR.range,eN.range;function tN(e){return $R((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/_R))}const nN=tN(0),rN=tN(1),oN=tN(2),iN=tN(3),aN=tN(4),sN=tN(5),lN=tN(6),uN=(nN.range,rN.range,oN.range,iN.range,aN.range,sN.range,lN.range,$R((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),cN=(uN.range,$R((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),dN=(cN.range,$R((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));dN.every=e=>isFinite(e=Math.floor(e))&&e>0?$R((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;dN.range;const pN=$R((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));pN.every=e=>isFinite(e=Math.floor(e))&&e>0?$R((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;pN.range;function hN(e,t,n,r,o,i){const a=[[FR,1,IR],[FR,5,5e3],[FR,15,15e3],[FR,30,3e4],[i,1,OR],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,RR],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,NR],[r,2,1728e5],[n,1,_R],[t,1,PR],[t,3,7776e6],[e,1,MR]];function s(t,n,r){const o=Math.abs(n-t)/r,i=nR((e=>{let[,,t]=e;return t})).right(a,o);if(i===a.length)return e.every(ZO(t/MR,n/MR,r));if(0===i)return jR.every(Math.max(ZO(t,n,r),1));const[s,l]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"===typeof n.range?n:s(e,t,n),i=o?o.range(e,+t+1):[];return r?i.reverse():i},s]}const[fN,mN]=hN(pN,cN,nN,HR,UR,VR),[gN,yN]=hN(dN,uN,XR,WR,zR,BR);function vN(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function bN(e){return new Date(e)}function xN(e){return e instanceof Date?+e:+new Date(+e)}function wN(e,t,n,r,o,i,a,s,l,u){var c=wR(),d=c.invert,p=c.domain,h=u(".%L"),f=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(e){return(l(e)<e?h:s(e)<e?f:a(e)<e?m:i(e)<e?g:r(e)<e?o(e)<e?y:v:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?p(Array.from(e,xN)):p().map(bN)},c.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:u(t)},c.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(vN(n,e)):c},c.copy=function(){return bR(c,wN(e,t,n,r,o,i,a,s,l,u))},c}function AN(e){return Math.log(e)}function SN(e){return Math.exp(e)}function CN(e){return-Math.log(-e)}function kN(e){return-Math.exp(-e)}function EN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TN(e){return(t,n)=>-e(-t,n)}function IN(e){const t=e(AN,SN),n=t.domain;let r,o,i=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function(e){return 10===e?EN:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=TN(r),o=TN(o),e(CN,kN)):e(AN,SN),t}return t.base=function(e){return arguments.length?(i=+e,a()):i},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let u,c,d=r(a),p=r(s);const h=null==e?10:+e;let f=[];if(!(i%1)&&p-d<h){if(d=Math.floor(d),p=Math.ceil(p),a>0){for(;d<=p;++d)for(u=1;u<i;++u)if(c=d<0?u/o(-d):u*o(d),!(c<a)){if(c>s)break;f.push(c)}}else for(;d<=p;++d)for(u=i-1;u>=1;--u)if(c=d>0?u/o(-d):u*o(d),!(c<a)){if(c>s)break;f.push(c)}2*f.length<h&&(f=QO(a,s,h))}else f=QO(d,p,Math.min(p-d,h)).map(o);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=lE(n)).precision||(n.trim=!0),n=fE(n)),e===1/0)return n;const a=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=a?n(e):""}},t.nice=()=>n(vN(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function ON(){const e=IN(xR()).domain([1,10]);return e.copy=()=>bR(e,ON()).base(e.base()),jA.apply(e,arguments),e}function RN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _N(){var e=function(e){var t=1,n=e(RN(t),NN(t));return n.constant=function(n){return arguments.length?e(RN(t=+n),NN(t)):t},SR(n)}(xR());return e.copy=function(){return bR(e,_N()).constant(e.constant())},jA.apply(e,arguments)}var PN=new Date,MN=new Date;function DN(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return DN((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return PN.setTime(+t),MN.setTime(+r),e(PN),e(MN),Math.floor(n(PN,MN))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}var LN=DN((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));LN.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?DN((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):LN:null};const $N=LN;LN.range;var jN=1e3,FN=6e4,BN=36e5,VN=6048e5,zN=DN((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*jN)}),(function(e,t){return(t-e)/jN}),(function(e){return e.getUTCSeconds()}));const UN=zN;zN.range;var WN=DN((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*jN)}),(function(e,t){e.setTime(+e+t*FN)}),(function(e,t){return(t-e)/FN}),(function(e){return e.getMinutes()}));const qN=WN;WN.range;var HN=DN((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*FN)}),(function(e,t){return(t-e)/FN}),(function(e){return e.getUTCMinutes()}));const GN=HN;HN.range;var XN=DN((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*jN-e.getMinutes()*FN)}),(function(e,t){e.setTime(+e+t*BN)}),(function(e,t){return(t-e)/BN}),(function(e){return e.getHours()}));const KN=XN;XN.range;var YN=DN((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*BN)}),(function(e,t){return(t-e)/BN}),(function(e){return e.getUTCHours()}));const QN=YN;YN.range;function JN(e){return DN((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FN)/VN}))}var ZN=JN(0),e_=JN(1),t_=JN(2),n_=JN(3),r_=JN(4),o_=JN(5),i_=JN(6);ZN.range,e_.range,t_.range,n_.range,r_.range,o_.range,i_.range;function a_(e){return DN((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/VN}))}var s_=a_(0),l_=a_(1),u_=a_(2),c_=a_(3),d_=a_(4),p_=a_(5),h_=a_(6),f_=(s_.range,l_.range,u_.range,c_.range,d_.range,p_.range,h_.range,DN((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));const m_=f_;f_.range;var g_=DN((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const y_=g_;g_.range;var v_=DN((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));v_.every=function(e){return isFinite(e=Math.floor(e))&&e>0?DN((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const b_=v_;v_.range;var x_=DN((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));x_.every=function(e){return isFinite(e=Math.floor(e))&&e>0?DN((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const w_=x_;x_.range;var A_=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],S_={millisecond:[],second:A_.slice(0,1),minute:A_.slice(0,2),hour:A_.slice(0,3),day:A_.slice(0,4),month:A_.slice(0,5),year:A_.slice(0,6)},C_=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,o=void 0===r?"millisecond":r,i=e.useUTC,a=void 0===i||i,s=function(e){return function(t){return S_[e].forEach((function(e){e(t)})),t}}(o);return function(e){if(void 0===e)return e;if("native"===n||e instanceof Date)return s(e);var t=a?nT(n):eT(n);return s(t(e))}},k_=function(e,t,n,r){var o,i,a,s,l=e.min,u=void 0===l?0:l,c=e.max,d=void 0===c?"auto":c,p=e.stacked,h=void 0!==p&&p,f=e.reverse,m=void 0!==f&&f,g=e.clamp,y=void 0!==g&&g,v=e.nice,b=void 0!==v&&v;o="auto"===u?!0===h?null!=(i=t.minStacked)?i:0:t.min:u,a="auto"===d?!0===h?null!=(s=t.maxStacked)?s:0:t.max:d;var x=CR().rangeRound("x"===r?[0,n]:[n,0]).domain(m?[a,o]:[o,a]).clamp(y);return!0===b?x.nice():"number"==typeof b&&x.nice(b),E_(x,h)},E_=function(e,t){void 0===t&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},T_=function(e){var t=e;return t.type="band",t},I_=function(e,t,n){var r,o,i=e.format,a=void 0===i?"native":i,s=e.precision,l=void 0===s?"millisecond":s,u=e.min,c=void 0===u?"auto":u,d=e.max,p=void 0===d?"auto":d,h=e.useUTC,f=void 0===h||h,m=e.nice,g=void 0!==m&&m,y=C_({format:a,precision:l,useUTC:f});r="auto"===c?y(t.min):"native"!==a?y(c):c,o="auto"===p?y(t.max):"native"!==a?y(p):p;var v=f?function(){return jA.apply(wN(fN,mN,pN,cN,nN,qR,UR,VR,FR,tT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return jA.apply(wN(gN,yN,dN,uN,XR,WR,zR,BR,FR,ZE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();v.range([0,n]),r&&o&&v.domain([r,o]),!0===g?v.nice():"object"!=typeof g&&"number"!=typeof g||v.nice(g);var b=v;return b.type="time",b.useUTC=f,b},O_=function(e,t,n,r){var o,i=e.base,a=void 0===i?10:i,s=e.min,l=void 0===s?"auto":s,u=e.max,c=void 0===u?"auto":u;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var d,p,h=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){h||(void 0===o?o=Math.sign(e):Math.sign(e)!==o&&(h=!0))})),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");d="auto"===l?t.min:l,p="auto"===c?t.max:c;var f=ON().domain([d,p]).rangeRound("x"===r?[0,n]:[n,0]).base(a).nice();return f.type="log",f};function R_(e,t,n,r){switch(e.type){case"linear":return k_(e,t,n,r);case"point":return function(e,t,n){var r=TR().range([0,n]).domain(t.all);return r.type="point",r}(0,t,n);case"band":return function(e,t,n,r){var o=e.round,i=void 0===o||o,a=kR().range("x"===r?[0,n]:[n,0]).domain(t.all).round(i);return T_(a)}(e,t,n,r);case"time":return I_(e,t,n);case"log":return O_(e,t,n,r);case"symlog":return function(e,t,n,r){var o,i,a=e.constant,s=void 0===a?1:a,l=e.min,u=void 0===l?"auto":l,c=e.max,d=void 0===c?"auto":c,p=e.reverse,h=void 0!==p&&p;o="auto"===u?t.min:u,i="auto"===d?t.max:d;var f=_N().constant(s).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===h?f.domain([i,o]):f.domain([o,i]);var m=f;return m.type="symlog",m}(e,t,n,r);default:throw new Error("invalid scale spec")}}var N_=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var r;return(null!=(r=e(t))?r:0)+n}},__={millisecond:[$N,$N],second:[UN,UN],minute:[qN,GN],hour:[KN,QN],day:[DN((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),DN((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,t){return e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[ZN,s_],sunday:[ZN,s_],monday:[e_,l_],tuesday:[t_,u_],wednesday:[n_,c_],thursday:[r_,d_],friday:[o_,p_],saturday:[i_,h_],month:[m_,y_],year:[b_,w_]},P_=Object.keys(__),M_=new RegExp("^every\\s*(\\d+)?\\s*("+P_.join("|")+")s?$","i"),D_=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(M_);if(n){var r=n[1],o=n[2],i=__[o][e.useUTC?1:0];if("day"===o){var a,s,l=e.domain(),u=l[0],c=l[1],d=new Date(c);return d.setDate(d.getDate()+1),null!=(a=null==(s=i.every(Number(null!=r?r:1)))?void 0:s.range(u,d))?a:[]}if(void 0===r)return e.ticks(i);var p=i.every(Number(r));if(p)return e.ticks(p)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof(h=t)&&isFinite(h)&&Math.floor(h)===h)return e.ticks(t)}var h;return e.domain()};function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}var $_=function(e){var t,n=e.axis,r=e.scale,o=e.ticksPosition,i=e.tickValues,a=e.tickSize,s=e.tickPadding,l=e.tickRotation,u=e.truncateTickAt,c=e.engine,d=void 0===c?"svg":c,p=D_(r,i),h=hO[d],f="bandwidth"in r?N_(r):r,m={lineX:0,lineY:0},g={textX:0,textY:0},y="object"==typeof document&&"rtl"===document.dir,v=h.align.center,b=h.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!=(t=f(e))?t:0,y:0}},m.lineY=a*("after"===o?1:-1),g.textY=(a+s)*("after"===o?1:-1),b="after"===o?h.baseline.top:h.baseline.bottom,0===l?v=h.align.center:"after"===o&&l<0||"before"===o&&l>0?(v=h.align[y?"left":"right"],b=h.baseline.center):("after"===o&&l>0||"before"===o&&l<0)&&(v=h.align[y?"right":"left"],b=h.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=f(e))?t:0}},m.lineX=a*("after"===o?1:-1),g.textX=(a+s)*("after"===o?1:-1),v="after"===o?h.align.left:h.align.right),{ticks:p.map((function(e){var n="string"==typeof e?function(e){var t=String(e).length;return u&&u>0&&t>u?""+String(e).slice(0,u).concat("..."):""+e}(e):e;return L_({key:e instanceof Date?""+e.valueOf():""+e,value:n},t(e),m,g)})),textAlign:v,textBaseline:b}},j_=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=ZE(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return fE(e)},F_=function(e){var t,n=e.width,r=e.height,o=e.scale,i=e.axis,a=e.values,s=(t=a,(Array.isArray(t)?a:void 0)||D_(o,a)),l="bandwidth"in o?N_(o):o,u="x"===i?s.map((function(e){var t,n;return{key:e instanceof Date?""+e.valueOf():""+e,x1:null!=(t=l(e))?t:0,x2:null!=(n=l(e))?n:0,y1:0,y2:r}})):s.map((function(e){var t,r;return{key:e instanceof Date?""+e.valueOf():""+e,x1:0,x2:n,y1:null!=(t=l(e))?t:0,y2:null!=(r=l(e))?r:0}}));return u},B_=(0,O.memo)((function(e){var t,n=e.value,r=e.format,o=e.lineX,i=e.lineY,a=e.onClick,s=e.textBaseline,l=e.textAnchor,u=e.animatedProps,c=XI(),d=c.axis.ticks.line,p=c.axis.ticks.text,h=null!=(t=null==r?void 0:r(n))?t:n,f=(0,O.useMemo)((function(){var e={opacity:u.opacity};return a?{style:L_({},e,{cursor:"pointer"}),onClick:function(e){return a(e,h)}}:{style:e}}),[u.opacity,a,h]);return(0,Ye.jsxs)(rA.g,L_({transform:u.transform},f,{children:[(0,Ye.jsx)("line",{x1:0,x2:o,y1:0,y2:i,style:d}),p.outlineWidth>0&&(0,Ye.jsx)(rA.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:p,strokeWidth:2*p.outlineWidth,stroke:p.outlineColor,strokeLinejoin:"round",children:""+h}),(0,Ye.jsx)(rA.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:YI(p),children:""+h})]}))})),V_=(0,O.memo)((function(e){var t=e.axis,n=e.scale,r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i,s=e.length,l=e.ticksPosition,u=e.tickValues,c=e.tickSize,d=void 0===c?5:c,p=e.tickPadding,h=void 0===p?5:p,f=e.tickRotation,m=void 0===f?0:f,g=e.format,y=e.renderTick,v=void 0===y?B_:y,b=e.truncateTickAt,x=e.legend,w=e.legendPosition,A=void 0===w?"end":w,S=e.legendOffset,C=void 0===S?0:S,k=e.onClick,E=e.ariaHidden,T=XI(),I=T.axis.legend.text,R=(0,O.useMemo)((function(){return j_(g,n)}),[g,n]),N=$_({axis:t,scale:n,ticksPosition:l,tickValues:u,tickSize:d,tickPadding:h,tickRotation:m,truncateTickAt:b}),_=N.ticks,P=N.textAlign,M=N.textBaseline,D=null;if(void 0!==x){var L,$=0,j=0,F=0;"y"===t?(F=-90,$=C,"start"===A?(L="start",j=s):"middle"===A?(L="middle",j=s/2):"end"===A&&(L="end")):(j=C,"start"===A?L="start":"middle"===A?(L="middle",$=s/2):"end"===A&&(L="end",$=s)),D=(0,Ye.jsxs)(Ye.Fragment,{children:[I.outlineWidth>0&&(0,Ye.jsx)("text",{transform:"translate("+$+", "+j+") rotate("+F+")",textAnchor:L,style:L_({dominantBaseline:"central"},I),strokeWidth:2*I.outlineWidth,stroke:I.outlineColor,strokeLinejoin:"round",children:x}),(0,Ye.jsx)("text",{transform:"translate("+$+", "+j+") rotate("+F+")",textAnchor:L,style:L_({dominantBaseline:"central"},I),children:x})]})}var B=MI(),V=B.animate,z=B.config,U=Lw({transform:"translate("+o+","+a+")",lineX2:"x"===t?s:0,lineY2:"x"===t?0:s,config:z,immediate:!V}),W=(0,O.useCallback)((function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+m+")"}}),[m]),q=$w(_,{keys:function(e){return e.key},initial:W,from:(0,O.useCallback)((function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+m+")"}}),[m]),enter:W,update:W,leave:{opacity:0},config:z,immediate:!V});return(0,Ye.jsxs)(rA.g,{transform:U.transform,"aria-hidden":E,children:[q((function(e,t,n,r){return O.createElement(v,L_({tickIndex:r,format:R,rotate:m,textBaseline:M,textAnchor:P,truncateTickAt:b,animatedProps:e},t,k?{onClick:k}:{}))})),(0,Ye.jsx)(rA.line,{style:T.axis.domain.line,x1:0,x2:U.lineX2,y1:0,y2:U.lineY2}),D]})})),z_=["top","right","bottom","left"],U_=(0,O.memo)((function(e){var t=e.xScale,n=e.yScale,r=e.width,o=e.height,i={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,Ye.jsx)(Ye.Fragment,{children:z_.map((function(e){var a=i[e];if(!a)return null;var s="top"===e||"bottom"===e;return(0,Ye.jsx)(V_,L_({},a,{axis:s?"x":"y",x:"right"===e?r:0,y:"bottom"===e?o:0,scale:s?t:n,length:s?r:o,ticksPosition:"top"===e||"left"===e?"before":"after",truncateTickAt:a.truncateTickAt}),e)}))})})),W_=(0,O.memo)((function(e){var t=e.animatedProps,n=XI();return(0,Ye.jsx)(rA.line,L_({},t,n.grid.line))})),q_=(0,O.memo)((function(e){var t=e.lines,n=MI(),r=n.animate,o=$w(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:n.config,immediate:!r});return(0,Ye.jsx)("g",{children:o((function(e,t){return(0,O.createElement)(W_,L_({},t,{key:t.key,animatedProps:e}))}))})})),H_=(0,O.memo)((function(e){var t=e.width,n=e.height,r=e.xScale,o=e.yScale,i=e.xValues,a=e.yValues,s=(0,O.useMemo)((function(){return!!r&&F_({width:t,height:n,scale:r,axis:"x",values:i})}),[r,i,t,n]),l=(0,O.useMemo)((function(){return!!o&&F_({width:t,height:n,scale:o,axis:"y",values:a})}),[n,t,o,a]);return(0,Ye.jsxs)(Ye.Fragment,{children:[s&&(0,Ye.jsx)(q_,{lines:s}),l&&(0,Ye.jsx)(q_,{lines:l})]})})),G_=function(e,t){var n=t.xScale,r=t.yScale,o=t.width,i=t.height,a=t.top,s=t.right,l=t.bottom,u=t.left,c=t.theme,d={top:a,right:s,bottom:l,left:u};z_.forEach((function(t){var a=d[t];if(!a)return null;var s="top"===t||"bottom"===t,l="top"===t||"left"===t?"before":"after",u=s?n:r,p=j_(a.format,u);!function(e,t){var n,r=t.axis,o=t.scale,i=t.x,a=void 0===i?0:i,s=t.y,l=void 0===s?0:s,u=t.length,c=t.ticksPosition,d=t.tickValues,p=t.tickSize,h=void 0===p?5:p,f=t.tickPadding,m=void 0===f?5:f,g=t.tickRotation,y=void 0===g?0:g,v=t.format,b=t.legend,x=t.legendPosition,w=void 0===x?"end":x,A=t.legendOffset,S=void 0===A?0:A,C=t.theme,k=$_({axis:r,scale:o,ticksPosition:c,tickValues:d,tickSize:h,tickPadding:m,tickRotation:y,engine:"canvas"}),E=k.ticks,T=k.textAlign,I=k.textBaseline;e.save(),e.translate(a,l),e.textAlign=T,e.textBaseline=I;var O=C.axis.ticks.text;e.font=(O.fontWeight?O.fontWeight+" ":"")+O.fontSize+"px "+O.fontFamily,(null!=(n=C.axis.domain.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(C.axis.domain.line.strokeWidth),e.lineCap="square",C.axis.domain.line.stroke&&(e.strokeStyle=C.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?u:0,"x"===r?0:u),e.stroke());var R="function"==typeof v?v:function(e){return""+e};if(E.forEach((function(t){var n;(null!=(n=C.axis.ticks.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(C.axis.ticks.line.strokeWidth),e.lineCap="square",C.axis.ticks.line.stroke&&(e.strokeStyle=C.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=R(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(cO(y)),O.outlineWidth>0&&(e.strokeStyle=O.outlineColor,e.lineWidth=2*O.outlineWidth,e.lineJoin="round",e.strokeText(""+r,0,0)),C.axis.ticks.text.fill&&(e.fillStyle=O.fill),e.fillText(""+r,0,0),e.restore()})),void 0!==b){var N=0,_=0,P=0,M="center";"y"===r?(P=-90,N=S,"start"===w?(M="start",_=u):"middle"===w?(M="center",_=u/2):"end"===w&&(M="end")):(_=S,"start"===w?M="start":"middle"===w?(M="center",N=u/2):"end"===w&&(M="end",N=u)),e.translate(N,_),e.rotate(cO(P)),e.font=(C.axis.legend.text.fontWeight?C.axis.legend.text.fontWeight+" ":"")+C.axis.legend.text.fontSize+"px "+C.axis.legend.text.fontFamily,C.axis.legend.text.fill&&(e.fillStyle=C.axis.legend.text.fill),e.textAlign=M,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()}(e,L_({},a,{axis:s?"x":"y",x:"right"===t?o:0,y:"bottom"===t?i:0,scale:u,format:p,length:s?o:i,ticksPosition:l,theme:c}))}))},X_=function(e,t){var n=t.width,r=t.height,o=t.scale,i=t.axis,a=t.values;F_({width:n,height:r,scale:o,axis:i,values:a}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))},K_=n(50723),Y_=n.n(K_),Q_=n(79160),J_=n.n(Q_),Z_=n(1488),eP=n.n(Z_);function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tP.apply(this,arguments)}var nP=4,rP=120,oP=8,iP=function(e){return"circle"===e.type},aP=function(e){return"dot"===e.type},sP=function(e){return"rect"===e.type},lP=function(e){var t,n,r=e.x,o=e.y,i=e.noteX,a=e.noteY,s=e.noteWidth,l=void 0===s?rP:s,u=e.noteTextOffset,c=void 0===u?oP:u;if(J_()(i))t=r+i;else{if(void 0===i.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=i.abs}if(J_()(a))n=o+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var d=r,p=o,h=function(e,t,n,r){var o=Math.atan2(r-t,n-e);return function(e){var t=e%360;return t<0&&(t+=360),t}(dO(o))}(r,o,t,n);if(iP(e)){var f=pO(cO(h),e.size/2);d+=f.x,p+=f.y}if(sP(e)){var m=Math.round((h+90)/45)%8;0===m&&(p-=e.height/2),1===m&&(d+=e.width/2,p-=e.height/2),2===m&&(d+=e.width/2),3===m&&(d+=e.width/2,p+=e.height/2),4===m&&(p+=e.height/2),5===m&&(d-=e.width/2,p+=e.height/2),6===m&&(d-=e.width/2),7===m&&(d-=e.width/2,p-=e.height/2)}var g=t,y=t;return(h+90)%360>180?(g-=l,y-=l):y+=l,{points:[[d,p],[t,n],[y,n]],text:[g,n-c],angle:h+90}},uP=function(e){var t=e.data,n=e.annotations,r=e.getPosition,o=e.getDimensions;return(0,O.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,r=e.getPosition,o=e.getDimensions;return n.reduce((function(e,n){var i=n.offset||0;return[].concat(e,Y_()(t,n.match).map((function(e){var t=r(e),a=o(e);return(iP(n)||sP(n))&&(a.size=a.size+2*i,a.width=a.width+2*i,a.height=a.height+2*i),tP({},eP()(n,["match","offset"]),t,a,{size:n.size||a.size,datum:e})})))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:o})}),[t,n,r,o])},cP=function(e){var t=e.datum,n=e.x,r=e.y,o=e.note,i=XI(),a=MI(),s=a.animate,l=Lw({x:n,y:r,config:a.config,immediate:!s});return"function"==typeof o?(0,O.createElement)(o,{x:n,y:r,datum:t}):(0,Ye.jsxs)(Ye.Fragment,{children:[i.annotations.text.outlineWidth>0&&(0,Ye.jsx)(rA.text,{x:l.x,y:l.y,style:tP({},i.annotations.text,{strokeLinejoin:"round",strokeWidth:2*i.annotations.text.outlineWidth,stroke:i.annotations.text.outlineColor}),children:o}),(0,Ye.jsx)(rA.text,{x:l.x,y:l.y,style:eP()(i.annotations.text,["outlineWidth","outlineColor"]),children:o})]})},dP=function(e){var t=e.points,n=e.isOutline,r=void 0!==n&&n,o=XI(),i=(0,O.useMemo)((function(){var e=t[0];return t.slice(1).reduce((function(e,t){return e+" L"+t[0]+","+t[1]}),"M"+e[0]+","+e[1])}),[t]),a=function(e){var t=MI(),n=t.animate,r=t.config,o=function(e){var t=(0,O.useRef)();return(0,O.useEffect)((function(){t.current=e}),[e]),t.current}(e),i=(0,O.useMemo)((function(){return IA(o,e)}),[o,e]),a=Lw({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!n}).value;return Uw(a,i)}(i);if(r&&o.annotations.link.outlineWidth<=0)return null;var s=tP({},o.annotations.link);return r&&(s.strokeLinecap="square",s.strokeWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,s.stroke=o.annotations.link.outlineColor,s.opacity=o.annotations.link.outlineOpacity),(0,Ye.jsx)(rA.path,{fill:"none",d:a,style:s})},pP=function(e){var t=e.x,n=e.y,r=e.size,o=XI(),i=MI(),a=i.animate,s=Lw({x:t,y:n,radius:r/2,config:i.config,immediate:!a});return(0,Ye.jsxs)(Ye.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,Ye.jsx)(rA.circle,{cx:s.x,cy:s.y,r:s.radius,style:tP({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),(0,Ye.jsx)(rA.circle,{cx:s.x,cy:s.y,r:s.radius,style:o.annotations.outline})]})},hP=function(e){var t=e.x,n=e.y,r=e.size,o=void 0===r?nP:r,i=XI(),a=MI(),s=a.animate,l=Lw({x:t,y:n,radius:o/2,config:a.config,immediate:!s});return(0,Ye.jsxs)(Ye.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,Ye.jsx)(rA.circle,{cx:l.x,cy:l.y,r:l.radius,style:tP({},i.annotations.outline,{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),(0,Ye.jsx)(rA.circle,{cx:l.x,cy:l.y,r:l.radius,style:i.annotations.symbol})]})},fP=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.borderRadius,a=void 0===i?6:i,s=XI(),l=MI(),u=l.animate,c=Lw({x:t-r/2,y:n-o/2,width:r,height:o,config:l.config,immediate:!u});return(0,Ye.jsxs)(Ye.Fragment,{children:[s.annotations.outline.outlineWidth>0&&(0,Ye.jsx)(rA.rect,{x:c.x,y:c.y,rx:a,ry:a,width:c.width,height:c.height,style:tP({},s.annotations.outline,{fill:"none",strokeWidth:s.annotations.outline.strokeWidth+2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),(0,Ye.jsx)(rA.rect,{x:c.x,y:c.y,rx:a,ry:a,width:c.width,height:c.height,style:s.annotations.outline})]})},mP=function(e){var t=e.datum,n=e.x,r=e.y,o=e.note,i=function(e){return(0,O.useMemo)((function(){return lP(e)}),[e])}(e);if(!function(e){var t=typeof e;return(0,O.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(o))throw new Error("note should be a valid react element");return(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(dP,{points:i.points,isOutline:!0}),iP(e)&&(0,Ye.jsx)(pP,{x:n,y:r,size:e.size}),aP(e)&&(0,Ye.jsx)(hP,{x:n,y:r,size:e.size}),sP(e)&&(0,Ye.jsx)(fP,{x:n,y:r,width:e.width,height:e.height,borderRadius:e.borderRadius}),(0,Ye.jsx)(dP,{points:i.points}),(0,Ye.jsx)(cP,{datum:t,x:i.text[0],y:i.text[1],note:o})]})},gP=function(e,t){t.forEach((function(t,n){var r=t[0],o=t[1];0===n?e.moveTo(r,o):e.lineTo(r,o)}))};function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bP={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:_C,accent:PC,dark2:MC,paired:DC,pastel1:LC,pastel2:$C,set1:jC,set2:FC,set3:BC,tableau10:VA("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},xP=Object.keys(bP),wP={brown_blueGreen:_S,purpleRed_green:MS,pink_yellowGreen:LS,purple_orange:jS,red_blue:BS,red_grey:zS,red_yellow_blue:WS,red_yellow_green:HS,spectral:XS},AP=Object.keys(wP),SP={brown_blueGreen:PS,purpleRed_green:DS,pink_yellowGreen:$S,purple_orange:FS,red_blue:VS,red_grey:US,red_yellow_blue:qS,red_yellow_green:GS,spectral:KS},CP={blues:YS,greens:JS,greys:eC,oranges:nC,purples:oC,reds:aC,blue_green:lC,blue_purple:cC,green_blue:pC,orange_red:fC,purple_blue_green:gC,purple_blue:vC,purple_red:xC,red_purple:AC,yellow_green_blue:CC,yellow_green:EC,yellow_orange_brown:IC,yellow_orange_red:RC},kP=Object.keys(CP),EP={blues:QS,greens:ZS,greys:tC,oranges:rC,purples:iC,reds:sC,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:zC,inferno:WC,magma:UC,plasma:qC,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:ak,cool:sk,cubehelixDefault:ck,blue_green:uC,blue_purple:dC,green_blue:hC,orange_red:mC,purple_blue_green:yC,purple_blue:bC,purple_red:wC,red_purple:SC,yellow_green_blue:kC,yellow_green:TC,yellow_orange_brown:OC,yellow_orange_red:NC},TP=yP({},bP,wP,CP),IP=(Object.keys(TP),yP({},SP,EP,{rainbow:uk,sinebow:fk})),OP=(Object.keys(IP),function(e,t){if("function"==typeof e)return e;if(wI()(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var n=AA()(t,e.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return AA()(t,e.from)};if(Array.isArray(e.modifiers)){for(var o,i=[],a=function(){var e=o.value,t=e[0],n=e[1];if("brighter"===t)i.push((function(e){return e.brighter(n)}));else if("darker"===t)i.push((function(e){return e.darker(n)}));else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");i.push((function(e){return e.opacity=n,e}))}},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vP(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(o=s()).done;)a();return 0===i.length?r:function(e){return i.reduce((function(e,t){return t(e)}),cS(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),RP=function(e,t){return(0,O.useMemo)((function(){return OP(e,t)}),[e,t])},NP=(gv().oneOfType([gv().string,gv().func,gv().shape({theme:gv().string.isRequired}),gv().shape({from:gv().string.isRequired,modifiers:gv().arrayOf(gv().array)})]),function(e,t){if("function"==typeof e)return e;var n="function"==typeof t?t:function(e){return AA()(e,t)};if(Array.isArray(e)){var r=BA(e),o=function(e){return r(n(e))};return o.scale=r,o}if(wI()(e)){if(function(e){return void 0!==e.datum}(e))return function(t){return AA()(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return xP.includes(e)}(e.scheme)){var i=BA(TP[e.scheme]),a=function(e){return i(n(e))};return a.scale=i,a}if(function(e){return AP.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=BA(TP[e.scheme][e.size||11]),l=function(e){return s(n(e))};return l.scale=s,l}if(function(e){return kP.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var u=BA(TP[e.scheme][e.size||9]),c=function(e){return u(n(e))};return c.scale=u,c}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}});function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_P.apply(this,arguments)}var PP={top:0,right:0,bottom:0,left:0},MP=function(e){var t,n=e.direction,r=e.itemsSpacing,o=e.padding,i=e.itemCount,a=e.itemWidth,s=e.itemHeight;if("number"!=typeof o&&("object"!=typeof(t=o)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var l="number"==typeof o?{top:o,right:o,bottom:o,left:o}:_P({},PP,o),u=l.left+l.right,c=l.top+l.bottom,d=a+u,p=s+c,h=(i-1)*r;return"row"===n?d=a*i+h+u:"column"===n&&(p=s*i+h+c),{width:d,height:p,padding:l}},DP=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,o=e.containerWidth,i=e.containerHeight,a=e.width,s=e.height,l=n,u=r;switch(t){case"top":l+=(o-a)/2;break;case"top-right":l+=o-a;break;case"right":l+=o-a,u+=(i-s)/2;break;case"bottom-right":l+=o-a,u+=i-s;break;case"bottom":l+=(o-a)/2,u+=i-s;break;case"bottom-left":u+=i-s;break;case"left":u+=(i-s)/2;break;case"center":l+=(o-a)/2,u+=(i-s)/2}return{x:l,y:u}},LP=function(e){var t,n,r,o,i,a,s=e.direction,l=e.justify,u=e.symbolSize,c=e.symbolSpacing,d=e.width,p=e.height;switch(s){case"left-to-right":t=0,n=(p-u)/2,o=p/2,a="central",l?(r=d,i="end"):(r=u+c,i="start");break;case"right-to-left":t=d-u,n=(p-u)/2,o=p/2,a="central",l?(r=0,i="start"):(r=d-u-c,i="end");break;case"top-to-bottom":t=(d-u)/2,n=0,r=d/2,i="middle",l?(o=p,a="alphabetic"):(o=u+c,a="text-before-edge");break;case"bottom-to-top":t=(d-u)/2,n=p-u,r=d/2,i="middle",l?(o=0,a="text-before-edge"):(o=p-u-c,a="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:o,labelAnchor:i,labelAlignment:a}},$P={circle:function(e){var t=e.x,n=e.y,r=e.size,o=e.fill,i=e.opacity,a=void 0===i?1:i,s=e.borderWidth,l=void 0===s?0:s,u=e.borderColor;return(0,Ye.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:o,opacity:a,strokeWidth:l,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,o=e.fill,i=e.opacity,a=void 0===i?1:i,s=e.borderWidth,l=void 0===s?0:s,u=e.borderColor;return(0,Ye.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,Ye.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:o,opacity:a,strokeWidth:l,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,o=e.fill,i=e.opacity,a=void 0===i?1:i,s=e.borderWidth,l=void 0===s?0:s,u=e.borderColor;return(0,Ye.jsx)("rect",{x:t,y:n,fill:o,opacity:a,strokeWidth:l,stroke:void 0===u?"transparent":u,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,o=e.fill,i=e.opacity,a=void 0===i?1:i,s=e.borderWidth,l=void 0===s?0:s,u=e.borderColor;return(0,Ye.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,Ye.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:o,opacity:a,strokeWidth:l,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})})}},jP=function(e){var t,n,r,o,i,a,s,l,u,c,d,p=e.x,h=e.y,f=e.width,m=e.height,g=e.data,y=e.direction,v=void 0===y?"left-to-right":y,b=e.justify,x=void 0!==b&&b,w=e.textColor,A=e.background,S=void 0===A?"transparent":A,C=e.opacity,k=void 0===C?1:C,E=e.symbolShape,T=void 0===E?"square":E,I=e.symbolSize,R=void 0===I?16:I,N=e.symbolSpacing,_=void 0===N?8:N,P=e.symbolBorderWidth,M=void 0===P?0:P,D=e.symbolBorderColor,L=void 0===D?"transparent":D,$=e.onClick,j=e.onMouseEnter,F=e.onMouseLeave,B=e.toggleSerie,V=e.effects,z=(0,O.useState)({}),U=z[0],W=z[1],q=XI(),H=(0,O.useCallback)((function(e){if(V){var t=V.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return _P({},e,t.style)}),{});W(t)}null==j||j(g,e)}),[j,g,V]),G=(0,O.useCallback)((function(e){if(V){var t=V.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return _P({},e,t.style)}),{});W(t)}null==F||F(g,e)}),[F,g,V]),X=LP({direction:v,justify:x,symbolSize:null!=(t=U.symbolSize)?t:R,symbolSpacing:_,width:f,height:m}),K=X.symbolX,Y=X.symbolY,Q=X.labelX,J=X.labelY,Z=X.labelAnchor,ee=X.labelAlignment,te=[$,j,F,B].some((function(e){return void 0!==e})),ne="function"==typeof T?T:$P[T];return(0,Ye.jsxs)("g",{transform:"translate("+p+","+h+")",style:{opacity:null!=(n=U.itemOpacity)?n:k},children:[(0,Ye.jsx)("rect",{width:f,height:m,fill:null!=(r=U.itemBackground)?r:S,style:{cursor:te?"pointer":"auto"},onClick:function(e){null==$||$(g,e),null==B||B(g.id)},onMouseEnter:H,onMouseLeave:G}),O.createElement(ne,_P({id:g.id,x:K,y:Y,size:null!=(o=U.symbolSize)?o:R,fill:null!=(i=null!=(a=g.fill)?a:g.color)?i:"black",borderWidth:null!=(s=U.symbolBorderWidth)?s:M,borderColor:null!=(l=U.symbolBorderColor)?l:L},g.hidden?q.legends.hidden.symbol:void 0)),(0,Ye.jsx)("text",{textAnchor:Z,style:_P({},YI(q.legends.text),{fill:null!=(u=null!=(c=null!=(d=U.itemTextColor)?d:w)?c:q.legends.text.fill)?u:"black",dominantBaseline:ee,pointerEvents:"none",userSelect:"none"},g.hidden?q.legends.hidden.text:void 0),x:Q,y:J,children:g.label})]})},FP=function(e){var t=e.data,n=e.x,r=e.y,o=e.direction,i=e.padding,a=void 0===i?0:i,s=e.justify,l=e.effects,u=e.itemWidth,c=e.itemHeight,d=e.itemDirection,p=void 0===d?"left-to-right":d,h=e.itemsSpacing,f=void 0===h?0:h,m=e.itemTextColor,g=e.itemBackground,y=void 0===g?"transparent":g,v=e.itemOpacity,b=void 0===v?1:v,x=e.symbolShape,w=e.symbolSize,A=e.symbolSpacing,S=e.symbolBorderWidth,C=e.symbolBorderColor,k=e.onClick,E=e.onMouseEnter,T=e.onMouseLeave,I=e.toggleSerie,O=MP({itemCount:t.length,itemWidth:u,itemHeight:c,itemsSpacing:f,direction:o,padding:a}).padding,R="row"===o?u+f:0,N="column"===o?c+f:0;return(0,Ye.jsx)("g",{transform:"translate("+n+","+r+")",children:t.map((function(e,t){return(0,Ye.jsx)(jP,{data:e,x:t*R+O.left,y:t*N+O.top,width:u,height:c,direction:p,justify:s,effects:l,textColor:m,background:y,opacity:b,symbolShape:x,symbolSize:w,symbolSpacing:A,symbolBorderWidth:S,symbolBorderColor:C,onClick:k,onMouseEnter:E,onMouseLeave:T,toggleSerie:I},t)}))})},BP=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,o=e.translateX,i=void 0===o?0:o,a=e.translateY,s=void 0===a?0:a,l=e.anchor,u=e.direction,c=e.padding,d=void 0===c?0:c,p=e.justify,h=e.itemsSpacing,f=void 0===h?0:h,m=e.itemWidth,g=e.itemHeight,y=e.itemDirection,v=e.itemTextColor,b=e.itemBackground,x=e.itemOpacity,w=e.symbolShape,A=e.symbolSize,S=e.symbolSpacing,C=e.symbolBorderWidth,k=e.symbolBorderColor,E=e.onClick,T=e.onMouseEnter,I=e.onMouseLeave,O=e.toggleSerie,R=e.effects,N=MP({itemCount:t.length,itemsSpacing:f,itemWidth:m,itemHeight:g,direction:u,padding:d}),_=N.width,P=N.height,M=DP({anchor:l,translateX:i,translateY:s,containerWidth:n,containerHeight:r,width:_,height:P}),D=M.x,L=M.y;return(0,Ye.jsx)(FP,{data:t,x:D,y:L,direction:u,padding:d,justify:p,effects:R,itemsSpacing:f,itemWidth:m,itemHeight:g,itemDirection:y,itemTextColor:v,itemBackground:b,itemOpacity:x,symbolShape:w,symbolSize:A,symbolSpacing:S,symbolBorderWidth:C,symbolBorderColor:k,onClick:E,onMouseEnter:T,onMouseLeave:I,toggleSerie:"boolean"==typeof O?void 0:O})},VP={start:"left",middle:"center",end:"right"};Array.prototype.slice;function zP(e){return function(){return e}}function UP(e,t){return e[t]}function WP(e){const t=[];return t.key=e,t}function qP(){var e=zP([]),t=Jk,n=nE,r=UP;function o(o){var i,a,s=Array.from(e.apply(this,arguments),WP),l=s.length,u=-1;for(const e of o)for(i=0,++u;i<l;++i)(s[i][u]=[0,+r(e,s[i].key,u,o)]).data=e;for(i=0,a=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(t(s));i<l;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"===typeof t?t:zP(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"===typeof e?e:zP(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?Jk:"function"===typeof e?e:zP(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?nE:e,o):n},o}function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(this,arguments)}function GP(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var XP,KP=function(e){var t=e.bars,n=e.annotations,r=uP({data:t,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,n=e.width;return{width:n,height:t,size:Math.max(n,t)}}});return(0,Ye.jsx)(Ye.Fragment,{children:r.map((function(e,t){return(0,Ye.jsx)(mP,HP({},e),t)}))})},YP=function(e){var t=e.width,n=e.height,r=e.legends,o=e.toggleSerie;return(0,Ye.jsx)(Ye.Fragment,{children:r.map((function(e,r){var i,a=e[0],s=e[1];return(0,Ye.jsx)(BP,HP({},a,{containerWidth:t,containerHeight:n,data:null!=(i=a.data)?i:s,toggleSerie:a.toggleSerie&&"keys"===a.dataFrom?o:void 0}),r)}))})},QP=["data"],JP=["color","label"],ZP={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var t=e.color,n=e.label,r=GP(e,JP);return(0,Ye.jsx)(uA,{id:n,value:r.formattedValue,enableChip:!0,color:t})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},eM=HP({},ZP,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:function(e){var t,n=e.bar,r=n.data,o=GP(n,QP),i=e.style,a=i.borderColor,s=i.color,l=i.height,u=i.labelColor,c=i.labelOpacity,d=i.labelX,p=i.labelY,h=i.transform,f=i.width,m=e.borderRadius,g=e.borderWidth,y=e.label,v=e.shouldRenderLabel,b=e.isInteractive,x=e.onClick,w=e.onMouseEnter,A=e.onMouseLeave,S=e.tooltip,C=e.isFocusable,k=e.ariaLabel,E=e.ariaLabelledBy,T=e.ariaDescribedBy,I=XI(),R=gA(),N=R.showTooltipFromEvent,_=R.showTooltipAt,P=R.hideTooltip,M=(0,O.useMemo)((function(){return function(){return(0,O.createElement)(S,HP({},o,r))}}),[S,o,r]),D=(0,O.useCallback)((function(e){null==x||x(HP({color:o.color},r),e)}),[o,r,x]),L=(0,O.useCallback)((function(e){return N(M(),e)}),[N,M]),$=(0,O.useCallback)((function(e){null==w||w(r,e),N(M(),e)}),[r,w,N,M]),j=(0,O.useCallback)((function(e){null==A||A(r,e),P()}),[r,P,A]),F=(0,O.useCallback)((function(){_(M(),[o.absX+o.width/2,o.absY])}),[_,M,o]),B=(0,O.useCallback)((function(){P()}),[P]);return(0,Ye.jsxs)(rA.g,{transform:h,children:[(0,Ye.jsx)(rA.rect,{width:Uw(f,(function(e){return Math.max(e,0)})),height:Uw(l,(function(e){return Math.max(e,0)})),rx:m,ry:m,fill:null!=(t=r.fill)?t:s,strokeWidth:g,stroke:a,focusable:C,tabIndex:C?0:void 0,"aria-label":k?k(r):void 0,"aria-labelledby":E?E(r):void 0,"aria-describedby":T?T(r):void 0,onMouseEnter:b?$:void 0,onMouseMove:b?L:void 0,onMouseLeave:b?j:void 0,onClick:b?D:void 0,onFocus:b&&C?F:void 0,onBlur:b&&C?B:void 0}),v&&(0,Ye.jsx)(rA.text,{x:d,y:p,textAnchor:"middle",dominantBaseline:"central",fillOpacity:c,style:HP({},I.labels.text,{pointerEvents:"none",fill:u}),children:y})]})},defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),tM=HP({},ZP,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(XP=window.devicePixelRatio)?XP:1}),nM=function(e,t,n,r,o,i){return R_(r,{all:e.map(t),min:0,max:0},o,i).padding(n)},rM=function(e,t){return e.map((function(e){return HP({},t.reduce((function(e,t){return e[t]=null,e}),{}),e)}))},oM=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},iM=function(e){return[e,Number(e)]},aM=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],sM=function(e,t){return e>t},lM=function(e,t){return e<t},uM=function(e,t){return Array.from(" ".repeat(t-e),(function(t,n){return e+n}))},cM=function(e){return sM(e,0)?0:e},dM=function(e,t,n,r){var o=e.data,i=e.formatValue,a=e.getColor,s=e.getIndex,l=e.getTooltipLabel,u=e.innerPadding,c=void 0===u?0:u,d=e.keys,p=e.xScale,h=e.yScale,f=e.margin,m=n?lM:sM,g=o.map(oM),y=[];return d.forEach((function(e,n){return uM(0,p.domain().length).forEach((function(u){var d,v,b,x=iM(o[u][e]),w=x[0],A=x[1],S=s(o[u]),C=(null!=(d=p(S))?d:0)+t*n+c*n,k=m(v=A,0)?null!=(b=h(v))?b:0:r,E=function(e,t){var n;return m(e,0)?r-t:(null!=(n=h(e))?n:0)-r}(A,k),T={id:e,value:null===w?w:A,formattedValue:i(A),hidden:!1,index:u,indexValue:S,data:g[u]};y.push({key:e+"."+T.indexValue,index:y.length,data:T,x:C,y:k,absX:f.left+C,absY:f.top+k,width:t,height:E,color:a(T),label:l(T)})}))})),y},pM=function(e,t,n,r){var o=e.data,i=e.formatValue,a=e.getIndex,s=e.getColor,l=e.getTooltipLabel,u=e.keys,c=e.innerPadding,d=void 0===c?0:c,p=e.xScale,h=e.yScale,f=e.margin,m=n?lM:sM,g=o.map(oM),y=[];return u.forEach((function(e,n){return uM(0,h.domain().length).forEach((function(u){var c,v,b,x=iM(o[u][e]),w=x[0],A=x[1],S=a(o[u]),C=m(v=A,0)?r:null!=(b=p(v))?b:0,k=(null!=(c=h(S))?c:0)+t*n+d*n,E=function(e,t){var n;return m(e,0)?(null!=(n=p(e))?n:0)-r:r-t}(A,C),T={id:e,value:null===w?w:A,formattedValue:i(A),hidden:!1,index:u,indexValue:S,data:g[u]};y.push({key:e+"."+T.indexValue,index:y.length,data:T,x:C,y:k,absX:f.left+C,absY:f.top+k,width:E,height:t,color:s(T),label:l(T)})}))})),y},hM=function(e){var t,n,r=e.layout,o=e.minValue,i=e.maxValue,a=e.reverse,s=e.width,l=e.height,u=e.padding,c=void 0===u?0:u,d=e.innerPadding,p=void 0===d?0:d,h=e.valueScale,f=e.indexScale,m=e.hiddenIds,g=void 0===m?[]:m,y=GP(e,aM),v=y.keys.filter((function(e){return!g.includes(e)})),b=rM(y.data,v),x="vertical"===r?["y","x",s]:["x","y",l],w=x[0],A=x[1],S=x[2],C=nM(b,y.getIndex,c,f,S,A),k=HP({max:i,min:o,reverse:a},h),E="auto"===k.min?cM:function(e){return e},T=b.reduce((function(e,t){return[].concat(e,v.map((function(e){return t[e]})))}),[]).filter(Boolean),I=R_(k,{all:T,min:E(Math.min.apply(Math,T)),max:(n=Math.max.apply(Math,T),isFinite(n)?n:0)},"x"===w?s:l,w),O="vertical"===r?[C,I]:[I,C],R=O[0],N=O[1],_=(C.bandwidth()-p*(v.length-1))/v.length,P=[HP({},y,{data:b,keys:v,innerPadding:p,xScale:R,yScale:N}),_,k.reverse,null!=(t=I(0))?t:0];return{xScale:R,yScale:N,bars:_>0?"vertical"===r?dM.apply(void 0,P):pM.apply(void 0,P):[]}},fM=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],mM=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,t)):t},gM=function(e,t,n){var r=e.formatValue,o=e.getColor,i=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,l=e.stackedData,u=e.xScale,c=e.yScale,d=e.margin,p=[];return l.forEach((function(e){return u.domain().forEach((function(l,h){var f,m,g=e[h],y=null!=(f=u(i(g.data)))?f:0,v=(null!=(m=function(e){return c(e[n?0:1])}(g))?m:0)+.5*s,b=function(e,t){var r;return(null!=(r=c(e[n?1:0]))?r:0)-t}(g,v)-s,x=iM(g.data[e.key]),w=x[0],A=x[1],S={id:e.key,value:null===w?w:A,formattedValue:r(A),hidden:!1,index:h,indexValue:l,data:oM(g.data)};p.push({key:e.key+"."+l,index:p.length,data:S,x:y,y:v,absX:d.left+y,absY:d.top+v,width:t,height:b,color:o(S),label:a(S)})}))})),p},yM=function(e,t,n){var r=e.formatValue,o=e.getColor,i=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,l=e.stackedData,u=e.xScale,c=e.yScale,d=e.margin,p=[];return l.forEach((function(e){return c.domain().forEach((function(l,h){var f,m,g=e[h],y=null!=(f=c(i(g.data)))?f:0,v=(null!=(m=function(e){return u(e[n?1:0])}(g))?m:0)+.5*s,b=function(e,t){var r;return(null!=(r=u(e[n?0:1]))?r:0)-t}(g,v)-s,x=iM(g.data[e.key]),w=x[0],A=x[1],S={id:e.key,value:null===w?w:A,formattedValue:r(A),hidden:!1,index:h,indexValue:l,data:oM(g.data)};p.push({key:e.key+"."+l,index:p.length,data:S,x:v,y:y,absX:d.left+v,absY:d.top+y,width:b,height:t,color:o(S),label:a(S)})}))})),p},vM=function(e){var t,n=e.data,r=e.layout,o=e.minValue,i=e.maxValue,a=e.reverse,s=e.width,l=e.height,u=e.padding,c=void 0===u?0:u,d=e.valueScale,p=e.indexScale,h=e.hiddenIds,f=void 0===h?[]:h,m=GP(e,fM),g=m.keys.filter((function(e){return!f.includes(e)})),y=qP().keys(g).offset(rE)(rM(n,g)),v="vertical"===r?["y","x",s]:["x","y",l],b=v[0],x=v[1],w=v[2],A=nM(n,m.getIndex,c,p,w,x),S=HP({max:i,min:o,reverse:a},d),C=(t=mM(y),"log"===d.type?t.filter((function(e){return 0!==e})):t),k=R_(S,{all:C,min:Math.min.apply(Math,C),max:Math.max.apply(Math,C)},"x"===b?s:l,b),E="vertical"===r?[A,k]:[k,A],T=E[0],I=E[1],O=m.innerPadding>0?m.innerPadding:0,R=A.bandwidth(),N=[HP({},m,{innerPadding:O,stackedData:y,xScale:T,yScale:I}),R,S.reverse];return{xScale:T,yScale:I,bars:R>0?"vertical"===r?gM.apply(void 0,N):yM.apply(void 0,N):[]}},bM=function(e){var t=e.bars,n=e.direction,r=e.from,o=e.groupMode,i=e.layout,a=e.legendLabel,s=e.reverse,l=FO(null!=a?a:"indexes"===r?"indexValue":"id");return"indexes"===r?function(e,t,n){var r=HO()(e.map((function(e){var t,r;return{id:null!=(t=e.data.indexValue)?t:"",label:n(e.data),hidden:e.data.hidden,color:null!=(r=e.color)?r:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&r.reverse(),r}(t,i,l):function(e,t,n,r,o,i){var a=HO()(e.map((function(e){var t;return{id:e.data.id,label:i(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===r&&"column"===n&&!0!==o||"horizontal"===t&&"stacked"===r&&!0===o)&&a.reverse(),a}(t,i,n,o,s,l)},xM=function(e,t,n){var r=e.get(t)||0;e.set(t,r+n)},wM=function(e){var t=e.indexBy,n=void 0===t?ZP.indexBy:t,r=e.keys,o=void 0===r?ZP.keys:r,i=e.label,a=void 0===i?ZP.label:i,s=e.tooltipLabel,l=void 0===s?ZP.tooltipLabel:s,u=e.valueFormat,c=e.colors,d=void 0===c?ZP.colors:c,p=e.colorBy,h=void 0===p?ZP.colorBy:p,f=e.borderColor,m=void 0===f?ZP.borderColor:f,g=e.labelTextColor,y=void 0===g?ZP.labelTextColor:g,v=e.groupMode,b=void 0===v?ZP.groupMode:v,x=e.layout,w=void 0===x?ZP.layout:x,A=e.reverse,S=void 0===A?ZP.reverse:A,C=e.data,k=e.minValue,E=void 0===k?ZP.minValue:k,T=e.maxValue,I=void 0===T?ZP.maxValue:T,R=e.margin,N=e.width,_=e.height,P=e.padding,M=void 0===P?ZP.padding:P,D=e.innerPadding,L=void 0===D?ZP.innerPadding:D,$=e.valueScale,j=void 0===$?ZP.valueScale:$,F=e.indexScale,B=void 0===F?ZP.indexScale:F,V=e.initialHiddenIds,z=void 0===V?ZP.initialHiddenIds:V,U=e.enableLabel,W=void 0===U?ZP.enableLabel:U,q=e.labelSkipWidth,H=void 0===q?ZP.labelSkipWidth:q,G=e.labelSkipHeight,X=void 0===G?ZP.labelSkipHeight:G,K=e.legends,Y=void 0===K?ZP.legends:K,Q=e.legendLabel,J=e.totalsOffset,Z=void 0===J?ZP.totalsOffset:J,ee=(0,O.useState)(null!=z?z:[]),te=ee[0],ne=ee[1],re=(0,O.useCallback)((function(e){ne((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),oe=BO(n),ie=BO(a),ae=BO(l),se=WI(u),le=XI(),ue=function(e,t){return(0,O.useMemo)((function(){return NP(e,t)}),[e,t])}(d,h),ce=RP(m,le),de=RP(y,le),pe=("grouped"===b?hM:vM)({layout:w,reverse:S,data:C,getIndex:oe,keys:o,minValue:E,maxValue:I,width:N,height:_,getColor:ue,padding:M,innerPadding:L,valueScale:j,indexScale:B,hiddenIds:te,formatValue:se,getTooltipLabel:ae,margin:R}),he=pe.bars,fe=pe.xScale,me=pe.yScale,ge=(0,O.useMemo)((function(){return he.filter((function(e){return null!==e.data.value})).map((function(e,t){return HP({},e,{index:t})}))}),[he]),ye=(0,O.useCallback)((function(e){var t=e.width,n=e.height;return!!W&&!(H>0&&t<H)&&!(X>0&&n<X)}),[W,H,X]),ve=(0,O.useMemo)((function(){return o.map((function(e){var t=he.find((function(t){return t.data.id===e}));return HP({},t,{data:HP({id:e},null==t?void 0:t.data,{hidden:te.includes(e)})})}))}),[te,o,he]),be=(0,O.useMemo)((function(){return Y.map((function(e){return[e,bM({bars:"keys"===e.dataFrom?ve:he,direction:e.direction,from:e.dataFrom,groupMode:b,layout:w,legendLabel:Q,reverse:S})]}))}),[Y,ve,he,b,w,Q,S]),xe=(0,O.useMemo)((function(){return function(e,t,n,r,o,i,a){void 0===r&&(r=ZP.layout),void 0===o&&(o=ZP.groupMode);var s=[];if(0===e.length)return s;var l=new Map,u=e[0].width,c=e[0].height;if("stacked"===o){var d=new Map;e.forEach((function(e){var t=e.data,n=t.indexValue,r=t.value;xM(l,n,Number(r)),function(e,t,n){var r=e.get(t)||0;e.set(t,r+(n>0?n:0))}(d,n,Number(r))})),d.forEach((function(e,o){var d,p,h,f=l.get(o)||0;"vertical"===r?(d=t(o),p=n(e),h=n(e/2)):(d=t(e),p=n(o),h=t(e/2)),d+="vertical"===r?u/2:i,p+="vertical"===r?-i:c/2,s.push({key:"total_"+o,x:d,y:p,value:f,formattedValue:a(f),animationOffset:h})}))}else if("grouped"===o){var p=new Map,h=new Map;e.forEach((function(e){var t=e.data,n=t.indexValue,r=t.value;xM(l,n,Number(r)),function(e,t,n){var r=e.get(t)||0;e.set(t,Math.max(r,Number(n)))}(p,n,Number(r)),function(e,t){var n=e.get(t)||0;e.set(t,n+1)}(h,n)})),p.forEach((function(e,o){var d,p,f,m=l.get(o)||0,g=h.get(o);"vertical"===r?(d=t(o),p=n(e),f=n(e/2)):(d=t(e),p=n(o),f=t(e/2)),d+="vertical"===r?g*u/2:i,p+="vertical"===r?-i:g*c/2,s.push({key:"total_"+o,x:d,y:p,value:m,formattedValue:a(m),animationOffset:f})}))}return s}(he,fe,me,w,b,Z,se)}),[he,fe,me,w,b,Z,se]);return{bars:he,barsWithValue:ge,xScale:fe,yScale:me,getIndex:oe,getLabel:ie,getTooltipLabel:ae,formatValue:se,getColor:ue,getBorderColor:ce,getLabelColor:de,shouldRenderBarLabel:ye,hiddenIds:te,toggleSerie:re,legendsWithData:be,barTotals:xe}},AM=function(e){var t=e.data,n=e.springConfig,r=e.animate,o=e.layout,i=void 0===o?eM.layout:o,a=XI();return $w(t,{keys:function(e){return e.key},from:function(e){return{x:"vertical"===i?e.x:e.animationOffset,y:"vertical"===i?e.animationOffset:e.y,labelOpacity:0}},enter:function(e){return{x:e.x,y:e.y,labelOpacity:1}},update:function(e){return{x:e.x,y:e.y,labelOpacity:1}},leave:function(e){return{x:"vertical"===i?e.x:e.animationOffset,y:"vertical"===i?e.animationOffset:e.y,labelOpacity:0}},config:n,immediate:!r,initial:r?void 0:null})((function(e,t){return(0,Ye.jsx)(rA.text,{x:e.x,y:e.y,fillOpacity:e.labelOpacity,style:HP({},a.labels.text,{pointerEvents:"none",fill:a.text.fill}),fontWeight:"bold",fontSize:a.labels.text.fontSize,fontFamily:a.labels.text.fontFamily,textAnchor:"vertical"===i?"middle":"start",alignmentBaseline:"vertical"===i?"alphabetic":"middle",children:t.formattedValue},t.key)}))},SM=["isInteractive","animate","motionConfig","theme","renderWrapper"],CM=function(e){var t=e.data,n=e.indexBy,r=e.keys,o=e.margin,i=e.width,a=e.height,s=e.groupMode,l=e.layout,u=e.reverse,c=e.minValue,d=e.maxValue,p=e.valueScale,h=e.indexScale,f=e.padding,m=e.innerPadding,g=e.axisTop,y=e.axisRight,v=e.axisBottom,b=void 0===v?eM.axisBottom:v,x=e.axisLeft,w=void 0===x?eM.axisLeft:x,A=e.enableGridX,S=void 0===A?eM.enableGridX:A,C=e.enableGridY,k=void 0===C?eM.enableGridY:C,E=e.gridXValues,T=e.gridYValues,I=e.layers,R=void 0===I?eM.layers:I,N=e.barComponent,_=void 0===N?eM.barComponent:N,P=e.enableLabel,M=void 0===P?eM.enableLabel:P,D=e.label,L=e.labelSkipWidth,$=void 0===L?eM.labelSkipWidth:L,j=e.labelSkipHeight,F=void 0===j?eM.labelSkipHeight:j,B=e.labelTextColor,V=e.markers,z=void 0===V?eM.markers:V,U=e.colorBy,W=e.colors,q=e.defs,H=void 0===q?eM.defs:q,G=e.fill,X=void 0===G?eM.fill:G,K=e.borderRadius,Y=void 0===K?eM.borderRadius:K,Q=e.borderWidth,J=void 0===Q?eM.borderWidth:Q,Z=e.borderColor,ee=e.annotations,te=void 0===ee?eM.annotations:ee,ne=e.legendLabel,re=e.tooltipLabel,oe=e.valueFormat,ie=e.isInteractive,ae=void 0===ie?eM.isInteractive:ie,se=e.tooltip,le=void 0===se?eM.tooltip:se,ue=e.onClick,ce=e.onMouseEnter,de=e.onMouseLeave,pe=e.legends,he=e.role,fe=void 0===he?eM.role:he,me=e.ariaLabel,ge=e.ariaLabelledBy,ye=e.ariaDescribedBy,ve=e.isFocusable,be=void 0===ve?eM.isFocusable:ve,xe=e.barAriaLabel,we=e.barAriaLabelledBy,Ae=e.barAriaDescribedBy,Se=e.initialHiddenIds,Ce=e.enableTotals,ke=void 0===Ce?eM.enableTotals:Ce,Ee=e.totalsOffset,Te=void 0===Ee?eM.totalsOffset:Ee,Ie=MI(),Oe=Ie.animate,Re=Ie.config,Ne=zI(i,a,o),_e=Ne.outerWidth,Pe=Ne.outerHeight,Me=Ne.margin,De=Ne.innerWidth,Le=Ne.innerHeight,$e=wM({indexBy:n,label:D,tooltipLabel:re,valueFormat:oe,colors:W,colorBy:U,borderColor:Z,labelTextColor:B,groupMode:s,layout:l,reverse:u,data:t,keys:r,minValue:c,maxValue:d,margin:Me,width:De,height:Le,padding:f,innerPadding:m,valueScale:p,indexScale:h,enableLabel:M,labelSkipWidth:$,labelSkipHeight:F,legends:pe,legendLabel:ne,initialHiddenIds:Se,totalsOffset:Te}),je=$e.bars,Fe=$e.barsWithValue,Be=$e.xScale,Ve=$e.yScale,ze=$e.getLabel,Ue=$e.getTooltipLabel,We=$e.getBorderColor,qe=$e.getLabelColor,He=$e.shouldRenderBarLabel,Ge=$e.toggleSerie,Xe=$e.legendsWithData,Ke=$e.barTotals,Qe=$w(Fe,{keys:function(e){return e.key},from:function(e){return HP({borderColor:We(e),color:e.color,height:0,labelColor:qe(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===l?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:We(e),color:e.color,height:e.height,labelColor:qe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:We(e),color:e.color,height:e.height,labelColor:qe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return HP({borderColor:We(e),color:e.color,height:0,labelColor:qe(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===l?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:Re,immediate:!Oe,initial:Oe?void 0:null}),Je=(0,O.useMemo)((function(){return{borderRadius:Y,borderWidth:J,enableLabel:M,isInteractive:ae,labelSkipWidth:$,labelSkipHeight:F,onClick:ue,onMouseEnter:ce,onMouseLeave:de,getTooltipLabel:Ue,tooltip:le,isFocusable:be,ariaLabel:xe,ariaLabelledBy:we,ariaDescribedBy:Ae}}),[Y,J,M,Ue,ae,F,$,ue,ce,de,le,be,xe,we,Ae]),Ze=WO(H,je,X,{dataKey:"data",targetKey:"data.fill"}),et={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};R.includes("annotations")&&(et.annotations=(0,Ye.jsx)(KP,{bars:je,annotations:te},"annotations")),R.includes("axes")&&(et.axes=(0,Ye.jsx)(U_,{xScale:Be,yScale:Ve,width:De,height:Le,top:g,right:y,bottom:b,left:w},"axes")),R.includes("bars")&&(et.bars=(0,Ye.jsx)(O.Fragment,{children:Qe((function(e,t){return(0,O.createElement)(_,HP({},Je,{bar:t,style:e,shouldRenderLabel:He(t),label:ze(t.data)}))}))},"bars")),R.includes("grid")&&(et.grid=(0,Ye.jsx)(H_,{width:De,height:Le,xScale:S?Be:null,yScale:k?Ve:null,xValues:E,yValues:T},"grid")),R.includes("legends")&&(et.legends=(0,Ye.jsx)(YP,{width:De,height:Le,legends:Xe,toggleSerie:Ge},"legends")),R.includes("markers")&&(et.markers=(0,Ye.jsx)(jO,{markers:z,width:De,height:Le,xScale:Be,yScale:Ve},"markers")),R.includes("totals")&&ke&&(et.totals=(0,Ye.jsx)(AM,{data:Ke,springConfig:Re,animate:Oe,layout:l},"totals"));var tt=(0,O.useMemo)((function(){return HP({},Je,{margin:Me,width:i,height:a,innerWidth:De,innerHeight:Le,bars:je,legendData:Xe,enableLabel:M,xScale:Be,yScale:Ve,tooltip:le,getTooltipLabel:Ue,onClick:ue,onMouseEnter:ce,onMouseLeave:de})}),[Je,Me,i,a,De,Le,je,Xe,M,Be,Ve,le,Ue,ue,ce,de]);return(0,Ye.jsx)(NO,{width:_e,height:Pe,margin:Me,defs:Ze,role:fe,ariaLabel:me,ariaLabelledBy:ge,ariaDescribedBy:ye,isFocusable:be,children:R.map((function(e,t){var n;return"function"==typeof e?(0,Ye.jsx)(O.Fragment,{children:(0,O.createElement)(e,tt)},t):null!=(n=null==et?void 0:et[e])?n:null}))})},kM=function(e){var t=e.isInteractive,n=void 0===t?eM.isInteractive:t,r=e.animate,o=void 0===r?eM.animate:r,i=e.motionConfig,a=void 0===i?eM.motionConfig:i,s=e.theme,l=e.renderWrapper,u=GP(e,SM);return(0,Ye.jsx)(ZI,{animate:o,isInteractive:n,motionConfig:a,renderWrapper:l,theme:s,children:(0,Ye.jsx)(CM,HP({isInteractive:n},u))})},EM=["isInteractive","renderWrapper","theme"],TM=function(e,t,n,r){return e.find((function(e){return function(e,t,n,r,o,i){return e<=o&&o<=e+n&&t<=i&&i<=t+r}(e.x+t.left,e.y+t.top,e.width,e.height,n,r)}))},IM=function(e){var t=e.data,n=e.indexBy,r=e.keys,o=e.margin,i=e.width,a=e.height,s=e.groupMode,l=e.layout,u=e.reverse,c=e.minValue,d=e.maxValue,p=e.valueScale,h=e.indexScale,f=e.padding,m=e.innerPadding,g=e.axisTop,y=e.axisRight,v=e.axisBottom,b=void 0===v?tM.axisBottom:v,x=e.axisLeft,w=void 0===x?tM.axisLeft:x,A=e.enableGridX,S=void 0===A?tM.enableGridX:A,C=e.enableGridY,k=void 0===C?tM.enableGridY:C,E=e.gridXValues,T=e.gridYValues,I=e.layers,R=void 0===I?tM.layers:I,N=e.renderBar,_=void 0===N?function(e,t){var n=t.bar,r=n.color,o=n.height,i=n.width,a=n.x,s=n.y,l=t.borderColor,u=t.borderRadius,c=t.borderWidth,d=t.label,p=t.labelColor,h=t.shouldRenderLabel;if(e.fillStyle=r,c>0&&(e.strokeStyle=l,e.lineWidth=c),e.beginPath(),u>0){var f=Math.min(u,o);e.moveTo(a+f,s),e.lineTo(a+i-f,s),e.quadraticCurveTo(a+i,s,a+i,s+f),e.lineTo(a+i,s+o-f),e.quadraticCurveTo(a+i,s+o,a+i-f,s+o),e.lineTo(a+f,s+o),e.quadraticCurveTo(a,s+o,a,s+o-f),e.lineTo(a,s+f),e.quadraticCurveTo(a,s,a+f,s),e.closePath()}else e.rect(a,s,i,o);e.fill(),c>0&&e.stroke(),h&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=p,e.fillText(d,a+i/2,s+o/2))}:N,P=e.enableLabel,M=void 0===P?tM.enableLabel:P,D=e.label,L=e.labelSkipWidth,$=void 0===L?tM.labelSkipWidth:L,j=e.labelSkipHeight,F=void 0===j?tM.labelSkipHeight:j,B=e.labelTextColor,V=e.colorBy,z=e.colors,U=e.borderRadius,W=void 0===U?tM.borderRadius:U,q=e.borderWidth,H=void 0===q?tM.borderWidth:q,G=e.borderColor,X=e.annotations,K=void 0===X?tM.annotations:X,Y=e.legendLabel,Q=e.tooltipLabel,J=e.valueFormat,Z=e.isInteractive,ee=void 0===Z?tM.isInteractive:Z,te=e.tooltip,ne=void 0===te?tM.tooltip:te,re=e.onClick,oe=e.onMouseEnter,ie=e.onMouseLeave,ae=e.legends,se=e.pixelRatio,le=void 0===se?tM.pixelRatio:se,ue=e.canvasRef,ce=e.enableTotals,de=void 0===ce?tM.enableTotals:ce,pe=e.totalsOffset,he=void 0===pe?tM.totalsOffset:pe,fe=(0,O.useRef)(null),me=XI(),ge=zI(i,a,o),ye=ge.margin,ve=ge.innerWidth,be=ge.innerHeight,xe=ge.outerWidth,we=ge.outerHeight,Ae=wM({indexBy:n,label:D,tooltipLabel:Q,valueFormat:J,colors:z,colorBy:V,borderColor:G,labelTextColor:B,groupMode:s,layout:l,reverse:u,data:t,keys:r,minValue:c,maxValue:d,margin:ye,width:ve,height:be,padding:f,innerPadding:m,valueScale:p,indexScale:h,enableLabel:M,labelSkipWidth:$,labelSkipHeight:F,legends:ae,legendLabel:Y,totalsOffset:he}),Se=Ae.bars,Ce=Ae.barsWithValue,ke=Ae.xScale,Ee=Ae.yScale,Te=Ae.getLabel,Ie=Ae.getTooltipLabel,Oe=Ae.getBorderColor,Re=Ae.getLabelColor,Ne=Ae.shouldRenderBarLabel,_e=Ae.legendsWithData,Pe=Ae.barTotals,Me=gA(),De=Me.showTooltipFromEvent,Le=Me.hideTooltip,$e=function(e){var t=e.annotations;return(0,O.useMemo)((function(){return t.map((function(e){return tP({},e,{computed:lP(tP({},e))})}))}),[t])}({annotations:uP({data:Se,annotations:K,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,n=e.height;return{width:t,height:n,size:Math.max(t,n)}}})}),je=(0,O.useMemo)((function(){return{borderRadius:W,borderWidth:H,isInteractive:ee,isFocusable:!1,labelSkipWidth:$,labelSkipHeight:F,margin:ye,width:i,height:a,innerWidth:ve,innerHeight:be,bars:Se,legendData:_e,enableLabel:M,xScale:ke,yScale:Ee,tooltip:ne,getTooltipLabel:Ie,onClick:re,onMouseEnter:oe,onMouseLeave:ie}}),[W,H,ee,$,F,ye,i,a,ve,be,Se,_e,M,ke,Ee,ne,Ie,re,oe,ie]),Fe=WI(J);(0,O.useEffect)((function(){var e,t=null==(e=fe.current)?void 0:e.getContext("2d");fe.current&&t&&(fe.current.width=xe*le,fe.current.height=we*le,t.scale(le,le),t.fillStyle=me.background,t.fillRect(0,0,xe,we),t.translate(ye.left,ye.top),R.forEach((function(e){"grid"===e?"number"==typeof me.grid.line.strokeWidth&&me.grid.line.strokeWidth>0&&(t.lineWidth=me.grid.line.strokeWidth,t.strokeStyle=me.grid.line.stroke,S&&X_(t,{width:ve,height:be,scale:ke,axis:"x",values:E}),k&&X_(t,{width:ve,height:be,scale:Ee,axis:"y",values:T})):"axes"===e?G_(t,{xScale:ke,yScale:Ee,width:ve,height:be,top:g,right:y,bottom:b,left:w,theme:me}):"bars"===e?Ce.forEach((function(e){_(t,{bar:e,borderColor:Oe(e),borderRadius:W,borderWidth:H,label:Te(e.data),labelColor:Re(e),shouldRenderLabel:Ne(e)})})):"legends"===e?_e.forEach((function(e){var n=e[0],r=e[1];!function(e,t){var n=t.data,r=t.containerWidth,o=t.containerHeight,i=t.translateX,a=void 0===i?0:i,s=t.translateY,l=void 0===s?0:s,u=t.anchor,c=t.direction,d=t.padding,p=void 0===d?0:d,h=t.justify,f=void 0!==h&&h,m=t.itemsSpacing,g=void 0===m?0:m,y=t.itemWidth,v=t.itemHeight,b=t.itemDirection,x=void 0===b?"left-to-right":b,w=t.itemTextColor,A=t.symbolSize,S=void 0===A?16:A,C=t.symbolSpacing,k=void 0===C?8:C,E=t.theme,T=MP({itemCount:n.length,itemWidth:y,itemHeight:v,itemsSpacing:g,direction:c,padding:p}),I=T.width,O=T.height,R=T.padding,N=DP({anchor:u,translateX:a,translateY:l,containerWidth:r,containerHeight:o,width:I,height:O}),_=N.x,P=N.y,M="row"===c?y+g:0,D="column"===c?v+g:0;e.save(),e.translate(_,P),e.font=E.legends.text.fontSize+"px "+(E.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,o,i=n*M+R.left,a=n*D+R.top,s=LP({direction:x,justify:f,symbolSize:S,symbolSpacing:k,width:y,height:v}),l=s.symbolX,u=s.symbolY,c=s.labelX,d=s.labelY,p=s.labelAnchor,h=s.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(i+l,a+u,S,S),e.textAlign=VP[p],"central"===h&&(e.textBaseline="middle"),e.fillStyle=null!=(o=null!=w?w:E.legends.text.fill)?o:"black",e.fillText(String(t.label),i+c,a+d)})),e.restore()}(t,HP({},n,{data:r,containerWidth:ve,containerHeight:be,theme:me}))})):"annotations"===e?function(e,t){var n=t.annotations,r=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(!function(e){var t=typeof e;return"string"===t||"function"===t}(t.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=r.annotations.link.outlineColor,e.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,e.beginPath(),gP(e,t.computed.points),e.stroke(),e.lineCap="butt"),iP(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),aP(t)&&r.annotations.symbol.outlineWidth>0&&(e.strokeStyle=r.annotations.symbol.outlineColor,e.lineWidth=2*r.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),sP(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=r.annotations.link.stroke,e.lineWidth=r.annotations.link.strokeWidth,e.beginPath(),gP(e,t.computed.points),e.stroke(),iP(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),aP(t)&&(e.fillStyle=r.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),sP(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:r}):(e.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=r.annotations.text.fill,e.strokeStyle=r.annotations.text.outlineColor,e.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}(t,{annotations:$e,theme:me}):"totals"===e&&de?function(e,t,n,r){void 0===r&&(r=tM.layout),e.fillStyle=n.text.fill,e.font="bold "+n.labels.text.fontSize+"px "+n.labels.text.fontFamily,e.textBaseline="vertical"===r?"alphabetic":"middle",e.textAlign="vertical"===r?"center":"start",t.forEach((function(t){e.fillText(t.formattedValue,t.x,t.y)}))}(t,Pe,me,l):"function"==typeof e&&e(t,je)})),t.save())}),[b,w,y,g,Ce,W,H,$e,S,k,Oe,Te,Re,E,T,s,a,be,ve,je,R,l,_e,ye.left,ye.top,we,xe,le,_,ke,Ee,u,Ne,me,i,Pe,de,Fe]);var Be=(0,O.useCallback)((function(e){if(Se&&fe.current){var t=VO(fe.current,e),n=t[0],r=t[1],o=TM(Se,ye,n,r);void 0!==o?(De((0,O.createElement)(ne,HP({},o.data,{color:o.color,label:o.label,value:Number(o.data.value)})),e),"mouseenter"===e.type&&(null==oe||oe(o.data,e))):Le()}}),[Le,ye,oe,Se,De,ne]),Ve=(0,O.useCallback)((function(e){if(Se&&fe.current){Le();var t=VO(fe.current,e),n=t[0],r=t[1],o=TM(Se,ye,n,r);o&&(null==ie||ie(o.data,e))}}),[Le,ye,ie,Se]),ze=(0,O.useCallback)((function(e){if(Se&&fe.current){var t=VO(fe.current,e),n=t[0],r=t[1],o=TM(Se,ye,n,r);void 0!==o&&(null==re||re(HP({},o.data,{color:o.color}),e))}}),[ye,re,Se]);return(0,Ye.jsx)("canvas",{ref:function(e){fe.current=e,ue&&"current"in ue&&(ue.current=e)},width:xe*le,height:we*le,style:{width:xe,height:we,cursor:ee?"auto":"normal"},onMouseEnter:ee?Be:void 0,onMouseMove:ee?Be:void 0,onMouseLeave:ee?Ve:void 0,onClick:ee?ze:void 0})},OM=(0,O.forwardRef)((function(e,t){var n=e.isInteractive,r=e.renderWrapper,o=e.theme,i=GP(e,EM);return(0,Ye.jsx)(ZI,{isInteractive:n,renderWrapper:r,theme:o,animate:!1,children:(0,Ye.jsx)(IM,HP({},i,{canvasRef:t}))})})),RM=function(e){return(0,Ye.jsx)(eO,{children:function(t){var n=t.width,r=t.height;return(0,Ye.jsx)(kM,HP({width:n,height:r},e))}})};(0,O.forwardRef)((function(e,t){return(0,Ye.jsx)(eO,{children:function(n){var r=n.width,o=n.height;return(0,Ye.jsx)(OM,HP({width:r,height:o},e,{ref:t}))}})}));const NM=e=>{let{regionScores:t}=e;const n={barClick:e=>{console.log(e)},legendClick:e=>{console.log(e)}},r=t.map(((e,t)=>`${t+1}\uc9c0\uc5ed`)),o=["#FF5C5C","#FFDA55","#B758E3","#2B78C0"],i=t.map(((e,t)=>({faction:`${t+1}\uc9c0\uc5ed`,"\uae30\uc5ec\ub3c4":e.score,color:o[t%o.length]})));return(0,Ye.jsx)("div",{style:{width:"400px",height:"400px"},children:(0,Ye.jsx)(RM,{data:i,keys:["\uae30\uc5ec\ub3c4"],indexBy:"faction",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:e=>{let{data:t}=e;return t.color},colorBy:"indexValue",theme:{labels:{text:{fontSize:10,fill:"#000000"}},legends:{text:{fontSize:10,fontFamily:"inherit",fill:"#3E3A3A",fontWeight:"bold"}},axis:{legend:{text:{fontSize:20,fontFamily:"inherit",fill:"#3E3A3A"}},ticks:{text:{fontSize:14,fontWeight:"bold",fontFamily:"inherit",fill:"#3E3A3A"}}}},labelSkipWidth:36,labelSkipHeight:12,onClick:n.barClick,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:4,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}],data:r.map(((e,t)=>({id:e,color:o[t%o.length]}))),data:t.map(((e,t)=>({label:e.regionName,color:o[t%o.length]}))),onClick:n.legendClick}]})})};var _M=n(76324);const PM=n.p+"static/media/monster.274051db64c80eb2b9cd.gif",MM=n.p+"static/media/flag.df517efca1c9712687f5.gif",DM=n.p+"static/media/helmet.d7a402801f66b37d0c43.gif",LM=n.p+"static/media/burgerking.1bfa5cf10bd792e49cfb.png",$M=n.p+"static/media/button-training.a7496c8b505cd4327d89.png",jM=n.p+"static/media/button-raidu.d6bcba065605cefd052f.png",FM=e=>{let t,{children:n,from:r="up",...o}=e;switch(r){case"down":t={y:"-60%"};break;case"up":default:t={y:"60%"};break;case"right":t={x:"-60%"};break;case"left":t={x:"60%"}}return(0,Ye.jsx)(Jl.div,{initial:t,animate:{x:0,y:0},transition:{type:"spring",stiffness:50,damping:6},...o,children:n})},BM=e=>{let{children:t,...n}=e;const[r,o]=(0,O.useState)(!1),i=(0,O.useRef)();return(0,O.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[t]=e;o(t.isIntersecting)}),{threshold:0});return i.current&&e.observe(i.current),()=>{i.current&&e.unobserve(i.current)}}),[i]),(0,Ye.jsx)("div",{ref:i,...n,children:r&&t})},VM=e=>{let{children:t,...n}=e;const[r,o]=(0,O.useState)(!1),i=(0,O.useRef)();return(0,O.useEffect)((()=>{const e=new IntersectionObserver((t=>{let[n]=t;n.isIntersecting&&(o(!0),e.disconnect())}),{threshold:0});return i.current&&e.observe(i.current),()=>{i.current&&e.disconnect()}}),[]),(0,Ye.jsx)("div",{ref:i,...n,children:r&&t})},zM=Ph,UM=e=>{let{raidPercentage:t}=e;const[n,r]=(0,O.useState)(0);return(0,O.useEffect)((()=>{const e=setInterval((()=>{r((n=>n<t?n+1:(clearInterval(e),t)))}),50);return()=>clearInterval(e)}),[t]),(0,Ye.jsxs)(_M.z,{percent:n,filledBackground:"linear-gradient(to right, #fefb72, #f0bb31)",unfilledBackground:"linear-gradient(to left, #55108e, #edcfff)",width:"800px",height:"20px",children:[(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{className:"ratio-icon",children:(0,Ye.jsx)("img",{style:{filter:`grayscale(${t?0:80}%)`},width:"60",src:PM})})}}),(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{className:"ratio-icon",children:(0,Ye.jsx)("img",{style:{filter:`grayscale(${t?0:80}%)`},width:"50",src:MM})})}}),(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{className:"ratio-icon",children:(0,Ye.jsx)("img",{style:{filter:`grayscale(${t?0:80}%)`},width:"60",src:PM})})}})]})},WM=()=>{const e=ke(),[t,n]=(0,O.useState)(null),[r,o]=(0,O.useState)(null),[i,a]=(0,O.useState)(null),[s,l]=(0,O.useState)(null),[u,c]=(0,O.useState)([]),[d,p]=(0,O.useState)(null),[h,f]=(0,O.useState)(null);return console.log(u),console.log(d/r),(0,O.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("accessToken");console.log("\uc0ac\uc6a9\ud55c \ud1a0\ud070 : "+e);const t=await _h.get(zM+"/api/raidu/mainpage",{headers:{Authorization:`Bearer ${e}`}});console.log(t),console.log("\ubcf4\uc2a4\ubaac\uc2a4\ud130 \uc124\uba85 : "+t.data.data.bossMonsterDescription),n(t.data.data.bossMonsterDescription),console.log("\ubcf4\uc2a4\ubaac\uc2a4\ud130 HP : "+t.data.data.bossMonsterHp),o(t.data.data.bossMonsterHp),console.log("\ubcf4\uc2a4\ubaac\uc2a4\ud130 \uc774\ubbf8\uc9c0 : "+t.data.data.bossMonsterImg),a(t.data.data.bossMonsterImg),console.log("\ubcf4\uc2a4\ubaac\uc2a4\ud130 \uc774\ub984 : "+t.data.data.bossMonsterName),l(t.data.data.bossMonsterName),console.log("\uc9c0\uc5ed \uc810\uc218 : "+t.data.data.regionScores),c(t.data.data.regionScores),console.log("\ucd1d \uae30\uc5ec\ub3c4 : "+t.data.data.totalContribute),p(t.data.data.totalContribute),console.log("\uc720\uc800 \uc218 : "+t.data.data.userCount),f(t.data.data.userCount)}catch(e){console.error("\ud398\uc774\uc9c0 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328..."),console.log(e)}})()}),[]),(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"home-page-wrapper",children:[(0,Ye.jsx)("div",{className:"home-topnav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"home-content-wrapper",children:(0,Ye.jsxs)("div",{className:"home-content",children:[(0,Ye.jsx)("div",{className:"home-slider",children:(0,Ye.jsx)(hv,{})}),(0,Ye.jsx)("div",{className:"home-num-container",children:(0,Ye.jsx)(VM,{children:(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,Ye.jsx)("div",{style:{color:"#66CD79"},children:(0,Ye.jsx)(fv,{targetNumber:h})}),(0,Ye.jsx)("div",{children:"\xa0 \uba85\uc758 \uc720\uc800\uc640 \ud568\uaed8 \ud558\uc138\uc694!"})]})})})}),(0,Ye.jsxs)("div",{className:"home-button-group",children:[(0,Ye.jsxs)("div",{className:"home-button-left",onClick:()=>e("/raid"),children:[(0,Ye.jsx)("h3",{children:"\ub808\uc774\ub4dc"}),(0,Ye.jsx)("img",{src:jM,alt:"\ub808\uc774\ub4dc"})]}),(0,Ye.jsxs)("div",{className:"home-button-right",onClick:()=>e("/notfound"),children:[(0,Ye.jsx)("h3",{children:"\uc6b4\ub3d9\ubc31\uacfc"}),(0,Ye.jsx)("img",{src:$M,alt:"\uc6b4\ub3d9\ubc31\uacfc"})]})]}),(0,Ye.jsx)("div",{className:"home-button-icon",children:(0,Ye.jsx)("img",{src:DM,alt:"\ud5ec\uba67"})}),(0,Ye.jsx)("div",{style:{height:"700px",width:"950px"},children:(0,Ye.jsx)(VM,{children:(0,Ye.jsx)(FM,{children:(0,Ye.jsxs)("div",{className:"home-stat-container",children:[(0,Ye.jsx)("div",{className:"home-season-title",children:"Season1"}),(0,Ye.jsxs)("div",{className:"home-season-content",children:[(0,Ye.jsxs)("div",{className:"content-chart-container",children:[(0,Ye.jsx)("div",{className:"chart-title",children:"\uc2dc\uc98c \uae30\uc5ec\ub3c4"}),(0,Ye.jsx)("div",{className:"chart-chart",children:(0,Ye.jsx)(NM,{regionScores:u})}),(0,Ye.jsx)("div",{className:"chart-symbol",children:(0,Ye.jsx)("div",{className:"symbol-container"})})]}),(0,Ye.jsxs)("div",{className:"season-boss-image",children:[(0,Ye.jsx)("div",{className:"chart-title",children:"\uc2dc\uc98c \ubcf4\uc2a4"}),(0,Ye.jsx)("h2",{style:{fontSize:"24px",marginTop:"10px",color:"#948B8B"},children:s}),(0,Ye.jsx)("img",{src:LM,alt:"\uc2dc\uc98c \ubcf4\uc2a4"})]}),(0,Ye.jsxs)("div",{className:"season-boss-text",children:[(0,Ye.jsx)("div",{className:"chart-title",children:"\ubc30\uacbd"}),(0,Ye.jsx)("div",{children:t})]})]}),(0,Ye.jsxs)("div",{className:"home-season-ratio",children:[(0,Ye.jsx)("div",{className:"chart-title",style:{marginBottom:"40px"},children:"\ud1a0\ubc8c \ud604\ud669"}),(0,Ye.jsx)(UM,{raidPercentage:d/r*100}),(0,Ye.jsxs)("div",{style:{fontWeight:"bold",paddingTop:"10px",width:"85%",textAlign:"end",fontSize:"14px"},children:[(0,Ye.jsx)(fv,{targetNumber:d})," \xa0 / \xa0 ",r]})]})]})})})})]})})]})})};function qM(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"string"===typeof e})).join(" ")}var HM=n(89287),GM=n.n(HM);function XM(e){return JSON.stringify(e)}var KM=GM()((function(e){var t,n=void 0===e?{}:e,r=n.useFallbackLocale,o=void 0===r||r,i=n.fallbackLocale,a=void 0===i?"en-US":i,s=[];if("undefined"!==typeof window){var l=window.navigator;s=s.concat(l.languages,l.language,l.userLanguage,l.browserLanguage,l.systemLanguage)}return o&&s.push(a),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return t[0]+"-"+t[1].toUpperCase()}))}((t=s).filter((function(e,n){return e&&t.indexOf(e)===n})))}),XM);var YM=GM()((function(e){return KM(e)[0]||null}),XM);const QM=YM;function JM(e,t,n){return function(r,o){void 0===o&&(o=n);var i=e(r)+o;return t(i)}}function ZM(e){return function(t){return new Date(e(t).getTime()-1)}}function eD(e,t){return function(n){return[e(n),t(n)]}}function tD(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function nD(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function rD(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function oD(e){var t=tD(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var iD=JM(tD,oD,-100),aD=JM(tD,oD,100),sD=ZM(aD),lD=JM(tD,sD,-100),uD=(JM(tD,sD,100),eD(oD,sD));function cD(e){var t=tD(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var dD=JM(tD,cD,-10),pD=JM(tD,cD,10),hD=ZM(pD),fD=JM(tD,hD,-10),mD=(JM(tD,hD,10),eD(cD,hD));function gD(e){var t=tD(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var yD=JM(tD,gD,-1),vD=JM(tD,gD,1),bD=ZM(vD),xD=JM(tD,bD,-1),wD=(JM(tD,bD,1),eD(gD,bD));function AD(e,t){return function(n,r){void 0===r&&(r=t);var o=tD(n),i=nD(n)+r,a=new Date;return a.setFullYear(o,i,1),a.setHours(0,0,0,0),e(a)}}function SD(e){var t=tD(e),n=nD(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var CD=AD(SD,-1),kD=AD(SD,1),ED=ZM(kD),TD=AD(ED,-1),ID=(AD(ED,1),eD(SD,ED));function OD(e,t){return function(n,r){void 0===r&&(r=t);var o=tD(n),i=nD(n),a=rD(n)+r,s=new Date;return s.setFullYear(o,i,a),s.setHours(0,0,0,0),e(s)}}function RD(e){var t=tD(e),n=nD(e),r=rD(e),o=new Date;return o.setFullYear(t,n,r),o.setHours(0,0,0,0),o}OD(RD,-1);var ND,_D=ZM(OD(RD,1)),PD=(OD(_D,-1),OD(_D,1),eD(RD,_D));function MD(e){return rD(ED(e))}function DD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $D,jD={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},FD=(LD(ND={},jD.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),LD(ND,jD.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),LD(ND,jD.HEBREW,["he","he-IL"]),ND),BD=($D=Array(7),function(e){if(Array.isArray(e))return DD(e)}($D)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}($D)||function(e,t){if(e){if("string"===typeof e)return DD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DD(e,t):void 0}}($D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t})),VD=new Map;function zD(e){return function(t,n){return function(e){return function(t,n){var r=t||QM();VD.has(r)||VD.set(r,new Map);var o=VD.get(r);return o.has(e)||o.set(e,new Intl.DateTimeFormat(r,e).format),o.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}zD({day:"numeric",month:"numeric",year:"numeric"});var UD=zD({day:"numeric"}),WD=zD({day:"numeric",month:"long",year:"numeric"}),qD=zD({month:"long"}),HD=zD({month:"long",year:"numeric"}),GD=zD({weekday:"short"}),XD=zD({weekday:"long"}),KD=zD({year:"numeric"}),YD=BD[0],QD=BD[5],JD=BD[6];function ZD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jD.ISO_8601,n=e.getDay();switch(t){case jD.ISO_8601:return(n+6)%7;case jD.ARABIC:return(n+1)%7;case jD.HEBREW:case jD.US:return n;default:throw new Error("Unsupported calendar type.")}}function eL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jD.ISO_8601,n=tD(e),r=nD(e),o=e.getDate()-ZD(e,t);return new Date(n,r,o)}function tL(e,t){switch(e){case"century":return oD(t);case"decade":return cD(t);case"year":return gD(t);case"month":return SD(t);case"day":return RD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function nL(e,t){switch(e){case"century":return aD(t);case"decade":return pD(t);case"year":return vD(t);case"month":return kD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function rL(e,t){switch(e){case"century":return sD(t);case"decade":return hD(t);case"year":return bD(t);case"month":return ED(t);case"day":return _D(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oL(e,t){switch(e){case"century":return uD(t);case"decade":return mD(t);case"year":return wD(t);case"month":return ID(t);case"day":return PD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function iL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KD;return(arguments.length>2?arguments[2]:void 0).map((function(n){return t(e,n)})).join(" \u2013 ")}function aL(e,t,n){return iL(e,t,mD(n))}function sL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jD.ISO_8601,n=e.getDay();switch(t){case jD.ARABIC:case jD.HEBREW:return n===QD||n===JD;case jD.ISO_8601:case jD.US:return n===JD||n===YD;default:throw new Error("Unsupported calendar type.")}}function lL(e){return lL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lL(e)}var uL=Object.values(jD),cL=["century","decade","year","month"],dL=gv().oneOf(uL),pL=gv().oneOfType([gv().string,gv().arrayOf(gv().string)]),hL=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(lL(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var o=e.maxDate;return o&&r>o?new Error("Invalid prop `".concat(t,"` of type `").concat(lL(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},fL=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(lL(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var o=e.minDate;return o&&r<o?new Error("Invalid prop `".concat(t,"` of type `").concat(lL(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},mL=gv().oneOfType([gv().func,gv().shape({current:gv().any})]),gL=gv().oneOfType([gv().instanceOf(Date),gv().arrayOf(gv().instanceOf(Date))]),yL=gv().arrayOf(gv().oneOf(cL)),vL=function(e,t,n){var r=e[t],o=e.views||cL;return void 0!==r&&-1===o.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(o.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};vL.isRequired=function(e,t,n){var r=e[t];return r?vL(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var bL={activeStartDate:gv().instanceOf(Date).isRequired,hover:gv().instanceOf(Date),locale:gv().string,maxDate:fL,minDate:hL,onClick:gv().func,onMouseOver:gv().func,tileClassName:gv().oneOfType([gv().func,pL]),tileContent:gv().oneOfType([gv().func,gv().node]),value:gL,valueType:gv().string},xL={activeStartDate:gv().instanceOf(Date).isRequired,classes:gv().arrayOf(gv().string).isRequired,date:gv().instanceOf(Date).isRequired,locale:gv().string,maxDate:fL,minDate:hL,onClick:gv().func,onMouseOver:gv().func,style:gv().objectOf(gv().oneOfType([gv().string,gv().number])),tileClassName:gv().oneOfType([gv().func,pL]),tileContent:gv().oneOfType([gv().func,gv().node]),tileDisabled:gv().func},wL="react-calendar__navigation";function AL(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,o=void 0===r?HD:r,i=e.formatYear,a=void 0===i?KD:i,s=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=void 0===c?"":c,p=e.navigationAriaLive,h=e.navigationLabel,f=e.next2AriaLabel,m=void 0===f?"":f,g=e.next2Label,y=void 0===g?"\xbb":g,v=e.nextAriaLabel,b=void 0===v?"":v,x=e.nextLabel,w=void 0===x?"\u203a":x,A=e.prev2AriaLabel,S=void 0===A?"":A,C=e.prev2Label,k=void 0===C?"\xab":C,E=e.prevAriaLabel,T=void 0===E?"":E,I=e.prevLabel,R=void 0===I?"\u2039":I,N=e.setActiveStartDate,_=e.showDoubleView,P=e.view,M=e.views.indexOf(P)>0,D="century"!==P,L=function(e,t){switch(e){case"century":return iD(t);case"decade":return dD(t);case"year":return yD(t);case"month":return CD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,t),$=D&&function(e,t){switch(e){case"decade":return dD(t,-100);case"year":return yD(t,-10);case"month":return CD(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,t),j=nL(P,t),F=D&&function(e,t){switch(e){case"decade":return pD(t,100);case"year":return vD(t,10);case"month":return kD(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,t),B=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return lD(t);case"decade":return fD(t);case"year":return xD(t);case"month":return TD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,t);return u&&u>=e}(),V=D&&function(){if($.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return fD(t,-100);case"year":return xD(t,-10);case"month":return TD(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,t);return u&&u>=e}(),z=l&&l<j,U=D&&l&&l<F;function W(e){var t=function(){switch(P){case"century":return function(e,t,n){return iL(e,t,uD(n))}(s,a,e);case"decade":return aL(s,a,e);case"year":return a(s,e);case"month":return o(s,e);default:throw new Error("Invalid view: ".concat(P,"."))}}();return h?h({date:e,label:t,locale:s||YM(),view:P}):t}return O.createElement("div",{className:wL},null!==k&&D&&O.createElement("button",{"aria-label":S,className:"".concat(wL,"__arrow ").concat(wL,"__prev2-button"),disabled:V,onClick:function(){N($,"prev2")},type:"button"},k),null!==R&&O.createElement("button",{"aria-label":T,className:"".concat(wL,"__arrow ").concat(wL,"__prev-button"),disabled:B,onClick:function(){N(L,"prev")},type:"button"},R),function(){var e="".concat(wL,"__label");return O.createElement("button",{"aria-label":d,"aria-live":p,className:e,disabled:!M,onClick:n,style:{flexGrow:1},type:"button"},O.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},W(t)),_&&O.createElement(O.Fragment,null,O.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),O.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},W(j))))}(),null!==w&&O.createElement("button",{"aria-label":b,className:"".concat(wL,"__arrow ").concat(wL,"__next-button"),disabled:z,onClick:function(){N(j,"next")},type:"button"},w),null!==y&&D&&O.createElement("button",{"aria-label":m,className:"".concat(wL,"__arrow ").concat(wL,"__next2-button"),disabled:U,onClick:function(){N(F,"next2")},type:"button"},y))}AL.propTypes={activeStartDate:gv().instanceOf(Date).isRequired,drillUp:gv().func.isRequired,formatMonthYear:gv().func,formatYear:gv().func,locale:gv().string,maxDate:gv().instanceOf(Date),minDate:gv().instanceOf(Date),navigationAriaLabel:gv().string,navigationAriaLive:gv().string,navigationLabel:gv().func,next2AriaLabel:gv().string,next2Label:gv().node,nextAriaLabel:gv().string,nextLabel:gv().node,prev2AriaLabel:gv().string,prev2Label:gv().node,prevAriaLabel:gv().string,prevLabel:gv().node,setActiveStartDate:gv().func.isRequired,showDoubleView:gv().bool,view:vL.isRequired,views:yL.isRequired};var SL=["children","className","direction","count","offset","style","wrap"];function CL(){return CL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CL.apply(this,arguments)}function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kL(Object(n),!0).forEach((function(t){TL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IL(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function OL(e){return"".concat(e,"%")}function RL(e){var t=e.children,n=e.className,r=e.direction,o=e.count,i=e.offset,a=e.style,s=e.wrap,l=IL(e,SL);return O.createElement("div",CL({className:n,style:EL({display:"flex",flexDirection:r,flexWrap:s?"wrap":"no-wrap"},a)},l),O.Children.map(t,(function(e,t){return O.cloneElement(e,EL(EL({},e.props),{},{style:{flexBasis:OL(100/o),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:i&&0===t?OL(100*i/o):null}}))})))}function NL(e){return function(e){if(Array.isArray(e))return _L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PL(e,t){return t[0]<=e&&t[1]>=e}function ML(e,t){return PL(e[0],t)||PL(e[1],t)}function DL(e,t,n){var r=[];if(ML(t,e)){r.push(n);var o=PL(e[0],t),i=PL(e[1],t);o&&r.push("".concat(n,"Start")),i&&r.push("".concat(n,"End")),o&&i&&r.push("".concat(n,"BothEnds"))}return r}function LL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,o=e.dateType,i=e.hover,a="react-calendar__tile",s=[a];if(!r)return s;if(!Array.isArray(r)&&!o)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var l=new Date,u=Array.isArray(r)?r:oL(o,r);if(PL(l,u)&&s.push("".concat(a,"--now")),!t)return s;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var c,d,p=Array.isArray(t)?t:oL(n,t);d=u,(c=p)[0]<=d[0]&&c[1]>=d[1]?s.push("".concat(a,"--active")):ML(p,u)&&s.push("".concat(a,"--hasActive"));var h=DL(p,u,"".concat(a,"--range"));s.push.apply(s,NL(h));var f=[].concat(t);if(i&&1===f.length){var m=DL(i>p[0]?[p[0],i]:[i,p[0]],u,"".concat(a,"--hover"));s.push.apply(s,NL(m))}return s}RL.propTypes={children:gv().node,className:gv().string,count:gv().number.isRequired,direction:gv().string,offset:gv().number,style:gv().objectOf(gv().oneOfType([gv().string,gv().number])),wrap:gv().bool};var $L=["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"];function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(n),!0).forEach((function(t){BL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(){return VL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VL.apply(this,arguments)}function zL(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function UL(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,o=e.dateTransform,i=e.dateType,a=e.end,s=e.hover,l=e.offset,u=e.start,c=e.step,d=void 0===c?1:c,p=e.tile,h=e.value,f=e.valueType,m=zL(e,$L),g=[],y=u;y<=a;y+=d){var v=o(y);g.push(O.createElement(p,VL({key:v.getTime(),classes:LL({value:h,valueType:f,date:v,dateType:i,hover:s}),date:v,point:y},m)))}return O.createElement(RL,{className:t,count:r,offset:l,wrap:!0},g)}function WL(e){return WL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WL(e)}function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qL(Object(n),!0).forEach((function(t){JL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XL(e,t){return XL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XL(e,t)}function KL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Nve){return!1}}();return function(){var n,r=QL(e);if(t){var o=QL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===WL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YL(e)}(this,n)}}function YL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QL(e){return QL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QL(e)}function JL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZL(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function e$(e,t){var n=e.activeStartDate,r=e.date,o=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:o}):t}UL.propTypes=FL(FL({},bL),{},{activeStartDate:gv().instanceOf(Date),count:gv().number,dateTransform:gv().func.isRequired,dateType:gv().string,offset:gv().number,step:gv().number,tile:gv().func.isRequired});var t$=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XL(e,t)}(i,e);var t,n,r,o=KL(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return JL(YL(e=o.call.apply(o,[this].concat(n))),"state",{}),e}return t=i,n=[{key:"render",value:function(){var e=this.props,t=e.activeStartDate,n=e.children,r=e.classes,o=e.date,i=e.formatAbbr,a=e.locale,s=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,p=e.onMouseOver,h=e.style,f=e.tileDisabled,m=e.view,g=this.state,y=g.tileClassName,v=g.tileContent;return O.createElement("button",{className:qM(r,y),disabled:u&&c(u)>o||s&&l(s)<o||f&&f({activeStartDate:t,date:o,view:m}),onClick:d&&function(e){return d(o,e)},onFocus:p&&function(){return p(o)},onMouseOver:p&&function(){return p(o)},style:h,type:"button"},i?O.createElement("abbr",{"aria-label":i(a,o)},n):n,v)}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeStartDate,r=e.tileClassName,o=e.tileContent,i={};return(r!==t.tileClassNameProps||ZL(n,t.activeStartDateProps))&&(i.tileClassName=e$(e,r),i.tileClassNameProps=r),(o!==t.tileContentProps||ZL(n,t.activeStartDateProps))&&(i.tileContent=e$(e,o),i.tileContentProps=o),i.activeStartDateProps=n,i}}],n&&GL(t.prototype,n),r&&GL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(O.Component);t$.propTypes=HL(HL({},xL),{},{children:gv().node.isRequired,formatAbbr:gv().func,maxDateTransform:gv().func.isRequired,minDateTransform:gv().func.isRequired});var n$=["classes","formatYear"];function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r$(Object(n),!0).forEach((function(t){i$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a$(){return a$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a$.apply(this,arguments)}function s$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l$="react-calendar__century-view__decades__decade";function u$(e){var t=e.classes,n=e.formatYear,r=void 0===n?KD:n,o=s$(e,n$),i=o.date,a=o.locale;return O.createElement(t$,a$({},o,{classes:[].concat(t,l$),maxDateTransform:hD,minDateTransform:cD,view:"century"}),aL(a,r,i))}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p$(){return p$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p$.apply(this,arguments)}function h$(e){var t=function(e){return tD(oD(e))}(e.activeStartDate),n=t+99;return O.createElement(UL,p$({},e,{className:"react-calendar__century-view__decades",dateTransform:cD,dateType:"decade",end:n,start:t,step:10,tile:u$}))}function f$(e){return O.createElement("div",{className:"react-calendar__century-view"},O.createElement(h$,e))}u$.propTypes=o$(o$({},xL),{},{formatYear:gv().func}),h$.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c$(Object(n),!0).forEach((function(t){d$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bL);var m$=["classes","formatYear"];function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g$(Object(n),!0).forEach((function(t){v$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b$(){return b$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b$.apply(this,arguments)}function x$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var w$="react-calendar__decade-view__years__year";function A$(e){var t=e.classes,n=e.formatYear,r=void 0===n?KD:n,o=x$(e,m$),i=o.date,a=o.locale;return O.createElement(t$,b$({},o,{classes:[].concat(t,w$),maxDateTransform:bD,minDateTransform:gD,view:"decade"}),r(a,i))}function S$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$(){return k$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k$.apply(this,arguments)}function E$(e){var t=function(e){return tD(cD(e))}(e.activeStartDate),n=t+9;return O.createElement(UL,k$({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:n,start:t,tile:A$}))}function T$(e){return O.createElement("div",{className:"react-calendar__decade-view"},O.createElement(E$,e))}A$.propTypes=y$(y$({},xL),{},{formatYear:gv().func}),E$.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S$(Object(n),!0).forEach((function(t){C$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bL);var I$=["classes","formatMonth","formatMonthYear"];function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach((function(t){N$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _$(){return _$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_$.apply(this,arguments)}function P$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var M$="react-calendar__year-view__months__month";function D$(e){var t=e.classes,n=e.formatMonth,r=void 0===n?qD:n,o=e.formatMonthYear,i=void 0===o?HD:o,a=P$(e,I$),s=a.date,l=a.locale;return O.createElement(t$,_$({},a,{classes:[].concat(t,M$),formatAbbr:i,maxDateTransform:ED,minDateTransform:SD,view:"year"}),r(l,s))}function L$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L$(Object(n),!0).forEach((function(t){j$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F$(){return F$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F$.apply(this,arguments)}function B$(e){var t=tD(e.activeStartDate);return O.createElement(UL,F$({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var n=new Date;return n.setFullYear(t,e,1),n.setHours(0,0,0,0),n},dateType:"month",end:11,start:0,tile:D$}))}function V$(e){return O.createElement("div",{className:"react-calendar__year-view"},O.createElement(B$,e))}D$.propTypes=R$(R$({},xL),{},{formatMonth:gv().func,formatMonthYear:gv().func}),B$.propTypes=$$($$({},bL),{},{locale:gv().string});var z$=["formatDay","formatLongDate","calendarType","classes","currentMonthIndex"];function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U$(Object(n),!0).forEach((function(t){q$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H$(){return H$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H$.apply(this,arguments)}function G$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var X$="react-calendar__month-view__days__day";function K$(e){var t=e.formatDay,n=void 0===t?UD:t,r=e.formatLongDate,o=void 0===r?WD:r,i=e.calendarType,a=e.classes,s=e.currentMonthIndex,l=G$(e,z$),u=l.date,c=l.locale;return O.createElement(t$,H$({},l,{classes:[].concat(a,X$,sL(u,i)?"".concat(X$,"--weekend"):null,u.getMonth()!==s?"".concat(X$,"--neighboringMonth"):null),formatAbbr:o,maxDateTransform:_D,minDateTransform:RD,view:"month"}),n(c,u))}K$.propTypes=W$(W$({},xL),{},{currentMonthIndex:gv().number.isRequired,formatDay:gv().func,formatLongDate:gv().func});var Y$=["showFixedNumberOfWeeks","showNeighboringMonth"];function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z$(){return Z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z$.apply(this,arguments)}function ej(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tj(e){var t=e.activeStartDate,n=e.calendarType,r=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,i=ej(e,Y$),a=tD(t),s=nD(t),l=r||o,u=ZD(t,n),c=l?0:u,d=1+(l?-u:0),p=function(){if(r)return d+42-1;var e=MD(t);if(o){var i=new Date;return i.setFullYear(a,s,e),i.setHours(0,0,0,0),e+(7-ZD(i,n)-1)}return e}();return O.createElement(UL,Z$({},i,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:s,dateTransform:function(e){var t=new Date;return t.setFullYear(a,s,e),t.setHours(0,0,0,0),t},dateType:"day",end:p,offset:c,start:d,tile:K$}))}tj.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(n),!0).forEach((function(t){J$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:dL.isRequired,showFixedNumberOfWeeks:gv().bool,showNeighboringMonth:gv().bool},bL);var nj="react-calendar__month-view__weekdays",rj="".concat(nj,"__weekday");function oj(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?GD:n,o=e.formatWeekday,i=void 0===o?XD:o,a=e.locale,s=e.onMouseLeave,l=SD(new Date),u=tD(l),c=nD(l),d=[],p=1;p<=7;p+=1){var h=new Date(u,c,p-ZD(l,t)),f=i(a,h);d.push(O.createElement("div",{key:p,className:qM(rj,sL(h,t)&&"".concat(rj,"--weekend"))},O.createElement("abbr",{"aria-label":f,title:f},r(a,h).replace(".",""))))}return O.createElement(RL,{className:nj,count:7,onFocus:s,onMouseOver:s},d)}oj.propTypes={calendarType:dL.isRequired,formatShortWeekday:gv().func,formatWeekday:gv().func,locale:gv().string,onMouseLeave:gv().func};var ij=["date","onClickWeekNumber","weekNumber"];function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aj.apply(this,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var cj="react-calendar__tile";function dj(e){var t=e.date,n=e.onClickWeekNumber,r=e.weekNumber,o=uj(e,ij),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(n),!0).forEach((function(t){lj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:cj},o),a=O.createElement("span",null,r);return n?O.createElement("button",aj({},i,{onClick:function(e){return n(r,t,e)},type:"button"}),a):O.createElement("div",i,a)}function pj(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,o=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=function(){if(i)return 6;var e=MD(t)-(7-ZD(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=tD(t),r=nD(t),o=rD(t),i=[],s=0;s<a;s+=1)i.push(eL(new Date(e,r,o+7*s),n));return i}(),l=s.map((function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jD.ISO_8601,r=n===jD.US?jD.US:jD.ISO_8601,o=eL(e,n),i=tD(e)+1;do{t=eL(new Date(i,0,r===jD.ISO_8601?4:1),n),i-=1}while(e<t);return Math.round((o-t)/6048e5)+1}(e,n)}));return O.createElement(RL,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},l.map((function(e,t){return O.createElement(dj,{key:e,date:s[t],onClickWeekNumber:r,weekNumber:e})})))}dj.propTypes={date:gv().instanceOf(Date).isRequired,onClickWeekNumber:gv().func,weekNumber:gv().node.isRequired},pj.propTypes={activeStartDate:gv().instanceOf(Date).isRequired,calendarType:dL.isRequired,onClickWeekNumber:gv().func,onMouseLeave:gv().func,showFixedNumberOfWeeks:gv().bool};var hj=["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"];function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fj.apply(this,arguments)}function mj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function gj(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,o=e.showFixedNumberOfWeeks,i=e.calendarType,a=void 0===i?function(e){return Object.keys(FD).find((function(t){return FD[t].includes(e)}))||jD.ISO_8601}(n):i,s=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=mj(e,hj);var p="react-calendar__month-view";return O.createElement("div",{className:qM(p,c?"".concat(p,"--weekNumbers"):"")},O.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},c?O.createElement(pj,{activeStartDate:t,calendarType:a,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:o}):null,O.createElement("div",{style:{flexGrow:1,width:"100%"}},O.createElement(oj,{calendarType:a,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),O.createElement(tj,fj({calendarType:a},d)))))}gj.propTypes={activeStartDate:gv().instanceOf(Date).isRequired,calendarType:dL,formatShortWeekday:gv().func,formatWeekday:gv().func,locale:gv().string,onClickWeekNumber:gv().func,onMouseLeave:gv().func,showFixedNumberOfWeeks:gv().bool,showWeekNumbers:gv().bool};var yj=["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vj.apply(this,arguments)}function bj(e){return bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bj(e)}function xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wj(e,t)}function Aj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Nve){return!1}}();return function(){var n,r=Cj(e);if(t){var o=Cj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sj(e)}(this,n)}}function Sj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cj(e)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kj(Object(n),!0).forEach((function(t){Tj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ij(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Oj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rj=new Date;Rj.setFullYear(1,0,1),Rj.setHours(0,0,0,0);var Nj=new Date(864e13),_j="react-calendar",Pj=["century","decade","year","month"],Mj=[].concat(function(e){return function(e){if(Array.isArray(e))return Oj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Oj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Pj.slice(1)),["day"]);function Dj(e,t){return Pj.slice(Pj.indexOf(e),Pj.indexOf(t)+1)}function Lj(e,t,n){return function(e,t,n){return-1!==Dj(t,n).indexOf(e)}(e,t,n)?e:n}function $j(e){return Mj[Pj.indexOf(e)]}function jj(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Fj(e,t){var n=e.value,r=e.minDate,o=e.maxDate,i=e.maxDetail,a=jj(n,t);if(!a)return null;var s=$j(i);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([tL,rL][t](s,a),r,o)}var Bj=function(e){return Fj(e,0)},Vj=function(e){return Fj(e,1)},zj=function(e){var t=e.value;return Array.isArray(t)?t:[Bj,Vj].map((function(t){return t(e)}))};function Uj(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,o=e.minDetail,i=e.value;return tL(Lj(e.view,o,n),Bj({value:i,minDate:r,maxDate:t,maxDetail:n})||new Date)}var Wj=function(e){return e&&1===[].concat(e).length},qj=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}(i,e);var t,n,r,o=Aj(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tj(Sj(e=o.call.apply(o,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),Tj(Sj(e),"setStateAndCallCallbacks",(function(t,n,r){var o=Sj(e),i=o.activeStartDate,a=o.view,s=e.props,l=s.allowPartialRange,u=s.onActiveStartDateChange,c=s.onChange,d=s.onViewChange,p=s.selectRange,h={activeStartDate:i,view:a};e.setState(t,(function(){var o={action:t.action,activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function i(e){return e in t&&(bj(t[e])!==bj(h[e])||(t[e]instanceof Date?t[e].getTime()!==h[e].getTime():t[e]!==h[e]))}(i("activeStartDate")&&u&&u(o),i("view")&&d&&d(o),i("value"))&&(c&&(p&&Wj(t.value)?l&&c([t.value],n):c(t.value,n)));r&&r(o)}))})),Tj(Sj(e),"setActiveStartDate",(function(t,n){e.setStateAndCallCallbacks({action:n,activeStartDate:t})})),Tj(Sj(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=Sj(e),o=r.view,i=r.views,a=e.props.onDrillDown,s=i[i.indexOf(o)+1];e.setStateAndCallCallbacks({action:"drillDown",activeStartDate:t,view:s},void 0,a)}})),Tj(Sj(e),"drillUp",(function(){if(e.drillUpAvailable){var t=Sj(e),n=t.activeStartDate,r=t.view,o=t.views,i=e.props.onDrillUp,a=o[o.indexOf(r)-1],s=tL(a,n);e.setStateAndCallCallbacks({action:"drillUp",activeStartDate:s,view:a},void 0,i)}})),Tj(Sj(e),"onChange",(function(t,n){var r=Sj(e).value,o=e.props,i=o.goToRangeStartOnSelect,a=o.selectRange;e.onClickTile(t,n);var s,l=a&&!Wj(r);if(a){var u=Sj(e).valueType;s=l?tL(u,t):function(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[tL(e,r[0]),rL(e,r[1])]}(u,r,t)}else s=e.getProcessedValue(t);var c=!a||l||i?Uj(Ej(Ej({},e.props),{},{value:s})):null;n.persist(),e.setStateAndCallCallbacks({action:"onChange",activeStartDate:c,value:s},n)})),Tj(Sj(e),"onClickTile",(function(t,n){var r=Sj(e).view,o=e.props,i=o.onClickDay,a=o.onClickDecade,s=o.onClickMonth,l=o.onClickYear,u=function(){switch(r){case"century":return a;case"decade":return l;case"year":return s;case"month":return i;default:throw new Error("Invalid view: ".concat(r,"."))}}();u&&u(t,n)})),Tj(Sj(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),Tj(Sj(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return t=i,n=[{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,o=e.defaultView,i=e.maxDetail,a=e.minDetail,s=e.value,l=e.view,u=Ij(e,yj),c=Lj(l,a,i),d=t||n;return d?tL(c,d):Uj(Ej({maxDetail:i,minDetail:a,value:s||r,view:l||o},u))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&Wj(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return $j(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,o=this.state.view;return Lj(r||o,t,n)}},{key:"views",get:function(){var e=this.props;return Dj(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}},{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,o=t.maxDetail,i=t.returnValue;return function(){switch(i){case"start":return Bj;case"end":return Vj;case"range":return zj;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:o})}},{key:"renderContent",value:function(e){var t=this.activeStartDate,n=this.onMouseOver,r=this.valueType,o=this.value,i=this.view,a=this.props,s=a.calendarType,l=a.locale,u=a.maxDate,c=a.minDate,d=a.selectRange,p=a.tileClassName,h=a.tileContent,f=a.tileDisabled,m=this.hover,g={activeStartDate:e?nL(i,t):tL(i,t),hover:m,locale:l,maxDate:u,minDate:c,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:d?n:null,tileClassName:p,tileContent:h,tileDisabled:f,value:o,valueType:r};switch(i){case"century":var y=this.props.formatYear;return O.createElement(f$,vj({formatYear:y},g));case"decade":var v=this.props.formatYear;return O.createElement(T$,vj({formatYear:v},g));case"year":var b=this.props,x=b.formatMonth,w=b.formatMonthYear;return O.createElement(V$,vj({formatMonth:x,formatMonthYear:w},g));case"month":var A=this.props,S=A.formatDay,C=A.formatLongDate,k=A.formatShortWeekday,E=A.formatWeekday,T=A.onClickWeekNumber,I=A.showDoubleView,R=A.showFixedNumberOfWeeks,N=A.showNeighboringMonth,_=A.showWeekNumbers,P=this.onMouseLeave;return O.createElement(gj,vj({calendarType:s,formatDay:S,formatLongDate:C,formatShortWeekday:k,formatWeekday:E,onClickWeekNumber:T,onMouseLeave:d?P:null,showFixedNumberOfWeeks:"undefined"!==typeof R?R:I,showNeighboringMonth:N,showWeekNumbers:_},g));default:throw new Error("Invalid view: ".concat(i,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,t=this.view,n=this.views,r=this.props,o=r.formatMonthYear,i=r.formatYear,a=r.locale,s=r.maxDate,l=r.minDate,u=r.navigationAriaLabel,c=r.navigationAriaLive,d=r.navigationLabel,p=r.next2AriaLabel,h=r.next2Label,f=r.nextAriaLabel,m=r.nextLabel,g=r.prev2AriaLabel,y=r.prev2Label,v=r.prevAriaLabel,b=r.prevLabel,x=r.showDoubleView;return O.createElement(AL,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:o,formatYear:i,locale:a,maxDate:s,minDate:l,navigationAriaLabel:u,navigationAriaLive:c,navigationLabel:d,next2AriaLabel:p,next2Label:h,nextAriaLabel:f,nextLabel:m,prev2AriaLabel:g,prev2Label:y,prevAriaLabel:v,prevLabel:b,setActiveStartDate:this.setActiveStartDate,showDoubleView:x,view:t,views:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef,r=e.selectRange,o=e.showDoubleView,i=this.onMouseLeave,a=this.value,s=[].concat(a);return O.createElement("div",{className:qM(_j,r&&1===s.length&&"".concat(_j,"--selectRange"),o&&"".concat(_j,"--doubleView"),t),ref:n},this.renderNavigation(),O.createElement("div",{className:"".concat(_j,"__viewContainer"),onBlur:r?i:null,onMouseLeave:r?i:null},this.renderContent(),o&&this.renderContent(!0)))}}],n&&xj(t.prototype,n),r&&xj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(O.Component);qj.defaultProps={goToRangeStartOnSelect:!0,maxDate:Nj,maxDetail:"month",minDate:Rj,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var Hj=gv().instanceOf(Date),Gj=gv().oneOfType([gv().string,gL]);qj.propTypes={activeStartDate:Hj,allowPartialRange:gv().bool,calendarType:dL,className:pL,defaultActiveStartDate:Hj,defaultValue:Gj,defaultView:vL,formatDay:gv().func,formatLongDate:gv().func,formatMonth:gv().func,formatMonthYear:gv().func,formatShortWeekday:gv().func,formatWeekday:gv().func,formatYear:gv().func,goToRangeStartOnSelect:gv().bool,inputRef:mL,locale:gv().string,maxDate:fL,maxDetail:gv().oneOf(Pj),minDate:hL,minDetail:gv().oneOf(Pj),navigationAriaLabel:gv().string,navigationAriaLive:gv().oneOf(["off","polite","assertive"]),navigationLabel:gv().func,next2AriaLabel:gv().string,next2Label:gv().node,nextAriaLabel:gv().string,nextLabel:gv().node,onActiveStartDateChange:gv().func,onChange:gv().func,onClickDay:gv().func,onClickDecade:gv().func,onClickMonth:gv().func,onClickWeekNumber:gv().func,onClickYear:gv().func,onDrillDown:gv().func,onDrillUp:gv().func,onViewChange:gv().func,prev2AriaLabel:gv().string,prev2Label:gv().node,prevAriaLabel:gv().string,prevLabel:gv().node,returnValue:gv().oneOf(["start","end","range"]),selectRange:gv().bool,showDoubleView:gv().bool,showFixedNumberOfWeeks:gv().bool,showNavigation:gv().bool,showNeighboringMonth:gv().bool,showWeekNumbers:gv().bool,tileClassName:gv().oneOfType([gv().func,pL]),tileContent:gv().oneOfType([gv().func,gv().node]),tileDisabled:gv().func,value:Gj,view:vL};const Xj=qj,Kj=e=>{let{onDateChange:t}=e;const[n,r]=(0,O.useState)(new Date);(0,O.useEffect)((()=>{const e=new Date;e.setHours(0,0,0,0),o(e)}),[]);const o=e=>{r(e);const n=i(e);t(n)},i=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;return(0,Ye.jsx)("div",{className:"calendar-container",children:(0,Ye.jsx)(Xj,{onChange:o,value:n})})},Yj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAEzRJREFUeJztnXu0X0V1xz83yeUGSBMCISRgEiAQQBOIUE1AAhRFaBGKFqSS5RtdCIpdWCr4QrFQWKCFStWWylNYKIVAEIq8V3ioUCyPoAZiwjPhmZAnjzx+/WPf3/rdXO79nd+cMzN7zjn7s9asy1r5cfZ35sycM2dmz95gGMagdGkLSIwxwFHADsAiYA6wWlVRHEYg9Z4MLEHq/aqqIiM5jgZWAo0+ZSmwn6aoCOyL1LNvvVcBx2iKMtJiL+BtNu0kzfIaMFZPWlDGIG+Kgeq9DpiuJ81IiUsYuJM0y9f1pAXlVNrX+zI1ZYkwRFtAIszI+PdpUVTEZ2rGv8+MoiJhbIBAN7Brxm9WxRCiwPKMf98F6IkhJFVsgMBuyCBpxx9iCFEgq15Dgd1jCEmVsg2QKfh/or2ng9884dlmKnRSr07ap7KUZYB0AWcCC4D/8HztTjrAfM82U6GTetkAKQFnAd/u/W/fT/OsDvAq8LJnm6mwAngh4zchBshwYLMA160tTyHLjqcFuPYC2i913hPAZkr8mvb1X+jZ3hbIbv0iZBHA8MAU4KAA1+0B1tO+g1wUwG5K/ID29d8AbO7R3nDgaVqeClM8Xts7ZZliPUmYJ/nuyEpNO6r6gd4kq35DgD082nsT2B/4EzAOmO3x2rVhMuIjFJrZtH96NoADIujQZAbZbfCpAHbHAv+AuLsYDuxEyz9oUmBbZ5PdObYOrEGbEcBG2rfBuWrqjE3YHHgEuSmPEX4X90bad4ylge2nwtO0b4dfRdAwBNiT8kz7VfgJckOWAztHsLeQ9h3jjggaUuBm2rfD4ggavtZr68cRbJWSD9C6IX8bwd4WyApNu45xQQQdKXAu7dthIzIVC8kRfex9OrCtUrI7sj4ea767D9nfH1+IpEWbT5HdFu+PoOOcXltrqfkOfgp00imqfpqwSScPi89G0DEMmNdr7+EI9jKp8wdRnZ0U+/MHZBrVjhhP9PXI0vvLyCAxgG2U7GZ9mD6npEuLrAWLWyNq6UHeJupov0FOQfY8NOb6WU/EWG+PnRAfsxuBh4DfAFcBxwOjImmA7PrG/CZ4C3mb1JptaUURiTG/7Usnm2PnB9awLXAp7VfSViKDJ8bT9Kw2Opol5oCtPT9EGv0J4r9O34/uR+l7gec70NAs8wi/o39cBzpiuP/0Zw7wLLCdgm01tkec1hrARxXsfw69Zc1pwOsd2O9f/g8YGUgTSOijFJe9/7fX9k8UbKvR7KC/Rye6Y5aL90ZgywB2RyHnIFwHR7NcT7j26sT1X2Pj9LBe2+vJDq5RGUYiJwTfrWT/Vtp3hMWB7P40w24n5dhA2kBc0NvZvj2g7cHoAu7utX+lgv1akjX/D+GcN4Vs15ZOymKyo7Dk5boM21rOm7N67W8g8lFd7WVeDUYhwanbESJIw1fx0947IoGmQ5BV73HouP/fC5yORLh8W8F+NLrwe3wzD/uR/ZT+pGebw4BlHdjttMz1rK/JxzuwPSuQ7SSJ/QY5D1nb/0Bku33RcDGZAYz2eL0PEWaqYXGy+hFzgPQAn0eepn8R0W5/suLRbgT+6Nmm7yXjzcmuRx6eRKK6tyOE3WSJOUA+CGyFpBO4M6Ld/mQ9ARcBb3i2GWJ5MsQ11yGDpB3ab5DvAM8QKSRqzAFyZO/fuWQ/pUKi4YMVIr9IqJ3llHyyBmI6MJFIm5ax3yAAN0W02Z+tkZWYdoRYwQrxvRDqvH5W/bftLVpc1/v3aCJsMsccIDchGz63RbTZn07mzyHeIG8GuKbvaWCTTuqv+R1yEzIDmYi4xwQl5gA5BTgYWBPRZn+0DkmF2GBbEuCakP5K1krkQQvihhKUum0UZt3Y9Yi7hW/Kck2Qg1NvZfxG+zvkYiTw9gJlHZXjHrKdFK9EvI19Mj3DrmtZTnbI1DyMQ/I1Zp2VuTeA7VpzKBIYQJvmWeesshr4FhJo2QddyBFeXwPkKk+6mvQgB7P6p8EerLzm2X6t2Qlp1Be1hSDhZFwdA4/2ZLuTE3udlkM8aQLx68o6j96/ZE3BDAf+BmnUrA2oGDxAvg55D8VXTMYhK09FB8fD+FnenIpEjsyj4Xce7PtgXyoQO/lLSKP+WlsIslmZt2NuQNK/FdkDOKOA/WY5sIB9kCgy/0724ah25WMFNfjgAERLzGgrQfhnpCKXagvp5SvIFCFv53gdWbLOcyZjM+DBAraLnOgbBpxMMa/itxC3/RTYF9GUwtS9EBchFUkphP5k4AaKPcn/BByew/Z48h27nUv+g1IfRvY3itR3LmmlTBtPS5v2EYpCTAcuJ83zxB8EHqdYx7kFd8e57ZF5fKc2Liafu8quyM5zkfrNx++igC+G0JomTlbWUmmGAifSStqTp6xDpj9bOdjdDDgVeKXNdZ+g5eTpwkgkrleRqeRrwJdJJMLhICxFtMYIrF17RgMXIp09b6d6BVmUcNnEG46E/v8X4Apko+6byBzb1dNhCOLl+lKBOqwDfkQ5Voe+jsTNChGBxhiEPciOepJVHgX+KrLuWUgYpSK6b0PfjSQpYsSkGg8cg3yHrIhgzxeHI9Efi6QpnoNMvUIGGuhGVuaOKXCNhUiGp1Bn3Y02NFexTtcWkoNuZEk3TyTEMpQVyHdQ1FA6xqb8K3IzLtQWUoBtkU1CH3GtUigbgP+i/PFuJ9M6iFdaTkduyjXaQjywF60of2Ut85Dg2VXgUaROpa5PM9XZfdpCPPJ3FIuxq1GeQeJeVYnXkLql4Cmem2b22sXaQjzTA3wDWIV+529X1iCRQEq92zwA3bTqOEFZSyGGIf5YVXt6NRkPXEb2IaPYZSPwc+BdwWquyySknhsIF6vY8EhRlw7fRSMSe0yaAa2fDWkkZTeCsrFSW0A/yrTnlIdHkIWfO0IasQHij1XaAvqRmh7frAI+EdpIzKgmJyAHhjQySsUgtQ6Zmp5SEvMNci7iZXoT4jNUNVLrkKlN+UpJzDfIA71/j4hoMyapdcjUBqxPxiAp/HYMbSjmAGk6wqVwnjkEqXXI1PT45GvAmb1/gxJzgDSPuO5JpND1kUmtQ6b2RvPJR3r/Bp+qxxwgS2lFNvEduTAFUhsgqenxxRQkZFEDuDm0sdjLvH+PVPChyHZjkFqHTE2PL5oeGfcikTKDEjt49QqqOTggvSlNVQdIM/XC1aoqDGeaIVZTKbuFra4a45DTk5Xe5B6KROsYoy3EI2PQHxR9SxW/82rDcchN1Mw25Zse9AdF36KZSdgoyBRax1cP0pXilSJxqHyWjVTPpWci1XXdH5BLkJv5W6pzM4sEn/NZUlswKMpYZIFnOTU6+zGBVjqAY5W1+GIx+oOjAbwQuqKR+SFSr8eJ/DDVzFH4HBIeE2Caog6fpLK0mooOH+wEnNT7399GBkptGIqE2KxKXKb70X97NJAUC1Xhl0id7qc6U/Ha8j/oD44GcGfoikak+V03Q8N4pTdbFEhlapOKDh98CAksrpL2LaU86aORoGzf0xZSgFQ6ZpVWsR5B+oUKKb1BdkD2RA5CkrZcqykmJ6kMkFR0lJ6U3iDzkbwUAD+jWFR1LVLpmKnoyMOWSJyxLyrrSJIexNu3gQyYsiVGORX9D/QGEvGxrDQ3kOdrC0mVSbRWLg5Q1uLKCegPjgaSL6SMNOM4N4C/VtaSNFORxkppCtgJs9EfHA3gM4HrGYK9gLWI/nOUtRiBOBL9wdFAos+XjebU6m4SWjxKRkgG3Yj79jJtIRmk8nFcxmXe84ElSMq69cpaSsevEFfy1Oel+6D/9mgAM0NXtC6UZY6/AvHXup742WNdSOUNkoqOLMy3yhPDkdOHDdLOxDoe/bdHg3IklPkuctzhUGUdlWELZJ9hatYPFRmB/uBoAFuFrmhBvkFLa5H01UYJSSET7tDgtczPaFo6z1TWYiiwAt3BsTZ8FQvRBZyGbGbaN0gNeR7dAfJi+CrWh7KsYpUJ7RUkbfuVwgaIf7Q7qLb9SmEDxD/au9ja9iuFDRD/aD/Bte1XChsg/tHuoNr2K4UNEP9od1CbYnnEBoh/tAeItv1KYQPEP9pPcBsgHrEB4h/tDqptv1LYAPGPdgfVfoNVChsg/tEeINr2K4UNEP9od1Bt+5XCBoh/tKc42vYrhQ0Q/2gnz9xB2b5hDMo09M+DrERiTBlGUuyAZM3SPk3YQM6k1CrhpZE2I4FH0R8YfcvjwKiQlTaMThhGK+JKauUOapQV1kiTZsjMVMvl4apuGO05A/0B0En5fqgGqDoWVSI/nwEuzfH/3USx/B3fJV9w6uORxESGEZxDgLdxf5I/iATAK8Jw8qWbXodFMTQisCf59joWAWM9adgGeDKHhpXAdE8aDOMdvIt8ca9eA3bzrGUy8HIOLUuAiZ61GAYjgcdw75BvAvsH0jSDVlYmlzIf2yMxPNIN3I57R9wIfDywtqPIFw/4LiSlhGEU5jLcO2AD+MdI+r6cU9/PI+kzKsz3yNf5fjTQxQLyg5w6z4qs06gQnyNfp7uR+EcJuoBrc+r9QmStRgX4MLJ34NrZfkfxvY68DAfu60Bj/7KO9PM/GgmxF7Jn4NrR/gxsq6C3L1sDC3DXvgrYW0GvUTImAC/g3sFeBaYo6B2InYGXcK/DEmCSgl6jJIxCzlG4dqw3gP0U9LbjfcAa3OvyBOnnODQU6AbuxL1DbSCf82AMjgDW416nu7E9EqMfV+DekRrAKRpiHTiRfPW6GvP2Nno5hXyd6EINsTk4j3z1O1VDrJEWE4DVuHee6ylP2KQu4Brc67gG+2ivPdfh3nF+A2yuIbYAPcA83Ot6g4ZYIw0Ow73DPAWM0RDrgdHAH3Gv80c0xBq6DAcW4tZRXgF20RDrkR2RXOou9V5E+d6YRkHOwK2TrAVmqij1zz64f3dZ4IcaMRnZ3HPpIMeoKA3HkbjV/01gVxWlRnRuwa1zXKcjMzhX49YOt+nINGLyUdw6xWqqG+d2HO4BKKr2JjX6sCXwDG4d4p9UlMbjq7i1x/PACBWlRnDOwa0zPEH1Y9sOBR7BrV3OV1FqBGUP3IO9HaiiND77IgEmOm2XdcBUFaVGMO7GbXDULaDBz3Brn3k6Mo0QHIfbzX8d2E5FqR5jkAB3Lu30aRWlhldGAktxu/FfUVGqzxdxa6eXsMNVpedC3G7675EP1zrSBfwWt/b6sYpSwwvTcTtRt5HquJPkZW/cIjVuAP5SRalRiC7gAdyehherKE2Pi3Brtwcpz9kYo5fP43aTX0XSChgSvMLV4/cEFaVGLrZBOrzLDT5eRWm6fBK39luGfkwwo0P+E7eb+wAWoGAg7sGtHS9VUWk4MQO3XeH1WNalwXgPbuFXNxIuF4rhgaHAw7g99f5NRWl5cI2I8hiSO95IENc8GUuRjURjcLYEnsOtXVOPFVZLtkNcRFxu5GwVpeXjaNzadSWwvYpSY1CuxO0m3qUjs7Tcilv7/kJHpjEQB+J2895G3N+NztkFOZfu0s6HqCg1NqEbydrqcuPOVVFafs7ErZ0XYEGw1TkVt5v2LPLhabgzHEkS5NLe31RRagASTME1vtPHVJRWh8Nxa++1SLA6Q4H/xu1m3aIjs3LMwa3d5+rIrDeH4naT3kACxhnFmYh79qojVZTWlB4kiLTLDTpDRWl1OQ239l+MxfeNxndwuzkLkQ9Mwx/duEeKP0tFac3YGfe4uoepKK0+B+N2H94CdlNRWiNuxu2mVDWubiq4xve9XUdmPTgKt5uxGkmxZoRjPO7xfY9VUVpxupCdWZcbUfW4uqngGt93EXaG3TvTcLsJdYirmwp54vvuraLUkTKN4kmOvz8JOQ1nhGcDrXzsnTIxkJbaMpPOn051i6ubCi7xfWcpaaws3XQWqeR1JDGMEZ9O4/suQzZ7Dc+cTHbjW3wmXT5L9j2yI7kBuYDBG/48RV1Gi7MZ/B5dhIVYCs7BwLWIC8lTwC+pT7KbsjALuAa5P39GPK/thKFhVIk6hfmfAPwU+UB8WldKqelGUkrsDDykrMXwSDOY9RJgtLKWMtN0c39WW4jhlxG0UkDPoVybpKkwk1Yi1BOVtRgBmEUroY6dTXBjR1opEW7GHjCV5SRaS47vVdZSJuYibbaAGk1R6/SR3uQh5MDVWuAS5BCPkc0w5MjscUhMY8MwDKPJBCS8piHREGdi3xlGL13AK8gH/DnIildd2Z9WKNcvKWsxEuIXtD7eX0ByFtbpwNUUxGWn2QbLsZTYRh+6gE8gg6PZSS5XVRSPd7NpqrWrsCMDxiBsCXwLmXKdrawlFhMRD4O7kByPhpGLqcgy8RVImuRJlMN1eziySXoGcB9wvq4co6rM5p3nG15EDnL1ZyjxTs0NYeCwnmOB+3lnptonI+kyakYXEjT7AiSbazPd9M39fjcEiarSQFbG1iCxoxbhJxXAecjR4lVsmvXpuH6/e1+ff1uG7IafDOzgQYNhZDIKmbr0d70YwsBxazfgx73lhgGu3UAWGfqzDxLu0/Y0clCG+XNZGQZsg3z09yBTrteB5z1cuwfYFXmDrUdcZ1Yg2WUNwzAMwzAMwzAMwzAMwzAMwzAMI5P/B17jkcNxIIesAAAAAElFTkSuQmCC",Qj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAADDdJREFUeJzt3VuMXVUdx/HvTKfQIlAqFLkUFCiUAsqltCIgRRoEFCOVRMEYE0SSPkgEJNHEF5EHjQkhGi8hJCo08UEEuRQqEG25KFID1RTBXkWKWChlHChtaemMD/85djrM7O5zzv7v/9p7/z7JShNo1/zXnP07e+3b2iAiIiIiIiIiIpK6nugCpGMTgbnAGcBM4DDgAKAP2ApsBNYCK4CngLdiyhQpTx9wGXA3sAUYytl2AL8HrgbeV3rVIs76gIXAP8kfivHaG8BN2N5GpPLOBZ6j+2CMbhuBL5Q4DpFC9WLf9LsoPhwj2yJgv5LGJFKIScC9+AZjZHsWOLyUkYl0aRKwlPLC0WprgCNKGJ9IxyYA91F+OFptJXCg+yhFOnQzceFotXvdRynSgXn4H5DnbQudxyrSlonAC8QHo9UGsCvzIkm4lvhQjG63uY5YJKd9gA3EB2J02wFMdxx3JfRGFyBcRpob4kR0LCIJWEz83mK89qLfsEX2bjLwDvFByGqnuY2+AjTFinUOdgySsvOjC4ikgMSaHV1ADmdGFxBJAYk1M7qAHE6ILiCSAhKrCjcHHhldQCQFJNb+0QXk0OibFxWQWBOiC8ih0Qt7KCCxtkQXkMPb0QVEUkBibYouIIdXowuIpIDEWh1dQA5rowuIpIDEWhldQA5/jS5AmusQYJD420my2vlegxfJ42niQzBe68fu6m0sTbHiLYouIMNvgJ3RRUizTcUWlo7eW4zVTncct0huPyA+DKPbEtcRi7ThYOB14kPRaruAU11HLNKmq4kPRqvd6jxWkY7cQ3w4VmJPOook5yBi18faDBzvPkqplMnALOzZ6xRWOD+amGWAtmCPAIvQA1wBPIad5x+5obwM3ELsg0IfAlZRXjg2o3DIsOnAE+T7Rv1KUI1gZ7aWjFGXxzGHplUCwAeBl2hvA/pWSKWmB7iB9l7Ymbftws5WTSptNJK0PuAZ2t+QBoFLAuod6SjgDt47Hey0/Q5d55BRvkbnG9Q6LGDRjgG+T2cH8f3A7VRjqaFkNOl549V0N9deQDovl+nF7pP6BHAGcCL2uoIDsLtvt2BPAq4BVgCPA0+iGw9lHDPoflqi1wE0UFNud59VQB8nF9CHVExTAlLE2k6NXh+qqZoSkCKOtZryu5IR9KGLZFBARDIoICIZFBCRDAqISAYFRCSDAiKSQQERyaCAiGRI4RZu6d6+wNnAHOBYbPGHQez9I6uAp7BV2oeiCqwqBaSaJmBhuACYj4Vjb08GbgB+DvwYW6RO5P++RPe3uz9XetW79WBPAF4PPAAM0Pk43gRuRNNrGaGKATkBWAjchU2VinjUdmRbBhxa1mCqSlOsdEzHpkvzsScFpzv/vHnAn4Z/1gbnn1VZCkicadjGOR87lpgRUMNxwCPAx4D/Bvz85Ckg5TkQ+9ZuBeIU0lgT4ETs4P1z0YWkSAHxMxlbrbB1pmk2dvYpRQuAy4G7owtJjQJSnInAXHYH4izs+kRVfA/4LXb9RIYpIJ3rxRa8bgXiXGD/0Iq6czxwKXB/dCEpUUDaM4vdgZgHvD+2nMJ9EQVkDwpIficDz0cX4eyT2IkD3ZIyTFdTZaSp2KsXZJgCIqMdE11AShQQGW1KdAEpUUBktFSv1YRQQEQyKCAiGRQQkQwKiEgGBUQkgwIikkEBEcmggIhkUEBEMiggIhkUEJEMCkic7cDDwHXYwgnvxpYjY9EDU+VaBywZbsuArSP+3wBwcEBNkkEB8bUdC0IrFGsy/m4/CkhymhKQMh8hXcuee4ltOf9dv1dB0rmmBMRzNfNt7LmXWNthP1rZMEFNCchy7CC4qPGuYc+9xPYC+tQeJEFNCUg/sAi4qsN/vw1Yyu5QrCuorpEUkAQ1JSAA38BeNDMz599fze5APEYxe4ksmmIlqEkB6cfWyr0VuJL3jn0XsAILxF3AylKr0x4kSU0KCMBm4MvA14EzgUOAHdj7MZ4HtsSVpj1IipoWkJZ+4NHoIkbRHiRButUkHQpIghSQdGiKlSAFJB3agyRIAUmHApIgBSQdmmIlSAFJxy7gregiZE8KSFq0F0mMApIWHYckRgFJiwKSGAUkLZpiJUYBSYv2IIlRQNKiPUhiFJC0aA+SGAUkLQpIYhSQtGiKlRgFJC3agyRGAUmLApIYBSQtmmIlRgFJSwp7kDJXoUxeXZ9J78MWZZgNzAAOBfYBenL823Y2kLx/N+/fS+HzeCe6gJSk8IEU6aPAQmABMCW4lqp6M7oAKd6p2ColQ2pdt6Pb/N1LwiYA38XW3Y3esOrQBsg3DW2MKk+xDgB+DVwcXUiNPI4FRYZVNSD7A48AZ0UXUjP3Rxcg3esFHiJ+OlK3thU4qI3PoRGqeB3k28Al0UXU0O3oQmXlfQTYSfy3bd3aAHB4G5+DJEqncn3ate18CJKms4jfkOrYFqNTu7VwJ/EbU93aCuDAdj4ESdM+2C0Q0RtUndqzwAfa+RCaqCpnseZiFwalGPcA84BXowtJXVUCMie6gJrYDFwDXI7WAc6lKlfSj48uoOL6gZ9gLzB9I7iWSqlKQKZFF1Axg8CL2OurH8TOVOk5jw5UJSD7OvX7TewGvbrYgU2dXga2BddSC1UJyHanfqcAf3bqW2qgKgfpG536PdepX6mJqgRklVO/c7BrLCJjqkpAnnbqdzK2sIPImKoSkBX4LSZQ12nWwWjhiq5V6Sa1B4FPOfR7P/BZh37bcR1wRQH99GJ3HByGPfx0E/CdAvqVCrgRn3uSXif+i+IifMa2vMxBSKzZ+N24d1KJ4xjLROxqd9HjGsQWzZMOVeUYBOw4xOuR0OjjkJ3Y1e6i9aDHk7tSpYAMAk849R0dELA7bD14HLdJoq7HZ4q1vsxBjGMy8DbFj62f6twxIV06Db/jkCNLHMd47sZnbOeVOYg6qdIUC+Bv+N2uXedp1qed+q29qgVkCL+7b1MIyGLsjtyi6TikQ1ULCMBSp35TCMgA8AeHfk9Bq7Z3RAHZ7cOkscKHzmZJV3qATfgczF5U4jjGMw3YRfFj08LUHajiHmQIe5TUw8ed+m3HJuBJh37n4/dkZm1VMSBQ7+MQ8Jlm7Qec79CvJOgkfKZYW7H7oqIdhc/4flTmICTWRnw2olReyvMXih/b2lJHUANVnWKB33FInadZxwHHOvRbW1UOiNdxSAoH6mC3nXi4zKlfScxMfKZYm4h/gKrl7xQ/vn8Bk8ochMR5BZ+QzCpzEBluxmd8PyxzEBLnV/hsQNeUOYgMp+MzviHsXY9Sc9fgs/HcUeYg9mI9fiF5AC0MnimVuXanZgBrHPpdj53xScEtwA2O/Q9iZwQfw9b0fWe47Rjjz7H+28g/hxzrlA5twOfb9YgyB5HhHPz2IEW3ncAW7Jmd/wArgV9gz8VX/cu4shbh82F/vsxBZOjBNrbojb/btpz41WPaVuXrIC1LnfpN5YLhEHBvdBEFmIMtITsvupCmOQafb7xnyxzEXlxI/B6gqNaPfWZSohcp/oN8l3ReHNqHzeujN+6i2gPF/nr81GGKBT7TrAnA2Q79duJdKrRR5XApdidE8uoSkGVO/aZyHAJ+j+JG+Ux0AXnUJSAeexBIKyAPYwvL1cUp0QXkUZeAvITP6ohzSeMBKrD3ND4UXUSBUjm+y1SXgIDPXmQ/4AyHfjtVp2nW5ugC8qhTQJY59ZvSNOs+KrJh5ZDSafRGOBKfU5KpXaS7gfjTtN22HcDhRf9iZO9WU/yHuanUEezdBGxZoOiNvJv2s8J/K5LLbfh8oCeWOYgcDgX+QfyG3klbQ4VeLlqnYxBoxnEIwGtYTR7r+Hpah61eORBdSFMdhs+33i9LHEM7eoCr8H2oqoi2E9u7H+Tza/BTx3v0X6D4KdE67OGsVPVie5QLsFs4phA/OxjE9nTPYKen/x1bjrT8FJ9vwcp9+0n3or9lPCxz6lfv12ggBSS/VG45kRLVMSCvYQuuFa0uV7ClDXUMCBR/X9ab2IqE0jB1DciSgvt7FDtQF6mFPuwW+KLOYF1Sbvki/r5KMeH4Y9mFi5ShB3sKr5twvEV692GJFGYqsILOwrEduLj8kkXKNQV7BXI74XgFOC+iWJEoVwKryA7G28Ct2J5HpJY3K2bpwRaDvhBbJ3YqsA1beO4pYDF2zUNERERERERERESkIv4HMw02RWw2RLUAAAAASUVORK5CYII=",Jj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAAAAXNSR0IArs4c6QAAIABJREFUeF7tXQuwJUV5/md65sw5e3cVUqgo6wMFjQYjYKloKiySAKYIGo0KanS1ghYYLDAqoKyQIFFAA5oqxAdGiFEgmsSIRkKSMlgRTKKQCGhUtCqFClFR4u7d85hXzjfMf+k7O/eemTM9Z2bu/acKdvfe7r//+bq/6cf/aIvkEQQEgUYRsBptXRoXBAQBEhLKIBAEGkZASNhwB0jzgoCQUMaAINAwAkLChjtAmhcEhIQyBgSBhhEQEjbcAdK8ICAklDEgCDSMgJCw4Q6Q5gUBIaGMAUGgYQSEhA13gDQvCAgJZQwIAg0jICRsuAOkeUFASChjQBBoGAEhYcMdIM0LAkJCGQOCQMMICAkb7gBpXhAQEsoYEAQaRkBI2HAHSPOCgJBQxoAg0DACQsKGO0CaFwSEhDIGBIGGERASNtwB0rwgICSUMSAINIyAkLDhDpDmBQEhoYwBQaBhBISEDXeANC8ICAllDAgCDSMgJGy4A6R5QUBIKGNAEGgYASFhwx0gzQsCQkIZA4JAwwgICRvuAGleEBASyhgQBBpGQEjYcAdI84KAkFDGgCDQMAJCwoY7QJoXBISEMgYEgYYREBI23AHSvCAgJJQxIAg0jICQsOEOkOYFASGhjAFBoGEEhIQNd4A0LwgICWUMCAINIyAkbLgDpHlBQEgoY0AQaBgBIWHDHSDNCwJCQhkDgkDDCAgJG+4AaV4QEBLKGBAEHkLgECI6qNfr7TeZTDylVI+Idodh+HPXdce+799FRHtMAyYkNI2oyOsSAiDdcUqpVxPRc1nxMAxXvYPruuT7Ptm2TZZlPRCG4YeJ6KvTOv9ARMOqLywkrIqg1O8aAn0ieqHneaeNx+PnK6UoiiKK43jVe6SEI/x+Mpms+p3neTQej0FI/P6iIAiuJaJvzguEkHBe5KReFxF4ORFd7LruwZjZQCImH2a7IAhWkRFEBEHx8GzoOE7yM/yn/30q8xrf988lovvKAiMkLIuYlO8iAoe6rvsJ3/efA+VBHhAOsxweLD+ZkCAefg6S8tPv95N/o1weMVFOIzSIeEkZkISEZdCSsl1E4GSl1HW8zwPBsmQCsfDwrMcvibKYKfXZkGdLJjLKskxtxvwKEZ1ERD8vApiQsAhKUqaTCDiOc3kQBGc1pPxuItpBRLfPal9IOAsh+X0nEVBKXR2G4c6GlcdpzzNnEVFI2HAvSfPmEbBt++o4jndmTzzNt1RIIoj4q0R051qlhYSFcJRCHULgHJyAZvdqTemfmjNAxMesdXIqJGyqd6TdOhCAwf0WCNYPTupoqIzM9OT08+lhzT5VhYRl0JSybUZga6/X2w1TAgiYtQM2qThmQxj84zh+w9Qt7qNZXYSETfaOtG0SAdjmzmZ7HYiIByaFJh/og0fbnz6OiO7RdRISNtlD0rYpBA5SSv0A9j/dZmdKuAk57F1DRB+IomiV2URIaAJhkdE0Ale6rnsajOq687Xultakgtn96WAw2D4cDn/IOgkJm+wdadsEAo8moh+xIF6GgowtMVEkszM+CFgap6elHyCildlQSGhiGIiMJhE4td/vf3Q0GvEAT3RpyyyYBQYucvgvCIItHAYlJGxy+EjblRGwLOumOI6P0x2w8XfdKbtyIxUFsKM4xGjL5d8iohuTD0ZF+VJdEGgSgQOI6CdLS0uJSQJmACZjXmhSE4pm94PsFE5EH4qi6HQhYRO9Im0aQ8BxnBOiKLqRoxwGg0FCRMw2HP9nrLEKghAKBb2gp2ZCuT0IgiOFhBWAlaqtQOBc27bfw5owGXn26fV6+0TFN6m1th9kNXCodJ8sR5vsFWm7EgK2bV8ZRdFpEJLJA5ObsqJSYxUqZ+MVoStOboMgOJSI7hYSVgBXqjaLgFLqljAMVxI0NavNXK2/AMmihIRzYSeV2oCAbdvfjqLoyW3QZU4dTiGi64WEc6In1ZpHwLKsPXEcLzWvydwavJ6IrhISzo2fVDSAwFOJyEs9Xn5cVp5lWT+M4xhxel19XkNEnxASdrX7uqv34f1+/8wgCF6ruXHx25xKRJ8qmlDXsqzb4jg+ortQ0IuJ6LNCwg73YIdU30pEv+G67tlBEDyPfTr1iActoe4dcRwfXyR/p2VZn47j+KUdwiGrKuyEtwsJO9yDHVB9OxG9zrbts6Io+iXoqx3PJ47NOL7nHJ9Myn6/f/9oNHrCrHsfbNu+KIqi8zqAw1oqHoSluJCwwz3YYtWfMz00eStmKT3IVg+w1Q3peakobNt+bxRFZ894RxxsfKTFOKynGkKZnkZEvxASdrQHW6j2/kqpE8Mw/KBt29vSSIGqaiYeJesIOcS27e/CU6Zt3jFZnfEx4rQb+J1S6tNhGCItvzhwVx0lm72+53mH+r5/qlIK+73EE0RPFV8Rn7dz5rQ15Hi9Xu9bk8nk4GQwp6kksL9EaFMbkj3pPqzwIcVFMsDIdd3X+75/lZCw4gjZzNXhPE1EZwRB8Nvpl31VVLuhmQlp5LFvWu/6scuUUm/moFnukzbFE0IX4AEC4oGj+XA4fCwR/UBIuJlZNN+770dErySiK/TqOuEwC2F5qF+oMl9TD9ZSSr04DMPPriPjcKXU7dn4wbbkmlnjY/Bv01jCo1Y+GFUAkrqbBoGnua57hu/7SfwbnmyoUN7MZ4IIjuPcHATBMTOQ/rrneUdiptFvVWrLbKhfq5am3Uh8RoWEm4Y/c7/oYJpI93jLst6Y/rnq1iImmD7Q9Qs3sf/BvqzqgwFsWdZhk8kEV1XnPv1+/+jRaHRz9uNgcG9a6TUYq3SPej8RIRh55ZHT0UrwbsjKjyKi1073YUgnvz8PZJ1sbFjXrxkDEnkXahrK+7kqMVIe6q7rfsP3/afz7zDg25TsiTFzHOcFQRCszILQV0i4IXk010vhAs23Ti8ueSkvLbNxcPryUr9oE4Od/406OP0zmeks/QDA2L/efX+Hw/tEn/3aMBNCd/yXRtXfEMfxC7O9IySca7xumEr7E9GJyFxNRCuzSNveLs3LckYURasOhHL0PMeyrIs5jwsnVeIPBP/Js7qJPaO+F+a/52TdxgFTHIbh47PZt2UmbNtoW5w+hxDRTsdxdhlaLtamubasXCYi+KDOev6ViH4tuz/Ev3W7IZJDLS9DZPVHJx0vO/VZeMuWLbR3796Tpx4yf5XXmsyE1fugSxJ2DAaD8yeTybH6NdBdeIHUtoZT0uQAZp0He9r79OUxSILZEcmW8DBBTJzeQhbksw8sn85iFtau37403WPnqi0k7MIIrKYjbHuvcBzng206qCj6SvqMopT6QhiGiXPAjGdVVm4um52lTO8ZIR8Y8+oi3Q8iDw5OmNd8hISzurO7v4dzMLJTv5ldpbK2vDa4dRWBF3pj5oYDgOd5Tx6Px98tUA9L7tssy9qWuokl9Xn2M+TRs+YFNFu3bqU9e/asOwPyOwgJC/Rml4pMvUdeFIbhmVMj9/P1/Z6+9MLSDjY8kyeYdWHEs5XmHHDBdEV5YcH2HmFZ1nVxHB+rlzd5MAO5OrbaYc8fENEHi+gpJCyCUvvLsG0vuSZ65QtrWStE0w3ppgdhnfCAhCAge8Ok+6xts2INdZ08z7t4PB6fU+edhZzqXil1/2Qy+U0i+s+iuAgJiyLVznLPSG/3ea0eKoPBhlkO+5Psvkf3dMHv9KvE2vmKq7VKPyA7iegvSur7DKXUpWEYHm/iQIbbZnzTP88loj8rmp5DlqMle7BFxZFdDLlJTldKPa9rJJoXR93G57ruvZPJZK4ET47jHO84zgWj0eh50EW3FYJI2Ctiqa4TVd8/8ozHDuOQEcfxRenS89553k9mwnlQa6DOYDA4aDgcngbbHpZnw+F60T0NKFhTk/rhkf5313WP9H3/9nmb9TzvSb7vvyKKondBRtYhXf+37p7HZod+v3/XaDTC3hQuaP83rx7Jh6BKZam7EASOtizrAsdxjsVg0J2i23TpSZ1I6Evqbdu2JR+gMAw/E8fxywy1+xjP8w4bj8fHDgaDJ04mk+1hGPb7/f6WaYqNvWEYwhP922EYfoWIcDKLUKTq3ump8kJCQ71oWMwjiegk27bfFsfxU/RodSaeCZcrwzrXJi7PnJC+/0pgbG2NL0CwkHABIJdoArY9JC86i12h+PBEXxKBlOyl0Xa3sxLvnluUPzbsD8q5a9KlKQ5CLqnaRtP1hYRN98CD7Z/ged67x+Nxcl9d3uZfT5EAEpo84WsHBGtrsVbsYhiGuKsed1GYcQJtCAghYUPALy0tPWp5eflVRPSnqXdFoonuDJwNF8qquhn2hDnGes7RwiebSRbrhrrRSLNCQiMwlhJyuOd5bxiPx0mqCP3Qgfc+eXF7uj2K94ibxTyxXkDxNOHUrcjqXaoHWlZYSLi4DnmRbdvnR1F0JO/nNgOJ+OMB52ZEMeh+nAahP4yI1kx/YbCdWkQJCWuBdZXQxyqlPmPb9rM5L2eX3MaqwpOXHoNlmtjXppEK10RRhJQcnXyEhDV229LS0oHLy8uJF0V2wHFYTY3Nt0Y07131Axb8jOP7qiqa7p1npb+o2kxt9YWEtUGbCP5vInqKbudCFjJ4XZgagPWqb1Z6lowmpIPYmA2DICgctWCiXZMyhIQm0VwtC5eifBU/yu6DeDlqOqi0vlepJhnvyfa99DqzW4noMlNpEaGdZVnfj+P4SdU0baa2kLAm3Hu93nWTyeTkuvNy1qS+MbHpEvRnRHT5YDD4+HA4xG1EvTTUBzf1VnoyvqX7pBOsJHxBlYWENQHd6/Vu8X3/uWxO4BkR/85m/6pJhTaIvWWauxQ5Qz8/zei2V1fIdd3ToyhKUm6YeFJM0c5JJuQtUoaQsB60EXSKoM4nZo3N+sy4gf0/EVH+0RmBrY8gotL31K/XXSmehxLR3fV0az1ShYRmcYULFfw+Eeu3kvDHbBPmpeW5haXZzVZOddl3E4dK2fyd0Cj9/VuiKPr4jCS9Ky9g2/bH2bSgR/7rbnuz3pZ111IjFsrrMkvuIn8vJKyOdt9xnB2WZb3d9/0d+h6lC2aILKGgM+yZelZt3dDOs7cWzfGlLVu2XLK8vLwqtXtBWJ/qOM43Qew0Q/VKNSzbi+LHHwz+GIRhuKVsdHtBfWspJiScH1ZEdp+ilHprGIZIsZc8prN5za9e8Zr6rUGoBRLqP8smjEpNAoheQIqJbxZvKbfk1yzLemb2ctGihvxsuTTv52t83/9ERb0WVl1IWB7qI6bLrTO3bdu2c/fu3Su1a3bLKq9liRrZvSlmFhBPv2NQcyw/dZoy/6+ny+4HSjSxXtGX27Z9PUes67oUScmoh3ixGSS9fBOxhp14hITFugnXhJ3U6/Uu9n3/YD1VIMiHf8P4ng0+7YIdkGc86MpPDiFucl33At/3E7un4ac/vX4NBzRJflA2voOM81w0ykvYfr+/YzQafdmwrrWIExKuA+tgMNju+/7rgiC4UE+dDiMz7jHIZNpKJLEBumthRtnZUCm1HIbhJZ7nXTsej+s+bcQ1bEm6RsYUsyDvFdcb+XpmuQzm16a3CtdCHJNChYT5aO5QSp0RhuFL8Wt945+d3dDxWLphMPCXmwd0keWUyc6cV5a+pFNK3eb7PvZ7X1hgsOxj+v3+DzlTePb+wyLvlf0gpv/ePs1UAOeAVj9Cwoe6B0vOV9m2fZ5S6gmZCz2SUvrSje/g07++vKTj5WoXMlzz69u2fW0URTjeL5y01vDIxo1FLyt7sKUHQWvvwpexdCL9hZCQCHcW4MKONxseVAsTp+9F88KkdBsflNJOFH8AH04i+ksi+snCFM5pyHXdZ/u+jyxmyWPQkaH15orNSsI+EfGSs8gtP02Oz0Jt6zMy/z0vS1n6s5vSZLWw7RlL3VdI0fUL3dPr9bbjkMvUUl4p9eIwDFud/mKzkfBAz/NeOZlM3mTbdrLk7PqTTYGY5/2iHXJcPh3kV00mk6q2vbpg+z0iSux7mAmxN9TzrM7Z6PenMlsdXbFZSIhUgmdblrVT98Qw9bWdc3AYq6Z7luSkb78/vaDy+jKXqBhTrpwgz3XdUfagq5yI1aXTjxRsu03tdWeqv5FJiDsbcDvOedOTvmfBdMCnbzNR6VAB3Y0sc5iEiIL3FbjZtm1vi7T0u0x+IF3Xvcb3/damv9iIJMSx9Kt6vd4Fk8kEJ56rNvns6Iufd+n0sgRT3jmN5oeN7Hsl6rSp6JMGg8HdSHVvIuhXS6p14PQSnf9t04uuHEK1Ual5dHJd9yjf93f1er0T+VZXmAzQCbz307+u+B2bGeZpry110uXn/Uqps8Iw/NsF2vbqhOBzpuIC2WwURdFb0pPgOvWeS3bXZ0IsOV/iuu6Vvu8v5d2kA1Q2CuFyevjTSB6cXlAy1wBoaaWjpzcN32w4xT8OaH6lZafBCfxdJeEhtm3jkGVXF5aUbFDmJXB2v6O7xOF94K6V9RrhW2bDMLw/jmMY1T/ZBW+QCiS/h4iwtTD2OI7TyvQXXSPhCdPriN8Ux/GJ7GRsrIdqEsSEy9rsQEwO/NWN6XkeIKnbHK7lei8R/dMGWXKui7jrum/0ff+Kqt3Cp8XpR+0fiej4qjJN1+8CCfeDI+5gMLhoOBzuz8tLDgLtwkyo2/KWlpZoz549K/24lkEdS7H0Q3N1r9d7b4tte6bHJMvD9mLPPJEUukL6FiX9mCH7Ae4YbM3TZhJi/Y5ckqfnDVQg2JVIBdZfj2Lnkz/+iPCpbTo7ft227Y9FUXRd0VQRrRlRBhWxbfuKKIrgUljpweqCkw3btv3+KIpa5aLYNhLCneyEwWBw1nA4PIaRz5INswmOsLuwJM37UGR/ln6hYyJ6e+rH2XrP/0qsKF4ZKREreffgo4YPHGzE2oNEXA8tR4rrU0vJtpAQqSJePRgMzhwOhyupIrJOvNkDjaIpEGpBroRQ/QIYPUqAl9Rp6BBSAyYp8+VZhcA/E9GxJjDB+EmDhXER61UmZJqQ0TQJ4U4Ej5bf5ZfhbM1s29OzlvEA7soyVO+g9OISffaGMf2P0lQRQxOduUFlvJCI/m7ed8NYAfb6tQOu637b9/1fnlem6XpNkHBJKfWSMAwR6wWfzsSOx/lB9ON6JmKeb6TBUBfTmK6Slw0tQtyeUur9vu//e60Nbxzh8Hr6TlVzBfeDtnrCdufmNsC0SBIeCtteFEXn6cuzNoAwSwfOiQm9sYTMs+vxx4R/z546aefHjuOcGwQB4vZwxbM85RBI0l+wBxQwLnoqnpO2gy+QwaHXK8qpUU/p2knoOM4xYRi+w3Gc47p4P1+e/6Ju49PJh7/r+1Tbtr8VRRFmfMTvtSlur57RVJ/URzuO86Ns6sWcA5c1NcjZDqBsK9Jf1EnC3yGiv2GvnOwhStHErvX1a3HJPBOmOS1X9hda1mfOQJ3MlEop3LHwESL6r+KtSMkZCFw/TRSM9Iilr5XTCag7T0RR9CdBEOxqGvk6SPhY13Wv831/5R5x3c6npwhs+uWLtM8E5LKclg/7VX2fEUXR9+I4hh8ncnIavWOhiJ6boMwz9JhAjCn0wazA7Dwbc+Zgr/H0F0ZJ6Lrukb7vf822bYvvLABIXb+fT4/ZgwdHZlZHigjkacEmf5UxahMQY6GvaFnW3biDEMRCPxTdFzIR9awD2GbA1qyUOiUMQwQ8N/aYJOFBSql74ji2+OBCP8Tg/RJvqk3Eii0CtWz6wrRDYVi/nIiu7NoNQIvArMY2Xt7r9a5nc0PRwN/13AbbYK4wRsJ+v//98Xi8kp06LxUge7h06X4+nYRhGN6RRjBslLi9GvlSi2iYK5Y9z7PgAVPETFXEgX4wGBw1HA5XMr3Vovk6Qk2R8DVEdA23o4fhcGhONiERyhYBcdGAZNtLZ/WriehDGzBur2l452m/dPqLbChZ1tnDtu1r+Iq2eRSqWscECXGXAO4LX3E3q6qUyfq6sRxy8VHQTQx65mb8Xput4yAIzici3LcnvpwmO6WaLGROM5aWX3MUOagpG64JEh5lWdatRTfJ1fCvVjubwh5k5PT12v7iG0qp88MwnNtVqpqWUnsWApZlfc6yrJMMpydpLFt3ZRLatn1pHMdv6wIJ10oNmEYxFLniedb4kN8vBoGjbdu+2UQUDd8z0u/394xGo0c2cbmoCRJeF8fxyW0mIWY5NvLyjJcScrfneReMx+NPtTUT12LGdPdacRwnCoKg8vjlU/vU3vgCIprnxuFKAFZ+CaXUrVEUHdVWEuqHP9pMeJvjOO8IgmDhgFfqLamsI/D7aTbxyqjgoCb1dLpzMpk8vbLAkgKqkrBn2/ZX4zg+oq0kBB5bt25Ngjp932fbXqvSG5TsMyn+IALItFc5MDcnKfRh09uh7lokyFVJiJPGzyAesK0ktCzrzjiOETALd7KfLxJcaateBGzbvsxEqgrdbh1F0ZUmUmqUefPKJLRt+8o4jk9rIQmRkxPZuloRM1amU6RsYQQqp79ASxl79c+I6HGLzGhXmYREhM3sF3VH2ex9eEUgzfN0Z5OCblzNc1XKGGMvIqIPExHu3pNngyNgWdaNyEuE18R4YYfurDlqLRjWSJGCJGOVctuUgd0ECXGsm+T4z96Rx/GD6ymUl7IiL2P2li1baO/evcR/QiaIn6a8v7XX631gMpkgfbqkiigzArpf9oRer3ej7k+KMTEruiL72jwOU5/mzpEQ7wMb2+n4yzxxgrozt/5l4hmOI9p14NIlBByoEbfX2muvuj/GW/8GyNCH0DFkUCv94IOPySOTja2TJNxuWRYiKBIQshexrIdM3rJhvTyjOEoOwxCXe8C2d19p1KXCRkTgHNu2L8bY0MdOmUgdbRWHPSFc2BaWCcHEcpQ79Z2e513IX5S1iLTWCAAIIGS2vrZpvnXK7wuJCHsAeQQBHYH9Xdf9GWfrxpjB+MvMbrmIZVOVEBHOFHC93MIekySE0je5rnscZsSiN+rkAZbZLMO297FF224W1gPSkBEEptefXx1F0U794K7ITMgf+fQcIo7j+GEm7I9lXso0CbdalnVDHMfH6M7R6ymkg8DJcF3XvTcMQzhR3yDuZGW6c1OXxT7uTl6BFT0dZcSUUvF0vD2TiG5fNIqmScj6X97r9c6cTCaF5OPrBQJGUfSlqdnmj8W2t+hhsGHaQ46fP+SEXEUuk0nPL24Kw/BUIsJ1bAt/CpFkTq0OV0q9I4qil82YCe+NoujP06BZse3NCbZUSxBA5P31/X7/pNFolJx66mYyPm3Xch4hWPt9TW916iQhjwucND1r6p3+3PQYGUA9kC4z/2Xq8nbHIr0TZLBuCgSS6Hv9Tfn0c9u2bf8zGo0u9X0fboytuMN+ESTcFL0uL9k6BA5USh0XhiESkD0+DENE4+OiVdiUF2Z+KIKKkLAISlJGEKgRgTwSevAI09osQtQHrfT7PlxXl6GX5b+vVZ8lrqdDEf3mgbAuufPokldnFmam2mE5ee2ZxmgteWXeFTL4v+z4Yvn4+T5j74ADDqCf/vSnRcZcFWwDItqrC9Bf+gTHcU61LOvZrus+klPKaSkEskAk/4ZhhdPBR1FkwcZnWRb+TGTn+PBlgUZCJfiExvANhcjU1mNhHZ8TnbGqfk6Kg1V6pvXLdGIVgPepqzuXFxRsdGDj9K/EU7rtkvL3UWVWigpNfq5uGDsPf/jDaffu3RZy3mLMgIRsa9au1sNQRU4hmCKScWnbdjIu8DOcpPq+H6M87IvLy8uJrDV8UIuOp0QGuAS56Unsjy3L+o/xeAzb9xcTZfG/Xq/3rslksivvBptZIOn3B3KEMqc5LNr5ulM2/o7MyHn+orlTrVV63BRVa0OUa2GIWW246uNIT7HJ0RW67TAvSAA2RpAaY16vX0Vh4I+g8j17Hoo/Zi8d3IURRdEujOBfn96E+uWEkZaVzDxlDZ0pkVdd1AFZemjJWi+if7H0i0HTL1UnrsSu0kldrzvHTL/qlWd9JGbJz46xvFC3bFAAh81hjOm/y9Y1mReX28TLs1NK+u47QMJPuq77SjZsZkI6uj5GRH9BoHEEdPsk80sLcrjW6vf7vxiNRkkYCE/BPBOa/BI0joQoIAg0iICWZHiVFkqpByzP8+5SSj0tPRRJkuGy8/U8y9IG31OaFgRah0B2WwZOYe8Jjx5wDXZLLEfPtW373TjZzN4XITNh6/pUFOogAuxUno3qSCe5c0HC5KYbnMtwVLyQr4M9LSq3EgFeWWZXlenPYep4GJ/v4+7uv5+mBXw62/zwRrr5oZVvKEoJAh1CQD+JtW37jiiKTkTkRtbIdsQ0bcST4Wi9RhYqE688j2GvqHHUhH4iY/MhMM+YZJTWHZtwWmHTW7rd+8XUGvEd3/dX4harNL75ukreWBCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwCQsIyaElZQaAGBISENYAqIgWBMggICcugJWUTaCX0AAAAPUlEQVQFgRoQEBLWAKqIFATKICAkLIOWlBUEakBASFgDqCJSECiDgJCwDFpSVhCoAQEhYQ2gikhBoAwC/w90qc/ukPSL5gAAAABJRU5ErkJggg==",Zj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAADGhJREFUeJzt3XmMXWUZx/HvtMMUSikFuoAKZRPRUsqirLI1CIiABqpBjaxBhQhogmsIm6EmEjaDuAABDItRIKJAQVFEsEBYFAhCC5aCtNNaKC2Flm4z/vHMxGGYe+eec9/nPOfc+/skT6ZBc+Z5z32fOfeee97nBRERERERERERERERERFpOx3RCUiYkcAEYBOgC1gJLO77KX1UIO1jLHAUMB3YB9gRGDXE/28B8BTwIHAn8FJRCYpE2A24CVgF9OaI2cDx2BVHpGVMBu4gX1EMFf8CDi90BCIOOoCvAu+QrjgGxg3Y5xaRyukCfoVPYQy+mmxf0JhEkhgN3Id/cfTHImBKISMTaVIn8AeKK47+6Aa29R+eSHMuo/ji6I9ngI39hyiSz1HEFUd//Nx9lCI5jAH+Q3yB9AIHOI9VJLMLiS+M/ngCPZkhJTIWWEZ8YQyMz7iOWCSD04kviMExy3XEIhk8QnxBDI71wCTPQRdtRHQCkssE7IncshkBHBmdREoqkGo6KDqBOsqcW2YqkGqaFp1AHbtHJ5CSCqSadopOoI4daaHbvSqQahofnUAdo2mhR09UINU0JjqBYYyOTiAVFUg1rY1OYBjroxNIRQVSTW9FJzCMsufXMBVINb0anUAd3ZT/CtcwFUg1zYlOoI7noxNISQVSTbOjE6jj0egERDop35O8/XGw37BFGncd8cUwOBZhxdsy9Baruq6PTmAINwDropMQAXucYzbxV43+eBf4oOuIRTKaTnxh9MelzmMVyeVW4otjIbCp90BF8hgPvEZsgaiptZTafthngIjiOK+A8YVpmef2K2gCsF3fzw2w/TuWAC8CK3Ic73PA7RR7Z/I64DSsUESa0gXMwDazGe4t0VzgauxDeJYJ/1nyb5STNa7KmJvIkMYCF2BXhzwTcR5wBnaVacRewPycv6uRWAN8A737kAS+TP7CGBwvYFeURmyGzzftT2Jbuok0ZTRwC+knaA/wIxp/a7MvafYMmQecjPYplAQ+gO0S6/UWpxfbe3DDDDlNw7ZIyNLo+h3gNuxzTUs9X5WF3kemtStwN/ChAn7XX4BjsIncqA6s68i+wEeArbH9Bkf1HWcRdhftSawZ9eqE+UqbOwJbaup55RgcD6ENNaUCvoYtMy2yOPrjUWCc/xBFsusALiGmMAbGU8AWzmMVyWRD4LfEF0d/PAtMdB2xSIMmUM7tB57H7qKJhNkZ+DfxxVArXgK2cRu9SB0HA0uJL4LhYj6wvcsZEKnhK9j3AtGTv9F4jXJ3gZcWcgHxEz5PdANT0p8OEdMF3Ej8RG8mlqAHDMXBZsADxE/wFLEU+ETa05NcF3Actl5mLrauZT1W4A8C5wLbRiUn77U9dss0emKnjOXY0tyy2QaYCSxm+DGsw3pv6fueQPsA/yV+QnvECsrRGrQDe3bt99ikzzqORcD+hWctzABWEj+RPWMlcFiqE5bR5sA52Hc1KcZxYLHpt7dvYwuSoidwEfEucFSa09aQvbG3RqnXyy9BTw64Gwn8jPhJW3SsAY5NcP5q2Qg4FVtX4jmO3ziOoe1tAswifrJGxVrgi02fxffaCbic4p446AGmJh6DYKv+niZ+kkbHeuCk5k4lI7Gr0Z+IeZt6WZP5yyC7Ed+us0zRgy36ymorrLNilrXuHvFcjtylhiOx253Rk7KMcXaD5/AQ7L3/mhLk3IvdKu5qMHep4wzy3Xdvp/hOjXM3FjgT+2sdneNQMalG3tKAEdj71OgXsSpx/oBzNw34BfB2CfKqFxOQXDbC+khFv4BVi+uBv5cgj0ZiFeoTnMsk4DHiX0CFb7hti93KHfM+CtyDngBtB3d7HbhVOytOx/bKUL+o1rca22el2+Pgrfi+7STgXlqzONZGJ1BCV+BUHK3oh8S/H/aKF7F+uj8tQS5liX+SrYl32xqFrUSLfsG84mFss85+umVtrZeKaBJeeZtjSzKjXzCv+DX2B2CwmSXILSoeQF8MNmQHYA7xL5hXzKT+jZTzSpBjkTEPOGWYcyJ99iPd9mZli7XYWopGfLcE+XpGD7Yk4Rha86aSiy9Q3G6uRccy4NCM5+PsEuSdOl7HOufvkPFctL3v0bpLY18hf6O3r7fIeXkMOBHdncqsE7iG+BfQK54AtmzyHJ2MLYCKHkvWWIntyrtnk+NvW2NJs1trWeNObGfcFL5EdR7pnwN8C2vSJzltDTxD/IvpFVeS/sPnDMqzmGlwrMOerv4UuhvVtD2AhcS/qB6xHjgr3al6n6Ox9j7R4+yPbuAi9OVeMkdT/kU6eePtvvF5O5z4Rnh/xe46buA71PZyJtX8sNlILMSujEU5hOL/0CwHrgI+VsD42soI7OnM6EnsFc8Ssz3a/tik9R7f09jt5jHFDKu9jAZ+R/wk9or7sLtxUfYC3hwir2ZjNXAzaibtakvgceInsVf8knKs3twd+4Y6xZjmA99HWxG4m4Kd7OhJ7BE92Df/ZTIFeJX845mF3WDQc1EFOBR79ih6InvEKuzuTRmNB26l8bHouagAp1DeL7OajSWUczenwfYErmXoDYNWY712T0DPRRWqA7iY+EnsFXOo5l/aydgH7QOxt2FDLdISZ13ALcRPYq/4G7bCUSSzjWjtvThuRn91JacRtHb7z4vSnSppRxcSP4k9Yg3Nbz4jbW4fqrM+IUu8iXVwFMmtA/9NHCPiZaz3r0hTPk/8ZE4dj6GeTJLIbOIndMq4A7sbJ9K0nYif0CnjUvT8kSTUKg3N1mF7G4okdRfxk7vZWIHtiiuS3ALiJ3gzsQDbT10kuVFUu8vfAmzdeBkWOUkgr75EW2HNCVrBCuANYOmAn0uH+G8D/7elWNMJqTivApmMrRJsV73AWzRWWAP//SZ25ZWS8CqQicBip2O3sh6s+0gjBfUG1ozttZBM24RXgXRiXf1GOh1f/u91bNPSa7D1KFIRc4n/sN1ucR/aFz4pz2+Gn3Q8tgztMOAfWDdFScCzQO53PLbUNg64BzVyS8Kz/fx47FavmhbH6AZ2wT7US06eH6JXAtNQA+Mom/TFPdGJVJn3BiZ7YgumJMZqbAOiJdGJVJX3bdhubOXdLs6/R4bWiX1h+3hwHpVVxPqGb2LfEEuMg6ITqLIiCmQR1r6yt4DfJe+3c3QCVVbUCrm7gHML+l3yXuOiE6iyIpeQzkQN1iKsik6gyopeY30+cBp2d0WKMT86gSqLaEJwLbYdmB5FKcaj0QlIPiOAE9FDjd4xtdEXRMqpA9vP+zbs/XL0hGqleCDD6yBD8P4mPasNsUYJk7FnubbA9tvYfMC/+39uhvpUDedA4KHoJKqsbAWSRQd2C3Nw4QxVTAN/bkq1x92oe4FPRydRde0wUQYbiV19GimmgT8j9zjPqhf4OPBUdCJV144FklcnjRfVwH+PCcj1dmBGwO8VyawL2BLbGPMA4AZ8P5ivR1szSEWNAl7Bt0BuLGw0IomdhW9xrAG2K2w0IgltjD3Z7FkgVxc2GpHEfoBvcazEWr6KVM44bNGYZ4FcUthoRBK7GN/iWI7dVhapnInA2/gWyAVFDUYktSvwLY7XsfY+IpWzNdbE27NAzilsNCKJXYNvcSxA21JLRX0YWItvgZxe2GhEErsF3+KYh/oeS0Xtiv8mpicUNhqRxO7EtzieQ6sppaL2xrc4eoHjChuNSGL341sc6pYvlTUd/6vHEYWNRiSxR/AtDu1iK5V1NP5XjwMKG41IQh3A0/gWx6zCRiOS2PH4FkcPsEdhoxFJqBP//sK3FTYakcROxbc41MZHKkttfETqOBvf4lAbH6msjYHF+BaI2vhIZamNj0gNRbTx+XFhoxFJTG18RGoooo3P+YWNRiQxtfERqUFtfETqUBsfkRrUxkekDrXxEalBbXxE6lAbH5Ea1MZHpI4/41scauMjlaU2PiJ1PIRvcTxY3FBE0tod/6vHJwsbjeSiOye1Het8/HuBh51/h4ibP+J35VAbH6m8F/ArELXxkcp7GZ/iUBufCtFnkNqWOh33JuB5p2OLFOYm0l89VgPbFjgGaZKuILXd73DMa4H5DscVKdymwArSXT3UxqeCdAWpbTlwVcLjXQl0JzyeSLgxwIs0f/V4CevEKNJypgLLyF8cy/qOIdKy9gAWkr04FqBvzKVNTABuprHC6MHWsE8MyVQk0FTgJ9jnisFFMRdrLLdLWHaSVEd0AhU3BpiEFchi4J3YdEREREREREREREREREREpGn/A4yfJdJ09tnjAAAAAElFTkSuQmCC",eF=n.p+"static/media/situp.5dd5e02296fa4015039f.png",tF={jumpingJack:Yj,lunge:Qj,pushUp:Jj,squat:Zj,situp:eF},nF=e=>{let{record:t}=e;return(0,Ye.jsxs)("div",{className:"record-item",children:[(0,Ye.jsxs)("div",{className:"record-header",children:[(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("span",{children:t.endTime.slice(11,16)})," "]}),(0,Ye.jsx)("div",{className:"record-popcount",children:(0,Ye.jsxs)("span",{children:["\ud83d\udc65 ",t.participantsCount]})})]}),(0,Ye.jsxs)("div",{className:"record-content",children:[(0,Ye.jsx)("div",{className:"record-exercises",children:t.roundRecordResponseDtos.map(((e,t)=>(0,Ye.jsxs)("div",{className:"exercise-item",children:[(0,Ye.jsx)("img",{src:tF[e.name]||ft,alt:e.name,className:"exercise-image"}),(0,Ye.jsxs)("span",{className:"exercise-count",children:[e.exerciseCount,"\ud68c"]})]},t)))}),(0,Ye.jsxs)("div",{className:"record-combat-power",children:[(0,Ye.jsx)("div",{children:(0,Ye.jsxs)("span",{children:["\u2694\ufe0f ",t.personalCombatPower," / ",t.totalCombatPower]})}),(0,Ye.jsx)("div",{children:(0,Ye.jsxs)("span",{children:["(",Math.round(t.personalCombatPower/t.totalCombatPower*100),"%)"]})})]})]})]})};var rF=n(89751);const oF=O.createContext();function iF(e){return(0,sc.Ay)("MuiGrid",e)}const aF=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],sF=(0,mu.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...aF.map((e=>`grid-xs-${e}`)),...aF.map((e=>`grid-sm-${e}`)),...aF.map((e=>`grid-md-${e}`)),...aF.map((e=>`grid-lg-${e}`)),...aF.map((e=>`grid-xl-${e}`))]),lF=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function uF(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function cF(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const dF=(0,ju.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(a,u,t));const d=[];return u.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...c,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,rF.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,rF.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${sF.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,rF.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=cF({breakpoints:t.breakpoints.values,values:e})),i=(0,rF.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:`-${uF(i)}`,[`& > .${sF.item}`]:{paddingTop:uF(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${sF.item}`]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,rF.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=cF({breakpoints:t.breakpoints.values,values:e})),i=(0,rF.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:`calc(100% + ${uF(i)})`,marginLeft:`-${uF(i)}`,[`& > .${sF.item}`]:{paddingLeft:uF(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${sF.item}`]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,rF.kW)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[o]:a;if(void 0===s||null===s)return e;const l=Math.round(t/s*1e8)/1e6+"%";let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${uF(e)})`;u={flexBasis:t,maxWidth:t}}}i=(0,eu.A)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e}),{})}));const pF=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(i,l));const c=[];l.forEach((t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...c]};return(0,xu.A)(d,iF,t)},hF=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiGrid"}),{breakpoints:r}=Zu(),o=(0,iu.A)(n),{className:i,columns:a,columnSpacing:s,component:l="div",container:u=!1,direction:c="row",item:d=!1,rowSpacing:p,spacing:h=0,wrap:f="wrap",zeroMinWidth:m=!1}=o,g=(0,tu.A)(o,lF),y=p||h,v=s||h,b=O.useContext(oF),x=u?a||12:b,w={},A=(0,eu.A)({},g);r.keys.forEach((e=>{null!=g[e]&&(w[e]=g[e],delete A[e])}));const S=(0,eu.A)({},o,{columns:x,container:u,direction:c,item:d,rowSpacing:y,columnSpacing:v,wrap:f,zeroMinWidth:m,spacing:h},w,{breakpoints:r.keys}),C=pF(S);return(0,Ye.jsx)(oF.Provider,{value:x,children:(0,Ye.jsx)(dF,(0,eu.A)({ownerState:S,className:(0,nu.A)(C.root,i),as:l,ref:t},A))})}));const fF=hF;function mF(e){return(0,sc.Ay)("MuiCard",e)}(0,mu.A)("MuiCard",["root"]);const gF=["className","raised"],yF=(0,ju.Ay)(rf,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),vF=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,tu.A)(n,gF),a=(0,eu.A)({},n,{raised:o}),s=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"]},mF,t)})(a);return(0,Ye.jsx)(yF,(0,eu.A)({className:(0,nu.A)(s.root,r),elevation:o?8:void 0,ref:t,ownerState:a},i))})),bF=vF;function xF(e){return(0,sc.Ay)("MuiCardMedia",e)}(0,mu.A)("MuiCardMedia",["root","media","img"]);const wF=["children","className","component","image","src","style"],AF=(0,ju.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,eu.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),SF=["video","audio","picture","iframe","img"],CF=["picture","img"],kF=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:i="div",image:a,src:s,style:l}=n,u=(0,tu.A)(n,wF),c=-1!==SF.indexOf(i),d=!c&&a?(0,eu.A)({backgroundImage:`url("${a}")`},l):l,p=(0,eu.A)({},n,{component:i,isMediaComponent:c,isImageComponent:-1!==CF.indexOf(i)}),h=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,xu.A)(o,xF,t)})(p);return(0,Ye.jsx)(AF,(0,eu.A)({className:(0,nu.A)(h.root,o),as:i,role:!c&&a?"img":void 0,ref:t,style:d,ownerState:p,src:c?a||s:void 0},u,{children:r}))})),EF=kF;function TF(e){return(0,sc.Ay)("MuiCardContent",e)}(0,mu.A)("MuiCardContent",["root"]);const IF=["className","component"],OF=(0,ju.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),RF=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,tu.A)(n,IF),a=(0,eu.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"]},TF,t)})(a);return(0,Ye.jsx)(OF,(0,eu.A)({as:o,className:(0,nu.A)(s.root,r),ownerState:a,ref:t},i))})),NF=RF,_F=n.p+"static/media/turtleneck.c8f53e4bd4576dc9924c.png",PF=n.p+"static/media/diabeticlizard.bcc3dc5d49b9d2d57c31.png",MF=n.p+"static/media/enteritisowl.619546c1ea1b5f8222f6.png",DF=n.p+"static/media/fatiguebat.fd7cbce3572dcdc0228a.png",LF=n.p+"static/media/gloomylion.d1d4f7ac11f910eaadb8.png",$F=n.p+"static/media/dryeyecrab.72a5434087bceedf3b74.png",jF=n.p+"static/media/foodpoisoningwhale.5e830b5efaba374f5f54.png",FF=n.p+"static/media/lowtemperaturewolf.c139075084cacbb26001.png",BF=n.p+"static/media/MigraineMedusa.ac4756cb6a2ff428ff47.png",VF=n.p+"static/media/mountainsicknesseagle.6dfe853132766a76d770.png",zF=Ph,UF={burgerking:LM,turtleneck:_F,diabeticlizard:PF,enteritisowl:MF,fatiguebat:DF,gloomylion:LF,dryeyecrab:$F,foodpoisoningwhale:jF,lowtemperaturewolf:FF,MigraineMedusa:BF,mountainsicknesseagle:VF},WF={burgerking:"\ube44\ub9c8\ub2c8\uc6b0\uc2a4 3\uc138",turtleneck:"\uac70\ubd81\ubaa9\uac70\ubd81",diabeticlizard:"\ub2f9\ub1e8\ub9c8\ubc40",enteritisowl:"\ubfe1\uc5c9\uc774",fatiguebat:"\ud53c\uace4 \ubc15\uc950",gloomylion:"\uc6b0\uc6b8 \uc0ac\uc790",dryeyecrab:"\uac74\uc870\ud558 \uac8c",foodpoisoningwhale:"\uc2dd\uc911\ub3c5 \uace0\ub798",lowtemperaturewolf:"\ucda5\uac1c",MigraineMedusa:"\uba54\ub450\ud1b5\uc0ac",mountainsicknesseagle:"\uace0\uc0b0\uc99d \ub3c5\uc218\ub9ac"};function qF(e){let{expPercentage:t}=e;const[n,r]=(0,O.useState)(0);return(0,O.useEffect)((()=>{const e=setInterval((()=>{n<t?r((e=>e+1)):clearInterval(e)}),40);return()=>clearInterval(e)}),[n,t]),(0,Ye.jsxs)(_M.z,{percent:n,filledBackground:"linear-gradient(to right, #fefb72, #f0bb31)",unfilledBackground:"#3E3A3A",width:"500px",height:"10px",children:[(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{})}}),(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{})}})]})}const HF=function(){const{id:e}=Ee(),[t,n]=(0,O.useState)("history"),[r,o]=(0,O.useState)(null),[i,a]=(0,O.useState)(null),[s,l]=(0,O.useState)(!0),[u,c]=(0,O.useState)([]),d=ke();(0,O.useEffect)((()=>{(async()=>{try{console.log("fetchData \ud568\uc218 \uc2e4\ud589 \uc911... id\uac12\uc740 : "+e);const t=localStorage.getItem("accessToken");console.log(t);const n=await _h.get(zF+`/api/raidu/userpage/profile/${e}`,{headers:{Authorization:`Bearer ${t}`}});console.log("\ub370\uc774\ud130 \uc218\uc2e0..."),console.log(n),o(n.data.data.userProfile),a(n.data.data.userMonsters),l(!1)}catch(t){console.error("Error fetching data:",t)}})()}),[e]);const p=async t=>{try{console.log(t);const r=localStorage.getItem("accessToken"),o=await _h.get(`${zF}/api/raidu/userpage/recordcheck/${e}?time=${t}`,{headers:{Authorization:`Bearer ${r}`}});console.log("Record data:",o.data.data.data.exerciseRoomRecordResponseDtos),n=o.data.data.data.exerciseRoomRecordResponseDtos,c((e=>{const t=n;return console.log("\uc81c\ub300\ub85c \ub808\ucf54\ub4dc\uc5d0 \ub123\uc5b4\uc92c\ub294\uac00?",t),t}))}catch(r){console.error("Error fetching record data:",r)}var n},h=()=>{if(!i)return null;const e=[...i.monsterResponseDtos||[]];return console.log("\ubaac\uc2a4\ud130\ub4e4 \ubc30\uc5f4..."),console.log(e),(0,Ye.jsx)(fF,{container:!0,spacing:2,children:e.map(((e,t)=>(0,Ye.jsx)(fF,{item:!0,xs:4,sm:4,md:4,children:(0,Ye.jsxs)(bF,{sx:{height:"300px",borderRadius:"10px",boxShadow:"0px 10px 15px -3px rgba(0,0,0,0.1)"},children:[(0,Ye.jsx)(EF,{component:"img",height:"250px",sx:{objectFit:"contain"},image:UF[e.name],alt:WF[e.name]}),(0,Ye.jsx)(NF,{sx:{padding:"0"},children:(0,Ye.jsxs)(Af,{gutterBottom:!0,component:"div",sx:{height:"50px",color:"#F6F6F6",backgroundColor:"#3E3A3A",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px"},children:[WF[e.name]," "]})})]})},t)))})};if(s)return(0,Ye.jsx)("div",{children:"\ub85c\ub529 \uc911..."});const f=r.exp/750*100;return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"mypage-page-wrapper",children:[(0,Ye.jsx)("div",{className:"top-nav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"mypage-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsxs)("div",{className:"mypage-content",children:[(0,Ye.jsxs)("div",{className:"content-profile",children:[(0,Ye.jsx)("div",{className:"profile-background-image",children:(0,Ye.jsx)("img",{src:ft,alt:"\ud504\ub85c\ud544 \ubc30\uacbd"})}),(0,Ye.jsxs)("div",{className:"profile-info",children:[(0,Ye.jsx)("div",{className:"profile-image-wrapper",children:(0,Ye.jsxs)("div",{className:"profile-image-group",children:[(0,Ye.jsx)("div",{className:"profile-image-portrait",children:(0,Ye.jsx)("img",{src:LM,alt:"\ud504\ub85c\ud544"})}),(0,Ye.jsx)("div",{className:"profile-image-badge",children:(0,Ye.jsx)("img",{src:LM,alt:"\ubc43\uc9c0"})})]})}),(0,Ye.jsxs)("div",{className:"profile-text-wrapper",children:[(0,Ye.jsx)("div",{className:"profile-text-name",children:r.nickname}),(0,Ye.jsxs)("div",{className:"profile-text-level",children:[(0,Ye.jsxs)("div",{style:{display:"flex",alignItems:"end",marginTop:"10px",marginBottom:"20px"},children:[(0,Ye.jsx)("div",{style:{display:"inline",fontWeight:"bold",fontSize:"16px"},children:"LV"}),(0,Ye.jsxs)("h2",{style:{margin:"0",padding:"0"},children:["\xa0 ",`${r.level}`]}),(0,Ye.jsxs)("div",{style:{color:"gray",marginLeft:"20px",fontSize:"14px"},children:[(0,Ye.jsx)(fv,{targetNumber:r.exp})," / 750"]})]}),(0,Ye.jsx)(qF,{expPercentage:f}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h3",{children:"\ucd5c\uace0 \uae30\ub85d"}),(0,Ye.jsx)("div",{children:r.bestScore>0?r.bestScore:"\uae30\ub85d \uc5c6\uc74c"})]})]})]}),(0,Ye.jsx)("div",{className:"profile-button-wrapper",children:(0,Ye.jsx)("button",{onClick:()=>d("/editprofile"),children:"\uc815\ubcf4 \uc218\uc815"})})]})]}),(0,Ye.jsxs)("div",{className:"profile-double-tab",children:[(0,Ye.jsxs)("div",{className:"tab-group",children:[(0,Ye.jsx)("div",{className:"tab "+("history"===t?"active":""),onClick:()=>n("history"),children:"\ud788\uc2a4\ud1a0\ub9ac"}),(0,Ye.jsx)("div",{className:"tab "+("monster"===t?"active":""),onClick:()=>n("monster"),children:"\ubaac\uc2a4\ud130 \ub3c4\uac10"})]}),(0,Ye.jsx)("div",{className:"tab-content-wrapper",children:(0,Ye.jsx)("div",{className:"tab-content",children:"history"===t?(0,Ye.jsx)(FM,{from:"right",children:(0,Ye.jsx)("div",{children:(0,Ye.jsxs)("div",{style:{display:"flex",width:"100%",height:"490px"},children:[(0,Ye.jsxs)("div",{className:"calendar-container",style:{display:"flex",alignItems:"center",justifyContent:"center",flex:3,padding:"10px"},children:[(0,Ye.jsx)(Kj,{onDateChange:p})," "," "]}),(0,Ye.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flex:2,backgroundColor:"#F6F6F6",padding:"10px",overflowY:"auto",maxHeight:"470px"},children:u.length>0?u.map(((e,t)=>(0,Ye.jsx)(nF,{record:e},t))):(0,Ye.jsxs)("div",{style:{margin:"auto",color:"#948B8B",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center",justifyContent:"center"},children:[(0,Ye.jsx)("img",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"white",border:"2px solid #948B8B"},src:_F,alt:"\ub370\uc774\ud130 \uc5c6\uc74c \uc774\ubbf8\uc9c0"}),(0,Ye.jsx)("div",{children:"- \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4 -"})]})})]})})}):"monster"===t?(0,Ye.jsx)(FM,{from:"left",children:(0,Ye.jsx)("div",{children:h()})}):void 0},t)})]})]})})})]})})},GF=n.p+"static/media/document.8c7646f88368a9238b58.gif",XF=Ph,KF=()=>{const[e,t]=(0,O.useState)(!1),[n,r]=(0,O.useState)(""),[o,i]=(0,O.useState)(""),[a,s]=(0,O.useState)(""),[l,u]=(0,O.useState)(""),[c,d]=(0,O.useState)({}),[p,h]=(0,O.useState)(!1),[f,m]=(0,O.useState)(!1),[g,y]=(0,O.useState)(!1),[v,b]=(0,O.useState)(!0),x=ke();(0,O.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("accessToken");console.log("\uc0ac\uc6a9\ud55c \ud1a0\ud070 : "+e);const t=await _h.get(XF+"/api/raidu/userpage",{headers:{Authorization:`Bearer ${e}`}});console.log("\uc5d0\ub527  ",t),d(t.data.data.userProfile),console.log("userData - ID\uac12 : "+c.id)}catch(g){console.error("\uc720\uc800 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328..."),console.log(g),"NOT_FOUND"===g.response.data.status&&(console.log("\uccab \ubc29\ubb38\uc784..."),x("/firstvisit"))}})()}),[]),(0,O.useEffect)((()=>{/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[^a-zA-Z\d\s]).{8,}$/.test(a)?y(!1):y(!0)}),[a]);const w=()=>{x(`/mypage/${c.id}`)};return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"edit-page-wrapper",children:[(0,Ye.jsx)("div",{className:"top-nav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"edit-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsx)("div",{className:"edit-content",children:e?(0,Ye.jsx)("div",{className:"profile-edit-wrapper",children:(0,Ye.jsx)(FM,{from:"right",children:(0,Ye.jsxs)("div",{className:"profile-edit-section",children:[(0,Ye.jsx)("div",{className:"icon-circle",children:(0,Ye.jsx)("img",{src:GF,alt:"\uc11c\ub958 \uc544\uc774\ucf58",style:{width:"80%",height:"80%"}})}),(0,Ye.jsx)("h2",{children:"\ud504\ub85c\ud544 \uc218\uc815"}),(0,Ye.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Ye.jsx)(gt,{label:"\ub2c9\ub124\uc784(2~10\uc790)",type:"text",value:o,onChange:e=>{const t=e.target.value;i(t),m(!1),t.length>=2&&t.length<=10?b(!0):b(!1)}}),(0,Ye.jsx)("button",{className:"button-gray",onClick:async()=>{if(v)if(null!==o&&""!==o.trim())try{const e=localStorage.getItem("accessToken"),t=await _h.post(`${XF}/api/raidu/userpage/check-nickname`,{nickname:o},{headers:{Authorization:`Bearer ${e}`}});console.log(t),"Nickname check successfully"===t.data.message?h(!0):h(!1),m(!0)}catch(g){console.error("\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778 \uc2e4\ud328:",g),h(!1),m(!0)}else alert("\ub2c9\ub124\uc784\uc740 \uacf5\ubc31\ub9cc\uc73c\ub85c \uad6c\uc131\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},disabled:!v,style:{fontSize:"12px",padding:"8px",marginTop:"10px"},children:"\uc911\ubcf5 \ud655\uc778"})]}),(0,Ye.jsxs)("div",{style:{position:"relative",height:"20px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px",marginTop:"20px"},children:[(0,Ye.jsx)("p",{className:"modal-small-text "+(f?"hidden":""),style:{color:"red",fontSize:"10px",position:"absolute"},children:"\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778\uc744 \uc9c4\ud589\ud574\uc8fc\uc138\uc694!"}),(0,Ye.jsx)("p",{className:"modal-small-text "+(f&&!p?"":"hidden"),style:{color:"red",fontSize:"10px",position:"absolute"},children:"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4!"}),(0,Ye.jsx)("p",{className:"modal-small-text "+(f&&p?"":"hidden"),style:{color:"green",fontSize:"10px",position:"absolute"},children:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4!"}),!v&&(0,Ye.jsx)("p",{style:{color:"red",fontSize:"10px",marginTop:"5px",position:"relative",top:"-15px"},children:"\ub2c9\ub124\uc784\uc740 2~10\uc790 \uae38\uc774\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."})]}),(0,Ye.jsx)(gt,{label:"\uc0c8 \ube44\ubc00\ubc88\ud638 (\uc601\ubb38, \uc22b\uc790, \ud2b9\uc218\uae30\ud638 \ud3ec\ud568 8\uae00\uc790 \uc774\uc0c1)",type:"password",placeholder:"\uc0c8 \ube44\ubc00\ubc88\ud638",value:a,onChange:e=>{s(e.target.value)}}),(0,Ye.jsx)(gt,{label:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",value:l,onChange:e=>{u(e.target.value)}}),g&&(0,Ye.jsx)("p",{style:{color:"red",fontSize:"10px"},children:"\ube44\ubc00\ubc88\ud638\ub294 \uc601\ubb38, \uc22b\uc790, \ud2b9\uc218\uae30\ud638 \ud3ec\ud568 8\uae00\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),(0,Ye.jsxs)("div",{className:"button-group",children:[(0,Ye.jsx)("button",{className:"button-cancel",onClick:w,children:"\ucde8\uc18c"}),(0,Ye.jsx)("button",{className:"button-confirm",onClick:async()=>{if(a===l)if(f&&p&&!g&&a&&l)try{const e=localStorage.getItem("accessToken"),t=await _h.post(`${XF}/api/raidu/userpage/info`,{nickname:o,password:a},{headers:{Authorization:`Bearer ${e}`}});console.log(t),alert("\ud504\ub85c\ud544\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),x(`/mypage/${c.id}`)}catch(g){console.error("\ud504\ub85c\ud544 \uc218\uc815 \uc2e4\ud328:",g),alert("\ud504\ub85c\ud544 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else g?alert("\uc0c8 \ube44\ubc00\ubc88\ud638\uac00 \uc870\uac74\uc744 \ub9cc\uc871\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert("\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778\uc744 \ud574\uc8fc\uc138\uc694.");else alert("\uc0c8 \ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc774 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},disabled:!(o&&a&&l),children:"\uc218\uc815\ud558\uae30"})]})]})})}):(0,Ye.jsxs)("div",{className:"auth-section",children:[(0,Ye.jsx)("div",{className:"icon-circle",children:(0,Ye.jsx)("img",{alt:"\uc778\uc99d \uc544\uc774\ucf58",src:vt})}),(0,Ye.jsx)("h2",{children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638 \uc778\uc99d"}),(0,Ye.jsx)(gt,{label:"\ube44\ubc00\ubc88\ud638",type:"password",placeholder:"\uae30\uc874 \ube44\ubc00\ubc88\ud638",value:n,onChange:e=>{r(e.target.value)}}),(0,Ye.jsxs)("div",{className:"button-group",children:[(0,Ye.jsx)("button",{className:"button-cancel",onClick:w,children:"\ub3cc\uc544\uac00\uae30"}),(0,Ye.jsx)("button",{className:"button-confirm",onClick:async()=>{try{const e=localStorage.getItem("accessToken");console.log(e),console.log("\uc778\uc99d \uc2e4\uc2dc... \uc785\ub825 \ube44\ubc88 : "+n);const r=await _h.post(XF+"/api/raidu/userpage/check-password",{password:n},{headers:{Authorization:`Bearer ${e}`}});console.log(r),t(!0)}catch(g){console.log(g),401===g.response.request.status&&alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4!")}},children:"\uc778\uc99d"})]})]})})})})]})})},YF=n.p+"static/media/ranking.2d7306cd3b97c4fb80f8.gif",QF=n.p+"static/media/icon_cliff.97a9eff3836096c10be6.png",JF=n.p+"static/media/icon_desert.9a324217477905e5da71.png",ZF=n.p+"static/media/icon_forest.4d4cc6bfeed21e6ce823.png",eB=n.p+"static/media/icon_sea.05a5c085b657493dd66d.png",tB=Ph,nB=()=>{const[e,t]=(0,O.useState)(""),[n,r]=(0,O.useState)([]),[o,i]=(0,O.useState)(null),a=ke();return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"ranking-page-wrapper",children:[(0,Ye.jsx)("div",{className:"top-nav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"ranking-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsxs)("div",{className:"ranking-content",children:[(0,Ye.jsx)("div",{className:"icon-circle",id:"rank-icon",children:(0,Ye.jsx)("img",{alt:"\ub7ad\ud0b9 \uc544\uc774\ucf58",src:YF})}),(0,Ye.jsx)("h2",{children:"\uc720\uc800 \uac80\uc0c9"}),(0,Ye.jsxs)("div",{className:"title-bar",children:[(0,Ye.jsx)("div",{children:"\uc720\uc800 \ub9ac\uc2a4\ud2b8"}),(0,Ye.jsxs)("div",{className:"search-option",children:[(0,Ye.jsx)("input",{type:"text",placeholder:"\ucc3e\ub294 \uc720\uc800 \ub2c9\ub124\uc784",value:e,onChange:e=>t(e.target.value)}),(0,Ye.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("accessToken"),n=await _h.get(tB+"/api/raidu/userpage/list",{params:{nickname:e},headers:{Authorization:`Bearer ${t}`}});console.log(n),"OK"===n.data.status?r(n.data.data.data):r([])}catch(t){console.error(t),r([])}},children:"\uac80\uc0c9"})]})]}),(0,Ye.jsxs)("div",{className:"search-result-header",children:[(0,Ye.jsx)("div",{children:"\ub2c9\ub124\uc784"}),(0,Ye.jsx)("div",{children:"\uc9c0\uc5ed"}),(0,Ye.jsx)("div",{children:"\ub204\uc801 \uae30\uc5ec\ub3c4"}),(0,Ye.jsx)("div",{children:"\uc0c1\uc138 \uc815\ubcf4"})]}),(0,Ye.jsx)("div",{className:"search-result-container",children:0===n.length?(0,Ye.jsx)("div",{className:"no-results",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc720\uc800\ub97c \uac80\uc0c9\ud574\uc8fc\uc138\uc694."}):n.map((e=>{const t=(e=>{switch(e){case 1:return{name:"\uadfc\ub825\uc758 \uc808\ubcbd",icon:QF};case 2:return{name:"\uc778\ub0b4\ub825\uc758 \uc0ac\ub9c9",icon:JF};case 3:return{name:"\ubbfc\ucca9\uc758 \uc232",icon:ZF};case 4:return{name:"\uc720\uc5f0\uc758 \ubc14\ub2e4",icon:eB};default:return{name:"\uc54c \uc218 \uc5c6\ub294 \uc9c0\uc5ed",icon:""}}})(e.regionId);return(0,Ye.jsxs)("div",{className:"search-result-card",children:[(0,Ye.jsx)("div",{children:e.nickname}),(0,Ye.jsx)("div",{children:(0,Ye.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:[(0,Ye.jsx)("img",{className:"result-card-img",alt:"\uc9c0\uc5ed \uc774\ubbf8\uc9c0",src:t.icon}),t.name]})}),(0,Ye.jsx)("div",{children:e.currentSeasonUserScore}),(0,Ye.jsx)("div",{children:(0,Ye.jsx)("button",{onClick:()=>{console.log(a(`/mypage/${e.id}`))},children:"\ub9c8\uc774\ud398\uc774\uc9c0 \ubc29\ubb38"})})]},e.uuid)}))})]})})})]})})},rB=()=>{const e=ke();return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"notfound-wrapper",children:[(0,Ye.jsx)("img",{className:"notfound-image",src:_F,alt:"404\uc774\ubbf8\uc9c0"}),(0,Ye.jsx)("div",{className:"notfound-title",children:"\uc900\ube44\ub418\uc9c0 \uc54a\uc740 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4!"}),(0,Ye.jsx)("div",{className:"notfound-desc",children:"\uae38\uc744 \uc798\ubabb\ub4dc\uc168\ub124\uc694..."}),(0,Ye.jsx)("button",{className:"notfound-button",onClick:()=>e(-1),children:"\ub4a4\ub85c \uac00\uae30"})]})})},oB=n.p+"static/media/region_cliff.7dd3dee101e57e3dffdd.jpg",iB=n.p+"static/media/region_desert.9d5c31e9208c0ba82ec6.jpg",aB=n.p+"static/media/region_forest.9b143b4d2c5fd153e11d.jpg",sB=n.p+"static/media/region_sea.98e81ff4fc150fc61d72.jpg",lB=Ph,uB=e=>{let{setSelectedRegion:t}=e;const n=[{id:1,name:"\uadfc\ub825\uc758 \uc808\ubcbd",icon:QF,desc:"\uadfc\ub825\uc758 \uc808\ubcbd\uc740 \uc774\ub450 \uc655\uad6d\uc758 \ud798\uacfc \uc6a9\uae30\ub97c \uc0c1\uc9d5\ud558\ub294 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.\n\n\uc774\ub450 \uc655\uad6d\uc740 \uadf8\ub4e4\uc758 \uc601\ud1a0\ub97c \uc9c0\ud0a4\uae30 \uc704\ud574 \uac15\uc778\ud55c \ud798\uc744 \uac00\uc9c4 \uc0ac\ub78c\ub4e4\uc744 \ud544\uc694\ub85c \ud588\uace0, \uadfc\ub825 \uc808\ubcbd\uc740 \uadf8\ub4e4 \uc911\uc5d0\uc11c\ub3c4 \uac00\uc7a5 \ub6f0\uc5b4\ub09c \ud798\uc744 \uac00\uc9c4 \uc0ac\ub78c\ub4e4\uc744 \uc591\uc131\ud558\ub294 \uc7a5\uc18c\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\n\uac15\uc778\ud558\uace0 \ud3ed\ubc1c\uc801\uc778 \ud798\uc5d0 \uad00\uc2ec\uc774 \uc788\ub294 \uc774\ub4e4\uc774 \uc120\ud0dd\ud558\uae30 \uc88b\uc740 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.",bg:oB},{id:2,name:"\uc9c0\uad6c\ub825\uc758 \uc0ac\ub9c9",icon:JF,desc:"\uc9c0\uad6c\ub825\uc758 \uc0ac\ub9c9\uc740 \uadf8 \uc774\ub984\ucc98\ub7fc \uc9c0\uad6c\ub825\uacfc \uc778\ub0b4\uc2ec\uc744 \uc0c1\uc9d5\ud558\ub294 \uacf3\uc785\ub2c8\ub2e4.\n\n\uc774\uacf3\uc758 \uc8fc\ubbfc\ub4e4\uc740 \ub05d\uc5c6\ub294 \ubaa8\ub798\uc5b8\ub355\uacfc \ub728\uac70\uc6b4 \ud0dc\uc591 \uc544\ub798\uc5d0\uc11c\ub3c4 \ubcc0\uce58 \uc54a\ub294 \ub048\uae30\ub97c \ubc1c\ud718\ud569\ub2c8\ub2e4. \uc774\ub4e4\uc5d0\uac8c \uc0ac\ub9c9\uc5d0\uc11c\uc758 \uc0b6\uc740 \ub2e8\uc21c\ud55c \uc0dd\uc874\uc774 \uc544\ub2c8\ub77c \uadf8\ub4e4\uc758 \uac15\uc778\ud568\uacfc \uc9c0\uad6c\ub825\uc744 \uc99d\uba85\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4.\n\n\uc9c0\uc18d\uc131, \uafb8\uc900\ud568\uc758 \ubbf8\ub355\uc744 \uc544\ub294 \uc774\ub4e4\uc774 \uc120\ud0dd\ud558\uae30 \uc88b\uc740 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.",bg:iB},{id:3,name:"\ubbfc\ucca9\uc758 \uc232",icon:ZF,desc:"\ubbfc\ucca9\uc758 \uc232\uc740 \uc2dd\ubb3c\uacfc \ub098\ubb34, \uac00\uc2dc\ub85c \uac00\ub4dd\ud55c \ud5d8\ub09c\ud55c \uc9c0\uc5ed\uc785\ub2c8\ub2e4.\n\n\uc774\uacf3\uc758 \uc8fc\ubbfc\ub4e4\uc740 \ube60\ub978 \ud310\ub2e8\ub825\uacfc \ubbfc\ucca9\ud568\uc744 \uc790\ub791\ud558\uba70, \n\uadf8\ub4e4\uc758 \ub2a5\ub825\uc744 \uadf9\ub300\ud654\ud558\uae30 \uc704\ud55c \ub178\ub825\uc744 \uac8c\uc744\ub9ac \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\n\ube60\ub974\uace0 \uc815\ud655\ud55c \ud310\ub2e8\ub825, \uadf8\ub9ac\uace0 \uc720\uc5f0\ud55c \uc6c0\uc9c1\uc784\uc744 \ucd94\uad6c\ud558\ub294 \uc774\ub4e4\uc774 \uc120\ud0dd\ud558\uae30 \uc88b\uc740 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.",bg:aB},{id:4,name:"\uc720\uc5f0\uc758 \ud574\ubcc0",icon:eB,desc:"\uc720\uc5f0\uc758 \ud574\ubcc0\uc740 \uadf8 \uc774\ub984\ucc98\ub7fc \uc2e0\uccb4\uc758 \uc720\uc5f0\ud568\uacfc \ub9c8\uc74c\uc758 \ud3c9\uc628\ud568\uc744 \uc0c1\uc9d5\ud558\ub294 \uacf3\uc785\ub2c8\ub2e4.\n\n\uadf8\ub4e4\uc758 \ubb38\ud654\uc640 \uc0dd\ud65c \ubc29\uc2dd\uc740 \ubb3c\uc758 \ubcc0\ud654\uc640 \ud30c\ub3c4\uc758 \uc6c0\uc9c1\uc784\uc744 \ud1b5\ud574 \uc601\ud5a5\uc744 \ubc1b\uc544\uc654\uc73c\uba70, \uadf8\ub4e4\uc740 \ubb3c\uacfc \ud30c\ub3c4\uc758 \ubcc0\ud654\ub97c \ud1b5\ud574 \uc0b6\uc758 \ud750\ub984\uc744 \ube44\uc720\uc801\uc73c\ub85c \uc774\ud574\ud569\ub2c8\ub2e4. \n\n\uc720\uc5f0\ud55c \uc2e0\uccb4\uc5d0 \uae43\ub4e0 \ud3c9\uc628\ud55c \ub9c8\uc74c, \ubd80\ub4dc\ub7ec\uc6c0\uc758 \ubbf8\ud559\uc744 \ucd94\uad6c\ud558\ub294 \uc774\ub4e4\uc774 \uc120\ud0dd\ud558\uae30 \uc88b\uc740 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.",bg:sB}];return(0,Ye.jsx)("div",{className:"selecter-icon-container",children:n.map((e=>(0,Ye.jsx)("div",{onClick:()=>t(e),className:"selecter-icon",children:(0,Ye.jsx)("img",{src:e.icon,alt:e.name})},e.id)))})},cB=()=>{const[e,t]=(0,O.useState)({id:1,name:"\uadfc\ub825\uc758 \uc808\ubcbd",icon:QF,desc:"\uadfc\ub825\uc758 \uc808\ubcbd\uc740 \uc774\ub450 \uc655\uad6d\uc758 \ud798\uacfc \uc6a9\uae30\ub97c \uc0c1\uc9d5\ud558\ub294 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.\n\n\uc774\ub450 \uc655\uad6d\uc740 \uadf8\ub4e4\uc758 \uc601\ud1a0\ub97c \uc9c0\ud0a4\uae30 \uc704\ud574 \uac15\uc778\ud55c \ud798\uc744 \uac00\uc9c4 \uc0ac\ub78c\ub4e4\uc744 \ud544\uc694\ub85c \ud588\uace0, \uadfc\ub825 \uc808\ubcbd\uc740 \uadf8\ub4e4 \uc911\uc5d0\uc11c\ub3c4 \uac00\uc7a5 \ub6f0\uc5b4\ub09c \ud798\uc744 \uac00\uc9c4 \uc0ac\ub78c\ub4e4\uc744 \uc591\uc131\ud558\ub294 \uc7a5\uc18c\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\n\uac15\uc778\ud558\uace0 \ud3ed\ubc1c\uc801\uc778 \ud798\uc5d0 \uad00\uc2ec\uc774 \uc788\ub294 \uc774\ub4e4\uc774 \uc120\ud0dd\ud558\uae30 \uc88b\uc740 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.",bg:oB}),[n,r]=(0,O.useState)(!0),[o,i]=(0,O.useState)(!1),[a,s]=(0,O.useState)(""),[l,u]=(0,O.useState)(!1),[c,d]=(0,O.useState)(!1),[p,h]=(0,O.useState)(!0),f=ke();(0,O.useEffect)((()=>{r(!0)}),[]);const m=()=>{r(!1)};return(0,Ye.jsxs)(Zl,{children:[(0,Ye.jsxs)("div",{id:"first-page-wrapper",children:[(0,Ye.jsx)("div",{id:"first-background-img"}),(0,Ye.jsxs)("div",{className:"first-content",children:[(0,Ye.jsxs)("div",{className:"first-region-info",children:[(0,Ye.jsxs)("div",{className:"first-region-top",children:[(0,Ye.jsx)("div",{className:"first-region-icon",children:(0,Ye.jsx)(FM,{from:"right",children:(0,Ye.jsx)("div",{style:{width:"300px",display:"flex",justifyContent:"center"},children:(0,Ye.jsx)("img",{src:e.icon||"",alt:"\uc120\ud0dd\ub41c \uc9c0\uc5ed \uc544\uc774\ucf58 \ud655\ub300"})})},e.id)}),(0,Ye.jsxs)("div",{className:"first-region-selecter",children:[(0,Ye.jsx)(uB,{setSelectedRegion:t}),(0,Ye.jsxs)("div",{className:"first-region-selecter-text",children:[(0,Ye.jsx)("p",{children:"\uc120\ud0dd\ub41c \uc9c0\uc5ed"}),(0,Ye.jsx)("p",{className:`selected-region-name region-${e.id}`,children:(0,Ye.jsx)(FM,{from:"left",children:(0,Ye.jsx)("div",{style:{width:"300px",display:"flex",justifyContent:"center"},children:e.name})},e.id)})]})]})]}),(0,Ye.jsx)("div",{className:"first-region-bottom",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsx)("div",{className:"first-region-desc",style:{height:"300px"},children:e.desc})},e.id)}),(0,Ye.jsx)("div",{className:"first-region-confirm",children:(0,Ye.jsx)(ag,{variant:"contained",onClick:()=>{i(!0)},children:"\uc18c\uc18d \ud655\uc815"})})]}),(0,Ye.jsx)("div",{className:"first-region-img",children:(0,Ye.jsx)(FM,{from:"right",children:(0,Ye.jsx)("div",{children:(0,Ye.jsx)("img",{src:e.bg,alt:`\uc9c0\uc5ed ${e.id}\uc5d0 \ub300\ud55c \uc774\ubbf8\uc9c0 \uc790\ub9ac...`})})},e.id)})]})]}),(0,Ye.jsx)(Oc,{open:n,onClose:m,children:(0,Ye.jsxs)(bu,{className:"modal-box",children:[(0,Ye.jsx)("p",{className:"modal-small-text",children:"\ucc98\uc74c \ubc29\ubb38\ud558\uc168\uad70\uc694!"}),(0,Ye.jsx)("p",{className:"modal-large-text",style:{marginTop:"10px",marginBottom:"50px"},children:"\uc9c0\uc5ed\uacfc \ub2c9\ub124\uc784\uc744 \uc124\uc815\ud574\ubcf4\uc138\uc694"}),(0,Ye.jsx)("button",{className:"modal-button button-green",onClick:m,children:"\uacc4\uc815 \uc124\uc815 \ud558\ub7ec \uac00\uae30"})]})}),(0,Ye.jsx)(Oc,{open:o,onClose:()=>{i(!1)},children:(0,Ye.jsxs)(bu,{className:"modal-box",children:[(0,Ye.jsx)("p",{className:"modal-small-text",children:"\uac70\uc758 \ub2e4 \ub410\uc5b4\uc694!"}),(0,Ye.jsx)("p",{className:"modal-large-text underline",children:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694"}),(0,Ye.jsxs)("div",{className:"modal-name-input",children:[(0,Ye.jsx)(gt,{label:"\ub2c9\ub124\uc784(2~10\uc790)",type:"text",value:a,onChange:e=>{const t=e.target.value;t.length>=2&&t.length<=10?(s(t),h(!0)):(s(t.substring(0,10)),h(!1)),d(!1)}}),(0,Ye.jsx)("button",{className:"modal-button button-gray",onClick:async()=>{if(null===a||""===a.trim()||!p)return void alert("\ub2c9\ub124\uc784\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");const e=localStorage.getItem("accessToken");try{const t=await _h.post(`${lB}/api/raidu/userpage/check-nickname`,{nickname:a},{headers:{Authorization:`Bearer ${e}`}});console.log(t),"Nickname check successfully"===t.data.message?u(!0):u(!1),d(!0)}catch(t){console.error("\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778 \uc2e4\ud328:",t),u(!1),d(!0)}},style:{fontSize:"12px",padding:"8px"},children:"\uc911\ubcf5 \ud655\uc778"})]}),(0,Ye.jsxs)("div",{style:{position:"relative",height:"20px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:[(0,Ye.jsx)("p",{className:"modal-small-text "+(c?"hidden":""),style:{color:"red",fontSize:"10px",position:"absolute"},children:"\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778\uc744 \uc9c4\ud589\ud574\uc8fc\uc138\uc694!"}),(0,Ye.jsx)("p",{className:"modal-small-text "+(c&&!l?"":"hidden"),style:{color:"red",fontSize:"10px",position:"absolute"},children:"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4!"}),(0,Ye.jsx)("p",{className:"modal-small-text "+(c&&l?"":"hidden"),style:{color:"green",fontSize:"10px",position:"absolute"},children:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4!"}),(0,Ye.jsx)("div",{style:{position:"relative",height:"20px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px",top:"-10px"},children:(0,Ye.jsx)("p",{className:"modal-small-text "+(p?"hidden":""),style:{color:"red",fontSize:"10px",position:"absolute"},children:"\ub2c9\ub124\uc784\uc740 2~10\uc790 \uae38\uc774\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4!"})})]}),(0,Ye.jsx)("button",{className:"modal-button button-green "+(c&&p?"":"hidden"),onClick:async()=>{if(l&&c&&p){try{const t=localStorage.getItem("accessToken");console.log("\uc9c0\uc5ed/\ub2c9\ub124\uc784 \uc124\uc815 - \uc0ac\uc6a9\ud55c \ud1a0\ud070 : "+t);const n=await _h.post(`${lB}/api/raidu/userpage/register`,{nickname:a,region:e.name},{headers:{Authorization:`Bearer ${t}`}});console.log(n)}catch(t){console.error("\uc720\uc800 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328..."),console.log(t),"NOT_FOUND"===t.response.data.status&&(console.log("\uccab \ubc29\ubb38\uc784..."),f("/firstvisit"))}f("/home")}},children:"\uacc4\uc815 \uc124\uc815 \uc644\ub8cc"})]})})]})},dB=()=>(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"concept-page-wrapper",children:[(0,Ye.jsx)("div",{className:"top-nav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"concept-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsxs)("div",{className:"concept-content",children:[(0,Ye.jsx)("div",{className:"concept-logo",children:(0,Ye.jsx)("img",{src:yt,alt:"\ub85c\uace0 \uc774\ubbf8\uc9c0"})}),(0,Ye.jsxs)("div",{className:"concept-section-wrapper",children:[(0,Ye.jsx)("div",{className:"section-renderbox",children:(0,Ye.jsx)(BM,{children:(0,Ye.jsxs)("div",{className:"section-content",children:[(0,Ye.jsx)("div",{className:"section-image focus-in-contract delay-05s",children:(0,Ye.jsx)("img",{alt:"\ub300\ucda9 \uc774\ubbf8\uc9c0"})}),(0,Ye.jsxs)("div",{className:"section-text",children:[(0,Ye.jsx)("div",{className:"focus-in-contract delay-03s",children:"\uc774\ub450\uc655\uad6d\uc758 \uc2dc\uc791"}),(0,Ye.jsxs)("div",{className:"focus-in-contract delay-07s",children:[(0,Ye.jsx)("p",{children:"\uc774\ub450\uc655\uad6d\uc758 \ucd08\uae30 \uad6d\uc655\uc740 \ub098\ub77c\ub97c \uc77c\uc73c\ud0ac \ub54c \uc57d\uc18d\uc744 \ud558\ub098 \ud588\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("p",{style:{fontWeight:"bold"},children:'"\ub098\ub97c \ub530\ub978\ub2e4\uba74 \uae38\uace0 \uac74\uac15\ud55c \uc0b6\uc744 \uc57d\uc18d\ud558\uaca0\ub2e4"'}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{children:"\uad6d\ubbfc\ub4e4\uc740 \uadf8\ub4e4\uc758 \uae34 \uc0b6\uc744 \uc57d\uc18d \ubc1b\uc558\uace0, "}),(0,Ye.jsx)("p",{children:"\uad6d\uc655\uc740 \uadf8\ub7f0 \uad6d\ubbfc\ub4e4\uc774 \uac74\uac15\uc744 \uc720\uc9c0\ud558\uc9c0 \uc54a\uc544\ub3c4 \uc624\ub798 \uc0b4 \uc218 \uc788\uac8c\ub054"}),(0,Ye.jsx)("p",{children:"\ub9c8\ubc95\uc758 \ud798\uc744 \uc0ac\uc6a9\ud558\uc5ec \uadf8\ub4e4\uc758 \uc9c8\ubcd1\uc744 \ubf51\uc544\ub0b8 \ub2e4\uc74c,"}),(0,Ye.jsx)("p",{children:"\uc655\uad6d\uc758 \ubcc0\ub450\ub9ac\ub85c \ub358\uc838\ubc84\ub838\uc2b5\ub2c8\ub2e4."})]})]})]})})}),(0,Ye.jsx)("div",{className:"section-renderbox",children:(0,Ye.jsx)(BM,{children:(0,Ye.jsxs)("div",{className:"section-content section-rightside",children:[(0,Ye.jsxs)("div",{className:"section-text",children:[(0,Ye.jsx)("div",{className:"focus-in-contract delay-05s",children:"\uc313\uc5ec\uac00\ub294 \ubcd1\ud3d0"}),(0,Ye.jsxs)("div",{className:"focus-in-contract delay-07s",children:[(0,Ye.jsx)("p",{children:"\uac74\uac15\uad00\ub9ac\uac00 \ub531\ud788 \ud544\uc694\ud558\uc9c0 \uc54a\uc544\uc9c4 \uc774\ub450\uc655\uad6d\uc758 \uad6d\ubbfc\ub4e4\uc740"}),(0,Ye.jsx)("p",{children:"\uc810\ucc28 \uac8c\uc744\ub7ec\uc9c0\uae30 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{children:"\uc655\uad6d\uc740 \uc810\ucc28 \ub354 \ub9ce\uc740 \uc9c8\ubcd1\ub4e4\uc744 \ubf51\uc544\ub0b4\uc5b4 \ubcc0\ub450\ub9ac\ub85c \ud758\ub824\ubcf4\ub0b4\uc57c \ud588\uace0, "}),(0,Ye.jsx)("p",{children:"\uc774\ub807\uac8c \ubc84\ub824\uc9c4 \uc9c8\ubcd1\ub4e4\uc740 \ubcc0\ub450\ub9ac\uc5d0\uc11c \uc810\ucc28 \uc313\uc774\uba70 \ubb49\uce58\uae30 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{style:{fontWeight:"bold"},children:"\uc790\uc2e0\uc774 \ud0dc\uc5b4\ub0ac\ub358 \uacf3\uc73c\ub85c \ub3cc\uc544\uac08 \uae30\ud68c\ub97c \ub178\ub9ac\uba74\uc11c..."})]})]}),(0,Ye.jsx)("div",{className:"section-image focus-in-contract delay-03s",children:(0,Ye.jsx)("img",{alt:"\ub300\ucda9 \uc774\ubbf8\uc9c0"})})]})})}),(0,Ye.jsx)("div",{className:"section-renderbox",children:(0,Ye.jsx)(BM,{children:(0,Ye.jsxs)("div",{className:"section-content",children:[(0,Ye.jsx)("div",{className:"section-image focus-in-contract delay-05s",children:(0,Ye.jsx)("img",{alt:"\ub300\ucda9 \uc774\ubbf8\uc9c0"})}),(0,Ye.jsxs)("div",{className:"section-text",children:[(0,Ye.jsx)("div",{className:"focus-in-contract delay-03s",children:"\uc801\uc758 \ucd9c\ud604"}),(0,Ye.jsxs)("div",{className:"focus-in-contract delay-07s",children:[(0,Ye.jsx)("p",{style:{fontWeight:"bold"},children:"\uc9c8\ubcd1\ub4e4\uc774 \uc313\uc774\uace0 \uc313\uc5ec \ub9c8\uc655\uc131\uc774 \ud0c4\uc0dd\ud558\uace0 \ub9d0\uc558\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{children:"\ub9c8\uc655\uc131\uc5d0\uc11c \uc3df\uc544\uc838 \ub098\uc628 \uad34\ubb3c\ub4e4\uc740 \uc774\ub450\uc655\uad6d\uc5d0 \uc2ec\uac01\ud55c \uc704\ud611\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("p",{children:"\uae30\uc874\uc758 \uc0dd\ud65c\ubc29\uc2dd\uc744 \uc78a\uace0 \uac8c\uc73c\ub984\uc5d0 \ucde8\ud574 \uc0b4\ub358 \uc655\uad6d\uc758 \uad6d\ubbfc\ub4e4\uc740"}),(0,Ye.jsx)("p",{children:"\uadf8\ub4e4 \uc2a4\uc2a4\ub85c \uc313\uc544\uc628 \uc5c5\ubcf4\ub97c \uac10\ub2f9\ud558\uae30\uc5d4 \ub108\ubb34\ub098\ub3c4 \uc57d\ud574\uc84c\uc2b5\ub2c8\ub2e4."})]})]})]})})}),(0,Ye.jsx)("div",{className:"section-renderbox",children:(0,Ye.jsx)(BM,{children:(0,Ye.jsxs)("div",{className:"section-content section-rightside",children:[(0,Ye.jsxs)("div",{className:"section-text",children:[(0,Ye.jsx)("div",{className:"focus-in-contract delay-05s",children:"\uc6a9\uc0ac\uc758 \ub4f1\uc7a5"}),(0,Ye.jsxs)("div",{className:"focus-in-contract delay-07s",children:[(0,Ye.jsx)("p",{children:"\uc655\uad6d\uc758 \uc874\ud3d0 \uae30\ub85c \uc55e\uc5d0\uc11c \uad81\uc815 \ub9c8\ubc95\uc0ac\ub4e4\uc740"}),(0,Ye.jsx)("p",{children:"\uc6b4\ub3d9\uc758 \ud798\uc744 \uc804\ub2ec\ud558\ub294 \ub9c8\ubc95\uc744 \uac1c\ubc1c \ud574\ub0c8\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{children:"\uc6b4\ub3d9\uc758 \ud798\uc744 \ub2e4\ub8e8\ub294 \ub9c8\ubc95\uc758 \uc6a9\uc0ac\uac00 \ub098\ud0c0\ub0ac\uc73c\uba70,"}),(0,Ye.jsx)("p",{children:"\ub124 \uc9c0\uc5ed\uc758 \uad6d\ubbfc\ub4e4\uc740 \uc78a\uace0 \uc0b4\uc558\ub358 \uc790\uc2e0\ub4e4\uc758 "}),(0,Ye.jsx)("p",{children:"\uac74\uac15\ud588\ub358 \uc0b6\uc758 \ubc29\uc2dd\uc744 \ub418\ucc3e\uae30 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4."})]})]}),(0,Ye.jsx)("div",{className:"section-image focus-in-contract delay-03s",children:(0,Ye.jsx)("img",{alt:"\ub300\ucda9 \uc774\ubbf8\uc9c0"})})]})})}),(0,Ye.jsx)("div",{className:"section-renderbox",children:(0,Ye.jsx)(BM,{children:(0,Ye.jsxs)("div",{className:"section-content",children:[(0,Ye.jsx)("div",{className:"section-image focus-in-contract delay-05s",children:(0,Ye.jsx)("img",{alt:"\ub300\ucda9 \uc774\ubbf8\uc9c0"})}),(0,Ye.jsxs)("div",{className:"section-text",children:[(0,Ye.jsx)("div",{className:"focus-in-contract delay-03s",children:"\ub808\uc774\ub450 \uac1c\uc2dc!"}),(0,Ye.jsxs)("div",{className:"focus-in-contract delay-07s",children:[(0,Ye.jsx)("p",{style:{fontWeight:"bold"},children:"\ub2f9\uc2e0\uc740 \uad6d\uc655\uc73c\ub85c\ubd80\ud130 \uc6a9\uc0ac\uc758 \ud798\uc744 \uae30\ub974\ub294 \uc601\uad11\uc2a4\ub7ec\uc6b4 \uc758\ubb34\ub97c \ubc1b\uc558\uc2b5\ub2c8\ub2e4."}),(0,Ye.jsx)("p",{children:"\ub3d9\ub8cc\ub4e4\uacfc \ud568\uaed8 \uc6b4\ub3d9\ud558\uc2ed\uc2dc\uc624."}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("p",{style:{fontWeight:"bold"},children:"\ub3d9\ub8cc\ub4e4\uacfc \ud568\uaed8 \uc6a9\uc0ac\ub97c \uc131\uc7a5\uc2dc\ud0a4\uace0, \uc655\uad6d\uc744 \uc9c0\ucf1c\ub0b4\uc2ed\uc2dc\uc624."})]})]})]})})})]})]})})})]})}),pB=n.p+"static/media/icon_exercise.b4602e18275b30338100.png",hB=n.p+"static/media/icon_breaktime.65f871f23a6290bd73bd.png",fB=n.p+"static/media/icon_counter.43fadac81543f9e6ecae.png",mB=n.p+"static/media/icon_human_fill.33e7df0963941edbeb70.png",gB=(n.p,n.p+"static/media/room.7233b33aec9bf55f9f6a.gif"),yB=e=>{let{modalOpen:t,closeModal:n,handleSubmit:r,handleChange:o,clearVals:i,title:a,maxParticipants:s,roundTime:l,restTime:u,totalRounds:c,isPublic:d}=e;return(0,Ye.jsx)(Oc,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ye.jsxs)("div",{className:"lobby-modal-frame",children:[(0,Ye.jsx)("div",{className:"icon-circle",style:{position:"relative",top:"-50px"},children:(0,Ye.jsx)("img",{src:gB,alt:"?"})}),(0,Ye.jsxs)("div",{style:{position:"relative",top:"-30px"},className:"lobby-modal-content",children:[(0,Ye.jsx)("div",{className:"lobby-modal-title",children:"\ubc29 \ub9cc\ub4e4\uae30"}),(0,Ye.jsxs)("form",{onSubmit:r,children:[(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"title",children:"\ubc29 \uc81c\ubaa9"}),(0,Ye.jsx)("input",{type:"text",id:"title",name:"title",value:a,onChange:o})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"maxParticipants",children:"\uc778\uc6d0"}),(0,Ye.jsxs)("select",{id:"maxParticipants",name:"maxParticipants",value:s,onChange:o,children:[(0,Ye.jsx)("option",{value:"",children:"1 ~ 4\uc778 \uc120\ud0dd"}),(0,Ye.jsx)("option",{value:"1",children:"1\uc778"}),(0,Ye.jsx)("option",{value:"2",children:"2\uc778"}),(0,Ye.jsx)("option",{value:"3",children:"3\uc778"}),(0,Ye.jsx)("option",{value:"4",children:"4\uc778"})]})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"roundTime",children:"\ub77c\uc6b4\ub4dc\ubcc4 \uc2dc\uac04 (\ucd08)"}),(0,Ye.jsxs)("select",{id:"roundTime",name:"roundTime",value:l,onChange:o,children:[(0,Ye.jsx)("option",{value:"",children:"30 ~ 180\ucd08 \uc120\ud0dd"}),[...Array(6).keys()].map((e=>(0,Ye.jsx)("option",{value:30*(e+1),children:30*(e+1)},e)))]})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"restTime",children:"\ud734\uc2dd \uc2dc\uac04 (\ucd08)"}),(0,Ye.jsxs)("select",{id:"restTime",name:"restTime",value:u,onChange:o,children:[(0,Ye.jsx)("option",{value:"",children:"30 ~ 180\ucd08 \uc120\ud0dd"}),[...Array(6).keys()].map((e=>(0,Ye.jsx)("option",{value:30*(e+1),children:30*(e+1)},e)))]})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"totalRounds",children:"\ub77c\uc6b4\ub4dc \uc218"}),(0,Ye.jsxs)("select",{id:"totalRounds",name:"totalRounds",value:c,onChange:o,children:[(0,Ye.jsx)("option",{value:"",children:"1 ~ 3\ub77c\uc6b4\ub4dc \uc120\ud0dd"}),(0,Ye.jsx)("option",{value:"1",children:"1\ub77c\uc6b4\ub4dc"}),(0,Ye.jsx)("option",{value:"2",children:"2\ub77c\uc6b4\ub4dc"}),(0,Ye.jsx)("option",{value:"3",children:"3\ub77c\uc6b4\ub4dc"})]})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-section",children:[(0,Ye.jsx)("label",{htmlFor:"isPublic",children:"\ube44\ubc00\ubc29 \uc5ec\ubd80"}),(0,Ye.jsx)("input",{type:"checkbox",id:"isPublic",name:"isPublic",onChange:o})]}),(0,Ye.jsxs)("div",{className:"lobby-modal-buttongroup",children:[(0,Ye.jsx)("button",{type:"button",onClick:i,className:"lobby-modal-button-cancel",children:"\ucde8\uc18c"}),(0,Ye.jsx)("button",{type:"submit",className:"lobby-modal-button-submit",children:"\ub9cc\ub4e4\uae30"})]})]})]})]})})},vB=()=>{const[e,t]=(0,O.useState)([]),[n,r]=(0,O.useState)(!1),[o,i]=(0,O.useState)(null),a=Ph,s=localStorage.getItem("accessToken");(0,O.useEffect)((()=>{_h.get(a+"/api/raidu/rooms",{headers:{Authorization:`Bearer ${s}`}}).then((e=>{204===e.status?t([]):t(e.data.data.waitingRoomList)})).catch((e=>{console.error("\ubc29 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc2e4\ud328!",e),"\uc561\uc138\uc2a4 \ud1a0\ud070\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"===e.response.data.message&&(alert("\ud1a0\ud070 \ub9cc\ub8cc! \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."),l("/login"))})),_h.get(a+"/api/raidu/userpage",{headers:{Authorization:`Bearer ${s}`}}).then((e=>i(e.data.data.userProfile))).catch((e=>{console.error("\uc720\uc800 \uc815\ubcf4 \uac00\uc838\uc624\uae30 \uc2e4\ud328!",e),"\uc561\uc138\uc2a4 \ud1a0\ud070\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"===e.response.data.message&&(alert("\ud1a0\ud070 \ub9cc\ub8cc! \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."),l("/login"))}))}),[]),(0,O.useEffect)((()=>{console.log(e),e.map((e=>{console.log(e.title)}))}),[e]);const l=ke(),u=()=>{r(!1)},[c,d]=(0,O.useState)(""),[p,h]=(0,O.useState)(0),[f,m]=(0,O.useState)(0),[g,y]=(0,O.useState)(0),[v,b]=(0,O.useState)(0),[x,w]=(0,O.useState)(!0);return(0,Ye.jsx)("div",{className:"raidLobby-html",children:(0,Ye.jsxs)(Zl,{children:[(0,Ye.jsxs)("div",{className:"lobby-page-wrapper",children:[(0,Ye.jsx)("div",{className:"top-nav",children:(0,Ye.jsx)(pv,{})}),(0,Ye.jsx)("div",{className:"lobby-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsxs)("div",{className:"lobby-content",children:[(0,Ye.jsxs)("div",{className:"lobby-list-wrapper",children:[0===e.length&&(0,Ye.jsx)("div",{className:"lobby-list-empty",children:(0,Ye.jsx)("span",{children:"\uac8c\uc784\uc744 \uc9c4\ud589 \uc911\uc778 \ubc29\uc774 \uc5c6\uc5b4\uc694."})}),e.map(((e,t)=>(0,Ye.jsxs)("div",{className:"lobby-list-card",children:[(0,Ye.jsx)("div",{className:"lobby-card-number",children:e.id}),(0,Ye.jsxs)("div",{style:{width:"100%"},children:[(0,Ye.jsx)("div",{className:"lobby-card-title",children:e.title}),(0,Ye.jsxs)("div",{className:"lobby-card-icon-wrapper",children:[(0,Ye.jsxs)("div",{className:"lobby-card-icon",children:[(0,Ye.jsx)("p",{children:"\ud734\uc2dd \uc2dc\uac04"}),(0,Ye.jsx)("img",{alt:"\ud734\uc2dd \uc544\uc774\ucf58",src:hB}),(0,Ye.jsx)("p",{children:e.restTime})]}),(0,Ye.jsxs)("div",{className:"lobby-card-icon",children:[(0,Ye.jsx)("p",{children:"\uc6b4\ub3d9 \uc2dc\uac04"}),(0,Ye.jsx)("img",{alt:"\uc6b4\ub3d9 \uc544\uc774\ucf58",src:pB}),(0,Ye.jsx)("p",{children:e.roundTime})]}),(0,Ye.jsxs)("div",{className:"lobby-card-icon",children:[(0,Ye.jsx)("p",{children:"\ub77c\uc6b4\ub4dc \uc218"}),(0,Ye.jsx)("img",{alt:"\ub77c\uc6b4\ub4dc \uc544\uc774\ucf58",src:fB}),(0,Ye.jsx)("p",{children:e.totalRounds})]}),(0,Ye.jsxs)("div",{className:"lobby-card-icon",style:{width:"140px"},children:[(0,Ye.jsx)("p",{children:"\ucd5c\ub300 \uc778\uc6d0"}),(0,Ye.jsx)("div",{className:"lobby-card-pop",children:[...Array(e.maxParticipants)].map(((e,t)=>(0,Ye.jsx)("img",{alt:"\uc778\uc6d0 \uc544\uc774\ucf58",src:mB},t)))}),(0,Ye.jsx)("p",{children:e.maxParticipants})]}),(0,Ye.jsx)("div",{children:(0,Ye.jsx)("button",{className:"lobby-join-button",onClick:t=>((e,t)=>{l("/raid/"+t)})(0,e.id),children:(0,Ye.jsx)("span",{className:"text",children:"\uc785\uc7a5\ud558\uae30"})})})]})]})]},t)))]}),(0,Ye.jsxs)("div",{className:"lobby-content-right",children:[(0,Ye.jsxs)("div",{className:"lobby-make-button",onClick:()=>{r(!0)},children:[(0,Ye.jsx)("h3",{children:"\ubc29 \ub9cc\ub4e4\uae30"}),(0,Ye.jsx)("img",{src:jM,alt:"\ubc29 \ub9cc\ub4e4\uae30"})]}),(0,Ye.jsx)("div",{className:"lobby-illust",children:(0,Ye.jsx)("img",{alt:"\ub85c\ube44 \uc77c\ub7ec\uc2a4\ud2b8"})})]})]})})})]}),(0,Ye.jsx)(yB,{modalOpen:n,closeModal:u,handleSubmit:async e=>{if(e.preventDefault(),!c||!p||!f||!g||!v)return void alert("\ubaa8\ub4e0 \ud544\uc218 \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!");const t={title:c,maxParticipants:p,roundTime:f,restTime:g,totalRounds:v,isPublic:x,hostEmail:o.email};try{const e=await _h.post(a+"/api/raidu/rooms",t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});l("/raid/"+e.data.data.roomId,{state:{isCaptain:!0}})}catch(n){console.error("Error:",n)}},handleChange:e=>{const{name:t,value:n}=e.target;"title"===t?d(n):"maxParticipants"===t?h(n):"roundTime"===t?m(n):"restTime"===t?y(n):"totalRounds"===t?b(n):"isPublic"===t&&(console.log(!e.target.checked),w(!e.target.checked))},clearVals:()=>{h(0),m(0),y(0),b(0),w(!0),d(""),u()},title:c,maxParticipants:p,roundTime:f,restTime:g,totalRounds:v,isPublic:x})]})})},bB="\n",xB="\0";class wB{constructor(e){const{command:t,headers:n,body:r,binaryBody:o,escapeHeaderValues:i,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},n||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(e,t){const n={},r=e=>e.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const i=r(o[0]);let a=r(o[1]);t&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(a=wB.hdrValueUnEscape(a)),n[i]=a}return new wB({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?wB.toUnit8Array(e,this._binaryBody).buffer:e+this._body+xB}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?e.push(`${t}:${wB.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(bB)+bB+bB}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,t){const n=(new TextEncoder).encode(e),r=new Uint8Array([0]),o=new Uint8Array(n.length+t.length+r.length);return o.set(n),o.set(t,n.length),o.set(r,n.length+t.length),o}static marshall(e){return new wB(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class AB{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t="string"===typeof e?this._encoder.encode(e):new Uint8Array(e),n&&0!==t[t.length-1]){const e=new Uint8Array(t.length+1);e.set(t,0),e[t.length]=0,t=e}for(let r=0;r<t.length;r++){const e=t[r];this._onByte(e)}}_collectFrame(e){0!==e&&13!==e&&(10!==e?(this._onByte=this._collectCommand,this._reinjectByte(e)):this.onIncomingPing())}_collectCommand(e){if(13!==e)return 10===e?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_collectHeaders(e){13!==e&&(10!==e?(this._onByte=this._collectHeaderKey,this._reinjectByte(e)):this._setupCollectBody())}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e)return 10===e?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_setupCollectBody(){const e=this._results.headers.filter((e=>"content-length"===e[0]))[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!==this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(Nve){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",Nve)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var SB,CB;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(SB=SB||(SB={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"}(CB=CB||(CB={}));class kB{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map((e=>`v${e.replace(".","")}.stomp`))}}kB.V1_0="1.0",kB.V1_1="1.1",kB.V1_2="1.2",kB.default=new kB([kB.V1_2,kB.V1_1,kB.V1_0]);class EB{constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:e=>{this.debug(`connected to server ${e.headers.server}`),this._connected=!0,this._connectedVersion=e.headers.version,this._connectedVersion===kB.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(e.headers),this.onConnect(e)},MESSAGE:e=>{const t=e.headers.subscription,n=this._subscriptions[t]||this.onUnhandledMessage,r=e,o=this,i=this._connectedVersion===kB.V1_2?r.headers.ack:r.headers["message-id"];r.ack=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.ack(i,t,e)},r.nack=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.nack(i,t,e)},n(r)},RECEIPT:e=>{const t=this._receiptWatchers[e.headers["receipt-id"]];t?(t(e),delete this._receiptWatchers[e.headers["receipt-id"]]):this.onUnhandledReceipt(e)},ERROR:e=>{this.onStompError(e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const e=new AB((e=>{const t=wB.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`);(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)}),(()=>{this.debug("<<< PONG")}));this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const e=t.data instanceof ArrayBuffer?(new TextDecoder).decode(t.data):t.data;this.debug(`<<< ${e}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(e){if(e.version!==kB.V1_1&&e.version!==kB.V1_2)return;if(!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map((e=>parseInt(e,10)));if(0!==this.heartbeatOutgoing&&0!==n){const e=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${e}ms`),this._pinger=setInterval((()=>{this._webSocket.readyState===SB.OPEN&&(this._webSocket.send(bB),this.debug(">>> PING"))}),e)}if(0!==this.heartbeatIncoming&&0!==t){const e=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${e}ms`),this._ponger=setInterval((()=>{const t=Date.now()-this._lastServerActivityTS;t>2*e&&(this.debug(`did not receive server activity for the last ${t}ms`),this._closeOrDiscardWebsocket())}),e)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==SB.CONNECTING&&this._webSocket.readyState!==SB.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){var e,t;"function"!==typeof this._webSocket.terminate&&(e=this._webSocket,t=e=>this.debug(e),e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,o=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=e=>{const n=(new Date).getTime()-r.getTime();t(`Discarded socket (#${o})  closed after ${n}ms, with code/reason: ${e.code}/${e.reason}`)},this.close(),i?.call(e,{code:4001,reason:`Quick discarding socket (#${o}) without waiting for the shutdown sequence.`,wasClean:!1})}),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:r,binaryBody:o,skipContentLengthHeader:i}=e,a=new wB({command:t,headers:n,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let s=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${s}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&"string"===typeof s&&(s=(new TextEncoder).encode(s)),"string"===typeof s&&this.splitLargeFrames){let e=s;for(;e.length>0;){const t=e.substring(0,this.maxWebSocketChunkSize);e=e.substring(this.maxWebSocketChunkSize),this._webSocket.send(t),this.debug(`chunk sent = ${t.length}, remaining = ${e.length}`)}}else this._webSocket.send(s)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,(e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)})),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else this._webSocket.readyState!==SB.CONNECTING&&this._webSocket.readyState!==SB.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:n,body:r,binaryBody:o,skipContentLengthHeader:i}=e,a=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:i})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({},n),n.id||(n.id="sub-"+this._counter++),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const r=this;return{id:n.id,unsubscribe:e=>r.unsubscribe(n.id,e)}}unsubscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({},n),this._connectedVersion===kB.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({},n),this._connectedVersion===kB.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}class TB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stompVersions=kB.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=CB.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===CB.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){const e=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(CB.ACTIVE),this._connect())};this.state===CB.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then((()=>{e()}))):e()}async _connect(){if(await this.beforeConnect(),this._stompHandler)return void this.debug("There is already a stompHandler, skipping the call to connect");if(!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout((()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())}),this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new EB(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===CB.DEACTIVATING&&this._changeState(CB.INACTIVE),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout((()=>{this._connect()}),this.reconnectDelay))}async deactivate(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force||!1,t=this.active;let n;if(this.state===CB.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(CB.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),!this._stompHandler||this.webSocket.readyState===SB.CLOSED)return this._changeState(CB.INACTIVE),Promise.resolve();{const e=this._stompHandler.onWebSocketClose;n=new Promise(((t,n)=>{this._stompHandler.onWebSocketClose=n=>{e(n),t()}}))}return e?this._stompHandler?.discardWebsocket():t&&this._disposeStompHandler(),n}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkConnection(),this._stompHandler.nack(e,t,n)}}var IB=n(35081),OB=n.n(IB);const RB=Ph+"/api/ws";class NB{constructor(e){this.client=new TB({webSocketFactory:()=>new(OB())(RB),connectHeaders:{UserId:e},debug:function(e){console.log("STOMP: "+e)},onConnect:()=>{console.log("Connected to WebSocket"),this.isConnected=!0},onDisconnect:()=>{console.log("Disconnected from WebSocket"),this.isConnected=!1},onStompError:e=>{console.error("Broker reported error: "+e.headers.message),console.error("Additional details: "+e.body)}})}connect(){return new Promise(((e,t)=>{this.client.activate(),this.client.onConnect=()=>{this.isConnected=!0,e()},this.client.onDisconnect=()=>{this.isConnected=!1},this.client.onStompError=e=>{console.error("Broker reported error: "+e.headers.message),console.error("Additional details: "+e.body),t(new Error("STOMP error: "+e.body))}}))}disconnect(){this.client&&this.client.deactivate()}subscribe(e,t){if(this.isConnected)return console.log("LISTENING ...",e),this.client.subscribe(e,t);throw new Error("No active STOMP connection")}send(e,t){if(!this.isConnected)throw new Error("No active STOMP connection");console.log("PUBLISHING ...",e),this.client.publish({destination:e,body:t})}}function _B(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function PB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(_B(e.value)&&""!==e.value||t&&_B(e.defaultValue)&&""!==e.defaultValue)}var MB=n(27328);const DB=O.createContext(void 0);function LB(e){return(0,sc.Ay)("MuiFormControl",e)}(0,mu.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $B=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],jB=(0,ju.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,eu.A)({},t.root,t[`margin${(0,ld.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,eu.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),FB=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiFormControl"}),{children:r,className:o,color:i="primary",component:a="div",disabled:s=!1,error:l=!1,focused:u,fullWidth:c=!1,hiddenLabel:d=!1,margin:p="none",required:h=!1,size:f="medium",variant:m="outlined"}=n,g=(0,tu.A)(n,$B),y=(0,eu.A)({},n,{color:i,component:a,disabled:s,error:l,fullWidth:c,hiddenLabel:d,margin:p,required:h,size:f,variant:m}),v=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,ld.A)(n)}`,r&&"fullWidth"]};return(0,xu.A)(o,LB,t)})(y),[b,x]=O.useState((()=>{let e=!1;return r&&O.Children.forEach(r,(t=>{if(!(0,MB.A)(t,["Input","Select"]))return;const n=(0,MB.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[w,A]=O.useState((()=>{let e=!1;return r&&O.Children.forEach(r,(t=>{(0,MB.A)(t,["Input","Select"])&&(PB(t.props,!0)||PB(t.props.inputProps,!0))&&(e=!0)})),e})),[S,C]=O.useState(!1);s&&S&&C(!1);const k=void 0===u||s?S:u;let E;const T=O.useMemo((()=>({adornedStart:b,setAdornedStart:x,color:i,disabled:s,error:l,filled:w,focused:k,fullWidth:c,hiddenLabel:d,size:f,onBlur:()=>{C(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{C(!0)},registerEffect:E,required:h,variant:m})),[b,i,s,l,w,k,c,d,E,h,f,m]);return(0,Ye.jsx)(DB.Provider,{value:T,children:(0,Ye.jsx)(jB,(0,eu.A)({as:a,ownerState:y,className:(0,nu.A)(v.root,o),ref:t},g,{children:r}))})})),BB=FB;function VB(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}function zB(){return O.useContext(DB)}function UB(e){return(0,sc.Ay)("MuiFormLabel",e)}const WB=(0,mu.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),qB=["children","className","color","component","disabled","error","filled","focused","required"],HB=(0,ju.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,eu.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${WB.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${WB.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${WB.error}`]:{color:(t.vars||t).palette.error.main}})})),GB=(0,ju.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${WB.error}`]:{color:(t.vars||t).palette.error.main}}})),XB=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,a=(0,tu.A)(n,qB),s=VB({props:n,muiFormControl:zB(),states:["color","required","focused","disabled","error","filled"]}),l=(0,eu.A)({},n,{color:s.color||"primary",component:i,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:s}=e,l={root:["root",`color${(0,ld.A)(n)}`,o&&"disabled",i&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return(0,xu.A)(l,UB,t)})(l);return(0,Ye.jsxs)(HB,(0,eu.A)({as:i,ownerState:l,className:(0,nu.A)(u.root,o),ref:t},a,{children:[r,s.required&&(0,Ye.jsxs)(GB,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))})),KB=XB;function YB(e){return(0,sc.Ay)("MuiInputLabel",e)}(0,mu.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const QB=["disableAnimation","margin","shrink","variant","className"],JB=(0,ju.Ay)(KB,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${WB.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,eu.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,eu.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,eu.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),ZB=O.forwardRef((function(e,t){const n=(0,Fu.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,a=(0,tu.A)(n,QB),s=zB();let l=o;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const u=VB({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),c=(0,eu.A)({},n,{disableAnimation:r,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:s}=e,l={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&`size${(0,ld.A)(r)}`,a],asterisk:[s&&"asterisk"]},u=(0,xu.A)(l,YB,t);return(0,eu.A)({},t,u)})(c);return(0,Ye.jsx)(JB,(0,eu.A)({"data-shrink":l,ownerState:c,ref:t,className:(0,nu.A)(d.root,i)},a,{classes:d}))})),eV=ZB;var tV=n(17868),nV=n(5844);function rV(e){return(0,sc.Ay)("MuiNativeSelect",e)}const oV=(0,mu.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),iV=["className","disabled","error","IconComponent","inputRef","variant"],aV=e=>{let{ownerState:t,theme:n}=e;return(0,eu.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,eu.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${oV.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},sV=(0,ju.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:im.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${oV.multiple}`]:t.multiple}]}})(aV),lV=e=>{let{ownerState:t,theme:n}=e;return(0,eu.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${oV.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},uV=(0,ju.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ld.A)(n.variant)}`],n.open&&t.iconOpen]}})(lV),cV=O.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:i,inputRef:a,variant:s="standard"}=e,l=(0,tu.A)(e,iV),u=(0,eu.A)({},e,{disabled:r,variant:s,error:o}),c=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${(0,ld.A)(n)}`,i&&"iconOpen",r&&"disabled"]};return(0,xu.A)(s,rV,t)})(u);return(0,Ye.jsxs)(O.Fragment,{children:[(0,Ye.jsx)(sV,(0,eu.A)({ownerState:u,className:(0,nu.A)(c.select,n),disabled:r,ref:a||t},l)),e.multiple?null:(0,Ye.jsx)(uV,{as:i,ownerState:u,className:c.icon})]})})),dV=cV;var pV=n(47123);function hV(e){return(0,sc.Ay)("MuiSelect",e)}const fV=(0,mu.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var mV;const gV=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],yV=(0,ju.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${fV.select}`]:t.select},{[`&.${fV.select}`]:t[n.variant]},{[`&.${fV.error}`]:t.error},{[`&.${fV.multiple}`]:t.multiple}]}})(aV,{[`&.${fV.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),vV=(0,ju.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ld.A)(n.variant)}`],n.open&&t.iconOpen]}})(lV),bV=(0,ju.Ay)("input",{shouldForwardProp:e=>(0,pV.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xV(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function wV(e){return null==e||"string"===typeof e&&!e.trim()}const AV=O.forwardRef((function(e,t){var n;const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:a,children:s,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:p,error:h=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:y={},multiple:v,name:b,onBlur:x,onChange:w,onClose:A,onFocus:S,onOpen:C,open:k,readOnly:E,renderValue:T,SelectDisplayProps:I={},tabIndex:R,value:N,variant:_="standard"}=e,P=(0,tu.A)(e,gV),[M,D]=(0,jy.A)({controlled:N,default:c,name:"Select"}),[L,$]=(0,jy.A)({controlled:k,default:u,name:"Select"}),j=O.useRef(null),F=O.useRef(null),[B,V]=O.useState(null),{current:z}=O.useRef(null!=k),[U,W]=O.useState(),q=(0,nc.A)(t,m),H=O.useCallback((e=>{F.current=e,e&&V(e)}),[]),G=null==B?void 0:B.parentNode;O.useImperativeHandle(q,(()=>({focus:()=>{F.current.focus()},node:j.current,value:M})),[M]),O.useEffect((()=>{u&&L&&B&&!z&&(W(a?null:G.clientWidth),F.current.focus())}),[B,a]),O.useEffect((()=>{i&&F.current.focus()}),[i]),O.useEffect((()=>{if(!g)return;const e=(0,Sf.A)(F.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const X=(e,t)=>{e?C&&C(t):A&&A(t),z||(W(a?null:G.clientWidth),$(e))},K=O.Children.toArray(s),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(M)?M.slice():[];const t=M.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),M!==n&&(D(n),w)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:b}}),w(o,e)}v||X(!1,t)}},Q=null!==B&&L;let J,Z;delete P["aria-invalid"];const ee=[];let te=!1,ne=!1;(PB({value:M})||p)&&(T?J=T(M):te=!0);const re=K.map((e=>{if(!O.isValidElement(e))return null;let t;if(v){if(!Array.isArray(M))throw new Error((0,tV.A)(2));t=M.some((t=>xV(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=xV(M,e.props.value),t&&te&&(Z=e.props.children);return t&&(ne=!0),O.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=v?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let oe,ie=U;!a&&z&&B&&(ie=G.clientWidth),oe="undefined"!==typeof R?R:d?null:0;const ae=I.id||(b?`mui-component-select-${b}`:void 0),se=(0,eu.A)({},e,{variant:_,value:M,open:Q,error:h}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${(0,ld.A)(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,xu.A)(s,hV,t)})(se),ue=(0,eu.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ce=(0,nV.A)();return(0,Ye.jsxs)(O.Fragment,{children:[(0,Ye.jsx)(yV,(0,eu.A)({ref:H,tabIndex:oe,role:"combobox","aria-controls":ce,"aria-disabled":d?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[g,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:e=>{if(!E){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:d||E?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),X(!0,e))},onBlur:e=>{!Q&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:M,name:b}}),x(e))},onFocus:S},I,{ownerState:se,className:(0,nu.A)(I.className,le.select,l),id:ae,children:wV(J)?mV||(mV=(0,Ye.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,Ye.jsx)(bV,(0,eu.A)({"aria-invalid":h,value:Array.isArray(M)?M.join(","):M,name:b,ref:j,"aria-hidden":!0,onChange:e=>{const t=K.find((t=>t.props.value===e.target.value));void 0!==t&&(D(t.props.value),w&&w(e,t))},tabIndex:-1,disabled:d,className:le.nativeInput,autoFocus:i,ownerState:se},P)),(0,Ye.jsx)(vV,{as:f,className:le.icon,ownerState:se}),(0,Ye.jsx)(mm,(0,eu.A)({id:`menu-${b||""}`,anchorEl:G,open:Q,onClose:e=>{X(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,eu.A)({"aria-labelledby":g,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:ce},y.MenuListProps),slotProps:(0,eu.A)({},y.slotProps,{paper:(0,eu.A)({},ue,{style:(0,eu.A)({minWidth:ie},null!=ue?ue.style:null)})}),children:re}))]})})),SV=AV,CV=(0,jm.A)((0,Ye.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var kV=n(83468);const EV=["onChange","maxRows","minRows","style","value"];function TV(e){return parseInt(e,10)||0}const IV={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const OV=O.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:i,value:a}=e,s=(0,tu.A)(e,EV),{current:l}=O.useRef(null!=a),u=O.useRef(null),c=(0,wu.A)(t,u),d=O.useRef(null),p=O.useRef(null),h=O.useCallback((()=>{const t=u.current,n=(0,mc.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const i=p.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");const a=n.boxSizing,s=TV(n.paddingBottom)+TV(n.paddingTop),l=TV(n.borderBottomWidth)+TV(n.borderTopWidth),c=i.scrollHeight;i.value="x";const d=i.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===a?s+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),f=O.useCallback((()=>{const e=h();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=u.current;d.current!==n&&(d.current=n,r.style.height=`${n}px`),r.style.overflow=e.overflowing?"hidden":""}),[h]);(0,Du.A)((()=>{const e=()=>{f()};let t;const n=(0,kV.A)(e),r=u.current,o=(0,mc.A)(r);let i;return o.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",n),i&&i.disconnect()}}),[h,f]),(0,Du.A)((()=>{f()}));return(0,Ye.jsxs)(O.Fragment,{children:[(0,Ye.jsx)("textarea",(0,eu.A)({value:a,onChange:e=>{l||f(),n&&n(e)},ref:c,rows:o,style:i},s)),(0,Ye.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,eu.A)({},IV,i,{paddingTop:0,paddingBottom:0})})]})})),RV=OV;var NV=n(70869);const _V=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=cu(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,Ye.jsx)(NV.A,{styles:i})};const PV=function(e){return(0,Ye.jsx)(_V,(0,eu.A)({},e,{defaultTheme:Ju.A,themeId:fu.A}))};function MV(e){return(0,sc.Ay)("MuiInputBase",e)}const DV=(0,mu.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),LV=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],$V=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,ld.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},jV=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},FV=(0,ju.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$V})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${DV.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,eu.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),BV=(0,ju.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jV})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,eu.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,eu.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${DV.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${DV.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),VV=(0,Ye.jsx)(PV,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zV=O.forwardRef((function(e,t){var n;const r=(0,Fu.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:a,className:s,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:p,endAdornment:h,fullWidth:f=!1,id:m,inputComponent:g="input",inputProps:y={},inputRef:v,maxRows:b,minRows:x,multiline:w=!1,name:A,onBlur:S,onChange:C,onClick:k,onFocus:E,onKeyDown:T,onKeyUp:I,placeholder:R,readOnly:N,renderSuffix:_,rows:P,slotProps:M={},slots:D={},startAdornment:L,type:$="text",value:j}=r,F=(0,tu.A)(r,LV),B=null!=y.value?y.value:j,{current:V}=O.useRef(null!=B),z=O.useRef(),U=O.useCallback((e=>{0}),[]),W=(0,nc.A)(z,v,y.ref,U),[q,H]=O.useState(!1),G=zB();const X=VB({props:r,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=G?G.focused:q,O.useEffect((()=>{!G&&d&&q&&(H(!1),S&&S())}),[G,d,q,S]);const K=G&&G.onFilled,Y=G&&G.onEmpty,Q=O.useCallback((e=>{PB(e)?K&&K():Y&&Y()}),[K,Y]);(0,Nf.A)((()=>{V&&Q({value:B})}),[B,Q,V]);O.useEffect((()=>{Q(z.current)}),[]);let J=g,Z=y;w&&"input"===J&&(Z=P?(0,eu.A)({type:void 0,minRows:P,maxRows:P},Z):(0,eu.A)({type:void 0,maxRows:b,minRows:x},Z),J=RV);O.useEffect((()=>{G&&G.setAdornedStart(Boolean(L))}),[G,L]);const ee=(0,eu.A)({},r,{color:X.color||"primary",disabled:X.disabled,endAdornment:h,error:X.error,focused:X.focused,formControl:G,fullWidth:f,hiddenLabel:X.hiddenLabel,multiline:w,size:X.size,startAdornment:L,type:$}),te=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:h,type:f}=e,m={root:["root",`color${(0,ld.A)(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",p&&"medium"!==p&&`size${(0,ld.A)(p)}`,c&&"multiline",h&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,xu.A)(m,MV,t)})(ee),ne=D.root||l.Root||FV,re=M.root||u.root||{},oe=D.input||l.Input||BV;return Z=(0,eu.A)({},Z,null!=(n=M.input)?n:u.input),(0,Ye.jsxs)(O.Fragment,{children:[!p&&VV,(0,Ye.jsxs)(ne,(0,eu.A)({},re,!Au(ne)&&{ownerState:(0,eu.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{z.current&&e.currentTarget===e.target&&z.current.focus(),k&&k(e)}},F,{className:(0,nu.A)(te.root,re.className,s,N&&"MuiInputBase-readOnly"),children:[L,(0,Ye.jsx)(DB.Provider,{value:null,children:(0,Ye.jsx)(oe,(0,eu.A)({ownerState:ee,"aria-invalid":X.error,"aria-describedby":o,autoComplete:i,autoFocus:a,defaultValue:c,disabled:X.disabled,id:m,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?z.current:{value:"x"})},name:A,placeholder:R,readOnly:N,required:X.required,rows:P,value:B,onKeyDown:T,onKeyUp:I,type:$},Z,!Au(oe)&&{as:J,ownerState:(0,eu.A)({},ee,Z.ownerState)},{ref:W,className:(0,nu.A)(te.input,Z.className,N&&"MuiInputBase-readOnly"),onBlur:e=>{S&&S(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):H(!1)},onChange:function(e){if(!V){const t=e.target||z.current;if(null==t)throw new Error((0,tV.A)(1));Q({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{X.disabled?e.stopPropagation():(E&&E(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):H(!0))}}))}),h,_?_((0,eu.A)({},X,{startAdornment:L})):null]}))]})})),UV=zV;function WV(e){return(0,sc.Ay)("MuiInput",e)}const qV=(0,eu.A)({},DV,(0,mu.A)("MuiInput",["root","underline","input"])),HV=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],GV=(0,ju.Ay)(FV,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...$V(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,eu.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qV.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qV.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qV.disabled}, .${qV.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${qV.disabled}:before`]:{borderBottomStyle:"dotted"}})})),XV=(0,ju.Ay)(BV,{name:"MuiInput",slot:"Input",overridesResolver:jV})({}),KV=O.forwardRef((function(e,t){var n,r,o,i;const a=(0,Fu.b)({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:f={},type:m="text"}=a,g=(0,tu.A)(a,HV),y=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,xu.A)(r,WV,t);return(0,eu.A)({},t,o)})(a),v={root:{ownerState:{disableUnderline:s}}},b=(null!=h?h:u)?(0,xm.A)(null!=h?h:u,v):v,x=null!=(n=null!=(r=f.root)?r:l.Root)?n:GV,w=null!=(o=null!=(i=f.input)?i:l.Input)?o:XV;return(0,Ye.jsx)(UV,(0,eu.A)({slots:{root:x,input:w},slotProps:b,fullWidth:c,inputComponent:d,multiline:p,ref:t,type:m},g,{classes:y}))}));KV.muiName="Input";const YV=KV;function QV(e){return(0,sc.Ay)("MuiFilledInput",e)}const JV=(0,eu.A)({},DV,(0,mu.A)("MuiFilledInput",["root","underline","input"])),ZV=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ez=(0,ju.Ay)(FV,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...$V(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,eu.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${JV.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${JV.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${JV.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${JV.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${JV.disabled}, .${JV.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${JV.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,eu.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),tz=(0,ju.Ay)(BV,{name:"MuiFilledInput",slot:"Input",overridesResolver:jV})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),nz=O.forwardRef((function(e,t){var n,r,o,i;const a=(0,Fu.b)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:c="input",multiline:d=!1,slotProps:p,slots:h={},type:f="text"}=a,m=(0,tu.A)(a,ZV),g=(0,eu.A)({},a,{fullWidth:u,inputComponent:c,multiline:d,type:f}),y=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,xu.A)(r,QV,t);return(0,eu.A)({},t,o)})(a),v={root:{ownerState:g},input:{ownerState:g}},b=(null!=p?p:l)?(0,xm.A)(v,null!=p?p:l):v,x=null!=(n=null!=(r=h.root)?r:s.Root)?n:ez,w=null!=(o=null!=(i=h.input)?i:s.Input)?o:tz;return(0,Ye.jsx)(UV,(0,eu.A)({slots:{root:x,input:w},componentsProps:b,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:f},m,{classes:y}))}));nz.muiName="Input";const rz=nz;var oz;const iz=["children","classes","className","label","notched"],az=(0,ju.Ay)("fieldset",{shouldForwardProp:im.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),sz=(0,ju.Ay)("legend",{shouldForwardProp:im.A})((e=>{let{ownerState:t,theme:n}=e;return(0,eu.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,eu.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function lz(e){return(0,sc.Ay)("MuiOutlinedInput",e)}const uz=(0,eu.A)({},DV,(0,mu.A)("MuiOutlinedInput",["root","notchedOutline","input"])),cz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],dz=(0,ju.Ay)(FV,{shouldForwardProp:e=>(0,im.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:$V})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,eu.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${uz.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${uz.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${uz.focused} .${uz.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${uz.error} .${uz.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${uz.disabled} .${uz.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,eu.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),pz=(0,ju.Ay)((function(e){const{className:t,label:n,notched:r}=e,o=(0,tu.A)(e,iz),i=null!=n&&""!==n,a=(0,eu.A)({},e,{notched:r,withLabel:i});return(0,Ye.jsx)(az,(0,eu.A)({"aria-hidden":!0,className:t,ownerState:a},o,{children:(0,Ye.jsx)(sz,{ownerState:a,children:i?(0,Ye.jsx)("span",{children:n}):oz||(oz=(0,Ye.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),hz=(0,ju.Ay)(BV,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jV})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),fz=O.forwardRef((function(e,t){var n,r,o,i,a;const s=(0,Fu.b)({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:u=!1,inputComponent:c="input",label:d,multiline:p=!1,notched:h,slots:f={},type:m="text"}=s,g=(0,tu.A)(s,cz),y=(e=>{const{classes:t}=e,n=(0,xu.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},lz,t);return(0,eu.A)({},t,n)})(s),v=zB(),b=VB({props:s,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,eu.A)({},s,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:u,hiddenLabel:b.hiddenLabel,multiline:p,size:b.size,type:m}),w=null!=(n=null!=(r=f.root)?r:l.Root)?n:dz,A=null!=(o=null!=(i=f.input)?i:l.Input)?o:hz;return(0,Ye.jsx)(UV,(0,eu.A)({slots:{root:w,input:A},renderSuffix:e=>(0,Ye.jsx)(pz,{ownerState:x,className:y.notchedOutline,label:null!=d&&""!==d&&b.required?a||(a=(0,Ye.jsxs)(O.Fragment,{children:[d,"\u2009","*"]})):d,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:c,multiline:p,ref:t,type:m},g,{classes:(0,eu.A)({},y,{notchedOutline:null})}))}));fz.muiName="Input";const mz=fz,gz=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],yz=["root"],vz={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,im.A)(e)&&"variant"!==e,slot:"Root"},bz=(0,ju.Ay)(YV,vz)(""),xz=(0,ju.Ay)(mz,vz)(""),wz=(0,ju.Ay)(rz,vz)(""),Az=O.forwardRef((function(e,t){const n=(0,Fu.b)({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:i={},className:a,defaultOpen:s=!1,displayEmpty:l=!1,IconComponent:u=CV,id:c,input:d,inputProps:p,label:h,labelId:f,MenuProps:m,multiple:g=!1,native:y=!1,onClose:v,onOpen:b,open:x,renderValue:w,SelectDisplayProps:A,variant:S="outlined"}=n,C=(0,tu.A)(n,gz),k=y?dV:SV,E=VB({props:n,muiFormControl:zB(),states:["variant","error"]}),T=E.variant||S,I=(0,eu.A)({},n,{variant:T,classes:i}),R=(e=>{const{classes:t}=e;return t})(I),N=(0,tu.A)(R,yz),_=d||{standard:(0,Ye.jsx)(bz,{ownerState:I}),outlined:(0,Ye.jsx)(xz,{label:h,ownerState:I}),filled:(0,Ye.jsx)(wz,{ownerState:I})}[T],P=(0,nc.A)(t,_.ref);return(0,Ye.jsx)(O.Fragment,{children:O.cloneElement(_,(0,eu.A)({inputComponent:k,inputProps:(0,eu.A)({children:o,error:E.error,IconComponent:u,variant:T,type:void 0,multiple:g},y?{id:c}:{autoWidth:r,defaultOpen:s,displayEmpty:l,labelId:f,MenuProps:m,onClose:v,onOpen:b,open:x,renderValue:w,SelectDisplayProps:(0,eu.A)({id:c},A)},p,{classes:p?(0,xm.A)(N,p.classes):N},d?d.props.inputProps:{})},(g&&y||l)&&"outlined"===T?{notched:!0}:{},{ref:P,className:(0,nu.A)(_.props.className,a,R.root)},!d&&{variant:T},C))})}));Az.muiName="Select";const Sz=Az,Cz=e=>{let{roomSet:t,isCaptain:n,rounds:r,roomSetSetter:o,exerciseSetSetter:i}=e;const{roundCount:a,roundTime:s,restTime:l}=t,[u,c]=(0,O.useState)(a),[d,p]=(0,O.useState)(s),[h,f]=(0,O.useState)(l),[m,g]=(0,O.useState)([]),[y,v]=(0,O.useState)([]);(0,O.useEffect)((()=>{i(y)}),[y]),(0,O.useEffect)((()=>{const e=[];for(let t=30;t<=180;t+=30)e.push(t);g(e)}),[]),(0,O.useEffect)((()=>{c(a),f(l),p(s)}),[a,l,s]);const b={backgroundColor:"white",borderRadius:"15px",display:"flex",flexDirection:"column",justifyContent:"space-between",border:"3px solid #c0c0c0"},x={display:"flex",justifyContent:"space-around",alignItems:"center",fontWeight:"bold",fontSize:"1.2rem",width:"100%",marginTop:"2%"},w={...x,justifyContent:"center"},A={minWidth:"30%",textAlign:"center"};return(0,Ye.jsx)("div",{children:(0,Ye.jsxs)(fF,{container:!0,direction:"column",spacing:7,children:[(0,Ye.jsx)(fF,{item:!0,xs:7,children:(0,Ye.jsxs)("div",{style:b,children:[(0,Ye.jsxs)("div",{style:x,children:[(0,Ye.jsx)("span",{style:A,children:"\ub77c\uc6b4\ub4dc\ubcc4 \uc2dc\uac04"}),(0,Ye.jsxs)(BB,{variant:"filled",sx:{minWidth:"50%"},disabled:!0,children:[(0,Ye.jsx)(eV,{id:"round-time-label",children:"15 ~ 180\ucd08 \uc120\ud0dd \uac00\ub2a5"}),(0,Ye.jsxs)(Sz,{labelId:"round-time-label",id:"round-time-select",value:d,onChange:e=>{p(e.target.value),o(e.target.value,l,a)},children:[(0,Ye.jsxs)(av,{value:d,children:[d,"\ucd08"]}),m.map((e=>(0,Ye.jsxs)(av,{value:e,children:[e,"\ucd08"]},e)))]})]})]}),(0,Ye.jsxs)("div",{style:x,children:[(0,Ye.jsx)("span",{style:A,children:"\ud734\uc2dd \uc2dc\uac04"}),(0,Ye.jsxs)(BB,{variant:"filled",sx:{minWidth:"50%"},disabled:!0,children:[(0,Ye.jsx)(eV,{id:"rest-time-label",children:"15 ~ 180\ucd08 \uc120\ud0dd \uac00\ub2a5"}),(0,Ye.jsxs)(Sz,{labelId:"rest-time-label",id:"rest-time-select",value:h,onChange:e=>{f(e.target.value),o(s,e.target.value,a)},children:[(0,Ye.jsxs)(av,{value:h,children:[h,"\ucd08"]}),m.map((e=>(0,Ye.jsxs)(av,{value:e,children:[e,"\ucd08"]},e)))]})]})]}),(0,Ye.jsxs)("div",{style:x,children:[(0,Ye.jsx)("span",{style:A,children:"\ub77c\uc6b4\ub4dc \uc218"}),(0,Ye.jsxs)(BB,{variant:"filled",sx:{minWidth:"50%"},disabled:!0,children:[(0,Ye.jsx)(eV,{id:"round-count-label",children:"1 ~ 3\ud68c \uc120\ud0dd \uac00\ub2a5"}),(0,Ye.jsxs)(Sz,{labelId:"round-count-label",id:"round-count-select",value:u,onChange:e=>{c(e.target.value),i([]),o(s,l,e.target.value)},children:[(0,Ye.jsxs)(av,{value:u,children:[u,"\ud68c"]}),(0,Ye.jsx)(av,{value:1,children:"1\ud68c"}),(0,Ye.jsx)(av,{value:2,children:"2\ud68c"}),(0,Ye.jsx)(av,{value:3,children:"3\ud68c"})]})]})]}),(0,Ye.jsxs)("div",{style:w,children:[(0,Ye.jsx)("span",{style:A,children:"\uc608\uc0c1 \ud50c\ub808\uc774 \uc2dc\uac04"}),(0,Ye.jsxs)("span",{children:[d*u+h*(u-1),"\ucd08"]})]})]})}),(0,Ye.jsx)(fF,{item:!0,xs:5,children:(0,Ye.jsx)("div",{style:b,children:Array.from({length:r}).map(((e,t)=>(0,Ye.jsxs)("div",{style:x,children:[(0,Ye.jsxs)("span",{style:A,children:[t+1,"\ub77c\uc6b4\ub4dc "]}),(0,Ye.jsxs)(BB,{variant:"filled",sx:{minWidth:"50%"},children:[(0,Ye.jsx)(eV,{id:`exercise-option-label-${t}`,children:"\uc6b4\ub3d9 \uc120\ud0dd"}),(0,Ye.jsxs)(Sz,{labelId:`exercise-option-label-${t}`,id:`exercise-option-select-${t}`,value:y[t]||"",onChange:e=>((e,t)=>{let n=[...y];n[t]=e.target.value,v(n)})(e,t),children:[(0,Ye.jsx)(av,{value:"lunge",children:"\ub7f0\uc9c0"}),(0,Ye.jsx)(av,{value:"jumpingJack",children:"\ud314\ubc8c\ub824\ub6f0\uae30"}),(0,Ye.jsx)(av,{value:"sitUp",children:"\uc717\ubab8\uc77c\uc73c\ud0a4\uae30"}),(0,Ye.jsx)(av,{value:"pushUp",children:"\ud314\uad7d\ud600\ud3b4\uae30"}),(0,Ye.jsx)(av,{value:"squat",children:"\uc2a4\ucffc\ud2b8"})]})]})]},t)))})})]})})};function kz(e){return(0,sc.Ay)("MuiFormHelperText",e)}const Ez=(0,mu.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Tz;const Iz=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Oz=(0,ju.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,ld.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,eu.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ez.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ez.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),Rz=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,a=(0,tu.A)(n,Iz),s=VB({props:n,muiFormControl:zB(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,eu.A)({},n,{component:i,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:a,focused:s,required:l}=e,u={root:["root",o&&"disabled",i&&"error",r&&`size${(0,ld.A)(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,xu.A)(u,kz,t)})(l);return(0,Ye.jsx)(Oz,(0,eu.A)({as:i,ownerState:l,className:(0,nu.A)(u.root,o),ref:t},a,{children:" "===r?Tz||(Tz=(0,Ye.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Nz=Rz;function _z(e){return(0,sc.Ay)("MuiTextField",e)}(0,mu.A)("MuiTextField",["root"]);const Pz=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Mz={standard:YV,filled:rz,outlined:mz},Dz=(0,ju.Ay)(BB,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Lz=O.forwardRef((function(e,t){const n=(0,Fu.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:a,color:s="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:h,id:f,InputLabelProps:m,inputProps:g,InputProps:y,inputRef:v,label:b,maxRows:x,minRows:w,multiline:A=!1,name:S,onBlur:C,onChange:k,onFocus:E,placeholder:T,required:I=!1,rows:O,select:R=!1,SelectProps:N,type:_,value:P,variant:M="outlined"}=n,D=(0,tu.A)(n,Pz),L=(0,eu.A)({},n,{autoFocus:o,color:s,disabled:u,error:c,fullWidth:p,multiline:A,required:I,select:R,variant:M}),$=(e=>{const{classes:t}=e;return(0,xu.A)({root:["root"]},_z,t)})(L);const j={};"outlined"===M&&(m&&"undefined"!==typeof m.shrink&&(j.notched=m.shrink),j.label=b),R&&(N&&N.native||(j.id=void 0),j["aria-describedby"]=void 0);const F=(0,nV.A)(f),B=h&&F?`${F}-helper-text`:void 0,V=b&&F?`${F}-label`:void 0,z=Mz[M],U=(0,Ye.jsx)(z,(0,eu.A)({"aria-describedby":B,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:p,multiline:A,name:S,rows:O,maxRows:x,minRows:w,type:_,value:P,id:F,inputRef:v,onBlur:C,onChange:k,onFocus:E,placeholder:T,inputProps:g},j,y));return(0,Ye.jsxs)(Dz,(0,eu.A)({className:(0,nu.A)($.root,a),disabled:u,error:c,fullWidth:p,ref:t,required:I,color:s,variant:M,ownerState:L},D,{children:[null!=b&&""!==b&&(0,Ye.jsx)(eV,(0,eu.A)({htmlFor:F,id:V},m,{children:b})),R?(0,Ye.jsx)(Sz,(0,eu.A)({"aria-describedby":B,id:F,labelId:V,value:P,input:U},N,{children:i})):U,h&&(0,Ye.jsx)(Nz,(0,eu.A)({id:B},d,{children:h}))]}))})),$z=Lz,jz=(0,ju.Ay)($z)({"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"#12D20E"},"&.Mui-focused fieldset":{borderColor:"#12D20E"}}}),Fz={display:"flex",backgroundColor:"white",height:"130px",padding:"10px"},Bz=e=>({width:"100%",margin:"auto",overflowY:"scroll",padding:"10px",backgroundColor:"#f0f0f0",display:"flex",flexDirection:"column",alignItems:"flex-end",borderRadius:"10px",height:e?"300px":"100px",transition:"height 0.3s ease-in-out",position:e?"relative":"static",bottom:e?"200px":"auto",zIndex:10}),Vz={maxWidth:"80%",marginBottom:"10px",padding:"10px",borderRadius:"10px"},zz={...Vz,backgroundColor:"#dcf8c6",alignSelf:"flex-end"},Uz={...Vz,backgroundColor:"#ffffff",alignSelf:"flex-start"},Wz={display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#fff",flex:2},qz={marginLeft:"10px",backgroundColor:"#12d20e",color:"white",fontWeight:"bold",fontFamily:"inherit",height:"100px",width:"80px"},Hz={...qz,backgroundColor:"#12D20E"},Gz={flex:1},Xz={color:"#707070",fontSize:"0.75rem"},Kz=e=>({textAlign:e?"right":"left"}),Yz=e=>{let{me:t,chatMessages:n,sendTest3:r}=e;const[o,i]=(0,O.useState)(""),a=(0,O.useRef)(null),[s,l]=(0,O.useState)(!1),[u,c]=(0,O.useState)(!1),d=e=>{l(0==e)},p=()=>{o.trim()&&(r(o),i(""))};return(0,O.useEffect)((()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n]),(0,Ye.jsxs)("div",{style:Fz,children:[(0,Ye.jsx)("div",{style:{display:"flex",justifyContent:"end",flex:3,height:"100%",position:"relative"},children:(0,Ye.jsxs)("div",{style:Bz(u),children:[n.map(((e,n)=>(0,Ye.jsx)(rf,{style:e.user===t.nickname?zz:Uz,children:(0,Ye.jsxs)(Af,{style:e.user===t.nickname?Kz(!0):Kz(!1),children:[(0,Ye.jsx)("b",{children:e.user}),"  ",(0,Ye.jsx)("span",{style:Xz,children:e.timestamp}),(0,Ye.jsx)("br",{}),e.body]})},n))),(0,Ye.jsx)("div",{ref:a})]})}),(0,Ye.jsxs)("div",{style:Wz,children:[(0,Ye.jsx)(jz,{value:o,onChange:e=>{i(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),p())},style:Gz,variant:"outlined",placeholder:"\ucc44\ud305\uc744 \uc785\ub825\ud574 \ubcf4\uc138\uc694!",onFocus:()=>c(!0),onBlur:()=>c(!1),sx:{"& .MuiInputBase-input":{height:"100px",boxSizing:"border-box"},"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"4px"}}}}),(0,Ye.jsx)(ag,{variant:"contained",onClick:p,onMouseEnter:()=>d(0),onMouseLeave:()=>d(1),style:s?Hz:qz,children:"\ubcf4\ub0b4\uae30"})]})]})};var Qz=n(17068),Jz=n(21021);const Zz=Qz.act;function eU(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}function tU(e){eU().IS_REACT_ACT_ENVIRONMENT=e}function nU(){return eU().IS_REACT_ACT_ENVIRONMENT}const rU=(oU=Zz,e=>{const t=nU();tU(!0);try{let n=!1;const r=oU((()=>{const t=e();return null!==t&&"object"===typeof t&&"function"===typeof t.then&&(n=!0),t}));if(n){const e=r;return{then:(n,r)=>{e.then((e=>{tU(t),n(e)}),(e=>{tU(t),r(e)}))}}}return tU(t),r}catch(n){throw tU(t),n}});var oU;const iU=function(){return(0,Jz.rC)(...arguments)};Object.keys(Jz.rC).forEach((e=>{iU[e]=function(){return Jz.rC[e](...arguments)}}));const aU=iU.mouseEnter,sU=iU.mouseLeave;iU.mouseEnter=function(){return aU(...arguments),iU.mouseOver(...arguments)},iU.mouseLeave=function(){return sU(...arguments),iU.mouseOut(...arguments)};const lU=iU.pointerEnter,uU=iU.pointerLeave;iU.pointerEnter=function(){return lU(...arguments),iU.pointerOver(...arguments)},iU.pointerLeave=function(){return uU(...arguments),iU.pointerOut(...arguments)};const cU=iU.select;iU.select=(e,t)=>{cU(e,t),e.focus(),iU.keyUp(e,t)};const dU=iU.blur,pU=iU.focus;iU.blur=function(){return iU.focusOut(...arguments),dU(...arguments)},iU.focus=function(){return iU.focusIn(...arguments),pU(...arguments)},(0,Jz.jK)({unstable_advanceTimersWrapper:e=>rU(e),asyncWrapper:async e=>{const t=nU();tU(!1);try{return await e()}finally{tU(t)}},eventWrapper:e=>{let t;return rU((()=>{t=e()})),t}});const hU=new Set,fU=[];function mU(){fU.forEach((e=>{let{root:t,container:n}=e;rU((()=>{t.unmount()})),n.parentNode===document.body&&document.body.removeChild(n)})),fU.length=0,hU.clear()}var gU;if(("undefined"===typeof process||null==(gU={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8080",REACT_APP_ENV:"development"})||!gU.RTL_SKIP_AUTO_CLEANUP)&&("function"===typeof afterEach?afterEach((()=>{mU()})):"function"===typeof teardown&&teardown((()=>{mU()})),"function"===typeof beforeAll&&"function"===typeof afterAll)){let e=nU();beforeAll((()=>{e=nU(),tU(!0)})),afterAll((()=>{tU(e)}))}class yU{constructor(e,t,n,r,o,i,a,s){this.nickname=e,this.badge=t,this.profileImage=n,this.level=r,this.highestScore=o,this.readyState=i,this.isCaptain=a,this.email=s}}class vU{constructor(e,t,n){this.roundTime=e,this.restTime=t,this.roundCount=n}}const bU=Ph,xU=()=>{const e=Se(),[t,n]=(0,O.useState)(localStorage.getItem("accessToken")),[r,o]=(0,O.useState)(!1),[i,a]=(0,O.useState)(0),s=ke(),{roomName:l}=Ee(),[u,c]=(0,O.useState)(new vU(0,0,0)),[d,p]=(0,O.useState)([]),h=(0,O.useRef)([]),[f,m]=(0,O.useState)(""),[g,y]=(0,O.useState)(!1),[v,b]=(0,O.useState)(new yU("",0,"",0,0,!1,!1,"")),[x,w]=(0,O.useState)([]);(0,O.useEffect)((()=>{_h.get(bU+"/api/raidu/userpage",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then((n=>{const r=n.data.data.userProfile;return console.log(r),b((t=>{console.log("\uc774\uc6a9\uc790 \uc815\ubcf4 \ucd08\uae30\ud654"),console.log(t);const n=new yU(r.nickname,r.monsterBadgeUrl,r.profileImageUrl,r.level,r.bestScore,null!==e.state&&void 0!==e.state,null!==e.state&&void 0!==e.state&&e.state.isCaptain,r.email);return console.log(n),n})),null!==e.state&&void 0!==e.state?Promise.resolve():_h.post(bU+"/api/raidu/rooms/"+l+"/"+r.email,{},{headers:{Authorization:`Bearer ${t}`}})})).then((e=>{A()})).then((e=>{m(l)})).catch((e=>{console.error("\uc720\uc800 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc2e4\ud328!",e),"\uc561\uc138\uc2a4 \ud1a0\ud070\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"===e.response.data.message&&(alert("\ud1a0\ud070 \ub9cc\ub8cc! \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."),s("/login"))}))}),[t]);const A=()=>_h.get(bU+"/api/raidu/rooms/"+l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then((e=>{const t=e.data.data.room,n=e.data.data.host,r=e.data.data.guestList;m(t.title),c(new vU(t.roundTime,t.restTime,t.totalRounds)),y(!t.public),w((()=>[new yU(n.nickname,n.mosterBadgeUrl,n.profileImageUrl,n.level,n.bestScore,!0,!0,n.email),...r.map((e=>new yU(e.nickname,e.monsterBadgeUrl,e.profileImageUrl,e.level,e.bestScore,!1,!1,e.email)))])),o(!0)})),[S,C]=(0,O.useState)(null),[k,E]=(0,O.useState)([]),[T,I]=(0,O.useState)([]);(0,O.useEffect)((()=>{const e=new NB(l);return C(e),()=>{e&&e.disconnect()}}),[l]),(0,O.useEffect)((()=>{if(!S)return;return(async()=>{try{await S.connect();const e=S.subscribe("/sub/message/"+l,(e=>{const t=JSON.parse(e.body);switch(console.log("===================="),console.log(t),console.log("===================="),t.type){case"1":t.enterType?A():!0===t.isCaptain?s("/raid"):A();break;case"2":M(t.user,t.readyType);break;case"3":I((e=>[...e,t]));break;case"4":L(t.sessionId);break;default:console.log("UNKNOWN MESSAGE")}E((e=>[...e,t]))}));return a(i+1),()=>{e&&e.unsubscribe(),S.disconnect()}}catch(e){console.error("Error caused by websocket connecting process : ",e)}})(),()=>{S&&S.disconnect()}}),[S,r,l]),(0,O.useEffect)((()=>{_(!0)}),[S,i,r]);const R="/pub/message",N={user:v.nickname,channel:l,timestamp:(()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getMonth()+1)}-${t(e.getDate())} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`})()},_=async e=>{try{await new Promise((e=>{const t=()=>{S&&S.isConnected?e():setTimeout(t,1e3)};t()}));const t=JSON.stringify({...N,type:"1",enterType:e,isCaptain:v.isCaptain});S.send(R,t)}catch(Nve){console.error("Error sending message:",Nve)}},P=e=>{if(D()){if(S){const t=JSON.stringify({...N,type:"2",readyType:e});S.send(R,t)}}else console.log("\ubaa8\ub4e0 \ub77c\uc6b4\ub4dc\uc5d0 \ub300\ud55c \uc6b4\ub3d9 \uc885\ubaa9 \uc120\ud0dd\uc744 \uc644\ub8cc\ud574 \uc8fc\uc138\uc694.")},M=(e,t)=>{console.log("before ready"),console.log(x),w((n=>{const r=n.map((n=>n.nickname===e?new yU(n.nickname,n.badge,n.profileImage,n.level,n.highestScore,t,n.isCaptain,n.email):n));return console.log(r),r})),console.log(e),console.log(v.nickname),console.log(v),e===v.nickname&&b((e=>(console.log(e),new yU(e.nickname,e.badge,e.profileImage,e.level,e.highestScore,t,e.isCaptain,e.email))))},D=()=>(console.log("checkExerciseOption : "+d.length),console.log("checkExerciseOption : "+u.roundCount),d.length==u.roundCount),L=e=>{const t=u,n=v,r=h.current;console.log("=========TEST========="),console.log(t),console.log(n),console.log(r),console.log(e),s("/trainingTest",{state:{roomId:e,roomInfo:t,userInfo:n,exerciseInfo:r,roomPk:l}})};return(0,Ye.jsx)(Zl,{children:(0,Ye.jsxs)("div",{className:"waitroom-page-wrapper",children:[(0,Ye.jsxs)("div",{className:"waitroom-banner-top",children:[(0,Ye.jsx)("div",{onClick:()=>s("/home"),className:"waitroom-banner-logo",children:(0,Ye.jsx)("img",{src:yt,alt:"logoImg"})}),(0,Ye.jsxs)("div",{className:"waitroom-banner-info-wrapper",children:[(0,Ye.jsx)("div",{className:"waitroom-banner-lock",children:(0,Ye.jsx)("img",{src:g?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6PAAAOjwHjOWJ6AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjcMAnQAAAO90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHiAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs9Pj9AQUJERUZHSUpMTU5PUFFSU1RVVldZWltcXV9gYWJjZGVmZ2hpamxtbm9wcXJzdHV2d3h5ent8fX5/gIGCg4aHiImKi4yNjo+RkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqutrq+wsbKztLW2uLm6u7y9vr/AwcLDxcbHyMnKzM3Oz9DR0tPU1dbX2Nna29zd3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f55IfRLAAARgElEQVR42u3d+3+WdR3H8WsbG4PhhiIgEjQwcZzyFIxDEockwAMigkOy1ETCQrQEsjgYCOUpSRumuXUgZSDGZGToTMRChymMQOYBEIEBN9z3/f0X+iHr0UFx2/fzvb6H6/X+C+735/OEXfd1X4coSlLade1XPn76rIUrH6/Z0vDe8RMf5/h7DVtqHl+5cNb08eX9uraLSHApGDxtcc3Ow6pFObyzZvG0wQVMLYjklE78ftX2U6rVObW96vsTS3OYoL8pGn3bqpeOKK0ceWnVbaOLmKV/GTS3NqWEkqqdO4iJepQzpzz2jhLOO49NOZPJepDcoQu2pJWRpLcsGJrLhF3OORVP7VdGs/+pinOYs6Nf9a7ZkFExJLPhGr4iupcLlr2vYsv7yy5g4i6lY8ULKua8UNGRuTuSix88pCzk0IMXM3v7KbnlFWUtr9xSwgasZmBls7Ka5sqBbMFa+j2VUdaTeaofm7CSvqvTyomkV/dlG7Gn96pTypmcWtWbjcSacx9IKaeSeuBcthJbuq84rpzL8RXd2Uws6bK0WTmZ5qVd2I7xFMw/rJzN4fn8SmA4I95QTueN4ezIYIofzCrHk73/DPZkKpP2Kg+yZwKbMpJzfqM8SRXfB+STc+OHypscuIGFCecLm5RX2cjZYcm0u+u48izH5uaxN6kMfk15mFf6szmZTGtWXubIFHYnkPyVytss405j/S9/LyiPU9eNDWqe+t2nvM7ecnaok1tPKs+TuoUttjkdfqkCyOoObLJt6bNNBZFXS9llW3L5QRVIDl7ONlt/7n9BRgWTzAIeNdPK5D6qgsqjPFigdWd/qlVgqc5nqy1PYY0KLjWF7LWl6fS8CjDPd2KzLUvnF1WQebEzu21Jum1TgWYbvwy0ID0bVLBp6Ml+P/P03y4VcHb1YcOnT/93VNB5h8uETpuLP1CB5wMeLHSaDDqkgs8hHjv86cd/e1QCsocjwU/JGdtUIrKNuwc/Me2eVQnJs1wr+klZpRKTVWz7//M9laB8j33/b67LJglA9jo2/t+5LKUSldRl7Pw/c8FBlbAc5IHz/5Huu1TisounSPw7HV9WCczLvHDg4+T8XiUyv+dS4X9mjkpo5rD7KIqii1JJBZC6iO1HUccdKrHZwWFAFP1cJTg/Z//XqETnmqTvv/eHyQbwYcLfNJFn5QEwTZtW3Tt/9szJXx02sHfvgcO+Onnm7Pn3rtrUZOOzvJDsp8ktjHfaJxvWLK4Y+qmveisZWrF4TUPMDyVZmOT9j4jxtU8n6uaPaNENmvkj5tediO9zpUckd/+dG+Macv2iMa16UEuHMYvq48LZmNw7xuK5B/x41aTitny64klV8Tygtjqp+58Zx3RfvEnjH1jnm2K5T3VmMvff1fxNAHsWab/Vs98i89eqH+rKKUADya4ZJ/Jcltxxa0xfrpbIE4JfMjvVzK8Hy33Wwb82+8Sq7JeSt/+cl4we9j9ZJvtxy540+qXgpeRdGjDD4DhPVZ4v/4HPrzT5suIZSdt/8bvmhvm4oZvw+zxu7jO/W5wwAMuNjbJhlLlPPcrc00uWJ2v/ZaZOuB83+/LWgvmmzg2dLEsUgOcMjfG580x/8vOMffQk7f9KQ39Ip8bx4acaOny5Mjn7L9xlZIJVMf2q0rnKyMfflZxHiS4w8nPvt+Ir8C0jPxcvSMr+ex8zML2dl8RZ4ZKdBiocS8rlYSaeBPG7kng7lPzOQImEPDeih/z/nyct3GMzR/6b7IkeiQCwVHxwdt7NVr5XvMjSJOy/5CPxc3+97DTpJX5e8KOSBACYJz21+i62qnSpl+4yL/z9t5e++n5Dkb0yRRuEyzS1Dx7AN6TP/hTYbFMgfU7oG6HvP/dvsgO73/LbuHLvl+3zt9DfLna17LwcuK1G+OamqwMHIPs0oB+7UOnHopVeDnv/XxEd1pNOXEmX86Roqa8EDUD0edAbC9woVbBRstWzIe//QslJverMZXTFr0r2ujBgAL+S/PncoRPnPSQvcPhVuPs/U/B5YPv7udSs3365ZqkzgwXwTcHf/4a7VW244G+D3wwWwGa5ITn3jEXBp11uDnX/veTuBnzavXZPi5XL9goUwB1iI9p9lnvtztotVu+OQAG8JjWgU8NdrDdc7N7B18Lc/8DQ/4XI/Q83MEgAi6XGs97Re6lz1ks1XBzi/nOkHgm272xXK569T6hiY4iPCxgp9c/jWnc7XivVcWSAAB4Wmk2tyyVrhUo+FN7+8w8InQJ0+jZqqdveD+QHB2CC0L+Ne92uea9QzQnBARC6enJvJ7drdhK6W6QqtP0XCt0QOsX1olNkeh4L7V7xUUIXAbnfVOjyoFGBAfiByFQy/d1v2l/mmZI/CAxAnchUvHiutswz0OsCOwSQuSX8iz50/aJI1RNhHQTIHALU+FG2hoMAQ4cAw/woO4yDADOHAM/70vZ5DgKMHAKM8aXuGA4C/icid4TV+9NX5MERId0jdo/EQK7wp+8VEn3vCQiAxPXg73r0is08iafJBnR1uMghwAqfGq/gIED8EOASnxpfwkGA9CHAG35VfoODAOHvxXf5VfmuJJ33+MwIPBku69mDlHsL3AbXFMr+i5N4Xkzi3GcoL5K6VGAWX/et9NcFSl8aCIBp+qNIe/eK9c4CL5qcxpcAD08DC54ODuVrgMAFwR7eLCdwK2QolwZv1R/FWP9aj9VvvTUQAEe1J5Hq6F/rjvpPxDoaxv57JvR3EYFfwHoGAUDgl4CFPvYWeIp0GL8G3JzQu6UF7oe/OQgA92nPobnAx94FzdrF7wsCwLqkXh+pfzZ4XRAA3tKew8N+Ftd/JMZbIey/QP+c6Bw/m+s/PDRdEACAXvrHQuP9bD5ev3kIzwwt0x9DXz+b99VvXhYAgCH65wHz/Gyep38ucEgAAEZrT+F1X6u/rl19dAAAJmlPYY2v1ddoV58UAAD9y0GW+Fp9CZeERBJngm/0tfqNnAuOoui72lO4ytfqV2lX/24AAPQvCBvra3X9a0JCuChsufYUyn2tXq5dfXkAAB7RnkJ/X6v3167+SAAA9F8W6e35UP2z4CG8RHKt9hRKfK1eol19bQAANmlPIc/X6nna1TcFAODPCb42Vvt66D8HAGBHgm+S1b4tekcAAHbpDqHR3+7a78naFQCARgAksjtDAABDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BwDdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdGQLdLSa/z9Dyf0X7kelN5d5GsPvQPvl+7L7n3F/U7U4rIp707rpfzO3p9vbzJjzD7s0qeGaCu2/Q6bBwLxsyn70LO7i5/yE7WE482THExeO+H/Gff3x/CH7k3BFh/62sJc5sdex1qgP2s5N4s3+AS/vvu4+NxJ19fd3Zf69G9hF/Gp15p3L3N9mGjbzZ3Y39525hF3byp1wnAMxhE7Yy24kDwGYWYStHP29//zmb2IO9PGcfwM1swWZusL3/LodZgs0cLLEMYB47sJs5li8A2M0K7Gan3a+CV7EB25loFQBfAayn1ub+BzF/+xloEcBKxm8/Ky0C2M747We7vf2fnWX89pM92xqAK5m+C7nSGoAVDN+FrLAGgAtBnchWW/svyTB8F5Kx9XtAObN3I+WWAHyN0buRr1kCcAOjdyO2LgqYy+jdyFxLAJYyejey1BKARxm9G3nUEoCnGb0beZqLAZKdTZYA1DF6N1IHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDoAUAA4GGyf699+DsTL7rw41w04faHNu7OACARAJqfuHpg4SfVKRxw1eojAAgbQGZjRafTVSqaviEDgGABvD7vc5/d6ty5fwFAkADeHt/SYuPeBEBwAI4vLGx5s/Z3HwNAWADW9Wldt9K1AAgIQOOk1reb1AiAUADUFLWlXlENAMIAUNmubf3aVQIgBAAar1VcCgDvAWRv16l4exYAfgM4OV2v4/STAPAZQHaibsmJWQB4DOCH+i1/CAB/AdTm6rfMrQWArwD2dZOo2W0fAPwEkP6yTM8vpwHgJYB5UkXnAcBHAOtzpIrmrAeAfwAyZXJNyzIA8A7AE5JVnwCAbwDS50tWPT8NAM8ArJbtuhoAfgE4dZ5s1/NOAcArAI9Jl30MAD4BSJdKly1NA8AjAH+Ub/tHAHgE4E75tncCwCMAg+XbDgaAPwD2mqi7FwDeAHjERN1HAOANgCtM1L0CAL4ASHUyUbdTCgCeANhspu9mAHgCoNJM30oAeAJgkZm+iwDgCYBZZvrOAoAnACab6TsZAJ4AGGGm7wgAeAKg1EzfUgB4AqDQTN9CAPgB4JCpwocA4AWAlKnCKQD48SfgLDN9z+JPgCcABpjpOwAAngAYY6bvGAB4AuB6M32vB4AnAO4w0/cOAHgCYIWZvisA4AmAKjN9qwDgCYB6M33rAeAJgExXE3W7ZgDgCQA1w0TdGQoAvgD4rYm6vwWANwCOtJdv2/4IALwBoC6Xb3u5AoA/AB6Sb/sQADwCsEe+7R4AeARADZcuO1wBwCcAtdJlawHgFQA1TrbrOAUAvwBszZGsmrMVAJ4BUFMlq05VAPANwM58uab5OwHgHQB1q1zTWxUA/APwXrFU0eL3AOAhALUuV6Zn7joFAB8BqGUyPZcpAPgJQM2UqDlTAcBXAKmR+i1HpgDgLQD1QaluydIPFAD8BaD+eoZexzP+qgDgMwBVodexQgHAbwCa14fOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIHYLZex9kA8BzAEr2OSwDgOYDVeh1XA8BzAI16HRsB4DkAdalOxUsVAHwHsEyn4jIAeA/gaI+2N+xxFADeA1A/a3vDnykA+A8gPbqtBUenARAAAHWgb9v69T2gABACANXQqy31ejUoAIQBQDUNaX27IU0KAKEAUMcWFLWuW9GCYwoA4QBQqum27i1v1v22Jp+6AaBFyWy+u2LMhZ+ZMRV3b8741QwACQ8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnD4bGb0b2WgJQDWjdyPVlgA8wOjdyAOWANzD6N3IPZYAzGL0bmSWJQBTGb0bmWoJwFhG70bGWgIwiNG7kUGWAOR9xOxdyEd5lgBE6xm+C1lva//RnQzfhdxpDcAwhu9ChlkDkN/M9O2nOd8aAH4OciEb7e0/+jbjt59vWwTQmb8B1nO0xCIAX96rFnIetLl/TgbaT5lVAFwWZjt/sLv/aDIrsJsJlgG0284ObObVXMsAoqEZtmAv6Ysj67mPNdjLUvv7jzruZA+28lYHBwBEo7Nswk6yoyIn8lNWYSc/cWP/US53iFhJda4jAKL8tWwj/qzNj5xJYS37iDu1hZFDKdrCRuLNlqLIqRQu57tAnMf/ywsj1zKqkb3ElcZRkYMprmQz8aSyOHIzl1WfZDumc7L6ssjddJv3NisymbfndYvcTs7Im5ZU17/PqqTzfn31kptG5kjv6x+Ng/RtvYrM4gAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABApAAAQKQH1eOIPAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAApdQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoO196gAAANx0Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBobHB0eHyAhIiMkJSYnKCkqKywtLi8yMzQ1Njc5Ozw/QUJDRUZHSElKS0xNTk9RVFVWV1hZWltcX2BhYmNkZmdoaWprbG1udHV2d3p7fH1+f4CBgoOEhYaIiouMjY6PkJGSk5SVlpiZmpucnZ6foaKjpKWmqKmrrK2ur7Gys7S1t7q8vb6/wMLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebo6err7O3u7/Dx8vP09fb3+Pn6+/z9/lQE1qUAAA50SURBVHja7d2LX9XlHcDx5wDHW1hTQcwEp7ma0oqGWrFcFlqRcx0tspmIUxvQxdzKk5dYWlqal6BlZlE55up005nmhcpLIl4wjZwonOeP2dpeuzVN4Hl+v+fy+3z+gvM83zdw+F2FiFQZ+SVT7q+c/8SSles3vf3+pwdbz51rPfjp++9sWr9yycL5leVTflaQIcjDMoffOnPRqzvPykt2dtfG5Mxbf5jJnnnSgAkVizftbpfdrH33psUVEwawf06XV7Zse1oqlN6+rCyPfXSy/MSK3VJLu1ck8tlPpxpV/uJ+qbX9L5aPYl/daOyyZhlIzcvGsrvW/+w/sk8G2L5H+D1gcYMrUzLwUpWD2WkbuyyxuUOGUsfmxGXst11lTVzbJkOsbe3ELHbdmvrM2i9Db/+sPuy8FfWfd0Qa6ci8/uy+8XIePymNdfLxHCZgtKHJNmm0tuRQpmCskSvapfHaV4xkEka6bl2HtKKOddcxjdAbsjYtrSm9dggTCbXM2V9Jq/pqNleQhFjxh9K6PixmLiE14NlOaWGdz3L9UBjFph+VlnZ0eoz5BF3hFmlxWwqZUKBlP3leWt35J7OZUnBNPiSt79Bk5hRQ8cXSiRb3YlZBVPCedKT3hjMt/ZW2Smdq5c+A7rJ+l5Yu9VScmelsaKN0rK3DmJq+fn5MOtfxO5ibpjIXpKWDpX/LdaNaGvK2dLQ/crWQhm46Ip3t2C3MT7U7/yodrv1uJqjW/R3S6TofZIYqzZPO9xum2ONii6QHLeUigZ4e/VstvWgtRwV7VL/XpSdt7sc0u9+AP0lv+vNA5tnto/+fSI/aySGhbvaj/dKrDlzDTLvTjcekZx27kal2vTGt0rtaxzDXrlbwpfSwLwuYbNfK3SO9bE8us+1K/T+QnvYBj5TpQr0bpLc19Ga+lyqjTnpcHa+juFTLpdctZ8Lf3wLpeQuY8fdVKb2vkilfvHvT/gNI38ucL9bEczICnZvIpC/ctV/LSPT1tcz6QvXdISPSjr5M+wKtkpFpFdP+/6bJCDWNeX+3Md9ECcA3nBv+TpftkpFqFy+d+d9Wy4i1mpn/d+UycpUz9f903ZnoATjDM+b/XfbuULf+5Acbnnjwl5NLikfnD+wVHzDsxz+9ZdLUGQvWvx/uy2d280jJf7UurD0/Vl81tXjQxT/IwOKpVfWhXZC8jsn/swdD2e4jGx4a06XbNGOjZ65vDuUjcev4PxoW/Hufzm2c0c0bM0Y98Ifg30fUxpPEvq0+6POv78zo0a15P3jg7aDfS1DP9IW4Pdg9/vjXV/X8sw2d81Gwn+525t/nswD3t/250aqfb/RzQf4p+IzXzz4W4AH3JVfp+IRXLQnwNMVjUZ//qLNBbe2phdpuxMldeCqoT3l2VMQBvBHQxp54+AqdH/OKh08E9EHfiPb87wnoi/9K7S91zlkZ0AWr90R5/v0PB7Kn28YF8WHHbQvkwx6O8g2DTwfyx78yoJd4ZlYG8lXg6ejO//ogHgMa5Gt8h6wN4AN3XB/V+ce26t/N1knBfuZJATy7ZGtUnyQ5Vf9epgJ/XVPBu/o/9dSI/gLQfx/A0hBe2BbX/8VlRzR/BUzW/u2vLJwPfpf2V9dH8yVjun+XbgvtoNoI3Q+xeTeK8y/RvImvhHhepfcGzR++JIIA3tS7hcszw/zwGc/o/fRvRm/+Yx0/q1at9/OPjRyAV3VuX+es8BfwK62XC70atfkX6jy10l5mYgl36zyTnS6MGACdx1RPG/oKVXJa5xHsaM1/pMazAGduMrWKmzTe0NQxMlIAND4NsGOSuWVM0uh4eZTmf6XGP5/3mVzIfRovDrsyQgAe1bdvc82uZK6+lTwaIQBN2nZtkeml6Hu1YRMHgbrfauPn0WL6Hm0RnYNBS7UdQc0yv5gsbce0l0Zl/lktmnasebANyxms61bilqyIALhN1z+AN9uxnpt1/TN4W0QArNG0X/NtWdB8TQtaE43599P0SODN1lxIFdusZ0VfR+Mdw5quBT2UY8+Scg5xdWjXe03LXp0fb9Oaxp/XsqjXojD/QXpeCmDZfdV67nI/NygCAGZq2Srbnqyg6TkXMyMAoFHLTln3bBU9T7pp9H/++VouBXrFvoW9ouXCoHzvAUzXsU9tFu5Tvpan3U33HsALOrZpno0rm6djZS94D+BzDbu0M27jyuI7NSztc9/nP8zLb4Aavwf6/vDQezXs0ce2Lu5jDYvz/bWSKzTsUZmtiyvTsLgVngPYo75Fe6x9BXuGjtX5Pf8hrl8G/P3puEh4iNcANDwX8GDc3uXFD6qvz+/nBtaqb9Bsm9c3W319tV4D+ER5f45b/d7dvseVF/iJz/MflPb9B0T9V1za51PCd6n/hhxv9wrHq6/wLo8BJJV35wvLn6gW+0J5iUmPAahfPLnQ9iUuVL/Y1WMA+5R3x/q3bo9RXuI+f+efpXzp5Hb7F7ld+XJXf28Qulr5p2Ou/YtUv2H8am8BqN8T5sBzVEZyh1hwx8kOubBK5ZtEZnsLYInq1rzkwipfUl3lEm8BvK66NTNcWOUM1VW+7i0A5dPl17iwymu4JOAiZareFHbEjXUeUb1BLNNTACNUfzQ2uLFO5WfJj/AUwATVjXnIjXU+pLrOCZ4CUN6YG9xY5w0Rgd7tlN+2dLkb67xcdZ2+vkryZcV9OerKQo8qLvRlTwGongze6spCVV+I6esJ4S2K++LMQ7RUH4O2xVMAHynuS40rC61RXOhHngLYq7gvCVcWmlBc6F5PARxW3Jdxrix0nOJCD3sK4JTivgx2ZaGDFRd6ylMAqo/Ujbuy0LjiQjv8nH8fxW1pd2ep7YpL7eMlgBzFXTnhzlJPKC41x0sABYq7csCdpR5QXGqBlwBUr5jf5c5Sd/l+90OPKlbclZQ7S00pLrXYSwAlirvyljtLfUtxqSVeApisuCsb3VnqRsWlTvYSwBTFXVnvzlJVzwb5eYf4L6IDQPVtkuMB4DYA1fsDRwDAbQDTFJfaFwBuA1D8h+eoAIDbAHqrvTtgDQAcByDqlVZaBgDXASh9CWjvDwDXAQxUeTtqvQCA6wBElcLlIGMA4D6Afj2/APJ5AQD3AYjyni7zzFAA+AAgo6cnhMoFAHwAILL/0qNVPiUA4AcAMbwn94huzACALwDE2O4LaMgWAPAGgBje3b8Cv88SAPAIgMju1jfB87OEAIBXAERGedePB7xTJADgGwAh+lV17ajwnjuFAICHAIQYOK3+UmeHDzwzIUsAwFMAf693ybS5i9asv1DPP1E55SciEkUYAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgC0EAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAiG55iarausamNklKtTU11tVWJfKcGn6sqDqVZnY6S6eqi2KOjD832czAgqg5mevA+LNrTjOqoDpdk235+OMVLYwpyFoq4jbPv3AvIwq6vYX2zr+U3/5h/B0otXX+czqZThh1zrFy/L1WMZqwWtXLwvk3MJfwarBPAD//4f4OsO7vPzMJN8u+B5Ty/S/sb4JW/S9QyP9/4f83aNHxgDjHf0wcEbLnmGAF0zBRhTXnfzj+b6QWW84M1TALM9VYcv6fb4CmvgfacX1AkkmYKmnF9V9c/2OsZhuuEitiDuYqsgBANWMwV7UFAFKMwVwpC67/5/pvg6XN3y+QYAomSxgHUMUQTFZlHEAtQzBZrXEAdQzBZHXGATQyBJM1GgfQxBBM1mQcAPd/G63NOABmYDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAEACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMAAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANBVGzMwWZtxAE0MwWRNxgE0MgSTNRoHUMcQTFZnHEAtQzBZrXEAVQzBZFXGASQYgskSxgHkpZmCudJ5xgGIFGMwV8r8/EU1YzBXtQUAihiDuYosABBrZg6mao5ZAEAkGYSpkjbMX+SeZhJmOp1rBQBRwyjMVGPH/EV2C7MwUUu2JQBEBcMwUYUt8xfxvUwj/PbGrQEgCvkeGP43wEJhUaWdTCTcOkuFVc1hJOE2R1jWKmYSZqtsm7/o1cBUwquhl7BPAL8Dwvv5t3D+334P4JtgON//5ghLK+W/wTD+/ysV1lbIEaHgj/8UCouLV3BeINBaKuLC7rJr+DsQ3G//mmxhf7lJrhEKpOZkrnCjWFF1iqvFtZZOVRfFhEvlJapq6xqbuHtcsbamxrraqkRg1///DRAGJ0Rd1fTrAAAAAElFTkSuQmCC",alt:g?"locked":"unlocked"})}),(0,Ye.jsx)("div",{className:"waitroom-banner-title",children:f}),(0,Ye.jsxs)("div",{className:"waitroom-banner-preset",children:["\u23f1 ",u.roundTime," / \ud83d\udcaa ",u.roundCount," / \ud83d\udca4 ",u.restTime," "]})]})]}),(0,Ye.jsx)("div",{className:"waitroom-content-wrapper",children:(0,Ye.jsx)(FM,{from:"down",children:(0,Ye.jsxs)("div",{className:"waitroom-content",children:[(0,Ye.jsxs)("div",{className:"waitroom-content-left-wrapper",children:[(0,Ye.jsx)("div",{className:"waitroom-left-user-wrapper",children:x.map(((e,t)=>(0,Ye.jsxs)("div",{className:"waitroom-left-user-card",children:[(0,Ye.jsx)("div",{className:"waitroom-card-number "+(e.readyState?"waitroom-ready-number":""),children:t+1}),(0,Ye.jsxs)("div",{className:"waitroom-card-info-wrapper",children:[(0,Ye.jsx)("div",{className:"waitroom-card-info-nickname",children:e.nickname}),(0,Ye.jsx)("div",{className:"waitroom-card-info-content",children:(0,Ye.jsxs)("div",{className:"waitroom-card-icon-wrapper",children:[(0,Ye.jsxs)("div",{className:"waitroom-card-icon",children:[(0,Ye.jsx)("p",{children:"\ucd5c\uace0 \uc810\uc218"}),(0,Ye.jsx)("img",{alt:"\uc810\uc218 \uc544\uc774\ucf58"}),(0,Ye.jsx)("p",{children:e.highestScore})]}),(0,Ye.jsxs)("div",{className:"waitroom-card-icon",children:[(0,Ye.jsx)("p",{children:"\ub808\ubca8"}),(0,Ye.jsx)("img",{alt:"\ub808\ubca8 \uc544\uc774\ucf58"}),(0,Ye.jsx)("p",{children:e.level})]}),(0,Ye.jsx)("div",{className:"waitroom-ready-indicator "+(e.readyState?"ready-indicator":""),children:e.readyState?"\uc900\ube44 \uc644\ub8cc  \u25cf":"\uc900\ube44 \ub300\uae30 \u25cf"})]})})]})]},t)))}),(0,Ye.jsx)("div",{children:(0,Ye.jsx)("div",{children:(0,Ye.jsx)(Yz,{me:v,roomName:l,chatMessages:T,sendTest3:e=>{if(S){const t=JSON.stringify({...N,type:"3",body:e});S.send(R,t)}}})})})]})," ",(0,Ye.jsx)("div",{className:"waitroom-content-right-wrapper",children:(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("div",{children:(0,Ye.jsx)("div",{children:(0,Ye.jsx)(Cz,{roomSet:u,roomSetSetter:(e,t,n)=>{c(new vU(e,t,n))},isCaptain:v.isCaptain,rounds:u.roundCount,exerciseSetSetter:e=>{console.log(e),p((t=>(console.log(t),h.current=e,e)))}})})}),(0,Ye.jsxs)("div",{className:"waitroom-button-group",children:[v.isCaptain?(0,Ye.jsx)("div",{className:"raidWaitRoom-startButton",onClick:()=>{(()=>{if(D())return 1==x.length||x.every((e=>e.readyState));return console.log("\ubaa8\ub4e0 \uc6b4\ub3d9 \uc885\ubaa9\uc5d0 \ub300\ud55c \uc120\ud0dd\uc744 \uc644\ub8cc\ud574 \uc8fc\uc138\uc694."),!1})()?(console.log("============ PRINTING SETTINGS ============="),console.log(u),console.log(v),console.log(d),_h.post(bU+"/api/raidu/rooms/sessions",{roomName:l},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}).then((e=>{(e=>{if(S){const t=JSON.stringify({...N,type:"4",startType:!0,sessionId:e});S.send(R,t)}})(e.data.data.sessionId)}))):console.log("\uc544\uc9c1 \uc900\ube44\ub418\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790\uac00 \uc788\uc5b4\uc694.")},children:(0,Ye.jsx)("span",{className:"raidWaitRoom-buttonText",children:"\uc2dc\uc791\ud558\uae30"})}):v.readyState?(0,Ye.jsx)("div",{className:"raidWaitRoom-startButton",onClick:()=>P(!1),children:(0,Ye.jsx)("span",{className:"raidWaitRoom-buttonText",children:"\uc900\ube44 \ucde8\uc18c"})}):(0,Ye.jsx)("div",{className:"raidWaitRoom-startButton",onClick:()=>P(!0),children:(0,Ye.jsx)("span",{className:"raidWaitRoom-buttonText",children:"\uc900\ube44\ud558\uae30"})}),(0,Ye.jsx)("div",{className:"raidWaitRoom-shareButton",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e).then((()=>{alert("\uc6b4\ub3d9\ubc29 \uc8fc\uc18c\uac00 \ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")}),(e=>{console.error("\ub9c1\ud06c \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ",e)}))},children:(0,Ye.jsx)("span",{className:"raidWaitRoom-buttonText",children:"\ub9c1\ud06c \uacf5\uc720"})}),(0,Ye.jsx)("div",{className:"waitroom-button-leave",onClick:async()=>{await _h.delete(bU+"/api/raidu/rooms/"+l+"/"+v.email,{headers:{Authorization:`Bearer ${t}`}}).then((()=>{_(!1)})).then((()=>{s("/raid")}))},children:(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAHH1JREFUeJzt3XvwfHdd3/HnLwkJJNyC3IJAFQkkQS4alBGxUytYb1AoE0QtiNXKaFtpOy2gTgs6iqjTCk4dQUYcqCkYFJ0GHRFtdbhINdxEhCCCIIRwvwQC5No/TlZ+RJJ89/vd3c/unsdj5jPJZCbnvHc/v9++X99z3t+zBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG3VswPnOqR5Q3aU6YcPnB1j4VPWx6uLqzdUVY8uBzdpUALhb9W+qxzU1foBtcnn1x9X51W8mDDAD6w4Ap1U/2dT8T1nzuQBW4b3VT1XPq64ZXAuszToDwNnVhdVXrPEcAOvymuq86pLRhcA6rCsAfH31O9Xt13R8gE24pHpU9WejC4FVW0cA+Nam5n/yGo4NsGmfqR7adEUA9saqA8C9q9dWt13xcQFG+kD1tdV7RhcCq7LKAHCbpstk91rhMQG2xRuqB1VXji4EVuHEFR7rp6uHr/B4ANvkjKYrAX8+uhBYhVVdAfjy6q35VT9gv32oumf1ydGFwFGt6grAL1VftaJjAWyr06qPV68eXQgc1SquANyx+rtM/QPz8JbqK0cXAUe1imfxPzLNH5iP+1RfNroIOKpVBIBvWsExAHbJg0cXAEe1igBwvxUcA2CXnDW6ADiqVQSAu67gGAC75E6jC4CjWkUAOHUFxwDYJbccXQAc1SoCwCqOAbBLfO6x8/whBoAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIZOGl0Aa/O26veqK0cXAmtwdvWI0UXALhMA9tdZ1R2r36x+qfqLseXASj02AQCOxC2A/Xa76gerN1UXXffvtxpaEQBbQQCYj3Or51YfrC6oHlodG1oRAMMIAPNz8+q86hVNcwJPr+4+siAANk8AmLd7VU+r3tkUCM6rbja0IgA2QgCg6sSmWwIXVO+pnl3dd2hFAKzVPgSAz44uYM/cufqRpt8aeGX1fdVpQysCYOX2IQDcuXpi9frRheyhh1TPrz6UwUEArufawet496me2dSwRte1r+tt1VOqOwXjPLaxfw9etP6XCNtvdEP6Yk5pGmi7sLpqC2rcx3VVBgcZRwCALTC6Ed2Uuzb9xPrOLah1X9clTYODX3mA/YBVEABgC4xuPgd1QtM97BdWn96Cuvd1LZ44eMuDbQscigAAW2B0wzmM2zY1qddtQf37uj7RFLYMDrIOAgBsgdGN5qgWg4Mf3oLXsq/rrU23Ye54wD2BmyIAwBYY3VxWZTE4+Irqmi14Xfu4jh8c9E2UHIUAAEe0D88BWJXPVS+pHtb0bPynVn87sqA9dP0nDj6zuufQigA4tNE/Va7T8YODl2/Ba93XtRgc9MRBDsoVANgCo5vHpiwGB1+/ptdhfeHgINwYAQC2wOimMcK5Tb/3bnBwfeuvMjjIDRMAYAuMbhQj3TyDg+ten2t6oqPBQY4nAMAWGN0gtsXdmn5ifVfj35N9Xe9rGhz8igPuCftLAIAtMLopbJvF4OAFTT+9jn5/9nUZHJw3AQC2wOhGsM1Ob2pSb2j8+7Sv6+PVc5u+upj5EABgC4xuALtiMTj4kca/Z/u6FoODdzjgnrC7BADYAqM/9HeNwcH1L4OD+08AgC0w+sN+l51ZPb3piYOj38d9Xe/N4OA+EgBgC4z+gN8HBgfXv66uXtU0k3HqwbaFLSYAwBYY/cG+bxaDg29s/Hu7r8vg4O4TAGALjP4w32cGB9e/3pLBwV0kAMAWGP0BPgcGB9e/Ptt0C+bhTd9ayHYTAGALjP7gnpt7NQ0Ovrvx7/2+rsXg4D0OtiUMIADAFhj9YT1XJzX9tPo71RWN34d9XFdXf1B9e3XsYNvChggAcEQnjC6AQ7uq6XfdH9n0PQRPrt42tKL9c0L1sOplTU9z/Oax5QCsjgCwHz5Q/Xx1dvX11fOrTw2taP/cv/r96jn5/gFgDwgA++c11fdXd6weU/1h875VskrHqidWf1zdfmwpAEcjAOyvz1QvabqEfU7TFYJLh1a0Px7YFAJOH1wHwKEJAPPwtqYZgbs2BYKXVFcOrWj33af6jfzKILCjBIB5ubrplsBjqn/U9ACci4dWtNseVj11dBEAhyEAzNf7q5+rzmq6pP0rGRw8jB9vClMAO0UAoOp1TcNtd6l+oGmQkIO5RfW00UUALEsA4HiXVb/a9KuEZ1U/2/Qrhty4x1a3G10EwDIEAG7IxU33t+9WParpYThXDa1oe92iKQQA7AwBgJtyZdPjhh9e3b3699VfDq1oO33T6AIAliEAsIz3N3098f2qf1y9oPr00Iq2x4NHFwCwDAGAw7i2emX1hKbBwe/NEwfvXN1qdBEAByUAcFSfrF7Y5584+LPVB4dWNI7HAwM7QwBgld7W5wcHH139btPDh+bitqMLADgoAYB1uKJ6afUdTWHgqdU7hla0Gf4+ATvDBxbr9v6m2wJn9vknDhocBBhMAGCTjn/i4GJwEIABBABGMDgIMJgAwGhv7fODg49o+qpiTxwEWDMBgG1xRXVhn/+q4rkMDgIMIQCwjS7J4CDAWgkAbLvjBwefWL16bDkA+0EAYFd8sulKwEP6/ODgh4ZWBLDDBAB20WJw8K4ZHAQ4FAGAXXb84OA9qneOLQdgdwgA7Iu/qz42ugiAXSEAAMAMCQAAMEMCAADMkAAAADMkAADADAkAADBDAgAAzJAAAAAzJAAAwAwJAAAwQwIAAMyQAAAAMyQAAMAMCQAAMEMCAADMkAAAADMkAADADAkAADBDAgAAzJAAAAAzJAAAwAwJAAAwQwIAAMzQSaMLAGBvnVh9TfWQ6u7VGdUdqsuqS6v3VRdVf3Ldf2ODBAAAVu1Lqx+pHtfU9G/KZ6sLq2dVr1ljXRzHLQAAVuXU6hnV31RP7mDNv+rm1XnVq6vfq85cS3V8AQEAgFW4b9Pl/B+tTjnCcb61ekP1hBXUxI0QAAA4qm+sXlWdvaLjnVb9WvXT1bEVHZPrEQAAOIoHNd2/v/Uajv1j1S8nBKyFAADAYX1p9bKmn9jX5YnVLyQErJwAAMBhHKteUN1+A+d6UkLAygkAABzGd1bftMHzCQErJgAAsKxj1X8ZcN4nZSZgZQQAAJb10OqcQec2E7AiAgAAy/quwed3O2AFBAAAlvXQ0QXkdsCRCQAALOP21d1GF3EdtwOOQAAAYBl3GV3A9bgScEgCAADLuPPoAr6IJyYELE0AAGAZtxhdwA1wO2BJAgAAy7h0dAE3wu2AJQgAACxjmwNAuR1wYAIAAMu4pPrM6CJugtsBByAAALCMK6vXji7iADws6CYIAMAuumbm5x/tt0cXcEBmAm6EAADsossHn/9Tg88/2osavwcH5XbADRAAgF00ehDtA4PPP9qHq+ePLmIJbgd8EQIAsIve3tjL8G8beO5t8bTqI6OLWILbAdcjAAC76JPVmwee/9UDz70tPlr98OgiluRXBI8jAAC76vcGnfcvq3cPOve2uaD6H6OLWJKZgBW6dvCChYsa+2fx3PW/RI5zdtNtgE3v85M38eJ2yAnVixvfC5Zdz0oIOLLRmwgLAsD8/G6b3eNPVKdv5JXtlhOr8xvfD5Zdz0kIOJLRGwgLAsD8PKC6qs3t8VM387J2khAwQ6M3DxYEgHn6mTazv6+vTt7Qa9pVQsDMjN44WBAA5umE6sLWu7eXVnff1AvacULAjIzeNFgQAObrNk3T+evY18urB2/upeyFE6tfb3x/EALWbPSGwYIAMG+3bvVXAt5Xfe0mX8QeEQJmYPRmwYIAwEnVf6+u7uj7+arqjM2Wv3eEgD03eqNgQQBg4b5NDwo6zD6+p/rXeVDaqggBe2z0JsGCAMD1fV31K9Ul3fjefarp9sF3Z9J/HYSALXTS6AIA1uhPr1tVZ1bnNF3Wv03TcN9HqoubvlfgihEFzsTV1fde9+/fM7KQJT3xun/+UH7g/KJGJzRYcAUAtpsrAVvEPS4ANmVxJeD80YUsaS+/RVAAAGCThIAtIQAAsGlCwBYQAAAYQQgYTAAAYBQhYCABAICRhIBBBAAARhMCBhAAANgGQsCGCQAAbAshYIMEAAC2iRCwIQIAANtGCNgAAQCAbSQErJkAAMC2WoSAXx9dyJJ2IgQIAABss6urJyQErJwAAMC2EwLWQAAAYBcIASsmAACwK4SAFRIAANglQsCKCAAA7BohYAUEAAB2kRBwRAIAALtKCDgCAQCAXSYEHJIAAMCuEwIOQQAAYB8IAUsSAADYF0LAEgQAAPaJEHBAAgAA+0YIOICTNnESYONOqM6qzq6+pDp9bDkwxFurj7Vbf/6fWH22+g/Vtes8kQAA++NY9c+qx1/3z9uNLQc4pCdd98+1hgABAPbDI6pnVPcZXQiwEmsPAQIA7LbTq+dVjx5dCLByaw0BAgDsrjOr36/uMboQYG3WFgIEANhNZ1avrO40uhBg7Z5UXVE9eZUH9WuAsHtuV708zR/m5D9X/3aVBxQAYPf8avXlo4sANu6/VV+9qoMJALBb/kX1yNFFAEOcXD23FfVuAQB2xwnVT44uAhjqgdV5qziQAAC749vze/5A/adVHEQAgN3x+NEFAFvhgdU5Rz2IAAC74aTqm0cXAWyNbz/qAQQA2A33rW49ughgazzkqAcQAGA3nDW6AGCr3PuoBxAAYDfceXQBwFY546gHEABgN9x8dAHAVjntqAcQAGA3fG50AcBWufyoBxAAYDd8cHQBwFY58meCAAC74eLRBQBb5e1HPYAAALvhTdWnRxcBbI1XH/UAAgDshiuqPxpdBLA1fv+oBxAAYHf8z9EFAFvhrdXrjnoQAQB2x29X7xhdBDDcL6ziIAIA7I6rq58YXQQw1MXVC1ZxIAEAdsv51R+MLgIY4prqh5tmgo5MAIDdcm31XbkVAHP0jOr/rOpgAgDsno9Wj6g+ProQYGNeVD1tlQcUAGA3vbV6UB4QBHPw0up7m24BrIwAALvr7dWDq1eMLgRYm5dWj62uXPWBBQDYbR+tvrl6WPXmwbUAq7W25l8CAOyLP6y+uvqX1cvz7YGw69ba/KtOWteBgY27qunXBM+vTq0eWJ1V3bG65cC6YJRj1fdXXzK6kCWtvfmvyrWDFyxc1Ng/i+eu/yUCB3Ss+sXG96hl129VN1vD+/EPuAUAwL45Vj27+nejC1nSRn/yFwAA2Cea/wEJAADsC81/CQIAAPtA81+SAADArtP8D0EAAGCXaf6HJAAAsKs0/yMQAADYRZr/EQkAAOwazX8FBAAAdonmvyICAAC7QvNfIQEAgF2g+a+YAADAttP810AAAGCbaf5rIgAAsK00/zUSAADYRpr/mgkAAGwbzX8DBAAAtonmvyECAADbQvPfIAEAgG2g+W+YAADAaJr/AAIAACNp/oMIAACMovkPJAAAMILmP5gAAMCmaf5bQAAAYJM0/y0hAACwKZr/FjlpdAEAG3LL6l7VGdWpTR/mH67eXn1wYF1zofnvoWsHL1i4qLF/Fs9d/0tkSV9ePa368+qqbnjv3lk9p/qGMWXuvWPVLza+Xyy7fqu62Rrej70xeoNgQQBg4czqxd1407+h9brq2zZf8t7S/PfY6E2CBQGAE6qnVp/p6Pt5QXWrzZa/dzT/PTd6o2BBAJi306qXtdo9fXN1j02+iD2i+c/A6M2CBQFgvk6tXtV69vVD1Tmbeyl7QfOfidEbBgsCwDydUF3Yevf2HdXtNvWCdpzmPyOjNw0WBIB5ekqb2d8/yrNTbormPzOjNw4WBID5uWerGfg76PqezbysnaT5z9DozYMFAWB+Xtxm9/hd1SkbeWW7RfOfqdEbCAsCwLx8WYf7Pf+jrh/awGvbNZr/DnI/C9hVj6tOHHDe7xtwzm32X/N439kaneJgwRWAefmzxuzzNdWdN/D6dsG3NL0fo/vAMmv2P/kvuAIA7KJTq68edO5j+c6Amp6S+Pym92NX+Mn/OAIAsIvu1ZjL/wtnDTz3tvjRpm9W3BWa//UIAMAuusvMzz/arasfHl3EEjT/L0IAAHbRaYPPf+vB5x/tMdVtRhdxQJr/DRAAgF008vJ/+ex89OgCDkjzvxFz/0MMwHJOqr5+dBEHoPnfBAEAgGWc0fQbANtM8z8AAQCAZWz75L/mf0ACAADLuNPoAm6E5r8EAQCAZWxrc9X8lyQAALCM948u4IvQ/A9BAABgGZeOLuB6NP9DEgAAWMYHqw+MLuI6mv8RCAAALOPa6v+OLiLN/8gEAACWdcHg82v+KyAAALCsC6t3Dzq35r8iAgAAy7qqeuaA82r+KyQAAHAYz6tev8Hzaf4rJgAAcBhXNzXkyzZwLs1/DQQAAA7rr6vvabolsC6a/5oIAAAcxYXVE1pPgz4/zX9tBAAAjur86lubHhK0CldXP1E9Ls1/bQQAAFbhj6r7Vy9qeljQYb25+sbq6Uc8DjdBAABgVS6tvrv62uol1eeW+H//vGme4KuqV66+NK7vpNEFALB3LqoeU922+pbqG6qzq7tVp1WfqT5Svb16bfXypoFCNkgAAGBdPl69+LrFlnELAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGZIAACAGRIAAGCGBAAAmCEBAABmSAAAgBkSAABghgQAAJghAQAAZkgAAIAZEgAAYIYEAACYIQEAAGbopNEFwB55VHXu6CJm4mtGFwC7TgCA1fnx0QUAHJRbAAAwQwIAAMyQAAAAM7QPAeB+owsAgF2zDwHgTdVbqqdUXzK4FgDYCfsQAKrOqZ5Zva+6oHpodWxoRQCwxfYlACycUp1XvaJ6T1Mo+LKRBQHANtq3AHC8uzbdFvibpkDw+OoWQysCgC2xzwFg4YSmWwIvqC6pnlt91dCKAGCwOQSA4922+sHq9dVF1ZMyOAjADM0tABzv3OpZ1XszOAjAzMw5ACzcvM8PDr47g4MAzIAA8IXu1hcODp5XnTy0IgBYAwHgi1sMDl5QXdo0OPiAoRUBwAqtIgBcu4JjbLPTmwYH31C99rp/v/XQioDR9v1zjxlYRQD4+AqOsSse1HQ14AMZHIQ5+/ToAuCoVhEAPrKCY+ya4wcHL65+tLrL0IqATfrQ6ALgqFYRAP56BcfYZWdWz2h69PCF1aOqmw2tCFi3t48uAI5qFQHg1Ss4xj44sfqO6qVNtwieW91/aEXAurxmdAFwVKsIAH+4gmPsm8Xg4BubPih+oLrV0IqAVXlXrgCwB1YRAP5f9ZYVHGdffV31vOr91a9VD8ngIOyy80cXAKuwqucAPGdFx9lnp1VPqF5Zva3pgUNnjCwIWNpnq18eXQRsk5ObpuGvtZZaV1b/u/rnGRxchYsav6fWfq+fD/gHvqW6pvF/QXd1XVr9XHXWsm88f08AsNa53pVZHrhBz2j8X9J9WBc1DRH6sFmOAGCta11W3S/gBp3Q9Gtwo/+y7su6rPrV6uuX2YQZEwCsdayrq0cG3KQTm5rW6L+0+7Yurp5e3f3AOzE/AoC16nVZ08O9gAM6Vv3H6vLG/wXet3Vl9TvVI6qTDrohMyEAWKtc76i+MuBQzqpeluHAda1LqmdW9z7ohuw5AcBaxfpU9dNNv7oLHNH9qxfkisA61yur72veH1oCgHWU9ZfVj1V3CGZg00+ku031XdW/qr5mw+eei8uq36ieX/3p4Fo27aLq3IHnf2n14YHnZzmfqj7aNF/z2uq9Y8uB+Ti76fL1Bxqf/Pd1LZ44eKcD7smuG30FYGT4ANg5J1cPry5oGnAb3TT3cV1VvaI6r/1+4qAAALCj7tL0E+s7Gt8093VdUj27/ZxuFgAA9sC51XOb7tONbpr7uhZPHLzlAfdk2wkAAHvkNk1N6lWNb5j7uj5RvbB6aLv9VcUCAMCeOqdpcPCDjW+a+7re2nQb5o4H3JNtIgAA7LlTMji47nX84OCuPHFQAACYkS9t+on1bxrfNPd1LZ44eM8D7skoAgDADJ1QPaRpcPDTjW+a+7oWg4Pb+MRBAQBg5gwOrn8dPzi4LQQAAP7efZouX3+o8U1zX9dftR2DgwIAAP/AKU0DbRc2DbiNbpr7uD533fs7anBQAADgRhkcXP96X5sfHBQAADgQg4ObWZsaHBQAAFjabZua1Osa3zD3dX2iKWw95IB7siwBAIAjMTi4/rUYHLzDAffkIAQAAFbC4OD61yoHBwUAAFburk0/sb6z8U1zX9dicPArDrgn1ycAALA2JzQ9/OaF1eWNb5r7uK5ueojTsoODAgAAG7EYHHx945vmvq6Pd/DBQQEAgI1bDA5+uPFNc1/XW7rxwUEBAIBhbt400PaK6prGN819XJ9t+iroh/eFg4MCAABb4W5NP7G+q/FNc1/Xe5uuvNwjAQCALXNi9W3Vbzb92tvoprmP6+oteG8FAABu0OlNg4NvaHzTtAQAAAY4t3p29ZHGNy9LAABgwwwO7scSAAA4tMXg4N82vqFZAgAAG7Z44uAFjR9uswQAAAZYDA6+sfFNzhIAABjA4OD2LgEAgLUzOLh9SwAAYKPuVT29enfjm+CclwAAwBDHDw5e0fiGOLclAAAw3O2aBgff1PjGOJclAACwVc6tnlt9svFNcp+XAADAVrpFBgcFAABm7d5NX6P7/sY3zn1ZAgAAO+PEDA4KAADM2p2rJ1V/0fhmuotLAABg5y0GBy9rfGPdlSUAALA3blU9PoODAgAAs7UYHLy08c12G5cAAMBeMzgoAAAwc2dUT6ne3vgGPHoJAADM0twHBwUAAGbt1k3fQ/DaxjflTa4HrOLNA4B9cFbT4OAHGt+g173usaL3DAD2xsnVo6vfra5qfLNex7rtyt4tANhDd2kaHPzrxjftVa13r/QdAoA9dqz6J9ULq8sb38SPsl6y2rcGAOZhMTj4qsY388Osx67+LQGAeblv9azqQ41v7AdZH61uuZZ3AgBm6OTq4U1PHLyy8Y3+htZPrusNAIC5WwwOvqPxDf/4dUmm/wFg7Y5V/7T69eozjW3+11SPWO/LBQCu7zaNHRz8qfW/RADgxty/enb1kTbT/H+lOmEjrwwAuEmnVN9Zvby6uvVc9v+ZplsRAMAWunv1tOpdrab5X1o9cqOvAAA4tBOqh1b/q8MNDl5W/XzTzAEAsINOr36oekV1RTfc9K+s/qT6kev+H4C94j4mc3ZqdU51r6Yn+Z1Yfazpi33e2HS1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADi6/w8btK41SGrtvQAAAABJRU5ErkJggg==",alt:"way out",className:"raidWaitRoom-out"})})]})]})})]})})})]})})},wU=Ph+"/api/raidu/rooms/sessions",AU=e=>{let{setWaitingRoomId:t}=e;const[n,r]=(0,O.useState)(""),[o,i]=(0,O.useState)(""),a=localStorage.getItem("accessToken");console.log(wU);return(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h1",{children:"\ub300\uae30\ubc29 \uc0dd\uc131\ud558\uae30"}),(0,Ye.jsx)("input",{type:"text",placeholder:"\ub300\uae30\ubc29 \uc774\ub984",value:o,onChange:e=>i(e.target.value)}),(0,Ye.jsx)("button",{onClick:async()=>{try{const e=(await _h.post(wU,{TrainingRoomName:o},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}})).data.data.sessionId;r(e),t(e),console.log("New session ID:",e)}catch(e){throw console.error("\ub300\uae30\ubc29 \ub9cc\ub4e4\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e),e}},children:"\ub300\uae30\ubc29 \uc0dd\uc131"}),n&&(0,Ye.jsxs)("p",{children:["\ub300\uae30\ubc29 ID: ",n]})]})};var SU=n(58671);class CU extends O.Component{constructor(e){super(e),this.videoRef=O.createRef()}componentDidUpdate(e){e&&this.videoRef&&this.props.streamManager.addVideoElement(this.videoRef.current)}componentDidMount(){this.props&&this.videoRef&&this.props.streamManager.addVideoElement(this.videoRef.current)}render(){return(0,Ye.jsx)("video",{autoPlay:!0,ref:this.videoRef})}}const kU=e=>{let{streamManager:t,num:n}=e;return(0,Ye.jsx)("div",{children:void 0!==t?(0,Ye.jsxs)("div",{className:"streamcomponent-user",children:[(0,Ye.jsx)(CU,{streamManager:t}),(0,Ye.jsx)("div",{className:"user-name",children:(0,Ye.jsx)("p",{children:JSON.parse(t.stream.connection.data).clientData})})]}):null})};var EU=n(63879);class TU{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class IU{refCount(e){return OU("refCount")}incRef(e){return OU("incRef")}timerAvailable(){return!0}time(e){return OU("time")}read(e){return OU("read")}readSync(e){return OU("readSync")}readToGPU(e,t){return OU("readToGPU")}numDataIds(){return OU("numDataIds")}disposeData(e,t){return OU("disposeData")}write(e,t,n){return OU("write")}move(e,t,n,r,o){return OU("move")}createTensorFromGPUData(e,t,n){return OU("createTensorFromGPUData")}memory(){return OU("memory")}floatPrecision(){return OU("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return OU("dispose")}}function OU(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function RU(e,t,n){return Math.max(e,Math.min(t,n))}function NU(e){return e%2===0?e:e+1}function _U(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PU(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function MU(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function DU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";MU(FU(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function LU(e){MU(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function $U(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function jU(e){return 0===e.length}function FU(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function BU(e){return e%1===0}function VU(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function zU(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function UU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((o,i)=>{let a=0;const s=()=>{if(e())return void o();a++;const l=t(a);null!=n&&a>=n?i():null!=r?r(s,l):setTimeout(s,l)};s()}))}function WU(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const o=e.slice();return o[r]=t/n,o}function qU(e,t){const n=t.length;return MU((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),MU(e.every((e=>BU(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function HU(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:qU(t,e).sort();let a=0;for(let s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function GU(e,t){return XU(e,t)}function XU(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function KU(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function YU(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function QU(e){return"string"===typeof e||e instanceof String}function JU(e){return Array.isArray(e)?JU(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":function(e){return"number"===typeof e}(e)?"float32":QU(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function ZU(e){return!!(e&&e.constructor&&e.call&&e.apply)}function eW(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function tW(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function nW(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)o[t]=n[e+t]}else{const i=t[0],a=t.slice(1),s=a.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<i;t++)o[t]=nW(e+t*s,a,n,r)}return o}function rW(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return nW(0,e,t,n)}function oW(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function iW(e,t){const n=aW(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function aW(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function sW(e){e.forEach((t=>{MU(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function lW(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function uW(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}function cW(e){return e&&e.then&&"function"===typeof e.then}const dW="tfjsflags";class pW{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=hW,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(fW().getBool("IS_TEST")||fW().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];fW().getBool("IS_TEST")||fW().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(cW(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(dW in e){e[dW].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function hW(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function fW(){return gW}let mW,gW=null;function yW(){if(null==mW){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}mW=e}return mW}function vW(e,t){const n=function(){const e=yW();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const bW="Abs",xW="Acos",wW="Acosh",AW="Add",SW="AddN",CW="All",kW="Any",EW="ArgMax",TW="ArgMin",IW="Asin",OW="Asinh",RW="Atan",NW="Atanh",_W="Atan2",PW="AvgPool",MW="AvgPoolGrad",DW="AvgPool3D",LW="AvgPool3DGrad",$W="BatchMatMul",jW="BatchToSpaceND",FW="Bincount",BW="BitwiseAnd",VW="BroadcastArgs",zW="Cast",UW="Ceil",WW="ClipByValue",qW="Complex",HW="ComplexAbs",GW="Concat",XW="Conv2D",KW="Conv2DBackpropFilter",YW="Conv2DBackpropInput",QW="Conv3D",JW="Conv3DBackpropFilterV2",ZW="Conv3DBackpropInputV2",eq="Cos",tq="Cosh",nq="Cumprod",rq="Cumsum",oq="CropAndResize",iq="DenseBincount",aq="DepthToSpace",sq="DepthwiseConv2dNative",lq="DepthwiseConv2dNativeBackpropFilter",uq="DepthwiseConv2dNativeBackpropInput",cq="Diag",dq="Dilation2D",pq="Draw",hq="RealDiv",fq="Einsum",mq="Elu",gq="EluGrad",yq="Erf",vq="Equal",bq="Exp",xq="ExpandDims",wq="Expm1",Aq="FFT",Sq="Fill",Cq="FlipLeftRight",kq="Floor",Eq="FloorDiv",Tq="FusedBatchNorm",Iq="GatherV2",Oq="GatherNd",Rq="Greater",Nq="GreaterEqual",_q="Identity",Pq="IFFT",Mq="Imag",Dq="IsFinite",Lq="IsInf",$q="IsNan",jq="LeakyRelu",Fq="Less",Bq="LessEqual",Vq="LinSpace",zq="Log",Uq="Log1p",Wq="LogicalAnd",qq="LogicalNot",Hq="LogicalOr",Gq="LRN",Xq="LRNGrad",Kq="Max",Yq="Maximum",Qq="MaxPool",Jq="MaxPoolGrad",Zq="MaxPool3D",eH="MaxPool3DGrad",tH="MaxPoolWithArgmax",nH="Mean",rH="Min",oH="Minimum",iH="MirrorPad",aH="Mod",sH="Multinomial",lH="Multiply",uH="Neg",cH="NotEqual",dH="NonMaxSuppressionV3",pH="NonMaxSuppressionV4",hH="NonMaxSuppressionV5",fH="OnesLike",mH="OneHot",gH="Pack",yH="PadV2",vH="Pow",bH="Prelu",xH="Prod",wH="RaggedGather",AH="RaggedRange",SH="RaggedTensorToTensor",CH="Range",kH="Real",EH="Reciprocal",TH="Relu",IH="Reshape",OH="ResizeNearestNeighbor",RH="ResizeNearestNeighborGrad",NH="ResizeBilinear",_H="ResizeBilinearGrad",PH="Relu6",MH="Reverse",DH="Round",LH="Rsqrt",$H="ScatterNd",jH="TensorScatterUpdate",FH="SearchSorted",BH="Select",VH="Selu",zH="Slice",UH="Sin",WH="Sinh",qH="Sign",HH="Sigmoid",GH="Softplus",XH="Sqrt",KH="Sum",YH="SpaceToBatchND",QH="SplitV",JH="Softmax",ZH="SparseFillEmptyRows",eG="SparseReshape",tG="SparseSegmentMean",nG="SparseSegmentSum",rG="SparseToDense",oG="SquaredDifference",iG="Square",aG="StaticRegexReplace",sG="StridedSlice",lG="StringNGrams",uG="StringSplit",cG="StringToHashBucketFast",dG="Sub",pG="Tan",hG="Tanh",fG="Tile",mG="TopK",gG="Transform",yG="Transpose",vG="Unique",bG="Unpack",xG="UnsortedSegmentSum",wG="ZerosLike",AG="Step",SG="FromPixels",CG="RotateWithOffset",kG="_FusedMatMul",EG="FusedConv2D",TG="FusedDepthwiseConv2D";function IG(){fW().getBool("IS_TEST")||fW().getBool("PROD")||console.warn(...arguments)}function OG(){fW().getBool("IS_TEST")||fW().getBool("PROD")||console.log(...arguments)}const RG=vW("kernelRegistry",(()=>new Map)),NG=vW("gradRegistry",(()=>new Map));function _G(e,t){const n=LG(e,t);return RG.get(n)}function PG(e){return NG.get(e)}function MG(e){const t=RG.entries(),n=[];for(;;){const{done:r,value:o}=t.next();if(r)break;const[i,a]=o,[s]=i.split("_");s===e&&n.push(a)}return n}function DG(e){const{kernelName:t,backendName:n}=e,r=LG(t,n);RG.has(r)&&IG(`The kernel '${t}' for backend '${n}' is already registered`),RG.set(r,e)}function LG(e,t){return`${t}_${e}`}function $G(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var jG=n(77353);const FG=n.n(jG)()||jG;function BG(e){return FG.fromString(e,!0,16)}const VG=BG("c3a5c85c97cb3127"),zG=BG("b492b66fbe98f273"),UG=BG("9ae16a3b2f90404f");function WG(e){return e.xor(e.shru(47))}function qG(e,t,n){const r=e.slice(t,t+n);return FG.fromBytes(Array.from(r),!0,!0)}function HG(e,t){return qG(e,t,8)}function GG(e,t){return qG(e,t,4)}function XG(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function KG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BG("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function YG(e,t,n,r){return function(e,t,n,r,o,i){o=o.add(e),i=XG(i.add(o).add(r),21);const a=o;return o=(o=o.add(t)).add(n),i=i.add(XG(o,44)),[o.add(r),i.add(a)]}(HG(e,t),HG(e,t+8),HG(e,t+16),HG(e,t+24),n,r)}function QG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=FG.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=UG.add(2*t),r=HG(e,0).add(UG),o=HG(e,t-8);return KG(XG(o,37).mul(n).add(r),XG(r,25).add(o).mul(n),n)}if(t>=4){const n=UG.add(2*t);return KG(GG(e,0).shl(3).add(t),GG(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return WG(UG.mul(n).xor(VG.mul(r))).mul(UG)}return UG}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=UG.add(2*t),r=HG(e,0).mul(zG),o=HG(e,8),i=HG(e,t-8).mul(n),a=HG(e,t-16).mul(UG);return KG(XG(r.add(o),43).add(XG(i,30)).add(a),r.add(XG(o.add(UG),18)).add(i),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=UG.add(2*t),r=HG(e,0).mul(UG),o=HG(e,8),i=HG(e,t-8).mul(n),a=HG(e,t-16).mul(UG),s=XG(r.add(o),43).add(XG(i,30)).add(a),l=KG(s,r.add(XG(o.add(UG),18)).add(i),n),u=HG(e,16).mul(n),c=HG(e,24),d=s.add(HG(e,t-32)).mul(n),p=l.add(HG(e,t-24)).mul(n);return KG(XG(u.add(c),43).add(XG(d,30)).add(p),u.add(XG(c.add(r),18)).add(d),n)}(e,t);let r=n,o=n.mul(zG).add(113),i=WG(o.mul(UG).add(113)).mul(UG),a=[FG.UZERO,FG.UZERO],s=[FG.UZERO,FG.UZERO];r=r.mul(UG).add(HG(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=XG(r.add(o).add(a[0]).add(HG(e,l+8)),37).mul(zG),o=XG(o.add(a[1]).add(HG(e,l+48)),42).mul(zG),r=r.xor(s[1]),o=o.add(a[0]).add(HG(e,l+40)),i=XG(i.add(s[0]),33).mul(zG),a=YG(e,l,a[1].mul(zG),r.add(s[0])),s=YG(e,l+32,i.add(s[1]),o.add(HG(e,l+16))),[i,r]=[r,i],l+=64}while(l!==u);const d=zG.add(i.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),r=XG(r.add(o).add(a[0]).add(HG(e,l+8)),37).mul(d),o=XG(o.add(a[1]).add(HG(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(a[0].mul(9).add(HG(e,l+40))),i=XG(i.add(s[0]),33).mul(d),a=YG(e,l,a[1].mul(d),r.add(s[0])),s=YG(e,l+32,i.add(s[1]),o.add(HG(e,l+16))),[i,r]=[r,i],KG(KG(a[0],s[0],d).add(WG(o).mul(VG)).add(i),KG(a[1],s[1],d).add(r),d)}function JG(e,t){return"string"===t?tX(e):ZG([e],t)}function ZG(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=oX(e)),fW().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function eX(){return fW().platform.now()}function tX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",fW().platform.encode(e,t)}function nX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",fW().platform.decode(e,t)}function rX(e){return null!=fW().platform.isTypedArray?fW().platform.isTypedArray(e):$G(e)}function oX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||cW(e)||null==e||rX(e)&&n)t.push(e);else if(Array.isArray(e)||rX(e))for(let r=0;r<e.length;++r)oX(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let o=0;o<=r;o++)oX(e[o],t,n)}return t}class iX{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new sX)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let i;const a=eX();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:eX()-a})}if(fW().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then((n=>{aX(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:i}=e;n.forEach((e=>{Promise.all([e.data(),r,i]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function aX(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class sX{logKernelProfile(e,t,n,r,o,i){const a="number"===typeof r?zU(`${r}ms`,9):r.error,s=zU(e,25),l=t.rank,u=t.size,c=zU(t.shape.toString(),14);let d="";for(const p in o){const e=o[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${p}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${a}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const lX=20,uX=3,cX=7;function dX(e,t,n,r){const o=tW(t),i=function(e,t,n,r){const o=$U(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,l="complex64"===n?mX(e):e;if(s>1)for(let u=0;u<o/i;u++){const e=u*i;for(let t=0;t<i;t++)a[t]=Math.max(a[t],pX(l[e+t],0,n).length)}return a}(e,t,n,o),a=t.length,s=fX(e,t,n,o,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function pX(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(cX))} + ${parseFloat(e[1].toFixed(cX))}j`:QU(e)?`'${e}'`:"bool"===n?hX(e):parseFloat(e.toFixed(cX)).toString(),zU(r,t)}function hX(e){return 0===e?"false":"true"}function fX(e,t,n,r,o){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[pX(mX(e)[0],0,n)]}return"bool"===n?[hX(e[0])]:[e[0].toString()]}if(1===l){if(s>lX){const t=uX*a;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((s-uX)*a,s*a));return"complex64"===n&&(r=mX(r),i=mX(i)),["["+r.map(((e,t)=>pX(e,o[t],n))).join(", ")+", ..., "+i.map(((e,t)=>pX(e,o[s-uX+t],n))).join(", ")+"]"]}return["["+("complex64"===n?mX(e):Array.from(e)).map(((e,t)=>pX(e,o[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*a,p=[];if(s>lX){for(let t=0;t<uX;t++){const r=t*d,i=r+d;p.push(...fX(e.slice(r,i),u,n,c,o,!1))}p.push("...");for(let t=s-uX;t<s;t++){const r=t*d,i=r+d;p.push(...fX(e.slice(r,i),u,n,c,o,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;p.push(...fX(e.slice(t,r),u,n,c,o,m===s-1))}const h=2===l?",":"";p[0]="["+(s>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(i?"":f),p}function mX(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class gX{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=$U(e),null!=n){const e=n.length;MU(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||XU(t,this.size),this.strides=tW(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),MU(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const o=this.locToIndex(n);this.values[o]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const i of t){if(i<0||i>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let o=t[t.length-1];for(let i=0;i<t.length-1;++i)o+=this.strides[i]*t[i];return this.values[o]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return yX().makeTensor(this.values,this.shape,this.dtype)}}let yX=null,vX=null,bX=null;class xX{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=$U(e),this.strides=tW(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return vX.buffer(this.shape,this.dtype,e)}bufferSync(){return vX.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return rW(this.shape,e,"complex64"===this.dtype)}arraySync(){return rW(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=yX().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>nX(e)))}catch(_ve){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),yX().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=yX().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>nX(e)))}catch(_ve){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await yX().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),yX().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vX.print(this,e)}clone(){return this.throwIfDisposed(),vX.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return dX(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),vX.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),yX().makeVariable(this,e,t,n)}}function wX(){return vW("Tensor",(()=>xX))}Object.defineProperty(xX,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),wX();class AX extends xX{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!FU(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);yX().disposeTensor(this),this.dataId=e.dataId,yX().incRef(this,null)}dispose(){yX().disposeVariable(this),this.isDisposedInternal=!0}}var SX,CX,kX,EX,TX;Object.defineProperty(AX,Symbol.hasInstance,{value:e=>e instanceof xX&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(SX||(SX={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(CX||(CX={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(kX||(kX={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(EX||(EX={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(TX||(TX={}));const IX={float32:EX,int32:CX,bool:kX,complex64:TX};function OX(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return IX[e][t]}function RX(e){return OX(e,"int32")}function NX(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function _X(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function PX(e,t){if(e.dtype===t.dtype)return[e,t];const n=OX(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function MX(e){const t=[];return DX(e,t,new Set),t}function DX(e,t,n){if(null==e)return;if(e instanceof xX)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const o=e;for(const i in o){const e=o[i];n.has(e)||(n.add(e),DX(e,t,n))}}function LX(e){return null!=e.kernelName}class $X{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class jX{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new $X}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(IG(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new iX(this.backendInstance),!0}setupRegisteredKernels(){MG(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){MG(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof IU||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,IG(`Initialization of backend ${e} failed`),IG(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return IG(`Initialization of backend ${e} failed`),IG(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,o,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return jX.nextTensorId++}nextVariableId(){return jX.nextVariableId++}clone(e){const t=BX.runKernel(_q,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return BX.runKernel(zW,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=_G(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let o=0;n.forEach((e=>{o+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;let a,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=LX(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(LX(e)){const{kernelName:t,inputs:o,attrs:i}=e;null==this.backendName&&this.backend;const l=_G(t,this.backendName);MU(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),a=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:o,attrs:i,backend:this.backend});const a=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const u=a.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,o,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,o=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,o)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=LX(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=a()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=PG(e);if(null!=r){const e=r.inputsToSave||[],o=r.outputsToSave||[];let i;r.saveAllInputs?(MU(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(t).map((e=>t[e]))):i=e.map((e=>t[e]));const a=n.filter(((e,t)=>o[t]));return i.concat(a)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=e;"string"===n&&QU(e[0])&&(o=e.map((e=>tX(e))));const i=r.write(o,t,n),a=new xX(t,n,i,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(o);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,r){const o={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:o}=e,i=new xX(r,o,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const o=new AX(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*YU(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof AX||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*YU(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=PG(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=aW(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],o,i))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=MX(e),n=new Set(t.map((e=>e.id)));for(let o=0;o<this.state.activeScope.track.length;o++){const e=this.state.activeScope.track[o];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(MU(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));MU(o instanceof xX,(()=>"The result y returned by f() must be a tensor."));const i=function(e,t,n){const r={},o={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],i=n.inputs;for(const e in i){const a=i[e];let s=!1;for(let e=0;e<t.length;e++)if(r[a.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,o[n.id]=!0;break}if(s)break}}const i={};i[n.id]=!0;const a={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(i[t.outputs[e].id]){for(const e in n)i[n[e].id]=!0,a[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(o[t.id]&&a[t.id]){const e={};for(const o in t.inputs){const n=t.inputs[o];r[n.id]&&(e[o]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,o);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==n?function(e){const t=iW($U(e),"float32");return BX.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(let o=t.length-1;o>=0;o--){const i=t[o],a=[];if(i.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const s=i.gradient(a);for(const t in i.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const o=n((()=>s[t]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${o.dtype}'`);const a=i.inputs[t];if(!FU(o.shape,a.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${o.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=o;else{const t=e[a.id];e[a.id]=r(t,o),t.dispose()}}}}(e,i,(e=>this.tidy(e)),VX);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:o,grads:r}}))}customGrad(e){var t=this;return MU(ZU(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];let i;MU(r.every((e=>e instanceof xX)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};r.forEach(((e,t)=>{a[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(i=e(...r,n),MU(i.value instanceof xX,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),MU(ZU(i.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),i.value),backwardsFunc:(e,t)=>{const n=i.gradFunc(e,t),o=Array.isArray(n)?n:[n];MU(o.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),MU(o.every((e=>e instanceof xX)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return o.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=eX(),n=await this.backend.time(e);return n.wallMs=eX()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new $X;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function FX(){const e=yW();if(null==e._tfengine){const t=new pW(e);e._tfengine=new jX(t)}var t;return t=e._tfengine.ENV,gW=t,function(e){yX=e}((()=>e._tfengine)),e._tfengine}jX.nextTensorId=0,jX.nextVariableId=0;const BX=FX();function VX(e,t){const n={a:e,b:t};return BX.runKernel(AW,n)}let zX;function UX(e){if(void 0!==zX)return zX;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function WX(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const qX=fW();function HX(e,t){let n=e;if(rX(e))return"string"===t?[]:[e.length];if(NX(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(_X(e))return[e.buffer.size/(null==t?4:YU(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||rX(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&fW().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&GX(e,r,[]),r}function GX(e,t,n){if(n=n||[],!Array.isArray(e)&&!rX(e))return void MU(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));MU(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),MU(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let o=0;o<e.length;++o)GX(e[o],r,n.concat(o))}function XX(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function KX(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof wX())return XX(r,e.dtype,t,n),e;let o=JU(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),XX(r,o,t,n),null==e||!rX(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const i=HX(e,o);rX(e)||Array.isArray(e)||(e=[e]);const a="string"!==o?ZG(e,o):oX(e,[],!0);return BX.makeTensor(a,i,o)}function YX(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,o)=>KX(e,`${t}[${o}]`,n,r)))}qX.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),qX.registerFlag("IS_BROWSER",(()=>WX())),qX.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),qX.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),qX.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),qX.registerFlag("PROD",(()=>!1)),qX.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>qX.getBool("DEBUG"))),qX.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),qX.registerFlag("IS_TEST",(()=>!1)),qX.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>qX.getBool("DEBUG"))),qX.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),qX.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),qX.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const QX="__op";function JX(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=QX;const o=function(){BX.startScope(n);try{const e=r(...arguments);return cW(e)&&console.error("Cannot return a Promise inside of tidy."),BX.endScope(e),e}catch(e){throw BX.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}const ZX=JX({complex_:function(e,t){const n=KX(e,"real","complex"),r=KX(t,"imag","complex");DU(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const o={real:n,imag:r};return BX.runKernel(qW,o)}});function eK(e,t,n,r){if(null==r)r=JU(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(_X(e)||NX(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return BX.backend.createTensorFromGPUData(e,t||n,r)}if(!rX(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){sW(t);const e=$U(t),r=$U(n);MU(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let o=0;o<n.length;++o){const e=n[o],r=o!==n.length-1||e!==$U(t.slice(o));MU(n[o]===t[o]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return rX(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?ZG(e,r):oX(e,[],!0),BX.makeTensor(e,t,r)}function tK(e,t,n){return eK(e,t,HX(e,n),n)}const nK={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class rK{static join(e){return new rK(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>rX(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=t+r.byteLength;this.shards.push({buffer:r,start:t,end:o}),t=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),o=new Uint8Array(r);let i=0;for(let a=n;a<this.shards.length;a++){const n=this.shards[a],r=e+i-n.start,s=i,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(o.set(u,s),i+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const o=Math.floor((r-n)/2)+n,i=t(e[o]);if(0===i)return o;i<0?r=o:n=o+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function oK(){return BX}function iK(e,t){return BX.tidy(e,t)}function aK(e){MX(e).forEach((e=>e.dispose()))}function sK(e){return BX.keep(e)}function lK(){return BX.backendName}function uK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return BX.registerBackend(e,t,n)}function cK(){return BX.backend}!function(e){bX=e}((function(e){fW().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}));const dK=4;async function pK(e,t){const n=[],r=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<o.length;++i){const a=o[i],s=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${s.dtype}`);const l={name:a,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+dK*t.length,r=new Uint8Array(n);let o=0;for(let i=0;i<t.length;i++){const e=t[i],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,o),o+=dK,r.set(e,o),o+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:bK(await Promise.all(r)),specs:n}}function hK(e,t){const n=new rK(e),r={};let o=0;for(const i of t){const e=fK(i,((e,t)=>n.slice(o+e,o+t)));r[i.name]=gK(i,n.slice(o,o+e)),o+=e}return r}function fK(e,t){const n=$U(e.shape);let r;if("quantization"in e){const t=e.quantization;r=nK[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=dK+new Uint32Array(t(e,e+dK))[0];return e}r=nK[e.dtype]}return n*r}async function mK(e,t){const n=$U(e.shape);let r;if("quantization"in e){const t=e.quantization;r=nK[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=dK+new Uint32Array(await t(e,e+dK))[0];return e}r=nK[e.dtype]}return n*r}function gK(e,t){const n=e.name,r=e.dtype,o=e.shape,i=$U(o);let a,s=0;if("quantization"in e){const o=e.quantization;if("uint8"===o.dtype||"uint16"===o.dtype){if(!("min"in o)||!("scale"in o))throw new Error(`Weight ${e.name} with quantization ${o.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==o.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${o.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${e.name} is quantized with ${o.dtype} which only supports weights of type float32 not ${r}.`)}const l=nK[o.dtype],u="uint8"===o.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===o.dtype||"uint16"===o.dtype){a=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];a[e]=t*o.scale+o.min}}else{if("float16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const o=new ArrayBuffer(4*r.length),i=new Uint32Array(o);for(let a=0;a<r.length;a++){const o=r[a],s=e[n[o>>10]+(1023&o)]+t[o>>10];i[a]=s}return new Float32Array(o)}}();a=e(u)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type int32.`);a=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];a[e]=Math.round(t*o.scale+o.min)}}s+=i*l}else if("string"===r){const n=$U(e.shape);a=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(s,s+dK))[0];s+=dK;const n=new Uint8Array(t.slice(s,s+e));a.push(n),s+=e}}else{const e=nK[r];if("float32"===r)a=new Float32Array(t);else if("int32"===r)a=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){a=new Float32Array(t);const e=new Float32Array(a.length/2),n=new Float32Array(a.length/2);for(let t=0;t<e.length;t++)e[t]=a[2*t],n[t]=a[2*t+1];const r=tK(e,o,"float32"),i=tK(n,o,"float32"),s=ZX(r,i);return r.dispose(),i.dispose(),s}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}a=new Uint8Array(t)}s+=i*e}return tK(a,o,r)}async function yK(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:o}=await e.read();if(t&&null==o){const e=n-r.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function vK(e,t){const n={},r=e.getReader();let o=new ArrayBuffer(0);for(const i of t){const e=await mK(i,(async(e,t)=>(o=await yK(r,o,t),o.slice(e,t))));o=await yK(r,o,e);const t=o.slice(0,e);o=o.slice(e);const a=gK(i,t);if(n[i.name]=a,"webgpu"===lK()){const e=cK();"uploadToGPU"in e&&$U(a.shape)>=fW().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(a.dataId)}}return n}function bK(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let o=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}const xK="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function wK(e){return xK?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function AK(e){return rK.join(e)}function SK(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function CK(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function kK(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function EK(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),kK(e,n,r)}function TK(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:wK(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:wK(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new rK(e.weightData).byteLength}}function IK(e){const t=[];for(const n of e)t.push(...n.weights);return t}class OK{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==OK.instance&&(OK.instance=new OK),OK.instance}static registerSaveRouter(e){OK.getInstance().saveRouters.push(e)}static registerLoadRouter(e){OK.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return OK.getHandlers(e,"save")}static getLoadHandlers(e,t){return OK.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?OK.getInstance().loadRouters:OK.getInstance().saveRouters).forEach((t=>{const o=t(e,n);null!==o&&r.push(o)})),r}}const RK=e=>OK.registerSaveRouter(e),NK=e=>OK.registerLoadRouter(e),_K=e=>OK.getSaveHandlers(e),PK=(e,t)=>OK.getLoadHandlers(e,t),MK="tensorflowjs",DK="models_store",LK="model_info_store";function $K(){if(!fW().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function jK(e){const t=e.result;t.createObjectStore(DK,{keyPath:"modelPath"}),t.createObjectStore(LK,{keyPath:"modelPath"})}class FK{constructor(e){if(this.indexedDB=$K(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(MK,1);r.onupgradeneeded=()=>jK(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(DK,"readonly"),r=t.objectStore(DK).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{t.weightData=rK.join(t.weightData);const r=TK(t),a=o.transaction(LK,"readwrite");let s,l,u=a.objectStore(LK);try{s=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(i){return n(i)}s.onsuccess=()=>{l=o.transaction(DK,"readwrite");const s=l.objectStore(DK);let c;try{c=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(i){return n(i)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=a.objectStore(LK);const t=u.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(c.error)),t.onerror=e=>(o.close(),n(c.error))}},s.onerror=e=>(o.close(),n(s.error)),a.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}FK.URL_SCHEME="indexeddb://";const BK=e=>{return fW().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(FK.URL_SCHEME)?(t=e.slice(FK.URL_SCHEME.length),new FK(t)):null;var t};OK.registerSaveRouter(BK),OK.registerLoadRouter(BK);class VK{constructor(){this.indexedDB=$K()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(MK,1);n.onupgradeneeded=()=>jK(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(LK,"readonly"),i=o.objectStore(LK).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),o.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(FK.URL_SCHEME)?t.slice(FK.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(MK,1);r.onupgradeneeded=()=>jK(r),r.onsuccess=()=>{const o=r.result,i=o.transaction(LK,"readwrite"),a=i.objectStore(LK),s=a.get(e);let l;s.onsuccess=()=>{if(null==s.result)return o.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=a.delete(e),i=()=>{l=o.transaction(DK,"readwrite");const r=l.objectStore(DK).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=i,r.onerror=e=>(i(),o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),i.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}},r.onerror=e=>n(r.error)}))}}const zK="/",UK="tensorflowjs_models",WK="info",qK="model_topology",HK="weight_specs",GK="weight_data",XK="model_metadata";function KK(e){return{info:[UK,e,WK].join(zK),topology:[UK,e,qK].join(zK),weightSpecs:[UK,e,HK].join(zK),weightData:[UK,e,GK].join(zK),modelMetadata:[UK,e,XK].join(zK)}}function YK(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function QK(e){const t=e.split(zK);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(zK)}class JK{constructor(e){if(!fW().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=KK(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=TK(e),i=rK.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(xK)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(i));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:o}}catch(t){throw YK(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(xK){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(i),t}}JK.URL_SCHEME="localstorage://";const ZK=e=>{return fW().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(JK.URL_SCHEME)?(t=e.slice(JK.URL_SCHEME.length),new JK(t)):null;var t};OK.registerSaveRouter(ZK),OK.registerLoadRouter(ZK);class eY{constructor(){MU(fW().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),MU("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=UK+zK,n=zK+WK;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(t)&&o.endsWith(n)){e[QK(o)]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){var t;const n=KK(e=(t=e).startsWith(JK.URL_SCHEME)?t.slice(JK.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return YK(n),r}}const tY="://";class nY{constructor(){this.managers={}}static getInstance(){return null==nY.instance&&(nY.instance=new nY),nY.instance}static registerManager(e,t){MU(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(tY)&&(e=e.slice(0,e.indexOf(tY))),MU(e.length>0,(()=>"scheme must not be an empty string."));const n=nY.getInstance();MU(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=nY.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(nY.getInstance().managers)}}function rY(e){if(-1===e.indexOf(tY))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${nY.getSchemes().join(",")}`);return{scheme:e.split(tY)[0],path:e.split(tY)[1]}}async function oY(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];MU(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=OK.getLoadHandlers(e);MU(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),MU(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const o=r[0],i=OK.getSaveHandlers(t);MU(i.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),MU(i.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const a=i[0],s=rY(e).scheme,l=rY(e).path,u=s===rY(e).scheme,c=await o.load();n&&u&&await nY.getManager(s).removeModel(l);const d=await a.save(c);return n&&!u&&await nY.getManager(s).removeModel(l),d.modelArtifactsInfo}async function iY(){const e=nY.getSchemes(),t={};for(const n of e){const e=await nY.getManager(n).listModels();for(const r in e){t[n+tY+r]=e[r]}}return t}async function aY(e){const t=rY(e);return nY.getManager(t.scheme).removeModel(t.path)}async function sY(e,t){return oY(e,t,!1)}async function lY(e,t){return oY(e,t,!0)}class uY{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&fW().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return $G(e)}}if(fW().get("IS_BROWSER")){fW().setPlatform("browser",new uY);try{nY.registerManager(JK.URL_SCHEME,new eY)}catch(Pve){}try{nY.registerManager(FK.URL_SCHEME,new VK)}catch(Pve){}}const cY=()=>n(85817);let dY;class pY{constructor(){this.util=n(18590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=fW().global.fetch?fW().global.fetch(e,t):(null==dY&&(dY=cY()),dY(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function hY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",sW(e),new gX(e,t,n)}fW().get("IS_NODE")&&!fW().get("IS_BROWSER")&&fW().setPlatform("node",new pY);const fY=JX({cast_:function(e,t){const n=KX(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:t};return BX.runKernel(zW,r,o)}});const mY=JX({clone_:function(e){const t={x:KX(e,"x","clone","string_or_numeric")};return BX.runKernel(_q,t)}});function gY(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}FX();vX={buffer:hY,cast:fY,clone:mY,print:gY};const yY=JX({add_:function(e,t){let n=KX(e,"a","add"),r=KX(t,"b","add");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(AW,o)}});const vY=JX({floorDiv_:function(e,t){let n=KX(e,"a","floorDiv"),r=KX(t,"b","floorDiv");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(Eq,o)}});const bY=JX({div_:function(e,t){let n=KX(e,"a","div"),r=KX(t,"b","div");if([n,r]=PX(n,r),"int32"===n.dtype&&"int32"===r.dtype)return vY(n,r);const o={a:n,b:r};return BX.runKernel(hq,o,{})}});const xY=JX({mul_:function(e,t){let n=KX(e,"a","mul"),r=KX(t,"b","mul");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(lH,o)}});const wY=JX({sqrt_:function(e){const t={x:KX(e,"x","sqrt","float32")};return BX.runKernel(XH,t)}});const AY=JX({square_:function(e){const t=KX(e,"x","square");return BX.runKernel("Square",{x:t},{})}});const SY=JX({zerosLike_:function(e){const t={x:KX(e,"x","zerosLike")};return BX.runKernel(wG,t)}});function CY(e){return BX.customGrad(e)}function kY(e,t){if((rX(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&rX(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return eK(e,[],[],t)}const EY=new Map,TY=new Map;class IY{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class OY{constructor(){this.classNameMap={}}static getMap(){return null==OY.instance&&(OY.instance=new OY),OY.instance}static register(e){OY.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function RY(e,t,n){MU(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),MU("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),MU(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return OY.register(e),EY.set(r,e),TY.set(e,r),e}class NY extends IY{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:o}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:o[e.name]})));this.applyGradients(e)}else this.applyGradients(o);return aK(o),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){MU(ZU(e),(()=>"The f passed in variableGrads(f) must be a function")),MU(null==t||Array.isArray(t)&&t.every((e=>e instanceof AX)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in BX.registeredVariables)t.push(BX.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,o=t.length;t=t.filter((e=>e.trainable)),MU(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`));const{value:i,grads:a}=BX.gradients(e,t,null,!0);MU(a.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),MU(0===i.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`));const s={};return t.forEach(((e,t)=>{null!=a[t]&&(s[e.name]=a[t])})),null!=r&&r.forEach((e=>s[e.name]=null)),{value:i,grads:s}}(e,t)}dispose(){null!=this.iterations_&&aK(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:kY(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(NY,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function _Y(e,t,n){sW(e);const r={shape:e,value:t,dtype:n=n||JU(t)};return BX.runKernel(Sq,{},r)}const PY=JX({pow_:function(e,t){let n=KX(e,"base","pow"),r=KX(t,"exp","pow");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(vH,o)}});const MY=JX({sub_:function(e,t){let n=KX(e,"a","sub"),r=KX(t,"b","sub");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(dG,o)}});const DY=JX({abs_:function(e){const t=KX(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return BX.runKernel(HW,e)}{const e={x:t};return BX.runKernel(bW,e)}}});function LY(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function $Y(e,t){const n=[];for(let r=0;r<t.length;r++){const o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function jY(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let o=0;o<n;o++){let i=e[e.length-o-1];null==i&&(i=1);let a=t[t.length-o-1];if(null==a&&(a=1),1===i)r[n-o-1]=a;else if(1===a)r[n-o-1]=i;else{if(i!==a){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-o-1]=i}}return r}const FY=JX({maximum_:function(e,t){let n=KX(e,"a","maximum"),r=KX(t,"b","maximum");[n,r]=PX(n,r),"bool"===n.dtype&&(n=fY(n,"int32"),r=fY(r,"int32")),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Yq,o)}});class BY extends NY{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=BX.registeredVariables[t];iK((()=>{const e=yY(xY(this.c,r),o);o.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=sK(kY(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const VY=[class extends NY{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=BX.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=BX.registeredVariables[t],o=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:iK((()=>SY(r).variable(o)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:iK((()=>SY(r).variable(o)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;iK((()=>{const e=yY(xY(a,this.rho),xY(AY(i),1-this.rho)),t=xY(bY(wY(yY(s,this.epsilon)),wY(yY(a,this.epsilon))),i),n=yY(xY(s,this.rho),xY(AY(t),1-this.rho));a.assign(e),s.assign(n);const o=yY(xY(t,-this.learningRate),r);r.assign(o)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(aK(this.accumulatedGrads.map((e=>e.variable))),aK(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends NY{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=BX.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:iK((()=>_Y(r.shape,this.initialAccumulatorValue).variable(e)))}}const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedGrads[n].variable;iK((()=>{const e=yY(i,AY(o));i.assign(e);const t=yY(xY(bY(o,wY(yY(e,BX.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&aK(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends NY{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],iK((()=>{this.accBeta1=kY(t).variable(),this.accBeta2=kY(n).variable()})),null==r&&(this.epsilon=BX.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);iK((()=>{const n=MY(1,this.accBeta1),r=MY(1,this.accBeta2);t.forEach(((t,o)=>{const i=BX.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:iK((()=>SY(i).variable(a)))}),null==this.accumulatedSecondMoment[o]&&(this.accumulatedSecondMoment[o]={originalName:`${t}/v`,variable:iK((()=>SY(i).variable(a)))});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,u=this.accumulatedSecondMoment[o].variable,c=yY(xY(l,this.beta1),xY(s,1-this.beta1)),d=yY(xY(u,this.beta2),xY(AY(s),1-this.beta2)),p=bY(c,n),h=bY(d,r);l.assign(c),u.assign(d);const f=yY(xY(bY(p,yY(wY(h),this.epsilon)),-this.learningRate),i);i.assign(f)})),this.accBeta1.assign(xY(this.accBeta1,this.beta1)),this.accBeta2.assign(xY(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&aK(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&aK(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),iK((()=>{this.accBeta1.assign(PY(this.beta1,this.iterations_+1)),this.accBeta2.assign(PY(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends NY{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],iK((()=>{this.iteration=kY(0).variable(),this.accBeta1=kY(t).variable()})),null==r&&(this.epsilon=BX.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);iK((()=>{const n=MY(1,this.accBeta1),r=bY(-this.learningRate,yY(xY(this.iteration,this.decay),1));t.forEach(((t,o)=>{const i=BX.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:SY(i).variable(a)}),null==this.accumulatedWeightedInfNorm[o]&&(this.accumulatedWeightedInfNorm[o]={originalName:`${t}/v`,variable:SY(i).variable(a)});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,u=this.accumulatedWeightedInfNorm[o].variable,c=yY(xY(l,this.beta1),xY(s,1-this.beta1)),d=xY(u,this.beta2),p=DY(s),h=FY(d,p);l.assign(c),u.assign(h);const f=yY(xY(bY(r,n),bY(c,yY(h,this.epsilon))),i);i.assign(f)})),this.iteration.assign(yY(this.iteration,1)),this.accBeta1.assign(xY(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&aK(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&aK(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends BY{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=kY(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=BX.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:iK((()=>SY(r).variable(e)))}}const o=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&iK((()=>{let e;const t=yY(xY(this.m,o),i);e=this.useNesterov?yY(xY(this.c,yY(i,xY(t,this.m))),r):yY(xY(this.c,t),r),o.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&aK(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends NY{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,null==r&&(this.epsilon=BX.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=BX.registeredVariables[t],o=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:iK((()=>SY(r).variable(o)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:iK((()=>SY(r).variable(o)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:iK((()=>SY(r).variable(o)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;iK((()=>{const e=yY(xY(a,this.decay),xY(AY(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,o=yY(xY(t,this.decay),xY(i,1-this.decay)),l=bY(xY(i,this.learningRate),wY(MY(e,yY(AY(o),this.epsilon)))),u=yY(xY(s,this.momentum),l);a.assign(e),t.assign(o),s.assign(u);const c=MY(r,u);r.assign(c)}else{const e=yY(xY(a,this.decay),xY(AY(i),1-this.decay)),t=yY(xY(s,this.momentum),bY(xY(i,this.learningRate),wY(yY(e,this.epsilon))));a.assign(e),s.assign(t);const n=MY(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&aK(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&aK(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&aK(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},BY];function zY(e){return new Promise((e=>setTimeout(e))).then(e)}class UY{constructor(e){if(!fW().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(UY.URL_SCHEME)&&(e=e.slice(UY.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=rK.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=CK(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=r,await zY((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await zY((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:TK(e)}}}}UY.URL_SCHEME="downloads://";class WY{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),o=r.modelTopology;if(null==o)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:o});const i=EK(r,(e=>this.loadWeights(e)));e(i)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const i of e)t.push(...i.weights),n.push(...i.paths);const r=this.checkManifestAndWeightFiles(e),o=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(o).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const o=new FileReader;o.onload=e=>{const t=e.target.result;n(t)},o.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>SK(e.name))),r={};for(const o of e)o.paths.forEach((e=>{const o=SK(e);if(-1!==t.indexOf(o))throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(t.push(o),-1===n.indexOf(o))throw new Error(`Weight file with basename '${o}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(o)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function qY(e){return new WY(e)}function HY(e,t,n,r){!function(e){MU(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){MU(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),MU(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),MU(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let o=0;return Promise.all(e.map((i=>(i.then((i=>{const a=n+ ++o/e.length*(r-n);return t(a),i})),i))))}async function GY(e,t){null==t&&(t={});const n=null==t.fetchFunc?fW().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),o=(null==t.onProgress?await Promise.all(r):await HY(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(o):await HY(o,t.onProgress,.5,1)}async function XY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return KY((e=>GY(e,{requestInit:r})))(e,t,n)}function KY(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const o=t.map((()=>!1)),i={},a=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=nK[l]*$U(e.shape),c=()=>{o[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),a[n]=!0)})):c(),s.push(e.name),n+=u}))})),!a.every((e=>e))){const e=r.filter(((e,t)=>!a[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=o.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length,r=new rK(c.slice(p,p+n));i[e].forEach((e=>{const t=hK(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}OK.registerSaveRouter((e=>fW().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(UY.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new UY(e)}(e.slice(UY.URL_SCHEME.length)):null));class YY{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(MU("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=fW().platform.fetch,MU(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&MU(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=CK(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=rK.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:TK(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(Nve){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return EK(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=IK(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?fW().platform.fetch:t.fetchFunc;let o,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var a;i<e.length;){if(!o){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;o=n.getReader()}const{done:s,value:l}=await o.read();if(!s)return void n.enqueue(l);i++,o=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),o=n>t?e.substring(n):"";return[r+"/",o]}(t),o=this.weightPathPrefix||n,i=[],a=[];for(const s of e)for(const e of s.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):i.push(o+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(e){const t=await this.getWeightUrls(e);return[IK(e),await GY(t,this.loadOptions)]}}function QY(e){return null!=e.match(YY.URL_SCHEME_REGEX)}YY.URL_SCHEME_REGEX=/^https?:\/\//;const JY=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>QY(e))):QY(e),n)return ZY(e,t)}return null};function ZY(e,t){return new YY(e,t)}function eQ(e,t){return ZY(e,t)}OK.registerSaveRouter(JY),OK.registerLoadRouter(JY);class tQ{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class nQ{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class rQ{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function oQ(e,t,n,r){return new rQ(iQ(...arguments))}function iQ(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new tQ(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new tQ({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new tQ({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function aQ(e){return new nQ(e)}function sQ(e){return new nQ(e)}function lQ(e,t,n){if(LU(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=HX(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return eK(e,t,r,n)}let uQ,cQ=!1;function dQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,o=!1,i=!1,a=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)a=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(null!=_G(SG,BX.backendName)){const n={pixels:e},r={numChannels:t};return BX.runKernel(SG,n,r)}const[l,u]=o?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(a)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(i||o||s){if(null==uQ)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");uQ=new OffscreenCanvas(1,1).getContext("2d")}else uQ=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});uQ.canvas.width=l,uQ.canvas.height=u,uQ.drawImage(e,0,0,l,u),c=uQ.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}return lQ(d,[u,l,t],"int32")}function pQ(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function hQ(e,t){let n=KX(e,"img","toPixels");if(!(e instanceof xX)){const e=n;n=fY(e,"int32"),e.dispose()}pQ(n);const[r,o]=n.shape.slice(0,2),i=2===n.rank?1:n.shape[2],a=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(o*r*4);for(let u=0;u<r*o;++u){const e=[0,0,0,255];for(let r=0;r<i;r++){const t=a[u*i+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===i?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!cQ){null!=_G(pq,BX.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),cQ=!0)}t.width=o,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,o,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const fQ=JX({fromPixels_:dQ}),mQ=-2,gQ=-1;function yQ(e,t,n){const r=e.shape.length;MU(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),MU(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let o=0;o<r;++o)MU(t[o]+n[o]<=e.shape[o],(()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${t[o]+n[o]}) would overflow input.shape[${o}] (${e.shape[o]})`))}function vQ(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function bQ(e,t,n){const r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function xQ(e,t,n,r){const o=[...e];for(let i=o.length;i<r.length;i++)o.push(1);for(let i=0;i<n;i++)0===i?o[t]=1:(o.splice(t,0,1),o.pop());return o}function wQ(e,t,n){return n<=e?n:n-(t-1)}function AQ(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function SQ(e,t,n,r,o,i,a,s,l){const u=e.length;let c=new Array(u),d=new Array(u),p=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=CQ(a,l,u,r,e),d=kQ(s,l,u,o,e),p=xQ(i,l,u,e)}else for(let h=0;h<u;h++)c[h]=TQ(a,r,i,e,h,l),d[h]=IQ(s,o,i,e,h,l),p[h]=EQ(i,h,l);return{begin:c,end:d,strides:p}}function CQ(e,t,n,r,o){const i=[...o],a=AQ(n,t);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=0;else{const o=wQ(t,n,s);let a=r[o];e&1<<o&&(a=0),i[s]=a}return i}function kQ(e,t,n,r,o){const i=[...o],a=AQ(n,t);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{const o=wQ(t,n,s);let a=r[o];e&1<<o&&(a=Number.MAX_SAFE_INTEGER),i[s]=a}for(let s=0;s<i.length;s++){const e=o[s];i[s]<0&&(i[s]+=e),i[s]=RU(0,i[s],o[s])}return i}function EQ(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function TQ(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),a=RU(0,a,l-1),a}function IQ(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),a=s>0?RU(0,a,l):RU(-1,a,l-1),a}function OQ(e,t,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function RQ(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function NQ(e,t,n){let r;const o=e.shape.length;let i;return r="number"===typeof t?[t,...new Array(o-1).fill(0)]:t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice(),r.forEach((e=>{MU(-1!==e,(()=>"slice() does not support negative begin indexing."))})),i=null==n?new Array(o).fill(-1):"number"===typeof n?[n,...new Array(o-1).fill(-1)]:n.length<o?n.concat(new Array(o-n.length).fill(-1)):n,i=i.map(((t,n)=>t>=0?t:(MU(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,i]}function _Q(e,t,n,r,o,i,a,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=a&&0!==(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};for(let v=0;v<d.dims;v++)c&&0!==(1<<v&s)&&d.numAddAxisAfterEllipsis++,1<<v&a&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(mQ),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(gQ),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],y=[];for(let v=0;v<e.length;++v){if(0===p.strides[v])throw Error(`strides[${v}] must be non-zero`);const t=!!(p.shrinkAxisMask&1<<v),n=e[v];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<v,p.endMask&1<<v],o=[p.strides[v]>0?0:-1,p.strides[v]>0?n:n-1];if(t&&p.strides[v]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[v];const i=!!(p.beginMask&1<<v&&p.endMask&1<<v);if(p.beginValid&&p.endValid){if(t){const e=p.begin[v]<0?n+p.begin[v]:p.begin[v];if(p.begin[v]=e,p.end[v]=p.begin[v]+1,e<0||e>=n)throw Error(`slice index ${p.begin[v]} of dimension ${v} out of bounds.`)}else p.begin[v]=PQ(p.begin[v],0,p.strides[v],n,r,o),p.end[v]=PQ(p.end[v],1,p.strides[v],n,r,o);const e=1===p.strides[v]&&0===p.begin[v]&&p.end[v]===n;h=h&&e,f=f&&(0===v&&1===p.strides[v]||e)}else h=h&&1===p.strides[v]&&i,f=f&&(0===v&&1===p.strides[v]||i);let a,s=!1;if(p.beginValid&&p.endValid?(a=p.end[v]-p.begin[v],s=!0):t?(a=1,s=!0):i&&n>=0&&(a=p.strides[v]<0?-n:n,s=!0),s){let e;e=0===a||a<0!==p.strides[v]<0?0:Math.trunc(a/p.strides[v])+(a%p.strides[v]!==0?1:0),g.push(e)}else g.push(-1)}for(let v=0;v<p.finalShapeGatherIndices.length;++v){const e=p.finalShapeGatherIndices[v];e>=0?y.push(g[e]):e===mQ&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>p.finalShapeGatherIndices[t]!==mQ)),finalShape:y,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function PQ(e,t,n,r,o,i){if(o[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const MQ=JX({acos_:function(e){const t={x:KX(e,"x","acos")};return BX.runKernel(xW,t)}});const DQ=JX({acosh_:function(e){const t={x:KX(e,"x","acosh")};return BX.runKernel(wW,t)}});const LQ=JX({addN_:function(e){MU(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),MU(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>KX(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!FU(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return BX.runKernel(SW,r)}});const $Q=JX({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:KX(e,"x","all","bool")},o={axis:t,keepDims:n};return BX.runKernel(CW,r,o)}});const jQ=JX({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:KX(e,"x","any","bool")},o={axis:t,keepDims:n};return BX.runKernel(kW,r,o)}});const FQ=JX({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:KX(e,"x","argMax")},r={axis:t};return BX.runKernel(EW,n,r)}});const BQ=JX({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:KX(e,"x","argMin")},r={axis:t};return BX.runKernel(TW,n,r)}});const VQ=JX({asin_:function(e){const t={x:KX(e,"x","asin")};return BX.runKernel(IW,t)}});const zQ=JX({asinh_:function(e){const t={x:KX(e,"x","asinh")};return BX.runKernel(OW,t)}});const UQ=JX({atan_:function(e){const t={x:KX(e,"x","atan")};return BX.runKernel(RW,t)}});const WQ=JX({atan2_:function(e,t){let n=KX(e,"a","atan2"),r=KX(t,"b","atan2");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(_W,o)}});const qQ=JX({atanh_:function(e){const t={x:KX(e,"x","atanh")};return BX.runKernel(NW,t)}});function HQ(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0;return KQ(e,[...t,e[3]],n,i,r,null,null,iJ(o))}function GQ(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,l]=JQ(t);let u;if("channelsLast"===a)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);u=[s,l,e[1],e[1]]}return KQ(e,u,n,r,o,i,!1,a)}function XQ(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,l,u]=ZQ(t);let c,d;if("NDHWC"===a)d="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);d="channelsFirst",c=[s,l,u,e[1],e[1]]}return YQ(e,c,n,r,o,!1,d,i)}function KQ(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=JQ(n),[y,v]=JQ(r),b=eJ(p,y),x=eJ(h,v),{padInfo:w,outHeight:A,outWidth:S}=function(e,t,n,r,o,i,a,s,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,o){null==r&&(r=QQ(e,t,n));const i=e[0],a=e[1],s=tJ((i-t+2*r)/n+1,o),l=tJ((a-t+2*r)/n+1,o);return[s,l]}([t,n],i,r,e,s);c=o[0],d=o[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/o);const e=Math.max(0,(c-1)*r+i-t),s=Math.max(0,(d-1)*o+a-n),l=Math.floor(e/2),p=e-l,h=Math.floor(s/2);u={top:l,bottom:p,left:h,right:s-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),d=Math.ceil((n-a+1)/o);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=tJ((t-i+p+h)/r+1,s),d=tJ((n-a+f+m)/o+1,s)}}return{padInfo:u,outHeight:c,outWidth:d}}(o,u,c,m,g,b,x,i,s),C=a?f*d:f;let k;return"channelsFirst"===s?k=[l,C,A,S]:"channelsLast"===s&&(k=[l,A,S,C]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:A,outWidth:S,outChannels:C,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:e,outShape:k,filterShape:t}}function YQ(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,u,c,d,p]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,p,u,c,d]=e}const[h,f,m,,g]=t,[y,v,b]=ZQ(n),[x,w,A]=ZQ(r),S=eJ(h,x),C=eJ(f,w),k=eJ(m,A),{padInfo:E,outDepth:T,outHeight:I,outWidth:O}=function(e,t,n,r,o,i,a,s,l,u,c){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,o,i){null==o&&(o=QQ(e,t[0],r[0]));const a=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*o>=t[s]&&(a[s]=tJ((e[s]-t[s]+2*o)/r[s]+1,i));return a}([t,n,r,1],[s,l,u],1,[o,i,a],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{p=Math.ceil(t/o),h=Math.ceil(n/i),f=Math.ceil(r/a);const e=(p-1)*o+s-t,c=(h-1)*i+l-n,m=(f-1)*a+u-r,g=Math.floor(e/2),y=e-g,v=Math.floor(c/2),b=c-v,x=Math.floor(m/2);d={top:v,bottom:b,left:x,right:m-x,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(o,u,c,d,y,v,b,S,C,k,s),R=i?g*p:g;let N;return"channelsFirst"===a?N=[l,R,T,I,O]:"channelsLast"===a&&(N=[l,T,I,O,R]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:T,outHeight:I,outWidth:O,outChannels:R,padInfo:E,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:C,effectiveFilterWidth:k,dilationDepth:x,dilationHeight:w,dilationWidth:A,inShape:e,outShape:N,filterShape:t}}function QQ(e,t,n){const r=eJ(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function JQ(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ZQ(e){return"number"===typeof e?[e,e,e]:e}function eJ(e,t){return t<=1?e:e+(e-1)*(t-1)}function tJ(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function nJ(e){const[t,n,r]=JQ(e);return 1===t&&1===n&&1===r}function rJ(e,t){return nJ(e)||nJ(t)}function oJ(e){return JQ(e).every((e=>e>0))}function iJ(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function aJ(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)MU(BU(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{MU(BU(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const sJ=JX({reshape_:function(e,t){const n={x:KX(e,"x","reshape","string_or_numeric")},r={shape:t};return BX.runKernel(IH,n,r)}});const lJ=JX({avgPool_:function(e,t,n,r,o){const i=KX(e,"x","avgPool","float32");MU(rJ(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let a=i,s=!1;3===i.rank&&(s=!0,a=sJ(i,[1,i.shape[0],i.shape[1],i.shape[2]])),MU(4===a.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`)),aJ("avgPool",r,o);const l={x:a},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o};let c=BX.runKernel(PW,l,u);return c=fY(c,i.dtype),s?sJ(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const uJ=JX({avgPool3d_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=KX(e,"x","avgPool3d","float32");let s=a,l=!1;4===a.rank&&(l=!0,s=sJ(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),MU(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),MU("NDHWC"===i,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),MU("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),aJ("avgPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i};let d=BX.runKernel(DW,u,c);return d=fY(d,s.dtype),l?sJ(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const cJ=JX({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;MU(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=YX(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return mY(n[0]);const r=n,o={axis:t};return BX.runKernel(GW,r,o)}});const dJ=JX({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=KX(e,"a","matMul"),i=KX(t,"b","matMul");[o,i]=PX(o,i);const a={a:o,b:i},s={transposeA:n,transposeB:r};return BX.runKernel($W,a,s)}});const pJ=JX({sigmoid_:function(e){const t={x:KX(e,"x","sigmoid","float32")};return BX.runKernel(HH,t)}});const hJ=JX({slice_:function(e,t,n){const r=KX(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const o={x:r},i={begin:t,size:n};return BX.runKernel(zH,o,i)}});const fJ=JX({tanh_:function(e){const t={x:KX(e,"x","tanh","float32")};return BX.runKernel(hG,t)}});const mJ=JX({basicLSTMCell_:function(e,t,n,r,o,i){const a=KX(e,"forgetBias","basicLSTMCell"),s=KX(t,"lstmKernel","basicLSTMCell"),l=KX(n,"lstmBias","basicLSTMCell"),u=KX(r,"data","basicLSTMCell"),c=KX(o,"c","basicLSTMCell"),d=KX(i,"h","basicLSTMCell"),p=cJ([u,d],1),h=dJ(p,s),f=yY(h,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=hJ(f,[0,0],y),b=hJ(f,[0,g],y),x=hJ(f,[0,2*g],y),w=hJ(f,[0,3*g],y),A=yY(xY(pJ(v),fJ(b)),xY(c,pJ(yY(a,x))));return[A,xY(fJ(A),pJ(w))]}});const gJ=JX({batchToSpaceND_:function(e,t,n){const r=KX(e,"x","batchToSpaceND"),o=t.reduce(((e,t)=>e*t));MU(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),MU(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),MU(r.shape[0]%o===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${o}`));const i={x:r},a={blockShape:t,crops:n};return BX.runKernel(jW,i,a)}});const yJ=JX({batchNorm_:function(e,t,n,r,o,i){null==i&&(i=.001);const a=KX(e,"x","batchNorm"),s=KX(t,"mean","batchNorm"),l=KX(n,"variance","batchNorm");let u,c;null!=o&&(u=KX(o,"scale","batchNorm")),null!=r&&(c=KX(r,"offset","batchNorm")),MU(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),MU(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),MU(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(e){let t;return t=0===e.rank||1===e.rank?sJ(e,[1,1,1,e.size]):2===e.rank?sJ(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?sJ(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(a),p={x:d,scale:u,offset:c,mean:s,variance:l},h={varianceEpsilon:i},f=BX.runKernel(Tq,p,h);return sJ(f,a.shape)}});const vJ=JX({batchNorm2d_:function(e,t,n,r,o,i){const a=KX(e,"x","batchNorm"),s=KX(t,"mean","batchNorm"),l=KX(n,"variance","batchNorm");let u,c;return null!=o&&(u=KX(o,"scale","batchNorm")),null!=r&&(c=KX(r,"offset","batchNorm")),MU(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),MU(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),MU(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&MU(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&MU(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),yJ(a,s,l,c,u,i)}});const bJ=JX({batchNorm3d_:function(e,t,n,r,o,i){const a=KX(e,"x","batchNorm"),s=KX(t,"mean","batchNorm"),l=KX(n,"variance","batchNorm");let u,c;return null!=o&&(u=KX(o,"scale","batchNorm")),null!=r&&(c=KX(r,"offset","batchNorm")),MU(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),MU(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),MU(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&MU(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&MU(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),yJ(a,s,l,c,u,i)}});const xJ=JX({batchNorm4d_:function(e,t,n,r,o,i){const a=KX(e,"x","batchNorm"),s=KX(t,"mean","batchNorm"),l=KX(n,"variance","batchNorm");let u,c;return null!=o&&(u=KX(o,"scale","batchNorm")),null!=r&&(c=KX(r,"offset","batchNorm")),MU(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),MU(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),MU(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&MU(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&MU(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),yJ(a,s,l,c,u,i)}});const wJ=JX({bincount_:function(e,t,n){const r=KX(e,"x","bincount"),o=KX(t,"weights","bincount");MU("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),MU(n>=0,(()=>`size must be non-negative, but got ${n}.`)),MU(o.size===r.size||0===o.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`));const i={x:r,weights:o},a={size:n};return BX.runKernel(FW,i,a)}});const AJ=JX({bitwiseAnd_:function(e,t){const n=KX(e,"x","bitwiseAnd"),r=KX(t,"y","bitwiseAnd");if(!FU(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const o={a:n,b:r};return BX.runKernel(BW,o)}});const SJ=JX({broadcastArgs_:function(e,t){const n=KX(e,"s0","broadcastArgs","int32"),r=KX(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const o={s0:n,s1:r};return BX.runKernel(VW,o)}});const CJ=JX({broadcastTo_:function(e,t){let n=KX(e,"broadcastTo","x");const r=n.shape;if(sW(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=sJ(n,e)}const o=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(o[l]===t[l])i[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return mY(n);const a={x:n},s={reps:i};return BX.runKernel(fG,a,s)}});const kJ=JX({ceil_:function(e){const t={x:KX(e,"x","ceil","float32")};return BX.runKernel(UW,t)}});const EJ=JX({clipByValue_:function(e,t,n){const r=KX(e,"x","clipByValue");if(MU(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return _Y(r.shape,t,r.dtype);const o={x:r},i={clipValueMin:t,clipValueMax:n};return BX.runKernel(WW,o,i)}});const TJ=JX({concat1d_:function(e){return cJ(e,0)}});const IJ=JX({concat2d_:function(e,t){return cJ(e,t)}});const OJ=JX({concat3d_:function(e,t){return cJ(e,t)}});const RJ=JX({concat4d_:function(e,t){return cJ(e,t)}});const NJ=JX({conv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const s=KX(e,"x","conv2d","float32"),l=KX(t,"filter","conv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=sJ(s,[1,s.shape[0],s.shape[1],s.shape[2]])),MU(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),MU(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),aJ("conv2d",r,a);const d="NHWC"===o?u.shape[3]:u.shape[1];MU(d===l.shape[2],(()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`)),MU(rJ(n,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),MU(oJ(i),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),MU(oJ(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=BX.runKernel(XW,p,h);return c?sJ(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const _J=JX({conv1d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const s=KX(e,"x","conv1d"),l=KX(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=sJ(s,[1,s.shape[0],s.shape[1]])),MU(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),MU(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),aJ("conv1d",r,a),MU(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),MU(rJ(n,i),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`)),MU(oJ(i),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),MU(oJ(n),(()=>"Error in conv1D: Stride should be larger than 0.")),MU("NWC"===o,(()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`));const d=sJ(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=sJ(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=NJ(p,d,[1,n],r,"NHWC",[1,i],a);return sJ(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const PJ=JX({conv2DBackpropInput_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0;MU(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=sJ(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),MU(4===s.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`)),MU(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),MU(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===i?s[3]:s[1],d="NHWC"===i?l.shape[3]:l.shape[1];MU(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),MU(d===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`)),aJ("conv2dDerInput",o,a);const p={dy:l,filter:n},h={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,inputShape:s},f=BX.runKernel(YW,p,h);return u?sJ(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const MJ=JX({conv2dTranspose_:function(e,t,n,r,o,i){const a=KX(e,"x","conv2dTranspose"),s=KX(t,"filter","conv2dTranspose");return PJ(n,a,s,r,o,"NHWC",i)}});const DJ=JX({conv3d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const a=KX(e,"x","conv3d"),s=KX(t,"filter","conv3d");let l=a,u=!1;4===a.rank&&(u=!0,l=sJ(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),MU(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),MU(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),MU(l.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),MU(rJ(n,i),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),MU("NDHWC"===o,(()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`)),MU(oJ(i),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),MU(oJ(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:s},d={strides:n,pad:r,dataFormat:o,dilations:i},p=BX.runKernel(QW,c,d);return u?sJ(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const LJ=JX({conv3DBackpropInput_:function(e,t,n,r,o){MU(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,a=t,s=!1;4===t.rank&&(s=!0,a=sJ(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],u=a.shape[4];MU(5===i.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`)),MU(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),MU(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),MU(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),MU(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:a,filter:n},d={pad:o,strides:r,inputShape:i},p=BX.runKernel(ZW,c,d);return s?sJ(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const $J=JX({conv3dTranspose_:function(e,t,n,r,o){const i=KX(e,"x","conv3dTranspose"),a=KX(t,"filter","conv3dTranspose");return LJ(n,i,a,r,o)}});const jJ=JX({cos_:function(e){const t={x:KX(e,"x","cos","float32")};return BX.runKernel(eq,t)}});const FJ=JX({cosh_:function(e){const t={x:KX(e,"x","cosh","float32")};return BX.runKernel(tq,t)}});const BJ=JX({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:KX(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return BX.runKernel(nq,o,i)}});const VJ=JX({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:KX(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return BX.runKernel(rq,o,i)}});const zJ=JX({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=KX(e,"x","denseBincount"),i=KX(t,"weights","denseBincount");MU("int32"===o.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`)),MU(o.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`)),MU(n>=0,(()=>`size must be non-negative, but got ${n}.`)),MU(i.size===o.size||0===i.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${i.shape}.`));const a={x:o,weights:i},s={size:n,binaryOutput:r};return BX.runKernel(iq,a,s)}});const UJ=JX({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=KX(e,"x","depthToSpace","float32"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];MU(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),MU(o*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),MU(i*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),MU(a%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${a} for depthToSpace with input shape ${r.shape}`));const s={x:r},l={blockSize:t,dataFormat:n};return BX.runKernel(aq,s,l)}});const WJ=JX({depthwiseConv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const s=KX(e,"x","depthwiseConv2d","float32"),l=KX(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=sJ(s,[1,s.shape[0],s.shape[1],s.shape[2]])),MU(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),MU(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const d="NHWC"===o?u.shape[3]:u.shape[1];MU(d===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`)),aJ("depthwiseConv2d",r,a);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=BX.runKernel(sq,p,h);return c?sJ(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const qJ=JX({diag_:function(e){const t={x:KX(e,"x","diag")};return BX.runKernel(cq,t)}});const HJ=JX({dilation2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const a=KX(e,"x","dilation2d"),s=KX(t,"filter","dilation2d");MU(3===a.rank||4===a.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`)),MU(3===s.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`)),MU("NHWC"===i,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`));let l=a,u=!1;3===a.rank&&(l=sJ(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0),MU(l.shape[3]===s.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`));const c={x:l,filter:s},d={strides:n,pad:r,dilations:o},p=BX.runKernel(dq,c,d);return u?sJ(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const GJ=JX({equal_:function(e,t){let n=KX(e,"a","equal","string_or_numeric"),r=KX(t,"b","equal","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(vq,o)}});const XJ=JX({where_:function(e,t,n){const r=KX(t,"a","where"),o=KX(n,"b","where"),i=KX(e,"condition","where","bool"),a=jY(jY(i.shape,r.shape),o.shape),s={condition:CJ(i,a),t:CJ(r,a),e:CJ(o,a)};return BX.runKernel(BH,s)}});const KJ=JX({divNoNan_:function(e,t){let n=KX(e,"a","div"),r=KX(t,"b","div");[n,r]=PX(n,r);const o=bY(n,r),i=SY(o),a=GJ(r,i);return XJ(a,i,o)}});const YJ=JX({dot_:function(e,t){const n=KX(e,"t1","dot"),r=KX(t,"t2","dot");MU((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(MU(o===i,(()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${i}.`)),1===n.rank&&1===r.rank){const e=sJ(n,[1,-1]),t=sJ(r,[-1,1]),o=dJ(e,t);return sJ(o,[])}if(1===n.rank&&2===r.rank){const e=sJ(n,[1,-1]),t=sJ(r,[r.shape[0],r.shape[1]]),o=dJ(e,t);return sJ(o,[o.size])}if(2===n.rank&&1===r.rank){const e=sJ(r,[-1,1]),t=dJ(n,e);return sJ(t,[t.size])}{const e=sJ(r,[r.shape[0],r.shape[1]]);return dJ(n,e)}}});const QJ=JX({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(((e,t)=>KX(e,`tensors${t}`,"einsum"))),i={equation:e};return BX.runKernel(fq,o,i)}});const JJ=JX({elu_:function(e){const t={x:KX(e,"x","elu","float32")};return BX.runKernel(mq,t)}});const ZJ=JX({ensureShape_:function(e,t){const n=KX(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const eZ=JX({erf_:function(e){let t=KX(e,"x","erf");MU("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=fY(t,"float32"));const n={x:t};return BX.runKernel(yq,n)}});function tZ(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function nZ(e,t,n){const r=e.length+t.length,o=[];let i=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function rZ(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((t=>e[t]))]}function oZ(e,t){return nZ(e,t.map((e=>1)),t)}function iZ(e,t,n){MU(tZ(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function aZ(e,t){if(tZ(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function sZ(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function lZ(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const uZ=JX({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:KX(e,"x","max")},o={reductionIndices:t,keepDims:n};return BX.runKernel(Kq,r,o)}});const cZ=JX({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:KX(e,"x","min")},o={axis:t,keepDims:n};return BX.runKernel(rH,r,o)}});const dZ=JX({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=KX(e,"x","sum");"bool"===r.dtype&&(r=fY(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return BX.runKernel(KH,o,i)}});function pZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return DY(e);if(1!==e.rank&&null===n)return pZ(sJ(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return dZ(DY(e),n);if(t===1/0)return uZ(DY(e),n);if(t===-1/0)return cZ(DY(e),n);if("euclidean"===t||2===t)return wY(dZ(PY(DY(e),kY(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return uZ(dZ(DY(e),n[0]),n[1]-1);if(t===1/0)return uZ(dZ(DY(e),n[1]),n[0]);if(t===-1/0)return cZ(dZ(DY(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return wY(dZ(AY(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const hZ=JX({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=pZ(e=KX(e,"x","norm"),t,n);let i=o.shape;if(r){const t=qU(n,e.shape);i=oZ(o.shape,t)}return sJ(o,i)}});const fZ=JX({euclideanNorm_:function(e){return hZ(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const mZ=JX({exp_:function(e){const t={x:KX(e,"x","exp")};return BX.runKernel(bq,t)}});const gZ=JX({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=KX(e,"x","expandDims","string_or_numeric");MU(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},o={dim:t};return BX.runKernel(xq,r,o)}});const yZ=JX({expm1_:function(e){const t={x:KX(e,"x","expm1")};return BX.runKernel(wq,t)}});const vZ=JX({tile_:function(e,t){const n=KX(e,"x","tile","string_or_numeric");MU(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},o={reps:t};return BX.runKernel(fG,r,o)}});const bZ=JX({eye_:function(e,t,n){null==t&&(t=e);const r=hY([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),o=e<=t?e:t;for(let a=0;a<o;++a)r.set(1,a,a);const i=sJ(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return vZ(gZ(i,0),[n[0],1,1]);if(2===n.length)return vZ(gZ(gZ(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return vZ(gZ(gZ(gZ(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const xZ=JX({floor_:function(e){const t={x:KX(e,"x","floor","float32")};return BX.runKernel(kq,t)}});const wZ=JX({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={x:KX(e,"x","gather"),indices:KX(t,"indices","gather","int32")},i={axis:n,batchDims:r};return BX.runKernel(Iq,o,i)}});const AZ=JX({greater_:function(e,t){let n=KX(e,"a","greater","string_or_numeric"),r=KX(t,"b","greater","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Rq,o)}});const SZ=JX({greaterEqual_:function(e,t){let n=KX(e,"a","greaterEqual","string_or_numeric"),r=KX(t,"b","greaterEqual","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Nq,o)}});const CZ=JX({imag_:function(e){const t={input:KX(e,"input","imag")};return BX.runKernel(Mq,t)}});const kZ=JX({isFinite_:function(e){const t={x:KX(e,"x","isFinite")};return BX.runKernel(Dq,t)}});const EZ=JX({isInf_:function(e){const t={x:KX(e,"x","isInf")};return BX.runKernel(Lq,t)}});const TZ=JX({isNaN_:function(e){const t={x:KX(e,"x","isNaN")};return BX.runKernel($q,t)}});const IZ=JX({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:KX(e,"x","leakyRelu")},r={alpha:t};return BX.runKernel(jq,n,r)}});const OZ=JX({less_:function(e,t){let n=KX(e,"a","less","string_or_numeric"),r=KX(t,"b","less","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Fq,o)}});const RZ=JX({lessEqual_:function(e,t){let n=KX(e,"a","lessEqual","string_or_numeric"),r=KX(t,"b","lessEqual","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Bq,o)}});function NZ(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return BX.runKernel(Vq,{},r)}const _Z=JX({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const i=KX(e,"x","localResponseNormalization");MU(4===i.rank||3===i.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${i.rank}.`)),MU(BU(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let a=i,s=!1;3===i.rank&&(s=!0,a=sJ(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},u={depthRadius:t,bias:n,alpha:r,beta:o},c=BX.runKernel(Gq,l,u);return s?sJ(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const PZ=JX({log_:function(e){const t={x:KX(e,"x","log","float32")};return BX.runKernel(zq,t)}});const MZ=JX({log1p_:function(e){const t={x:KX(e,"x","log1p")};return BX.runKernel(Uq,t)}});const DZ=JX({neg_:function(e){const t={x:KX(e,"x","neg")};return BX.runKernel(uH,t)}});const LZ=JX({softplus_:function(e){const t={x:KX(e,"x","softplus")};return BX.runKernel(GH,t)}});const $Z=JX({logSigmoid_:function(e){const t=KX(e,"x","logSigmoid"),n=CY((e=>({value:DZ(LZ(DZ(e))),gradFunc:t=>xY(t,pJ(DZ(e)))})));return n(t)}});const jZ=JX({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=KX(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=CY(((e,n)=>{const r=uZ(e,t,!0),o=MY(e,r),i=MY(fY(o,"float32"),PZ(dZ(mZ(o),t,!0)));n([i]);return{value:i,gradFunc:(e,n)=>{const[r]=n,o=mZ(r);return MY(e,xY(dZ(e,t,!0),o))}}}));return r(n)}});const FZ=JX({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=KX(e,"x","logSumExp"),o=qU(t,r.shape),i=uZ(r,o,!0),a=MY(r,i),s=mZ(a),l=dZ(s,o),u=PZ(l),c=yY(sJ(i,u.shape),u);if(n){const e=oZ(c.shape,o);return sJ(c,e)}return c}});const BZ=JX({logicalAnd_:function(e,t){const n=KX(e,"a","logicalAnd","bool"),r=KX(t,"b","logicalAnd","bool");jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Wq,o)}});const VZ=JX({logicalNot_:function(e){const t={x:KX(e,"x","logicalNot","bool")};return BX.runKernel(qq,t)}});const zZ=JX({logicalOr_:function(e,t){const n=KX(e,"a","logicalOr","bool"),r=KX(t,"b","logicalOr","bool");jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(Hq,o)}});const UZ=JX({logicalXor_:function(e,t){const n=KX(e,"a","logicalXor","bool"),r=KX(t,"b","logicalXor","bool");return jY(n.shape,r.shape),BZ(zZ(e,t),VZ(BZ(e,t)))}}),WZ=2147483648;const qZ=JX({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=KX(e,"sortedSequence","searchSorted"),o=KX(t,"values","searchSorted"),i=r.shape[r.shape.length-1],a=o.shape[o.shape.length-1],s=sJ(r,[-1,i]),l=sJ(o,[-1,a]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if($U(l.shape)>=WZ)throw new Error("values tensor size must less than 2147483648");if(s.shape[1]>=WZ)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${s.shape[1]}`);const u={sortedSequence:s,values:l},c={side:n};return BX.runKernel(FH,u,c)}});function HZ(e,t){return qZ(e,t,"left")}const GZ=JX({maxPool_:function(e,t,n,r,o){const i=KX(e,"x","maxPool");let a=i,s=!1;3===i.rank&&(s=!0,a=sJ(i,[1,i.shape[0],i.shape[1],i.shape[2]])),MU(4===a.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`)),MU(rJ(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),aJ("maxPool",r,o);const l={x:a},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o},c=BX.runKernel(Qq,l,u);return s?sJ(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const XZ=JX({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=KX(e,"x","maxPool3d");let s=a,l=!1;4===a.rank&&(l=!0,s=sJ(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),MU(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),MU("NDHWC"===i,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),aJ("maxPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i},d=BX.runKernel(Zq,u,c);return l?sJ(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const KZ=JX({maxPoolWithArgmax_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i={x:KX(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:o},s=BX.runKernel(tH,i,a);return{result:s[0],indexes:s[1]}}});const YZ=JX({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:KX(e,"x","mean")},o={axis:t,keepDims:n};return BX.runKernel(nH,r,o)}});function QZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(sW(e),"complex64"===t){const t=QZ(e,"float32"),n=QZ(e,"float32");return ZX(t,n)}const n=aW($U(e),t);return BX.makeTensor(n,e,t)}function JZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(sW(e),"complex64"===t){const t=JZ(e,"float32"),n=QZ(e,"float32");return ZX(t,n)}const n=iW($U(e),t);return BX.makeTensor(n,e,t)}function ZZ(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=KX(e,"x","meshgrid",e instanceof xX?e.dtype:"float32");if(void 0===t)return[r];let o=KX(t,"y","meshgrid",t instanceof xX?t.dtype:"float32");const i=$U(r.shape),a=$U(o.shape);return"xy"===n?(r=sJ(r,[1,-1]),o=sJ(o,[-1,1]),[dJ(JZ([a,1],r.dtype),r),dJ(o,JZ([1,i],o.dtype))]):(r=sJ(r,[-1,1]),o=sJ(o,[1,-1]),[dJ(r,JZ([1,a],r.dtype)),dJ(JZ([i,1],o.dtype),o)])}const e0=JX({minimum_:function(e,t){let n=KX(e,"a","minimum"),r=KX(t,"b","minimum");[n,r]=PX(n,r),"bool"===n.dtype&&(n=fY(n,"int32"),r=fY(r,"int32")),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(oH,o)}});const t0=JX({mirrorPad_:function(e,t,n){MU("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=KX(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");MU(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const o="reflect"===n?1:0;for(let s=0;s<r.rank;s++)MU(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),MU(t[s][0]>=0&&t[s][0]<=r.shape[s]-o&&t[s][1]>=0&&t[s][1]<=r.shape[s]-o,(()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-o} or less than 0 for input of shape ${r.shape}`));const i={paddings:t,mode:n},a={x:r};return BX.runKernel(iH,a,i)}});const n0=JX({mod_:function(e,t){let n=KX(e,"a","mod"),r=KX(t,"b","mod");[n,r]=PX(n,r);const o={a:n,b:r};return BX.runKernel(aH,o)}});const r0=JX({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=qU(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=KX(e,"x","moments")).shape),r=YZ(e,n,t);let o=r.shape;t||(o=oZ(r.shape,n));const i=AY(MY(fY(e,"float32"),sJ(r,o)));return{mean:r,variance:YZ(i,n,t)}}});const o0=JX({multiRNNCell_:function(e,t,n,r){const o=KX(t,"data","multiRNNCell"),i=YX(n,"c","multiRNNCell"),a=YX(r,"h","multiRNNCell");let s=o;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,i[d],a[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const i0=JX({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=KX(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const s={logits:1===a?sJ(o,[1,-1]):o},l={numSamples:t,seed:n,normalized:r},u=BX.runKernel(sH,s,l);return 1===a?sJ(u,[u.size]):u}});const a0=JX({notEqual_:function(e,t){let n=KX(e,"a","notEqual","string_or_numeric"),r=KX(t,"b","notEqual","string_or_numeric");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(cH,o)}});const s0=JX({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:KX(e,"indices","oneHot","int32")},a={dtype:o,depth:t,onValue:n,offValue:r};return BX.runKernel(mH,i,a)}});const l0=JX({onesLike_:function(e){const t={x:KX(e,"x","onesLike")};return BX.runKernel(fH,t)}});const u0=JX({outerProduct_:function(e,t){const n=KX(e,"v1","outerProduct"),r=KX(t,"v2","outerProduct");MU(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const o=sJ(n,[-1,1]),i=sJ(r,[1,-1]);return dJ(o,i)}});const c0=JX({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=KX(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},i={x:r};return BX.runKernel(yH,i,o)}});const d0=JX({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return MU(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),c0(e,[t],n)}});const p0=JX({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return MU(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),c0(e,t,n)}});const h0=JX({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return MU(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),c0(e,t,n)}});const f0=JX({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return MU(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),c0(e,t,n)}});const m0=JX({spaceToBatchND_:function(e,t,n){const r=KX(e,"x","spaceToBatchND");MU(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),MU(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),MU(r.shape.reduce(((e,r,o)=>o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const o={x:r},i={blockShape:t,paddings:n};return BX.runKernel(YH,o,i)}});const g0=JX({pool_:function(e,t,n,r,o,i,a){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");const s=KX(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=sJ(s,[1,s.shape[0],s.shape[1],s.shape[2]])),MU(rJ(i,o),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${o}'`));const c=GQ(l.shape,t,i,o,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),o=r.map((e=>Math.floor(e/2))),i=r.map(((e,t)=>e-o[t]));return r.map(((e,t)=>[o[t],i[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),o=n.map((e=>e[1])),i=e.concat(r,o),a=t.map(((e,t)=>(e-i[t]%e)%e)),s=o.map(((e,t)=>e+a[t])),l=t.map(((e,t)=>[r[t],s[t]])),u=t.map(((e,t)=>[0,a[t]]));return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",y=h?l:m0(l,d,f),v=("avg"===n?()=>lJ(y,t,i,g,a):()=>GZ(y,t,i,g,a))(),b=h?v:gJ(v,d,m);return u?sJ(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const y0=JX({prelu_:function(e,t){const n={x:KX(e,"x","prelu"),alpha:KX(t,"alpha","prelu")};return BX.runKernel(bH,n)}});const v0=JX({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=KX(e,"x","prod");"bool"===r.dtype&&(r=fY(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return BX.runKernel(xH,o,i)}});const b0=JX({raggedGather_:function(e,t,n,r){const o={paramsNestedSplits:e.map(((e,t)=>KX(e,`tensors${t}`,"raggedGather","int32"))),paramsDenseValues:KX(t,"paramsDenseValues","raggedGather"),indices:KX(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},a=BX.runKernel(wH,o,i);return{outputNestedSplits:a.slice(0,a.length-1),outputDenseValues:a[a.length-1]}}});const x0=JX({raggedRange_:function(e,t,n){const r=KX(e,"starts","raggedRange"),o={starts:r,limits:KX(t,"limits","raggedRange",r.dtype),deltas:KX(n,"deltas","raggedRange",r.dtype)},i=BX.runKernel(AH,o);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}});const w0=JX({raggedTensorToTensor_:function(e,t,n,r,o){const i=KX(e,"shape","raggedTensorToTensor","int32"),a=KX(t,"values","raggedTensorToTensor"),s={shape:i,values:a,defaultValue:KX(n,"defaultValue","raggedTensorToTensor",a.dtype),rowPartitionTensors:r.map(((e,t)=>KX(e,`tensors${t}`,"raggedTensorToTensor","int32")))},l={rowPartitionTypes:o};return BX.runKernel(SH,s,l)}});const A0=JX({rand_:function(e,t,n){sW(e);const r=$U(e);let o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);o=new Uint8Array(r)}for(let i=0;i<r;i++)o[i]=t();return BX.makeTensor(o,e,n)}});var S0=n(34334);class C0{constructor(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=o||Math.random();this.random=S0.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,o,i;do{r=2*this.random()-1,o=2*this.random()-1,i=r*r+o*o}while(i>=1||0===i);const a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*o*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class k0{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const o=r||Math.random();this.randu=S0.alea(o.toString()),this.randn=new C0(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,o,i;for(;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-i+Math.log(i)),o=this.randu(),o<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class E0{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=S0.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const T0=JX({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;if(sW(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const i=new k0(t,n,r,o),a=hY(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const I0=JX({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(sW(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const i=new C0(t,n,r,!1,o),a=hY(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const O0=JX({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return I0(e,0,1,t,n)}});const R0=JX({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;sW(e);const i=hY(e,r),a=new E0(t,n,null,o);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});const N0=JX({randomUniformInt_:function(e,t,n,r){return R0(e,t,n,"int32",r)}});function _0(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:r};return BX.runKernel(CH,{},o)}const P0=JX({real_:function(e){const t={input:KX(e,"input","real")};return BX.runKernel(kH,t)}});const M0=JX({reciprocal_:function(e){const t={x:KX(e,"x","reciprocal")};return BX.runKernel(EH,t)}});const D0=JX({relu_:function(e){const t={x:KX(e,"x","relu")};return BX.runKernel(TH,t)}});const L0=JX({relu6_:function(e){const t={x:KX(e,"x","relu6")};return BX.runKernel(PH,t)}});const $0=JX({reverse_:function(e,t){const n={x:KX(e,"x","reverse")},r={dims:t};return BX.runKernel(MH,n,r)}});const j0=JX({reverse1d_:function(e){const t=KX(e,"x","reverse");return MU(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),$0(t,0)}});const F0=JX({reverse2d_:function(e,t){const n=KX(e,"x","reverse");return MU(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),$0(n,t)}});const B0=JX({reverse3d_:function(e,t){const n=KX(e,"x","reverse");return MU(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),$0(n,t)}});const V0=JX({reverse4d_:function(e,t){const n=KX(e,"x","reverse");return MU(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),$0(n,t)}});const z0=JX({round_:function(e){const t={x:KX(e,"x","round")};return BX.runKernel(DH,t)}});const U0=JX({rsqrt_:function(e){const t={x:KX(e,"x","rsqrt","float32")};return BX.runKernel(LH,t)}});const W0=JX({selu_:function(e){const t={x:KX(e,"x","selu")};return BX.runKernel(VH,t)}});const q0=JX({separableConv2d_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=KX(e,"x","separableConv2d"),l=KX(t,"depthwiseFilter","separableConv2d"),u=KX(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=sJ(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");MU(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),MU(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),MU(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),MU(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),MU(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const p=l.shape[2],h=l.shape[3];MU(u.shape[2]===p*h,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*h}, but got ${u.shape[2]}.`));const f=WJ(c,l,r,o,a,i),m=NJ(f,u,1,"valid",a);return d?sJ(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const H0=async function(e,t){const n=KX(e,"x","setdiff1d"),r=KX(t,"y","setdiff1d");MU(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),MU(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),MU(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const o=await n.data(),i=await r.data(),a=new Set(i);let s=0;for(let c=0;c<o.length;c++)a.has(o[c])||s++;const l=new gX([s],n.dtype),u=new gX([s],"int32");for(let c=0,d=0;c<o.length;c++)a.has(o[c])||(l.values[d]=o[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const G0=JX({sign_:function(e){const t={x:KX(e,"x","sign")};return BX.runKernel(qH,t)}});const X0=JX({sin_:function(e){const t={x:KX(e,"x","sin","float32")};return BX.runKernel(UH,t)}});const K0=JX({sinh_:function(e){const t={x:KX(e,"x","sinh")};return BX.runKernel(WH,t)}});const Y0=JX({slice1d_:function(e,t,n){const r=KX(e,"x","slice1d");return MU(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),hJ(r,[t],[n])}});const Q0=JX({slice2d_:function(e,t,n){const r=KX(e,"x","slice2d");return MU(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),hJ(r,t,n)}});const J0=JX({slice3d_:function(e,t,n){const r=KX(e,"x","slice3d");return MU(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),hJ(r,t,n)}});const Z0=JX({slice4d_:function(e,t,n){const r=KX(e,"x","slice4d");return MU(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),hJ(r,t,n)}});const e1=JX({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=KX(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},o={dim:t};return BX.runKernel(JH,r,o)}});const t1=JX({fft_:function(e){MU("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return BX.runKernel(Aq,t)}});const n1=JX({ifft_:function(e){MU("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return BX.runKernel(Pq,t)}});const r1=JX({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const o=sJ(e,[n,t]);r=n1(o)}else{const o=[n,2*(t-1)],i=sJ(P0(e),[n,t]),a=sJ(CZ(e),[n,t]),s=$0(hJ(i,[0,1],[n,t-2]),1),l=xY($0(hJ(a,[0,1],[n,t-2]),1),kY(-1)),u=cJ([i,s],1),c=cJ([a,l],1),d=sJ(ZX(u,c),[o[0],o[1]]);r=n1(d)}if(r=P0(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=sJ(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const o1=JX({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:KX(e,"x","split")},o={numOrSizeSplits:t,axis:n};return BX.runKernel(QH,r,o)}});const i1=JX({rfft_:function(e,t){MU("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let o;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,o=hJ(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,o=cJ([e,QZ(r)],e.shape.length-1),n=t}else o=e;const i=SY(o),a=sJ(ZX(o,i),[r,n]),s=t1(a),l=Math.floor(n/2)+1,u=P0(s),c=CZ(s),d=o1(u,[l,n-l],u.shape.length-1),p=o1(c,[l,n-l],c.shape.length-1),h=o.shape.slice();return h[o.shape.length-1]=l,sJ(ZX(d[0],p[0]),h)}});const a1=JX({squaredDifference_:function(e,t){let n=KX(e,"a","squaredDifference"),r=KX(t,"b","squaredDifference");[n,r]=PX(n,r),jY(n.shape,r.shape);const o={a:n,b:r};return BX.runKernel(oG,o,{})}});const s1=JX({squeeze_:function(e,t){const n=KX(e,"x","squeeze","string_or_numeric");return sJ(n,HU(n.shape,t).newShape)}});const l1=JX({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=YX(e,"tensors","stack","string_or_numeric");MU(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&MU(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,o={axis:t};return BX.runKernel(gH,r,o)}});const u1=JX({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:KX(e,"x","step")},r={alpha:t};return BX.runKernel(AG,n,r)}});const c1=JX({stridedSlice_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:KX(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};return BX.runKernel(sG,u,c)}});const d1=JX({tan_:function(e){const t={x:KX(e,"x","tan","float32")};return BX.runKernel(pG,t)}});function p1(e,t){LU(e);const n=HX(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return eK(e,null,n,t)}function h1(e,t,n){if(LU(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=HX(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return eK(e,t,r,n)}function f1(e,t,n){if(LU(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=HX(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return eK(e,t,r,n)}function m1(e,t,n){if(LU(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=HX(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return eK(e,t,r,n)}function g1(e,t,n){if(LU(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=HX(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return eK(e,t=t||r,r,n)}function y1(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(i+` update.rank < ${o}. `);if(e.length<r+(n.rank-o))throw new Error(i+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(let a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${t.shape[a]}).`);for(let a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+` updates.shape[${a+o}] (${n.shape[a+o]}) != shape[${a+o}] (${e[a+o]})`)}function v1(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}y1(n,t,e)}function b1(e,t,n){const r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length;let a=1;for(let l=o;l<i;++l)a*=n[l];const s=o<1?1:o;return{sliceRank:o,numUpdates:$U(t.shape)/s,sliceSize:a,strides:[...tW(n.slice(0,o)),1],outputSize:$U(n)}}const x1=JX({tensorScatterUpdate_:function(e,t,n){const r=KX(e,"tensor","tensorScatterupdate"),o=KX(t,"indices","tensorScatterupdate","int32"),i=KX(n,"updates","tensorScatterupdate");if(v1(i,o,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const a={tensor:r,indices:o,updates:i};return BX.runKernel(jH,a,{})}});const w1=JX({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=KX(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${t}`);const i={x:r},a={k:t,sorted:n},[s,l]=BX.runKernel(mG,i,a);return{values:s,indices:l}}});const A1=JX({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(sW(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new C0(t,n,r,!0,o),a=hY(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const S1=JX({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=KX(e,"x","unique","string_or_numeric");MU(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},o={axis:t},[i,a]=BX.runKernel(vG,r,o);return{values:i,indices:a}}});const C1=JX({unsortedSegmentSum_:function(e,t,n){const r=KX(e,"x","unsortedSegmentSum"),o=KX(t,"segmentIds","unsortedSegmentSum","int32");MU(BU(n),(()=>"numSegments must be of dtype int"));const i={x:r,segmentIds:o},a={numSegments:n};return BX.runKernel(xG,i,a)}});const k1=JX({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=KX(e,"x","unstack","string_or_numeric");MU(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},o={axis:t};return BX.runKernel(bG,r,o)}});function E1(e,t){return qZ(e,t,"right")}function T1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return BX.makeVariable(e,t,n,r)}function I1(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=hY(e,"int32"),o=hY([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const t=r.indexToLoc(n[i]),a=i*e.length;o.values.set(t,a)}return o.toTensor()}const O1=async function(e){const t=KX(e,"condition","whereAsync","bool"),n=await t.data(),r=I1(t.shape,n);return e!==t&&t.dispose(),r};const R1=async function(e,t,n){const r=KX(e,"tensor","boolMask"),o=KX(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape;MU(a>0,(()=>"mask cannot be scalar")),DU(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=i;m<i+a;m++)l*=s[m];const u=s.slice(0,i).concat([l],s.slice(i+a)),c=sJ(r,u),d=sJ(o,[-1]),p=await O1(d),h=s1(p,[1]),f=wZ(c,h,i);return e!==r&&r.dispose(),t!==o&&o.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const N1=JX({transpose_:function(e,t,n){const r=KX(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),MU(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{MU(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const o={x:r},i={perm:t};return"complex64"===r.dtype?iK((()=>{let e=P0(r),t=CZ(r);return e=BX.runKernel(yG,{x:e},i),t=BX.runKernel(yG,{x:t},i),n&&(t=DZ(t)),ZX(e,t)})):BX.runKernel(yG,o,i)}});const _1=JX({movingAverage_:function(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const i=KX(e,"v","movingAverage"),a=KX(t,"x","movingAverage"),s=KX(n,"decay","movingAverage");!function(e,t){MU(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}(i,a),MU(FU(i.shape,a.shape),(()=>"Shape mismatch in v and x"));const l=kY(1),u=MY(l,s);let c=xY(MY(a,i),u);if(o){MU(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=KX(r,"step","movingAverage");c=bY(c,MY(l,PY(s,e)))}return yY(i,c)}});const P1=JX({scatterND_:function(e,t,n){sW(n);const r=KX(e,"indices","scatterND","int32"),o=KX(t,"updates","scatterND");v1(o,r,n);const i={indices:r,updates:o},a={shape:n};return BX.runKernel($H,i,a)}});const M1=JX({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;sW(n);const o=KX(e,"sparseIndices","sparseToDense","int32"),i=KX(t,"sparseValues","sparseToDense","string_or_numeric"),a=KX(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${o}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a);const s={sparseIndices:o,sparseValues:i,defaultValue:a},l={outputShape:n};return BX.runKernel(rG,s,l)}});const D1=JX({gatherND_:function(e,t){const n=KX(t,"indices","gatherND","int32"),r={params:KX(e,"x","gatherND","string_or_numeric"),indices:n};return BX.runKernel(Oq,r)}});const L1=JX({dropout_:function(e,t,n,r){const o=KX(e,"x","dropout");if(MU("float32"===o.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`)),MU(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof xX?o.clone():o;const i=function(e,t){if(null==t)return e.shape.slice();if(FU(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=bY(xZ(yY(R0(i,0,1,"float32",r),a)),a);return xY(o,s)}});function $1(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function j1(e,t,n){const r=1-e%2,o=new Float32Array(e);for(let i=0;i<e;++i){const a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return p1(o,"float32")}const F1=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=KX(e,"predictions","inTopK"),o=KX(t,"targets","inTopK");MU(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),MU(r.rank-1===o.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${o.rank}`)),DU(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];MU(n>0&&n<=i,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`));const a=await r.data(),s=await o.data(),[l,u]=[a.length/i,i],c=GU("bool",l);for(let d=0;d<l;d++){const e=d*u,t=a.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let o=0;o<n;o++)if(r[o].index===s[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),tK(c,o.shape,"bool")};const B1=JX({conv2DBackpropFilter_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=sJ(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=sJ(t,[1,t.shape[0],t.shape[1],t.shape[2]])),MU(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),MU(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),MU(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?l.shape[3]:l.shape[1];MU(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),MU(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),aJ("conv2dDerFilter",o,a);const d={x:s,dy:l},p={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,filterShape:n};return BX.runKernel(KW,d,p)}});function V1(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return xY(e,u1(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function z1(e,t){let n=t;const r=$Y(e.shape,t.shape);return r.length>0&&(n=dZ(n,r)),sJ(n,e.shape)}function U1(e,t,n,r){if("linear"===t)return e;if("relu"===t)return D0(e);if("elu"===t)return JJ(e);if("relu6"===t)return L0(e);if("prelu"===t)return y0(e,n);if("leakyrelu"===t)return IZ(e,r);if("sigmoid"===t)return pJ(e);throw new Error(`Unknown fused activation ${t}.`)}const W1=(e,t)=>!(e>0)||"linear"===t;const q1=JX({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:i="NHWC",dilations:a=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===W1(BX.state.gradientDepth,u)){MU("NHWC"===i,(()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let e=NJ(t,n,r,o,i,a,s);return null!=l&&(e=yY(e,l)),U1(e,u,c,d)}const p=KX(t,"x","conv2d","float32"),h=KX(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=sJ(p,[1,p.shape[0],p.shape[1],p.shape[2]])),MU(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),MU(4===h.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`)),aJ("fused conv2d",o,s);const g="NHWC"===i?f.shape[3]:f.shape[1];MU(h.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`)),MU(rJ(r,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${a}'`));const y=KQ(f.shape,h.shape,r,a,o,s);let v,b;if(null!=l&&(v=KX(l,"bias","fused conv2d"),[v]=PX(v,p),"NHWC"===i?jY(y.outShape,v.shape):(MU(v.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`)),MU(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],(()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${y.outChannels})`)))),null!=c){const e=c.shape;if(MU(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)MU(1===e[0]||e[0]===y.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`));else if(3===e.length)try{jY(e,y.outShape)}catch(Nve){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}b=KX(c,"prelu weights","fused conv2d")}const x=(e,t)=>{MU("NHWC"===i,(()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`));const[n,s,l,c]=t,d=V1(e,l,u);MU(nJ(a),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const p=[PJ(s.shape,d,n,r,o),B1(s,d,n.shape,r,o)];if(null!=c){const e=z1(c,d);p.push(e)}return p},w={x:f,filter:h,bias:v,preluActivationWeights:b},A={strides:r,pad:o,dataFormat:i,dilations:a,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=CY(((e,t,n)=>{let r=BX.runKernel(EG,w,A);return n([t,e,r]),m&&(r=sJ(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,h)}{const e=CY(((e,t,n,r)=>{let o=BX.runKernel(EG,w,A);return r([t,e,o,n]),m&&(o=sJ(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:x}}));return e(f,h,v)}}});const H1=JX({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=sJ(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=sJ(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,filterShape:n};return BX.runKernel(lq,u,c)}});const G1=JX({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=sJ(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,inputShape:e},d=BX.runKernel(uq,u,c);return l?sJ(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const X1=JX({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:i="NHWC",dilations:a=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===W1(BX.state.gradientDepth,u)){let e=WJ(t,n,r,o,i,a,s);return null!=l&&(e=yY(e,l)),U1(e,u,c,d)}const p=KX(t,"x","depthwiseConv2d","float32"),h=KX(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=sJ(p,[1,p.shape[0],p.shape[1],p.shape[2]])),MU(4===f.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),MU(4===h.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),MU(f.shape[3]===h.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),null==a&&(a=[1,1]),MU(rJ(r,a),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${a}'`)),aJ("fused depthwiseConv2d",o,s);const g=KQ(f.shape,h.shape,r,a,o,s,!0);let y,v;null!=l&&(y=KX(l,"bias","fused conv2d"),[y]=PX(y,p),jY(g.outShape,y.shape)),null!=c&&(v=KX(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{MU(nJ(a),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`));const[n,i,l,c]=t,d=V1(e,l,u),p=G1(i.shape,d,n,r,o,a,s),h=H1(i,d,n.shape,r,o,a,s);if(null!=c){return[p,h,z1(y,d)]}return[p,h]},x={x:f,filter:h,bias:y,preluActivationWeights:v},w={strides:r,pad:o,dataFormat:i,dilations:a,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=CY(((e,t,n)=>{let r=BX.runKernel(TG,x,w);return n([t,e,r]),m&&(r=sJ(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,h)}{const e=CY(((e,t,n,r)=>{let o=BX.runKernel(TG,x,w);return r([t,e,o,n]),m&&(o=sJ(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:b}}));return e(f,h,y)}}});const K1=JX({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:o=!1,bias:i,activation:a="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}=e;if(!1===W1(BX.state.gradientDepth,a)){let e=dJ(t,n,r,o);return null!=i&&(e=yY(e,i)),U1(e,a,s,l)}let u=KX(t,"a","fused matMul"),c=KX(n,"b","fused matMul");[u,c]=PX(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=o?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=o?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=$U(m),v=$U(g);MU(d===p,(()=>`Error in fused matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${r} and transposeB=${o} must match.`));const b=jY(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),x=sJ(u,r?[y,d,h]:[y,h,d]),w=sJ(c,o?[v,f,p]:[v,p,f]);let A,S;null!=i&&(A=KX(i,"bias","fused matMul"),[A]=PX(A,u),jY(b,A.shape)),null!=s&&(S=KX(s,"prelu weights","fused matMul"));const C=(e,t)=>{const[n,s,l,u]=t,c=V1(sJ(e,l.shape),l,a);let d,p;if(r||o?!r&&o?(d=dJ(c,s,!1,!1),p=dJ(c,n,!0,!1)):r&&!o?(d=dJ(s,c,!1,!0),p=dJ(n,c,!1,!1)):(d=dJ(s,c,!0,!0),p=dJ(c,n,!0,!0)):(d=dJ(c,s,!1,!0),p=dJ(n,c,!0,!1)),null!=i){return[d,p,z1(u,c)]}return[d,p]},k={a:x,b:w,bias:A,preluActivationWeights:S},E={transposeA:r,transposeB:o,activation:a,leakyreluAlpha:l};if(null==i){const e=CY(((e,t,n)=>{const r=BX.runKernel(kG,k,E);return n([e,t,r]),{value:sJ(r,b),gradFunc:C}}));return e(x,w)}{const e=CY(((e,t,n,r)=>{const o=BX.runKernel(kG,k,E);return r([e,t,o,n]),{value:sJ(o,b),gradFunc:C}}));return e(x,w,A)}}});const Y1=JX({hammingWindow_:function(e){return j1(e,.54,.46)}});const Q1=JX({hannWindow_:function(e){return j1(e,.5,.5)}});const J1=JX({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0;const a=[];for(;i+t<=e.size;)a.push(hJ(e,i,t)),i+=n;if(r)for(;i<e.size;){const r=i+t-e.size,s=cJ([hJ(e,i,t-r),_Y([r],o)]);a.push(s),i+=n}return 0===a.length?h1([],[0,t]):sJ(cJ(a),[a.length,t])}});const Z1=JX({stft_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Q1;null==r&&(r=$1(t));const i=J1(e,t,n),a=xY(i,o(t));return i1(a,r)}});const e2=JX({cropAndResize_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=KX(e,"image","cropAndResize"),s=KX(t,"boxes","cropAndResize","float32"),l=KX(n,"boxInd","cropAndResize","int32"),u=s.shape[0];MU(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),MU(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`)),MU(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`)),MU(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),MU(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),MU("bilinear"===o||"nearest"===o,(()=>`method must be bilinear or nearest, but was ${o}`));const c={image:a,boxes:s,boxInd:l},d={method:o,extrapolationValue:i,cropSize:r};return BX.runKernel(oq,c,d)}});const t2=JX({flipLeftRight_:function(e){const t=KX(e,"image","flipLeftRight","float32");MU(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return BX.runKernel(Cq,n,{})}});const n2=JX({grayscaleToRGB_:function(e){const t=KX(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];MU(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),MU(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const o=new Array(t.rank);return o.fill(1,0,n),o[n]=3,vZ(t,o)}});const r2=JX({rgbToGrayscale_:function(e){const t=KX(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];MU(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),MU(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const o=t.dtype,i=fY(t,"float32"),a=p1([.2989,.587,.114]);let s;switch(t.rank){case 2:s=QJ("ij,j->i",i,a);break;case 3:s=QJ("ijk,k->ij",i,a);break;case 4:s=QJ("ijkl,l->ijk",i,a);break;case 5:s=QJ("ijklm,m->ijkl",i,a);break;case 6:s=QJ("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return s=gZ(s,-1),fY(s,o)}});const o2=JX({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=KX(e,"image","rotateWithOffset","float32");MU(4===o.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`));const i={image:o},a={radians:t,fillValue:n,center:r};return BX.runKernel(CG,i,a)}});function i2(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);const a=e.shape[0];return n=Math.min(n,a),MU(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),MU(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),MU(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),MU(1===t.rank,(()=>"scores must be a 1D tensor")),MU(t.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${t.shape[0]}`)),MU(0<=i&&i<=1,(()=>`softNmsSigma must be in [0, 1], but was '${i}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}const a2=JX({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=KX(e,"boxes","nonMaxSuppression","float32"),a=KX(t,"scores","nonMaxSuppression","float32"),s=i2(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return BX.runKernel(dH,{boxes:i,scores:a},l)}});function s2(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,o=e.length,i=0,a=!1;for(;r<o;){i=r+(o-r>>>1);const s=n(t,e[i]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||l2)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function l2(e,t){return e>t?1:e<t?-1:0}function u2(e,t,n,r,o){return p2(e,t,n,r,o,0)}function c2(e,t,n,r,o,i){return p2(e,t,n,r,o,0,!1,i,!0)}function d2(e,t,n,r,o,i){return p2(e,t,n,r,o,i,!0)}function p2(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>o&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(m2);const c=i>0?-.5/i:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:i,suppressBeginIndex:a}=t;if(n<o)break;let s=!1;for(let l=d.length-1;l>=a;--l){const n=h2(e,i,d[l]);if(n>=r){s=!0;break}if(t.score=t.score*f2(r,c,n),t.score<=o)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(i),p.push(t.score)):t.score>o&&s2(u,t,m2))}const h=d.length,f=n-h;s&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return a&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function h2(e,t,n){const r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),h=(s-i)*(l-a),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(i,u),g=Math.max(a,c),y=Math.min(s,d),v=Math.min(l,p),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(h+f-b)}function f2(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function m2(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const g2=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=KX(e,"boxes","nonMaxSuppressionAsync"),a=KX(t,"scores","nonMaxSuppressionAsync"),s=i2(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),u=l[0],c=l[1],{selectedIndices:d}=u2(u,c,n,r,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),p1(d,"int32")};const y2=JX({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=KX(e,"boxes","nonMaxSuppression"),s=KX(t,"scores","nonMaxSuppression"),l=i2(a,s,n,r,o,i);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:a,scores:s},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i},d=BX.runKernel(hH,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const v2=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=KX(e,"boxes","nonMaxSuppressionAsync"),s=KX(t,"scores","nonMaxSuppressionAsync"),l=i2(a,s,n,r,o,i);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([a.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=d2(c,d,n,r,o,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:p1(p,"int32"),selectedScores:p1(h)}};const b2=JX({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=KX(e,"boxes","nonMaxSuppression"),s=KX(t,"scores","nonMaxSuppression"),l=i2(a,s,n,r,o,null),u={boxes:a,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},d=BX.runKernel(pH,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const x2=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=KX(e,"boxes","nonMaxSuppressionAsync"),s=KX(t,"scores","nonMaxSuppressionAsync"),l=i2(a,s,n,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([a.data(),s.data()]),{selectedIndices:f,validOutputs:m}=c2(p,h,u,c,d,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:p1(f,"int32"),validOutputs:kY(m,"int32")}};const w2=JX({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=KX(e,"images","resizeBilinear");MU(3===o.rank||4===o.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`)),MU(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),MU(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=sJ(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=BX.runKernel(NH,s,l);return a?sJ(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const A2=JX({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=KX(e,"images","resizeNearestNeighbor");MU(3===o.rank||4===o.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`)),MU(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),MU("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),MU(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=sJ(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=BX.runKernel(OH,s,l);return a?sJ(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const S2=JX({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=KX(e,"image","threshold"),i=o.shape[0]*o.shape[1];let a,s,l,u,c=xY(p1([r]),255);if(MU(3===o.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`)),MU(3===o.shape[2]||1===o.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`)),MU("int32"===o.dtype||"float32"===o.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`)),MU("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===o.shape[2]){[a,s,l]=o1(o,[1,1,1],-1);const e=xY(a,.2989),t=xY(s,.587),n=xY(l,.114);u=yY(yY(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,o,i,a,s,l=p1([-1]),u=p1([0]),c=p1([0]);for(let d=0;d<e.size-1;d++){n=hJ(e,0,d+1),r=hJ(e,d+1),a=bY(dZ(n),t),s=bY(dZ(r),t);const p=dZ(xY(n,_0(0,n.size)));o=bY(p,dZ(n));const h=_Y(r.shape,n.size),f=yY(_0(0,r.size),h),m=xY(r,f);i=bY(dZ(m),dZ(r));const g=MY(o,i),y=MY(o,i),v=xY(a,s);c=xY(xY(v,g),y);const b=AZ(c,u);u=XJ(b,c,u),l=XJ(b,p1([d]),l)}return l}(wJ(fY(z0(u),"int32"),tK([]),256),i)}const d=n?RZ(u,c):AZ(u,c);return fY(xY(d,255),"int32")}});const C2=JX({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;const a=KX(e,"image","transform","float32"),s=KX(t,"transforms","transform","float32");MU(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),MU(2===s.rank&&(s.shape[0]===a.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),MU(null==i||2===i.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`));const l={image:a,transforms:s},u={interpolation:n,fillMode:r,fillValue:o,outputShape:i};return BX.runKernel(gG,l,u)}});const k2=JX({bandPart_:function(e,t,n){const r=KX(e,"a","bandPart");MU(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const o=r.shape,[i,a]=r.shape.slice(-2);let s,l;"number"===typeof t?(MU(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),MU(t<=i,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`)),s=KX(t<0?i:t,"numLower","bandPart")):(MU("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=XJ(OZ(t,0),i,e0(t,i))),"number"===typeof n?(MU(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),MU(n<=a,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`)),l=KX(n<0?a:n,"numUpper","bandPart")):(MU("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=XJ(OZ(n,0),a,e0(n,a)));const u=sJ(_0(0,i,1,"int32"),[-1,1]),c=_0(0,a,1,"int32"),d=MY(u,c),p=BZ(RZ(d,s),SZ(d,DZ(l))),h=QZ([i,a],r.dtype);return sJ(l1(k1(sJ(r,[-1,i,a])).map((e=>XJ(p,e,h)))),o)}});const E2=JX({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,MU(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)MU(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=o1(e,e.shape[0],0).map((e=>s1(e,[0])));MU(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let o=0;o<e.length;++o)n.push(BX.tidy((()=>{let e=r[o];if(o>0)for(let t=0;t<o;++t){const r=xY(dZ(xY(n[t],e)),n[t]);e=MY(e,r)}return bY(e,hZ(e,"euclidean"))})));return t?l1(n,0):n}});function T2(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return BX.tidy((()=>{MU(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let o=bZ(n),i=mY(e);const a=h1([[1]],[1,1]);let s=mY(a);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=i,l=s,u=o;[s,i,o]=BX.tidy((()=>{const t=hJ(i,[e,e],[n-e,1]),l=hZ(t),u=hJ(i,[e,e],[1,1]),c=XJ(AZ(u,0),h1([[-1]]),h1([[1]])),d=MY(u,xY(c,l)),p=bY(t,d);s=1===p.shape[0]?mY(a):cJ([a,hJ(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=DZ(bY(dJ(c,d),l)),f=hJ(i,[e,0],[n-e,r]),m=xY(h,s),g=N1(s);if(0===e)i=MY(f,dJ(m,dJ(g,f)));else{const t=MY(f,dJ(m,dJ(g,f)));i=cJ([hJ(i,[0,0],[e,r]),t],0)}const y=N1(m),v=hJ(o,[0,e],[n,o.shape[1]-e]);if(0===e)o=MY(v,dJ(dJ(v,s),y));else{const t=MY(v,dJ(dJ(v,s),y));o=cJ([hJ(o,[0,0],[n,e]),t],1)}return[s,i,o]})),aK([t,l,u])}return!t&&n>r&&(o=hJ(o,[0,0],[n,r]),i=hJ(i,[0,0],[r,r])),[o,i]}))}const I2=JX({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(MU(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return T2(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=k1(sJ(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];r.forEach((e=>{const[n,r]=T2(e,t);o.push(n),i.push(r)}));return[sJ(l1(o,0),e.shape),sJ(l1(i,0),e.shape)]}}});var O2;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(O2||(O2={}));const R2=JX({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O2.SUM_BY_NONZERO_WEIGHTS;const r=KX(e,"losses","computeWeightedLoss");let o=null;null!=t&&(o=KX(t,"weights","computeWeightedLoss"));const i=null==o?r:xY(r,o);if(n===O2.NONE)return i;if(n===O2.SUM)return dZ(i);if(n===O2.MEAN){if(null==o)return YZ(i);{const e=r.size/o.size,t=bY(dZ(i),dZ(o));return e>1?bY(t,kY(e)):t}}if(n===O2.SUM_BY_NONZERO_WEIGHTS){if(null==o)return bY(dZ(i),kY(r.size));{const e=xY(o,JZ(r.shape)),t=fY(dZ(a0(e,kY(0))),"float32");return bY(dZ(i),t)}}throw Error(`Unknown reduction: ${n}`)}});const N2=JX({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O2.SUM_BY_NONZERO_WEIGHTS;const o=KX(e,"labels","absoluteDifference"),i=KX(t,"predictions","absoluteDifference");let a=null;null!=n&&(a=KX(n,"weights","absoluteDifference")),DU(o.shape,i.shape,"Error in absoluteDifference: ");const s=DY(MY(o,i));return R2(s,a,r)}});const _2=JX({cosineDistance_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O2.SUM_BY_NONZERO_WEIGHTS;const i=KX(e,"labels","cosineDistance"),a=KX(t,"predictions","cosineDistance");let s=null;null!=r&&(s=KX(r,"weights","cosineDistance")),DU(i.shape,a.shape,"Error in cosineDistance: ");const l=kY(1),u=MY(l,dZ(xY(i,a),n,!0));return R2(u,s,o)}});const P2=JX({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O2.SUM_BY_NONZERO_WEIGHTS,o=KX(e,"labels","hingeLoss");const i=KX(t,"predictions","hingeLoss");let a=null;null!=n&&(a=KX(n,"weights","hingeLoss")),DU(o.shape,i.shape,"Error in hingeLoss: ");const s=kY(1);o=MY(xY(kY(2),o),s);const l=D0(MY(s,xY(o,i)));return R2(l,a,r)}});const M2=JX({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O2.SUM_BY_NONZERO_WEIGHTS;const i=KX(e,"labels","huberLoss"),a=KX(t,"predictions","huberLoss");let s=null;null!=n&&(s=KX(n,"weights","huberLoss")),DU(i.shape,a.shape,"Error in huberLoss: ");const l=kY(r),u=DY(MY(a,i)),c=e0(u,l),d=MY(u,c),p=yY(xY(kY(.5),AY(c)),xY(l,d));return R2(p,s,o)}});const D2=JX({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O2.SUM_BY_NONZERO_WEIGHTS;const i=KX(e,"labels","logLoss"),a=KX(t,"predictions","logLoss");let s=null;null!=n&&(s=KX(n,"weights","logLoss")),DU(i.shape,a.shape,"Error in logLoss: ");const l=kY(1),u=kY(r),c=DZ(xY(i,PZ(yY(a,u)))),d=xY(MY(l,i),PZ(yY(MY(l,a),u))),p=MY(c,d);return R2(p,s,o)}});const L2=JX({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O2.SUM_BY_NONZERO_WEIGHTS;const o=KX(e,"labels","meanSquaredError"),i=KX(t,"predictions","meanSquaredError");let a=null;null!=n&&(a=KX(n,"weights","meanSquaredError")),DU(o.shape,i.shape,"Error in meanSquaredError: ");const s=a1(o,i);return R2(s,a,r)}});const $2=JX({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O2.SUM_BY_NONZERO_WEIGHTS,i=KX(e,"multiClassLabels","sigmoidCrossEntropy");const a=KX(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=KX(n,"weights","sigmoidCrossEntropy")),DU(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=kY(r),t=kY(1),n=kY(.5);i=yY(xY(i,MY(t,e)),xY(n,e))}const l=function(e,t){const n=KX(e,"labels","sigmoidCrossEntropyWithLogits"),r=KX(t,"logits","sigmoidCrossEntropyWithLogits");DU(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=D0(r),i=xY(r,n),a=MZ(mZ(DZ(DY(r))));return yY(MY(o,i),a)}(i,a);return R2(l,s,o)}});const j2=JX({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O2.SUM_BY_NONZERO_WEIGHTS,i=KX(e,"onehotLabels","softmaxCrossEntropy");const a=KX(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=KX(n,"weights","softmaxCrossEntropy")),DU(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const e=kY(r),t=kY(1),n=kY(i.shape[1]);i=yY(xY(i,MY(t,e)),bY(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=CY(((e,t,r)=>{const o=FZ(t,[n],!0),i=MY(fY(t,"float32"),o);r([e,i]);const a=DZ(xY(i,e));return{value:dZ(a,[n]),gradFunc:(e,t)=>{const[r,o]=t,i=oZ(e.shape,[n]);return[xY(sJ(e,i),MY(fY(r,"float32"),mZ(o))),xY(sJ(e,i),MY(mZ(o),fY(r,"float32")))]}}}));return r(e,t)}(i,a);return R2(l,s,o)}});const F2=JX({sparseFillEmptyRows_:function(e,t,n,r){const o=KX(e,"indices","sparseFillEmptyRows","int32"),i=KX(t,"values","sparseFillEmptyRows"),a=KX(n,"denseShape","sparseFillEmptyRows","int32"),s=KX(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==o.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${o.shape}`);if(1!==i.rank)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(1!==a.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:o,values:i,denseShape:a,defaultValue:s},u=BX.runKernel(ZH,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const B2=JX({sparseReshape_:function(e,t,n){const r=KX(e,"inputIndices","sparseReshape","int32"),o=KX(t,"inputShape","sparseReshape","int32"),i=KX(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==o.rank)throw new Error(`Input shape should be Tensor1D but received shape ${o.shape}`);if(1!==i.rank)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const a={inputIndices:r,inputShape:o,newShape:i},s=BX.runKernel(eG,a);return{outputIndices:s[0],outputShape:s[1]}}});const V2=JX({sparseSegmentMean_:function(e,t,n){const r=KX(e,"data","sparseSegmentMean"),o=KX(t,"indices","sparseSegmentMean","int32"),i=KX(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${o.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${i.shape}`);const a={data:r,indices:o,segmentIds:i};return BX.runKernel(tG,a)}});const z2=JX({sparseSegmentSum_:function(e,t,n){const r=KX(e,"data","sparseSegmentSum"),o=KX(t,"indices","sparseSegmentSum","int32"),i=KX(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${o.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${i.shape}`);const a={data:r,indices:o,segmentIds:i};return BX.runKernel(nG,a)}});const U2=JX({stringNGrams_:function(e,t,n,r,o,i,a,s){const l=KX(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=KX(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:o,rightPad:i,padWidth:a,preserveShortSequences:s},d={data:l,dataSplits:u},p=BX.runKernel(lG,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});const W2={fft:t1,ifft:n1,rfft:i1,irfft:r1},q2={hammingWindow:Y1,hannWindow:Q1,frame:J1,stft:Z1},H2={flipLeftRight:t2,grayscaleToRGB:n2,resizeNearestNeighbor:A2,resizeBilinear:w2,rgbToGrayscale:r2,rotateWithOffset:o2,cropAndResize:e2,nonMaxSuppression:a2,nonMaxSuppressionAsync:g2,nonMaxSuppressionWithScore:y2,nonMaxSuppressionWithScoreAsync:v2,nonMaxSuppressionPadded:b2,nonMaxSuppressionPaddedAsync:x2,threshold:S2,transform:C2},G2={bandPart:k2,gramSchmidt:E2,qr:I2},X2={absoluteDifference:N2,computeWeightedLoss:R2,cosineDistance:_2,hingeLoss:P2,huberLoss:M2,logLoss:D2,meanSquaredError:L2,sigmoidCrossEntropy:$2,softmaxCrossEntropy:j2},K2={sparseFillEmptyRows:F2,sparseReshape:B2,sparseSegmentMean:V2,sparseSegmentSum:z2},Y2={stringNGrams:U2,stringSplit:JX({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=KX(e,"input","stringSplit","string"),o=KX(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==o.rank)throw new Error(`Delimiter should be a scalar but received shape ${o.shape}`);const i={skipEmpty:n},a={input:r,delimiter:o},s=BX.runKernel(uG,a,i);return{indices:s[0],values:s[1],shape:s[2]}}}),stringToHashBucketFast:JX({stringToHashBucketFast_:function(e,t){const n=KX(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const o={input:n};return BX.runKernel(cG,o,r)}}),staticRegexReplace:JX({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=KX(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return BX.runKernel(aG,{x:o},i)}})},Q2="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function J2(e,t){const n=e[0].length;e.forEach(((e,t)=>{MU(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),MU(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,o)=>{for(let i=0;i<n;i++)MU(i===t||e[i]===r[i],(()=>`Error in concat${n}D: Shape of tensors[${o}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`))}))}function Z2(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var e3;function t3(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let o=1;o<n.length;++o){const i=n[o],a=r[r.length-n.length+o],s=r[a];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${o+e}] = ${i} but shape[${o+e}] = ${s}`)}else r[a]=i}return r}function n3(e){const t={FIRST_DIM_SIZE:e3.FIRST_DIM_SIZE,VALUE_ROWIDS:e3.VALUE_ROWIDS,ROW_LENGTHS:e3.ROW_LENGTHS,ROW_SPLITS:e3.ROW_SPLITS,ROW_LIMITS:e3.ROW_LIMITS,ROW_STARTS:e3.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function r3(e){return 0===e.length?0:e[0]===e3.FIRST_DIM_SIZE?e.length-1:e.length}function o3(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(n,r-1);++o){const n=e[o],r=t[o+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${o-e.length}] = ${n} but ragged tensor input.flatValues.shape[${o-e.length}] = ${r}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(e3||(e3={}));const i3=30;function a3(e){return e<=i3?e:eW(e,Math.floor(Math.sqrt(e)))}function s3(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function l3(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let o=0;o<n;++o)r=r.concat([e[o+1]/t[o],t[o]]);r=r.concat(e.slice(n+1))}return r}function u3(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],o=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?o.push(n):r.push(n);n.push(...r),n.push(0),n.push(...o)}return n}function c3(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function d3(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function p3(e,t,n){const r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function h3(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===$U(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const o=t.shape,i=o[o.length-1];let a=1;for(let d=0;d<o.length-1;++d)a*=o[d];const s=e.shape,l=o.slice();l.pop();let u=1;for(let d=i;d<n;++d)u*=s[d],l.push(s[d]);const c=[...tW(e.shape).map((e=>e/u)),1].slice(0,i);return[l,a,u,c]}const f3=1.7580993408473768,m3=1.0507009873554805,g3=.3275911,y3=.254829592,v3=-.284496736,b3=1.421413741,x3=-1.453152027,w3=1.061405429;function A3(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function S3(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function C3(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function k3(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function E3(e,t){return{real:e[2*t],imag:e[2*t+1]}}function T3(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function I3(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}function O3(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const R3="->",N3=/->/g,_3=",",P3="...";function M3(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(N3,"").length)/R3.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${R3}").`);const[r,o]=e.split(R3);MU(-1===r.indexOf(P3),(()=>`The ellipsis notation ("${P3}") is not supported yet.`));const i=r.split(_3),a=i.length;if(t!==a)throw new Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<o.length;++d){const e=o[d];if(!i.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&e!==_3&&s.push(e)}const l=new Array(i.length);for(let d=0;d<a;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<i[d].length;++e)l[d].push(s.indexOf(i[d][e]))}const u=s.length,c=[];for(let d=o.length;d<u;++d)c.push(d);return{allDims:s,summedDims:c,idDims:l}}function D3(e,t){let n=new Array(e);n.fill(-1);for(let o=0;o<t.length;++o)n[t[o]]=o;const r=[];for(let o=0;o<e;++o)-1===n[o]&&r.push(o);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function L3(e,t,n){const r=new Array(e);for(let o=0;o<n.length;++o){const e=n[o].shape;for(let n=0;n<t[o].length;++n)void 0===r[t[o][n]]?r[t[o][n]]=e[n]:MU(r[t[o][n]]===e[n],(()=>`Expected dimension ${r[t[o][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function $3(e,t){const n=e,r=[];let o=0;0===e.length&&n.push(-1),o=e.length+1;for(let a=0;a<o;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const e=F3(t,n[a]);for(const t of e)-1===i.indexOf(t)&&(r[a].push(t),i.push(t))}return{path:n,steps:r}}function j3(e){return e.every(((e,t)=>e===t))}function F3(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function B3(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)MU(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const o=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);MU(o<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const r=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-r}MU(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function V3(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function z3(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function U3(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function W3(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function q3(e,t){return`size ${e} must be non-negative, not ${t}`}function H3(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function G3(e,t){return`Input to reshape is a SparseTensor with ${$U(e)}\n  dense values, but the requested shape requires a multiple of ${$U(t)}. inputShape=${e} outputShape= ${t}`}function X3(e,t){return`Input to reshape is a tensor with ${$U(e)} dense values, but the requested shape has ${$U(t)}. inputShape=${e} outputShape=${t}`}function K3(){return"segment ids must be >= 0"}function Y3(){return"segment ids are not increasing"}function Q3(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function J3(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function Z3(e,t){let n,r=!1;for(e<=i3?(n=e,r=!0):n=eW(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=eW(e,n+1);return n}function e4(e,t,n){const r=[],o=e.length;for(let i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}function t4(e,t,n,r){const o=t.shape.length,i=e.shape.length;if(0!==r&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const a=e.shape[n],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<o;d++)s.push(t.shape[d]);for(let d=n+1;d<i;d++)s.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:s}}function n4(e){try{return e.map((e=>nX(e)))}catch(Pve){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${Pve}`)}}function r4(e){return e.map((e=>tX(e)))}!function(){for(const e of VY)RY(e)}();var o4,i4;fW().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(o4||(o4={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(i4||(i4={}));const a4={};function s4(e){return a4[e]}function l4(e,t,n,r,o){const i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){const e=i.inputIndexStart,a=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?e+1:i.inputIndexEnd,s=e<0?t.inputNames.length+e:e;if("tensor"===i.type)return u4(t.inputNames[s],n,r,o);if("tensors"===i.type){const i=t.inputs.slice(e,a);return t.inputNames.slice(e,a).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=i[t])||void 0===n?void 0:n.op)})).map((e=>u4(e,n,r,o)))}const l=u4(t.inputNames[s],n,r,o),u=l.dataSync();return"number"===i.type?u[0]:rW(l.shape,u)}const a=t.attrParams[e];return a&&a.value}function u4(e,t,n,r){const[o,i]=h4(e,n);if(null!=r){const e=r.getHashTableHandleByName(o);if(null!=e)return e}const a=n.currentContextIds.find((e=>!!t[p4(o,e)]));return void 0!==a?t[p4(o,a)][i]:void 0}function c4(e,t,n){return t[p4(e,n.currentContextId)]}function d4(e,t){const[n,r,o]=h4(e,t);return[p4(n,t&&t.currentContextId),r,o]}function p4(e,t){return t?`${e}-${t}`:e}function h4(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let o;if(1===r.length)o=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;o=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,o),o}function f4(e,t,n){let r=l4("pad",e,t,n);if("explicit"===r){r=l4("explicitPaddings",e,t,n);const o=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)o[e][0]=r[2*e],o[e][1]=r[2*e+1];return o}return r}function m4(e){return e.kept?e:mY(e)}const g4=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],y4=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],v4=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],b4=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],x4=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],w4=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],A4=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],S4=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],C4=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],k4=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],E4=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],T4=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],I4=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],O4=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],R4=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],N4=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],_4=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],P4=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],M4=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class D4{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[s,l,u,c,d,p,h,f,m,g,y,v,b,x,w,A,S,C,k].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],o=[],i=[],a=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?o.push(e[t.name]):null!=t.input&&0!==t.input.length||i.push(e[t.name]),e)),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(a);d.forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=d4(e),i=a[r];if(null!=i.outputs){const e=i.outputs.indexOf(o);if(-1!==e){const o=`${r}:${e}`;t.inputNames[n]=o}}t.inputs.push(i),i.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=a[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=d4(e),n=a[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=d4(e),n=a[t];n&&(n.signatureKey=u[e],s.push(n))})):s=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:a,inputs:s,outputs:l,weights:o,placeholders:r,signature:t,functions:p};return i.length>0&&(h.initNodes=i),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=s4(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let o;switch(n.type){case"string":o=$4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=$4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":o=G4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=G4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":o=F4(e.attr,n.tfName,n.defaultValue||0),void 0===o&&n.tfDeprecatedName&&(o=F4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":o=H4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=H4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":o=j4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=j4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":o=K4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=K4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":o=q4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=q4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":o=X4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=X4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":o=z4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=z4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":o=U4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=U4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":o=V4(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=V4(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:o,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const o=[],i=[];e.signature.inputArg.forEach((e=>{const[t]=d4(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:B4(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[o,,i]=d4(e),a=r[o];if(null!=a.outputs){const e=a.outputs.indexOf(i);if(-1!==e){const r=`${o}:${e}`;t.inputNames[n]=r}}t.inputs.push(a),a.children.push(t)}))}));const a=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=d4(a[e.name]),o=r[t];null!=o&&(o.defaultOutput=n,i.push(o))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:o,outputs:i,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function L4(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=fW().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function $4(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return null!=o?L4(o.s,r):n}function j4(e,t,n){const r=e[t];return r?r.b:n}function F4(e,t,n){const r=e[t]||{},o=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof o?o:parseInt(o,10)}function B4(e){switch("string"===typeof e&&(e=o4[e]),e){case o4.DT_FLOAT:case o4.DT_HALF:return"float32";case o4.DT_INT32:case o4.DT_INT64:case o4.DT_INT8:case o4.DT_UINT8:return"int32";case o4.DT_BOOL:return"bool";case o4.DT_DOUBLE:return"float32";case o4.DT_STRING:return"string";case o4.DT_COMPLEX64:case o4.DT_COMPLEX128:return"complex64";default:return null}}function V4(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function z4(e,t,n){const r=e[t];return r&&r.type?B4(r.type):n}function U4(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>B4(e))):n}function W4(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function q4(e,t,n){const r=e[t];return r&&r.shape?W4(r.shape):n}function H4(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function G4(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return o&&o.list&&o.list.s?o.list.s.map((e=>L4(e,r))):n}function X4(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>W4(e))):n}function K4(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Y4{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return u4(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return u4(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return F4(this.node.rawAttrs,e,t);if(null!=n.s)return $4(this.node.rawAttrs,e,t);if(null!=n.b)return j4(this.node.rawAttrs,e,t);if(null!=n.shape)return q4(this.node.rawAttrs,e,t);if(null!=n.type)return z4(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return H4(this.node.rawAttrs,e,t);if(null!=n.list.s)return G4(this.node.rawAttrs,e,t);if(null!=n.list.shape)return X4(this.node.rawAttrs,e,t);if(null!=n.list.b)return K4(this.node.rawAttrs,e,t);if(null!=n.list.type)return U4(this.node.rawAttrs,e,t)}return t}}function Q4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){MU(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const o=e[r],i=t[r];MU(o<0||i<0||o===i,(()=>n+` Shapes ${e} and ${t} must match`))}}}function J4(e){return"number"!==typeof e&&!e.some((e=>e<0))}function Z4(e,t,n){let r=e5(e,n);const o=!J4(r);if(o&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(o&&t.forEach((e=>{r=e5(e.shape,r)})),!J4(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function e5(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const o=e[r],i=t[r];if(o>=0&&i>=0&&o!==i)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=o>=0?o:i}return n}class t5{constructor(e,t,n,r,o,i,a){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=kY(0),sK(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Q4(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,sK(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return tK([],[0].concat(this.elementShape));const n=this.readMany(e);return Q4(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),l1(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return tK([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return Q4(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),cJ(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,k1(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=0===n?0:t.size/n,i=[];iK((()=>{t=sJ(t,[1,n,o]);for(let n=0;n<e.length;++n){const a=[0,0===n?0:r[n-1],0],s=[1,e[n],o];i[n]=sJ(hJ(t,a,s),this.elementShape)}return i}));const a=[];for(let s=0;s<e.length;s++)a[s]=s;this.writeMany(a,i)}}class n5{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);Q4(t,e.shape,"TensorList shape mismatch: "),sK(e)})),this.idTensor=kY(0),this.maxNumElements=r,sK(this.idTensor)}copy(){return new n5([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);Q4(e,this.elementShape,"TensorList shape mismatch: ");const r=Z4(this.elementShape,this.tensors,e);return iK((()=>{const e=this.tensors.map((e=>sJ(e,r)));return l1(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=Z4(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Q4(r.shape,e,"TensorList shape mismatch: "),sJ(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Q4(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");sK(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new n5([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);Q4(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=Z4(this.elementShape,this.tensors,t);return sJ(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Q4(this.elementShape,t.shape,"TensorList shape mismatch: "),sK(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);Q4(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Z4(this.elementShape,this.tensors,n);return 0===e.length?tK([],[0].concat(r)):iK((()=>{const t=e.map((e=>sJ(this.tensors[e],r)));return l1(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Q4(this.elementShape,t,"TensorList shape mismatch: ");const n=Z4(this.elementShape,this.tensors,t);return 0===this.size()?tK([],[0].concat(n)):iK((()=>{const e=this.tensors.map((e=>sJ(e,n)));return cJ(e,0)}))}}const r5=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=l4("thenBranch",e,t,n),o=l4("elseBranch",e,t,n),i=l4("cond",e,t,n),a=l4("args",e,t,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=l4("body",e,t,n),o=l4("cond",e,t,n),i=l4("args",e,t,n),a=await n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),s=i.map((e=>e.id));let l=await a[0].data();a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let u=i;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const i=await n.functionMap[o].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await i[0].data(),i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[m4(l4("pred",e,t,n))];case"Switch":{const r=l4("pred",e,t,n);let o=l4("data",e,t,n);return o.kept||(o=m4(o)),(await r.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==u4(e,t,n)));if(r){return[m4(u4(r,t,n))]}return}case"Enter":{const r=l4("frameName",e,t,n),o=l4("tensor",e,t,n);return n.enterFrame(r),[m4(o)]}case"Exit":{const r=l4("tensor",e,t,n);return n.exitFrame(),[m4(r)]}case"NextIteration":{const r=l4("tensor",e,t,n);return n.nextIteration(),[m4(r)]}case"TensorArrayV3":{const r=l4("size",e,t,n),o=l4("dtype",e,t,n),i=l4("elementShape",e,t,n),a=l4("dynamicSize",e,t,n),s=l4("clearAfterRead",e,t,n),l=l4("identicalElementShapes",e,t,n),u=l4("name",e,t,n),c=new t5(u,o,r,i,l,a,s);return n.addTensorArray(c),[c.idTensor,kY(1)]}case"TensorArrayWriteV3":{const r=l4("tensorArrayId",e,t,n),o=l4("index",e,t,n),i=l4("tensor",e,t,n),a=n.getTensorArray(r.id);return a.write(o,i),[a.idTensor]}case"TensorArrayReadV3":{const r=l4("tensorArrayId",e,t,n),o=l4("index",e,t,n);return[n.getTensorArray(r.id).read(o)]}case"TensorArrayGatherV3":{const r=l4("tensorArrayId",e,t,n),o=l4("indices",e,t,n),i=l4("dtype",e,t,n);return[n.getTensorArray(r.id).gather(o,i)]}case"TensorArrayScatterV3":{const r=l4("tensorArrayId",e,t,n),o=l4("indices",e,t,n),i=l4("tensor",e,t,n),a=n.getTensorArray(r.id);return a.scatter(o,i),[a.idTensor]}case"TensorArrayConcatV3":{const r=l4("tensorArrayId",e,t,n),o=n.getTensorArray(r.id),i=l4("dtype",e,t,n);return[o.concat(i)]}case"TensorArraySplitV3":{const r=l4("tensorArrayId",e,t,n),o=l4("tensor",e,t,n),i=l4("lengths",e,t,n),a=n.getTensorArray(r.id);return a.split(i,o),[a.idTensor]}case"TensorArraySizeV3":{const r=l4("tensorArrayId",e,t,n);return[kY(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=l4("tensorArrayId",e,t,n),o=n.getTensorArray(r.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{const r=l4("tensorListId",e,t,n),o=l4("index",e,t,n),i=l4("tensor",e,t,n),a=n.getTensorList(r.id);return a.setItem(o,i),[a.idTensor]}case"TensorListGetItem":{const r=l4("tensorListId",e,t,n),o=l4("index",e,t,n),i=l4("elementShape",e,t,n),a=l4("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(o,i,a)]}case"TensorListScatterV2":case"TensorListScatter":{const r=l4("indices",e,t,n),o=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const o=Math.max(...t);if(null!=r&&-1!==r&&o>=r)throw new Error(`Max index must be < array size (${o}  vs. ${r})`);const i=new n5([],n,e.dtype,r),a=k1(e,0);return t.forEach(((e,t)=>{i.setItem(e,a[t])})),i}(l4("tensor",e,t,n),r,l4("elementShape",e,t,n),l4("numElements",e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=l4("elementShape",e,t,n),o=l4("elementDType",e,t,n);let i;i="TensorListReserve"===e.op?"numElements":"maxNumElements";const a=l4(i,e,t,n),s=function(e,t,n,r){return new n5([],e,t,r)}(r,o,0,"TensorListReserve"===e.op?-1:a);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const r=l4("tensorListId",e,t,n),o=l4("indices",e,t,n),i=l4("elementShape",e,t,n),a=l4("elementDType",e,t,n);return[n.getTensorList(r.id).gather(o,a,i)]}case"TensorListStack":{const r=l4("tensorListId",e,t,n),o=l4("elementShape",e,t,n),i=l4("elementDType",e,t,n),a=l4("numElements",e,t,n);return[n.getTensorList(r.id).stack(o,i,a)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);Q4(e.shape.slice(1),t,"TensorList shape mismatch: ");const o=k1(e);return new n5(o,t,r)}(l4("tensor",e,t,n),l4("elementShape",e,t,n),l4("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=l4("tensorListId",e,t,n),o=n.getTensorList(r.id),i=l4("dtype",e,t,n),a=l4("elementShape",e,t,n);return[o.concat(i,a)]}case"TensorListPushBack":{const r=l4("tensorListId",e,t,n),o=l4("tensor",e,t,n),i=n.getTensorList(r.id);return i.pushBack(o),[i.idTensor]}case"TensorListPopBack":{const r=l4("tensorListId",e,t,n),o=l4("elementShape",e,t,n),i=l4("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(o,i)]}case"TensorListSplit":{const r=l4("tensor",e,t,n),o=l4("elementShape",e,t,n),i=function(e,t,n){let r=0;const o=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const i=e5(e.shape.slice(1),n),a=0===r?0:e.size/r,s=iK((()=>{const n=[];e=sJ(e,[1,r,a]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:o[r-1],0],l=[1,t[r],a];n[r]=sJ(hJ(e,s,l),i)}return e.dispose(),n})),l=new n5([],n,e.dtype,t.length);for(let u=0;u<s.length;u++)l.setItem(u,s[u]);return l}(r,l4("lengths",e,t,n),o);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=l4("tensorListId",e,t,n);return[kY(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=l4("tensorListId",e,t,n),o=l4("size",e,t,n),i=n.getTensorList(r.id).resize(o);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function o5(e,t,n){const[r,o]=l4("fusedOps",e,t,n),i="biasadd"===r,a=!i,s="prelu"===o,l="fusedbatchnorm"===r,u=l4("numArgs",e,t,n);if(i){if(s&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&i&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=l4("strides",e,t,n),d=f4(e,t,n),p=l4("dataFormat",e,t,n).toUpperCase(),h=l4("dilations",e,t,n);let[f,m]=l4("args",e,t,n);a&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:o,leakyreluAlpha:l4("leakyreluAlpha",e,t,n)}}function i5(e,t,n){return{boxes:l4("boxes",e,t,n),scores:l4("scores",e,t,n),maxOutputSize:l4("maxOutputSize",e,t,n),iouThreshold:l4("iouThreshold",e,t,n),scoreThreshold:l4("scoreThreshold",e,t,n),softNmsSigma:l4("softNmsSigma",e,t,n)}}class a5{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=kY(0),this.tensorMap=new Map,sK(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return kY(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),iK((()=>{const e=k1(t),r=n.length,o=e.length;MU(r===o,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${o} elements.`));for(let t=0;t<r;t++){const r=n[t],o=e[t];sK(o),this.tensorMap.set(r,o)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return iK((()=>{const e=[];for(let r=0;r<n.length;r++){const o=n[r],i=this.findWithDefault(o,t);e.push(i)}return l1(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function s5(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:iK;const i=((e,t,n)=>{switch(e.category){case"arithmetic":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(l4("a",e,t,n),l4("b",e,t,n))];case"AddN":return[r.addN(l4("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(l4("a",e,t,n),l4("b",e,t,n))];case"Mul":return[r.mul(l4("a",e,t,n),l4("b",e,t,n))];case"RealDiv":case"Div":return[r.div(l4("a",e,t,n),l4("b",e,t,n))];case"DivNoNan":return[r.divNoNan(l4("a",e,t,n),l4("b",e,t,n))];case"FloorDiv":return[r.floorDiv(l4("a",e,t,n),l4("b",e,t,n))];case"Sub":return[r.sub(l4("a",e,t,n),l4("b",e,t,n))];case"Minimum":return[r.minimum(l4("a",e,t,n),l4("b",e,t,n))];case"Maximum":return[r.maximum(l4("a",e,t,n),l4("b",e,t,n))];case"Pow":return[r.pow(l4("a",e,t,n),l4("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(l4("a",e,t,n),l4("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"basic_math":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(l4("x",e,t,n))];case"Acos":return[r.acos(l4("x",e,t,n))];case"Acosh":return[r.acosh(l4("x",e,t,n))];case"Asin":return[r.asin(l4("x",e,t,n))];case"Asinh":return[r.asinh(l4("x",e,t,n))];case"Atan":return[r.atan(l4("x",e,t,n))];case"Atan2":return[r.atan2(l4("x",e,t,n),l4("y",e,t,n))];case"Atanh":return[r.atanh(l4("x",e,t,n))];case"Ceil":return[r.ceil(l4("x",e,t,n))];case"Complex":return[r.complex(l4("real",e,t,n),l4("imag",e,t,n))];case"Cos":return[r.cos(l4("x",e,t,n))];case"Cosh":return[r.cosh(l4("x",e,t,n))];case"Elu":return[r.elu(l4("x",e,t,n))];case"Erf":return[r.erf(l4("x",e,t,n))];case"Exp":return[r.exp(l4("x",e,t,n))];case"Expm1":return[r.expm1(l4("x",e,t,n))];case"Floor":return[r.floor(l4("x",e,t,n))];case"Log":return[r.log(l4("x",e,t,n))];case"Log1p":return[r.log1p(l4("x",e,t,n))];case"Imag":return[r.imag(l4("x",e,t,n))];case"Neg":return[r.neg(l4("x",e,t,n))];case"Reciprocal":return[r.reciprocal(l4("x",e,t,n))];case"Real":return[r.real(l4("x",e,t,n))];case"Relu":return[r.relu(l4("x",e,t,n))];case"Round":return[r.round(l4("x",e,t,n))];case"Selu":return[r.selu(l4("x",e,t,n))];case"Sigmoid":return[r.sigmoid(l4("x",e,t,n))];case"Sin":return[r.sin(l4("x",e,t,n))];case"Sign":return[r.sign(l4("x",e,t,n))];case"Sinh":return[r.sinh(l4("x",e,t,n))];case"Softplus":return[r.softplus(l4("x",e,t,n))];case"Sqrt":return[r.sqrt(l4("x",e,t,n))];case"Square":return[r.square(l4("x",e,t,n))];case"Tanh":return[r.tanh(l4("x",e,t,n))];case"Tan":return[r.tan(l4("x",e,t,n))];case"ClipByValue":return[r.clipByValue(l4("x",e,t,n),l4("clipValueMin",e,t,n),l4("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(l4("x",e,t,n))];case"Rsqrt":return[r.rsqrt(u4(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(l4("x",e,t,n),l4("alpha",e,t,n))];case"Prelu":return[r.prelu(l4("x",e,t,n),l4("alpha",e,t,n))];case"IsNan":return[r.isNaN(u4(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(u4(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(u4(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"control":return r5(e,t,n);case"convolution":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Conv1D":{const o=l4("stride",e,t,n),i=l4("pad",e,t,n),a=l4("dataFormat",e,t,n).toUpperCase(),s=l4("dilation",e,t,n);return[r.conv1d(l4("x",e,t,n),l4("filter",e,t,n),o,i,a,s)]}case"Conv2D":{const o=l4("strides",e,t,n),i=f4(e,t,n),a=l4("dataFormat",e,t,n).toUpperCase(),s=l4("dilations",e,t,n);return[r.conv2d(l4("x",e,t,n),l4("filter",e,t,n),[o[1],o[2]],i,a,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:o,pad:i,dataFormat:a,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=o5(e,t,n);return[r.fused.conv2d({x:l4("x",e,t,n),filter:l4("filter",e,t,n),strides:[o[1],o[2]],pad:i,dataFormat:a,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:i,dataFormat:a,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=o5(e,t,n);return[r.fused.depthwiseConv2d({x:l4("x",e,t,n),filter:l4("filter",e,t,n),strides:[o[1],o[2]],pad:i,dataFormat:a,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=l4("outputShape",e,t,n),i=l4("strides",e,t,n),a=f4(e,t,n);return[r.conv2dTranspose(l4("x",e,t,n),l4("filter",e,t,n),o,[i[1],i[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=l4("strides",e,t,n),i=f4(e,t,n),a=l4("dilations",e,t,n),s=l4("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(l4("input",e,t,n),l4("filter",e,t,n),[o[1],o[2]],i,s,[a[1],a[2]])]}case"Conv3D":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("dataFormat",e,t,n).toUpperCase(),s=l4("dilations",e,t,n);return[r.conv3d(l4("x",e,t,n),l4("filter",e,t,n),[o[1],o[2],o[3]],i,a,[s[1],s[2],s[3]])]}case"AvgPool":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("kernelSize",e,t,n);return[r.avgPool(l4("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i)]}case"MaxPool":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("kernelSize",e,t,n);return[r.maxPool(l4("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i)]}case"MaxPoolWithArgmax":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("kernelSize",e,t,n),s=l4("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(l4("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i,s);return[l,u]}case"AvgPool3D":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("kernelSize",e,t,n);return[r.avgPool3d(l4("x",e,t,n),[a[1],a[2],a[3]],[o[1],o[2],o[3]],i)]}case"MaxPool3D":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("kernelSize",e,t,n);return[r.maxPool3d(l4("x",e,t,n),[a[1],a[2],a[3]],[o[1],o[2],o[3]],i)]}case"Dilation2D":{const o=l4("strides",e,t,n),i=l4("pad",e,t,n),a=l4("dilations",e,t,n),s=o[1],l=o[2],u=a[1],c=a[2];return[r.dilation2d(l4("x",e,t,n),l4("filter",e,t,n),[s,l],i,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"creation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Fill":{const o=l4("shape",e,t,n),i=l4("dtype",e,t,n),a=l4("value",e,t,n);return[r.fill(o,a,i)]}case"LinSpace":{const o=l4("start",e,t,n),i=l4("stop",e,t,n),a=l4("num",e,t,n);return[r.linspace(o,i,a)]}case"Multinomial":{const o=l4("logits",e,t,n),i=l4("numSamples",e,t,n),a=l4("seed",e,t,n);return[r.multinomial(o,i,a)]}case"OneHot":{const o=l4("indices",e,t,n),i=l4("depth",e,t,n),a=l4("onValue",e,t,n),s=l4("offValue",e,t,n),l=l4("dtype",e,t,n);return[r.oneHot(o,i,a,s,l)]}case"Ones":return[r.ones(l4("shape",e,t,n),l4("dtype",e,t,n))];case"OnesLike":return[r.onesLike(l4("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(l4("shape",e,t,n),l4("dtype",e,t,n),l4("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(l4("shape",e,t,n),l4("minval",e,t,n),l4("maxval",e,t,n),l4("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(l4("shape",e,t,n),l4("minval",e,t,n),l4("maxval",e,t,n),l4("seed",e,t,n))];case"Range":{const o=l4("start",e,t,n),i=l4("stop",e,t,n),a=l4("step",e,t,n);return[r.range(o,i,a,l4("dtype",e,t,n))]}case"TruncatedNormal":{const o=l4("shape",e,t,n),i=l4("mean",e,t,n),a=l4("stdDev",e,t,n),s=l4("seed",e,t,n);return[r.truncatedNormal(o,i,a,l4("dtype",e,t,n),s)]}case"Zeros":return[r.zeros(l4("shape",e,t,n),l4("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(l4("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:E;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=i5(e,t,n),c=await o.image.nonMaxSuppressionWithScoreAsync(r,i,a,s,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=i5(e,t,n),u=l4("padToMaxOutputSize",e,t,n),c=await o.image.nonMaxSuppressionPaddedAsync(r,i,a,s,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=i5(e,t,n);return[await o.image.nonMaxSuppressionAsync(r,i,a,s,l)]}case"Where":{const r=o.cast(l4("condition",e,t,n),"bool"),i=[await o.whereAsync(r)];return r.dispose(),i}case"ListDiff":return o.setdiff1dAsync(l4("x",e,t,n),l4("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n);case"evaluation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"LowerBound":{const o=l4("sortedSequence",e,t,n),i=l4("values",e,t,n);return[r.lowerBound(o,i)]}case"TopKV2":{const o=l4("x",e,t,n),i=l4("k",e,t,n),a=l4("sorted",e,t,n),s=r.topk(o,i,a);return[s.values,s.indices]}case"UpperBound":{const o=l4("sortedSequence",e,t,n),i=l4("values",e,t,n);return[r.upperBound(o,i)]}case"Unique":{const o=l4("x",e,t,n),i=r.unique(o);return[i.values,i.indices]}case"UniqueV2":{const o=l4("x",e,t,n),i=l4("axis",e,t,n),a=r.unique(o,i);return[a.values,a.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"image":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"ResizeBilinear":{const o=l4("images",e,t,n),i=l4("size",e,t,n),a=l4("alignCorners",e,t,n),s=l4("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(o,[i[0],i[1]],a,s)]}case"ResizeNearestNeighbor":{const o=l4("images",e,t,n),i=l4("size",e,t,n),a=l4("alignCorners",e,t,n),s=l4("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(o,[i[0],i[1]],a,s)]}case"CropAndResize":{const o=l4("image",e,t,n),i=l4("boxes",e,t,n),a=l4("boxInd",e,t,n),s=l4("cropSize",e,t,n),l=l4("method",e,t,n),u=l4("extrapolationValue",e,t,n);return[r.image.cropAndResize(o,i,a,s,l,u)]}case"ImageProjectiveTransformV3":{const o=l4("images",e,t,n),i=l4("transforms",e,t,n),a=l4("outputShape",e,t,n),s=l4("fillValue",e,t,n),l=l4("interpolation",e,t,n),u=l4("fillMode",e,t,n);return[r.image.transform(o,i,l.toLowerCase(),u.toLowerCase(),s,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"graph":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const o=l4("default",e,t,n);return[u4(e.name,t,n)||o];case"Placeholder":return[u4(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[m4(l4("x",e,t,n))];case"IdentityN":return l4("x",e,t,n).map((e=>m4(e)));case"Shape":return[r.tensor1d(l4("x",e,t,n).shape,"int32")];case"ShapeN":return l4("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(l4("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(l4("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=l4("x",e,t,n),a=l4("data",e,t,n),s=l4("message",e,t,n),l=l4("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<a.length;e++)console.log(Array.prototype.slice.call(a[e].dataSync()).slice(0,l));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"logical":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Equal":return[r.equal(l4("a",e,t,n),l4("b",e,t,n))];case"NotEqual":return[r.notEqual(l4("a",e,t,n),l4("b",e,t,n))];case"Greater":return[r.greater(l4("a",e,t,n),l4("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(l4("a",e,t,n),l4("b",e,t,n))];case"Less":return[r.less(l4("a",e,t,n),l4("b",e,t,n))];case"LessEqual":return[r.lessEqual(l4("a",e,t,n),l4("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(l4("a",e,t,n),l4("b",e,t,n))];case"LogicalNot":return[r.logicalNot(l4("a",e,t,n))];case"LogicalOr":return[r.logicalOr(l4("a",e,t,n),l4("b",e,t,n))];case"Select":case"SelectV2":return[r.where(l4("condition",e,t,n),l4("a",e,t,n),l4("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(l4("a",e,t,n),l4("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"matrices":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(l4("a",e,t,n),l4("b",e,t,n),l4("transposeA",e,t,n),l4("transposeB",e,t,n))];case"Einsum":return[r.einsum(l4("equation",e,t,n),...l4("tensors",e,t,n))];case"Transpose":return[r.transpose(l4("x",e,t,n),l4("perm",e,t,n))];case"_FusedMatMul":const[o,i]=l4("fusedOps",e,t,n),a="biasadd"===o,s="prelu"===i,l=l4("numArgs",e,t,n),u=l4("leakyreluAlpha",e,t,n);if(a){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=l4("args",e,t,n);return[r.fused.matMul({a:l4("a",e,t,n),b:l4("b",e,t,n),transposeA:l4("transposeA",e,t,n),transposeB:l4("transposeB",e,t,n),bias:c,activation:i,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(l4("a",e,t,n),l4("numLower",e,t,n),l4("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"normalization":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(l4("x",e,t,n),l4("axis",e,t,n),l4("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(l4("x",e,t,n),l4("mean",e,t,n),l4("variance",e,t,n),l4("offset",e,t,n),l4("scale",e,t,n),l4("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(l4("x",e,t,n),l4("radius",e,t,n),l4("bias",e,t,n),l4("alpha",e,t,n),l4("beta",e,t,n))];case"Softmax":return[r.softmax(l4("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(l4("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"ragged":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"RaggedGather":{const{outputNestedSplits:o,outputDenseValues:i}=r.raggedGather(l4("paramsNestedSplits",e,t,n),l4("paramsDenseValues",e,t,n),l4("indices",e,t,n),l4("outputRaggedRank",e,t,n));return o.concat(i)}case"RaggedRange":{const{rtNestedSplits:o,rtDenseValues:i}=r.raggedRange(l4("starts",e,t,n),l4("limits",e,t,n),l4("splits",e,t,n));return[o,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(l4("shape",e,t,n),l4("values",e,t,n),l4("defaultValue",e,t,n),l4("rowPartitionTensors",e,t,n),l4("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"reduction":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Max":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.max(l4("x",e,t,n),o,i)]}case"Mean":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.mean(l4("x",e,t,n),o,i)]}case"Min":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.min(l4("x",e,t,n),o,i)]}case"Sum":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.sum(l4("x",e,t,n),o,i)]}case"All":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.all(l4("x",e,t,n),o,i)]}case"Any":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.any(l4("x",e,t,n),o,i)]}case"ArgMax":{const o=l4("axis",e,t,n);return[r.argMax(l4("x",e,t,n),o)]}case"ArgMin":{const o=l4("axis",e,t,n);return[r.argMin(l4("x",e,t,n),o)]}case"Prod":{const o=l4("axis",e,t,n),i=l4("keepDims",e,t,n);return[r.prod(l4("x",e,t,n),o,i)]}case"Cumprod":{const o=l4("axis",e,t,n),i=l4("exclusive",e,t,n),a=l4("reverse",e,t,n);return[r.cumprod(l4("x",e,t,n),o,i,a)]}case"Cumsum":{const o=l4("axis",e,t,n),i=l4("exclusive",e,t,n),a=l4("reverse",e,t,n);return[r.cumsum(l4("x",e,t,n),o,i,a)]}case"Bincount":const o=l4("x",e,t,n),i=l4("weights",e,t,n),a=l4("size",e,t,n);return[r.bincount(o,i,a)];case"DenseBincount":{const o=l4("x",e,t,n),i=l4("weights",e,t,n),a=l4("size",e,t,n),s=l4("binaryOutput",e,t,n);return[r.denseBincount(o,i,a,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"slice_join":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"ConcatV2":case"Concat":{const o=l4("n",e,t,n),i=l4("axis",e,t,n);let a=l4("tensors",e,t,n);return a=a.slice(0,o),[r.concat(a,i)]}case"Gather":{const o=l4("x",e,t,n),i=l4("indices",e,t,n);return[r.gather(o,r.cast(i,"int32"),0)]}case"GatherV2":{const o=l4("axis",e,t,n),i=l4("batchDims",e,t,n),a=l4("x",e,t,n),s=l4("indices",e,t,n);return[r.gather(a,r.cast(s,"int32"),o,i)]}case"Reverse":{const o=l4("dims",e,t,n),i=[];for(let e=0;e<o.length;e++)o[e]&&i.push(e);const a=l4("x",e,t,n);return[r.reverse(a,i)]}case"ReverseV2":{const o=l4("axis",e,t,n),i=l4("x",e,t,n);return[r.reverse(i,o)]}case"Slice":{const o=l4("begin",e,t,n),i=l4("size",e,t,n);return[r.slice(l4("x",e,t,n),o,i)]}case"StridedSlice":{const o=l4("begin",e,t,n),i=l4("end",e,t,n),a=l4("strides",e,t,n),s=l4("beginMask",e,t,n),l=l4("endMask",e,t,n),u=l4("ellipsisMask",e,t,n),c=l4("newAxisMask",e,t,n),d=l4("shrinkAxisMask",e,t,n),p=l4("x",e,t,n);return[r.stridedSlice(p,o,i,a,s,l,u,c,d)]}case"Pack":return iK((()=>{const o=l4("axis",e,t,n),i=l4("tensors",e,t,n),a=i[0].shape,s=r.squeeze(i[0]).shape,l=i.map((e=>{const t=FU(e.shape,a);if(!t&&!FU(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,a)}));return[r.stack(l,o)]}));case"Unpack":{const o=l4("axis",e,t,n),i=l4("tensor",e,t,n);return r.unstack(i,o)}case"Tile":{const o=l4("reps",e,t,n);return[r.tile(l4("x",e,t,n),o)]}case"Split":case"SplitV":{const o=l4("axis",e,t,n),i=l4("numOrSizeSplits",e,t,n),a=l4("x",e,t,n);return r.split(a,i,o)}case"ScatterNd":{const o=l4("indices",e,t,n),i=l4("values",e,t,n),a=l4("shape",e,t,n);return[r.scatterND(o,i,a)]}case"GatherNd":{const o=l4("x",e,t,n),i=l4("indices",e,t,n);return[r.gatherND(o,i)]}case"SparseToDense":{const o=l4("sparseIndices",e,t,n),i=l4("outputShape",e,t,n),a=l4("sparseValues",e,t,n),s=l4("defaultValue",e,t,n);return[r.sparseToDense(o,a,i,a.dtype===s.dtype?s:r.cast(s,a.dtype))]}case"TensorScatterUpdate":{const o=l4("indices",e,t,n),i=l4("values",e,t,n),a=l4("tensor",e,t,n);return[r.tensorScatterUpdate(a,o,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"sparse":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:i,emptyRowIndicator:a,reverseIndexMap:s}=r.sparse.sparseFillEmptyRows(l4("indices",e,t,n),l4("values",e,t,n),l4("denseShape",e,t,n),l4("defaultValue",e,t,n));return[o,i,a,s]}case"SparseReshape":{const{outputIndices:o,outputShape:i}=r.sparse.sparseReshape(l4("inputIndices",e,t,n),l4("inputShape",e,t,n),l4("newShape",e,t,n));return[o,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(l4("data",e,t,n),l4("indices",e,t,n),l4("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(l4("data",e,t,n),l4("indices",e,t,n),l4("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"spectral":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"FFT":return[r.fft(l4("x",e,t,n))];case"IFFT":return[r.ifft(l4("x",e,t,n))];case"RFFT":return[r.rfft(l4("x",e,t,n))];case"IRFFT":return[r.irfft(l4("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"string":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(l4("input",e,t,n),l4("pattern",e,t,n),l4("rewrite",e,t,n),l4("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:o,nGramsSplits:i}=r.string.stringNGrams(l4("data",e,t,n),l4("dataSplits",e,t,n),l4("separator",e,t,n),l4("nGramWidths",e,t,n),l4("leftPad",e,t,n),l4("rightPad",e,t,n),l4("padWidth",e,t,n),l4("preserveShortSequences",e,t,n));return[o,i]}case"StringSplit":{const{indices:o,values:i,shape:a}=r.string.stringSplit(l4("input",e,t,n),l4("delimiter",e,t,n),l4("skipEmpty",e,t,n));return[o,i,a]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(l4("input",e,t,n),l4("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"transformation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;switch(e.op){case"Cast":return[r.cast(l4("x",e,t,n),l4("dtype",e,t,n))];case"ExpandDims":{const o=l4("axis",e,t,n);return[r.expandDims(l4("x",e,t,n),o)]}case"Squeeze":{const o=l4("axis",e,t,n);return[r.squeeze(l4("x",e,t,n),o)]}case"Reshape":return[r.reshape(l4("x",e,t,n),l4("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(l4("x",e,t,n),l4("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(l4("x",e,t,n),l4("padding",e,t,n),l4("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(l4("x",e,t,n),l4("padding",e,t,n),l4("constantValue",e,t,n))];case"SpaceToBatchND":{const o=l4("blockShape",e,t,n),i=l4("paddings",e,t,n);return[r.spaceToBatchND(l4("x",e,t,n),o,i)]}case"BatchToSpaceND":{const o=l4("blockShape",e,t,n),i=l4("crops",e,t,n);return[r.batchToSpaceND(l4("x",e,t,n),o,i)]}case"DepthToSpace":{const o=l4("blockSize",e,t,n),i=l4("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(l4("x",e,t,n),o,i)]}case"BroadcastTo":return[r.broadcastTo(l4("x",e,t,n),l4("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(l4("s0",e,t,n),l4("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const o=r.getHashTableHandleByName(e.name);if(null!=o)return[o];{const o=l4("keyDType",e,t,n),i=l4("valueDType",e,t,n),a=new a5(o,i);return r.addHashTable(e.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const o=l4("tableHandle",e,t,n,r),i=l4("keys",e,t,n),a=l4("values",e,t,n),s=r.getHashTableById(o.id);return[await s.import(i,a)]}case"LookupTableFind":case"LookupTableFindV2":{const o=l4("tableHandle",e,t,n,r),i=l4("keys",e,t,n),a=l4("defaultValue",e,t,n),s=r.getHashTableById(o.id);return[await s.find(i,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const o=l4("tableHandle",e,t,n,r);return[r.getHashTableById(o.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const i=s4(e.op);if(i&&i.customExecutor)return i.customExecutor(new Y4(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return cW(i)?i.then((e=>[].concat(e))):[].concat(i)}class l5{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function u5(e,t,n,r){const o=new Set,i=[];let a=null,s=null;const l=new Set,u=new Set(Object.keys(e).map((e=>h4(e)[0])));r=r||[];const c=new Set(r.map((e=>h4(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(m5(e)||g5(e)||y5(e))&&null==a&&(a=e,s=a.children.map((e=>e.name)).filter((e=>o.has(e)))),o.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):i.push(e.name)))}return{inputs:e,outputs:t,usedNodes:o,missingInputs:i,dynamicNode:a,syncInputs:s}}function c5(e,t){const{usedNodes:n,inputs:r}=t,o=Object.keys(r).map((e=>h4(e)[0])).map((t=>e.nodes[t])),i=e.initNodes||[],a=e=>n.has("string"===typeof e?e:e.name);function s(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=s([...o,...e.weights,...i]).filter(a),u=s([...l,...Object.values(e.nodes)]).filter(a),c=new Map(u.map((e=>[e.name,e]))),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)a(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(a))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),o=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const i of t.children)n.has(i.name)&&!o.has(i.name)&&(o.add(i.name),r.push(i.name))}const i=e.filter((e=>o.has(e.name)));return i}(h.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),o=e=>r.has("string"===typeof e?e:e.name),i=new Set(e.map((e=>e.name))),a=e=>i.has("string"===typeof e?e:e.name);for(const s of e){for(const e of s.children.filter(a)){if(!n.has(e.name))throw new d5(`Child ${e.name} of node ${s.name} is unreachable.`);if(n.get(s.name)>n.get(e.name))throw new d5(`Node ${s.name} is scheduled to run after its child ${e.name}.`)}if(!o(s))for(const e of s.inputs){if(!n.has(e.name))throw new d5(`Input ${e.name} of node ${s.name} is unreachable.`);if(n.get(e.name)>n.get(s.name))throw new d5(`Node ${s.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class d5 extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const p5=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),h5=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),f5=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function m5(e){return p5.has(e.op)}function g5(e){return h5.has(e.op)}function y5(e){return f5.has(e.op)}class v5{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new v5(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=u5(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:i}=n;if(null!=o)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(r.length>0){const n=t.map((e=>e.name)),o=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${o}]. Missing the following inputs: [${r}]`)}const a=c5(this.graph,n),s=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>m5(e)?n:t)),o=e=>{const n=r[t.get(e.name)];return null==n?-1:n},i=e.map(((e,t)=>e.children.map(o).reduce(((e,t)=>Math.max(e,t)),r[t]))),a=new Map;for(let s=0;s<e.length;++s){const t=i[s];if(t===n)continue;const r=e[s],o=e[t];a.has(o.name)||a.set(o.name,[]),a.get(o.name).push(r)}return a}(a);return{orderedNodes:a,nodeLiveUntilMap:s}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return sK(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[h4(e)[0]])),o=t.map((e=>h4(e)[0])),i=new Set(o);let a=o.map((e=>this.graph.nodes[e]));0===a.length&&(a=this._outputs);const s=this.getCompilationKey(r,a);let l=this.compiledMap.get(s);null==l&&(l=this.compile(e,a),this.compiledMap.set(s,l));try{this.keepIntermediateTensors=fW().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Nve){this.keepIntermediateTensors=!1,console.warn(Nve.message)}const u={},c={};return iK((()=>{const n=new l5(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[o,i]=h4(t,n),a=[];a[i]=e[t],r[o]=a,this.keepIntermediateTensors&&(this.clonedTensorsMap[o]=this.cloneTensorList(a))}));const o=this.getFrozenTensorIds(r),{orderedNodes:a,nodeLiveUntilMap:s}=l;for(const e of a){if(r[e.name])continue;const t=s5(e,r,n,this._resourceManager);if(cW(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,o,i,s.get(e.name))}return null==this.parent&&n.dispose(o),t.map((e=>u4(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,o,i,a){if(!m5(t)&&!i.has(e)){for(const r of n[e])null!=r&&(a[r.id]=(a[r.id]||0)+t.children.length);for(const e of t.inputs){if(m5(e))continue;const t=c4(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||o.has(e.id))continue;const t=a[e.id];1===t?(e.dispose(),delete a[e.id]):null!=t&&a[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,o,i){function a(e){return m5(e)||o.has(e.name)}if(!m5(e)&&null!=i)for(const s of i){if(a(s))continue;const e=c4(s.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=fW().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Nve){this.keepIntermediateTensors=!1,console.warn(Nve.message)}const i=new l5(this.weightMap,r,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,i,t,n),s=t.map((e=>u4(e,a,i))),l=s.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(a).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&i.dispose(c),s}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const o=Object.keys(e),i=o.map((e=>this.graph.nodes[h4(e)[0]])),a=n.map((e=>h4(e)[0])),s=new Set(a);let l=a.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=u5(e,l,this.weightMap,this._initNodes),h=[...i,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=h4(t),o=[];o[r]=e[t],f[n]=o}));const m={},g=this.getFrozenTensorIds(f),y={};for(;h.length>0;){const e=this.processStack(i,h,t,f,y,g,s,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=l.filter((e=>!m5(e)&&!u4(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${o}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,r,o,i,a,s,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&l4("isConstant",e.node,r,n)&&([c]=d4(e.node.name,n)),null==r[e.node.name]){const d=s5(e.node,r,n,this._resourceManager);c||([c]=d4(e.node.name,n));const p=n.currentContext;cW(d)?u.push(d.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,i,a,s),this.processChildNodes(e.node,t,n,r,o,l),u)))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,i,a,s),this.processChildNodes(e.node,t,n,r,o,l))}else this.processChildNodes(e.node,t,n,r,o,l)}return u}processChildNodes(e,t,n,r,o,i){e.children.forEach((e=>{const[a]=d4(e.name,n);!o[a]&&i.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!u4(e,r,n)))&&(o[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!u4(e,r,n)))&&(o[a]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=h4(t),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const e=o.attrParams.shape.value;MU(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}o.attrParams.dtype&&o.attrParams.dtype.value&&MU(n.dtype===o.attrParams.dtype.value,(()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const r={};for(const o in e){const i=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[o];null!=i?r[i.name]=e[o]:r[o]=e[o]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=h4(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=h4(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class b5{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const x5="?tfjs-format=file",w5="model.json";class A5{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new b5}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return cW(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await vK(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new v5(D4.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=D4.Instance.transformGraph(e.modelInitializer);this.initializer=new v5(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof xX?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof xX)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce(((t,n)=>{var o,i,a;const s=null===(a=null===(i=null===(o=this.signature)||void 0===o?void 0:o.inputs)||void 0===i?void 0:i[n])||void 0===a?void 0:a.resourceId;return t[n]=null!=s?this.resourceIdToCapturedInput[s]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const o=t[n[r]];this.resourceIdToCapturedInput[o.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&aK(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function S5(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${w5}${x5}`}(e));const o=new A5(e,n,r);return await o.load(),o}const C5=fW();C5.registerFlag("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE",(()=>15)),C5.registerFlag("WEBGPU_CPU_FORWARD",(()=>!0)),C5.registerFlag("WEBGPU_MATMUL_PROGRAM_TYPE",(()=>-1)),C5.registerFlag("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE",(()=>!0)),C5.registerFlag("WEBGPU_USE_LOW_POWER_GPU",(()=>!1)),C5.registerFlag("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e3)),C5.registerFlag("WEBGPU_USE_PROFILE_TOOL",(()=>!1)),C5.registerFlag("WEBGPU_IMPORT_EXTERNAL_TEXTURE",(()=>!0)),C5.registerFlag("WEBGPU_USE_NAIVE_CONV2D_DEBUG",(()=>!1)),C5.registerFlag("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL",(()=>-1)),C5.registerFlag("WEBGPU_CONV_SEPARATE_IM2COL_SHADER",(()=>!1)),C5.registerFlag("WEBGPU_PRINT_SHADER",(()=>"")),C5.registerFlag("WEBGPU_ENGINE_COMPILE_ONLY",(()=>!1));class k5{constructor(e){e&&(this.vendor=e.vendor,this.architecture=e.architecture,this.intelGPUGeneration=this.getIntelGPUGeneration())}getIntelGPUGeneration(){if(this.isIntel()){if(this.architecture.startsWith("gen"))return Number(this.architecture.match(/\d+/));if(this.architecture.startsWith("xe"))return 12}return 0}isIntel(){return"intel"===this.vendor}}class E5{constructor(e){this.device=e,this.numUsedBuffers=0,this.numFreeBuffers=0,this.freeBuffers=new Map,this.usedBuffers=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}acquireBuffer(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=T5(e,t);return o?(this.freeBuffers.has(i)||this.freeBuffers.set(i,[]),this.freeBuffers.get(i).length>0?(n=this.freeBuffers.get(i).pop(),this.numFreeBuffers--):(n=this.device.createBuffer({size:e,usage:t,mappedAtCreation:r}),this.numBytesAllocated+=e)):(n=this.device.createBuffer({size:e,usage:t,mappedAtCreation:r}),this.numBytesAllocated+=e),this.usedBuffers.has(i)||this.usedBuffers.set(i,[]),this.usedBuffers.get(i).push(n),this.numUsedBuffers++,this.numBytesUsed+=e,n}releaseBuffer(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===this.freeBuffers.size)return;const n=e.size,r=T5(n,e.usage),o=this.usedBuffers.get(r),i=o.indexOf(e);if(i<0)throw new Error("Cannot find the buffer in buffer manager");o[i]=o[o.length-1],o.pop(),this.numUsedBuffers--,this.numBytesUsed-=n,t?(this.freeBuffers.get(r).push(e),this.numFreeBuffers++):(e.destroy(),this.numBytesAllocated-=n)}getNumUsedBuffers(){return this.numUsedBuffers}getNumFreeBuffers(){return this.numFreeBuffers}dispose(){this.freeBuffers.forEach(((e,t)=>{e.forEach((e=>{e.destroy()}))})),this.usedBuffers.forEach(((e,t)=>{e.forEach((e=>{e.destroy()}))})),this.freeBuffers=new Map,this.usedBuffers=new Map,this.numUsedBuffers=0,this.numFreeBuffers=0,this.numBytesUsed=0,this.numBytesAllocated=0}}function T5(e,t){return`${e}_${t}`}class I5{constructor(e){this.device=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures=new Map,this.usedTextures=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}acquireTexture(e,t,n,r){const o=e*t*R5(n),i=O5(e,t,n,r);if(this.freeTextures.has(i)||this.freeTextures.set(i,[]),this.usedTextures.has(i)||this.usedTextures.set(i,[]),this.numBytesUsed+=o,this.numUsedTextures++,this.freeTextures.get(i).length>0){this.numFreeTextures--;const e=this.freeTextures.get(i).shift();return this.usedTextures.get(i).push(e),e}this.numBytesAllocated+=o;const a=this.device.createTexture({size:[e,t],format:n,usage:r});return this.usedTextures.get(i).push(a),a}releaseTexture(e){if(0===this.freeTextures.size)return;const t=e.width,n=e.height,r=e.format,o=O5(t,n,r,e.usage);this.freeTextures.has(o)||this.freeTextures.set(o,[]),this.freeTextures.get(o).push(e),this.numFreeTextures++,this.numUsedTextures--;const i=this.usedTextures.get(o),a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1);const s=t*n*R5(r);this.numBytesUsed-=s}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){this.freeTextures.forEach(((e,t)=>{e.forEach((e=>{e.destroy()}))})),this.usedTextures.forEach(((e,t)=>{e.forEach((e=>{e.destroy()}))})),this.freeTextures=new Map,this.usedTextures=new Map,this.numUsedTextures=0,this.numFreeTextures=0,this.numBytesUsed=0,this.numBytesAllocated=0}}function O5(e,t,n,r){return`${e}_${t}_${n}_${r}`}function R5(e){if("rgba8unorm"===e)return 16;throw new Error(`${e} is not supported!`)}function N5(e,t){if(Math.max(...e)>5)throw new Error("Cannot symbolically compute strides for rank > 6 tensor.");const n=e.length,r=e.map((e=>`${t}.${"xyzwuv"[e]}`)),o=new Array(n-1);o[n-2]=r[n-1];for(let i=n-3;i>=0;--i)o[i]=`(${o[i+1]} * ${r[i+1]})`;return o}const _5=(e,t,n)=>"int32"===n?`atomicAdd(${e}, bitcast<i32>(${t}));`:`\n          {\n            var oldValue = 0;\n            loop {\n              let newValueF32 = bitcast<f32>(oldValue) + (${t});\n              let newValue = bitcast<i32>(newValueF32);\n              let res = atomicCompareExchangeWeak(${e}, oldValue, newValue);\n              if res.exchanged {\n                break;\n              }\n              oldValue = res.old_value;\n            }\n          }`;var P5;!function(e){e[e.FROM_PIXELS=0]="FROM_PIXELS",e[e.DRAW=1]="DRAW"}(P5||(P5={}));const M5=(e,t,n,r,o)=>{const i=function(e,t,n){const r=[],o=n.workgroupSize[0]*n.workgroupSize[1]*n.workgroupSize[2];if(n.outputComponent=n.outputComponent?n.outputComponent:1,r.push(`\n\n      var<private> localId: vec3<u32>;\n      var<private> localIndex: u32;\n      var<private> globalId: vec3<u32>;\n      var<private> numWorkgroups: vec3<u32>;\n      var<private> workgroupId: vec3<u32>;\n\n      // Only used when the y/z dimension of workgroup size is 1.\n      fn getGlobalIndex() -> i32 {\n        ${W5(n)?"  return i32(globalId.x);":`  return i32((workgroupId.z * numWorkgroups.x * numWorkgroups.y +\n                workgroupId.y * numWorkgroups.x + workgroupId.x) * ${o}u +\n                localIndex);\n        `}\n      }\n    `),null!=n.pixelsOpType){const o=n.pixelsOpType===P5.FROM_PIXELS?`@group(0) @binding(0) var<storage, read_write> result: array<${q5(t.dtype,n.outputComponent)}>;`:`@group(0) @binding(1) var<storage, read> inBuf : array<${q5(e[0].dtype,n.outputComponent)}>;`,i=3===t.shape.length?"vec2<i32>":"i32";r.push(`\n        struct Uniform {\n          outShapeStrides : ${i},\n          size            : i32,\n          numChannels     : i32,\n          alpha           : f32,\n        };\n\n        ${o}\n        @group(0) @binding(2) var<uniform> uniforms: Uniform;\n      `);const a=H5(n);return[B5,r.join("\n"),z5(t.shape),n.getUserCode(),F5(a,n)].join("\n")}let i,a,s="struct Uniforms { NAN : f32, INFINITY : f32, ";n.variableNames.forEach(((t,n)=>{const r=L5(e[n].shape.length);s+=`${t.charAt(0).toLowerCase()+t.slice(1)}Shape : ${r}, `,i=e[n].shape.length-1,a=L5(i),s+=`${t.charAt(0).toLowerCase()+t.slice(1)}ShapeStrides: ${a}, `}));const l=L5(t.shape.length);s+=`outShape : ${l}, `,i=t.shape.length-1,a=L5(i),s+=`\n         outShapeStrides: ${a}, `,n.size&&(s+="size : i32, ");n.uniforms&&(s+=n.uniforms);s+="};",s=function(e){const t=/(\w+)\s*:\s*vec(5|6)/g;e=e.replace(t,(e=>"@align(16) "+e));const n=/vec(5|6)\s*,\s*(\w+)/g;return e=e.replace(n,((e,t,n)=>`vec${t}, @align(16) ${n}`))}(s),r.push(s),n.atomic?r.push("\n      @group(0) @binding(0) var<storage, read_write> result: array<atomic<i32>>;\n    "):r.push(`\n      @group(0) @binding(0) var<storage, read_write> result: array<${q5(t.dtype,n.outputComponent)}>;\n    `);n.variableNames.forEach(((t,o)=>{r.push(`\n      @group(0) @binding(${1+o}) var<storage, read> ${t}: array<${n.variableComponents?q5(e[o].dtype,n.variableComponents[o]):q5(e[o].dtype,n.outputComponent)}>;\n        `)})),""!==s&&r.push(`\n      @group(0) @binding(${1+n.variableNames.length}) var<uniform> uniforms: Uniforms;\n      `);const u=function(e,t){const{x:n,y:r=[],z:o=[]}=t,i=e.length,a=n.length+r.length+o.length;if(a!==i)return"";if(n.length===i){return`fn getOutputCoords() -> ${L5(i)}{\n    let globalIndex = getGlobalIndex();\n    return getCoordsFromIndex(globalIndex);\n  }\n  `}let s="";const l=[n,r,o];for(let p=0;p<l.length;p++){const e=l[p];if(0!==e.length)if(1===e.length)s+=`let d${e[0]} = i32(globalId[${p}]);`;else{const t=N5(e,"uniforms.outShape");s+=`var index${p} = i32(globalId[${p}]);`;for(let n=0;n<t.length;n++)s+=`let d${e[n]} = index${p} / ${t[n]};`,n===t.length-1?s+=`let d${e[n+1]} = index${p} - d${e[n]} * ${t[n]};`:s+=`index${p} = index${p} - d${e[n]} * ${t[n]};`}}const u=[];for(let p=0;p<a;p++)u.push(`d${p}`);const c=L5(a);let d=`fn getOutputCoords() -> ${c} {\n  ${s}\n`;0===u.length?d+=`return ${c}(0); }`:d+=`return ${c}(${u.join(",")}); }`;return d}(t.shape,n.dispatchLayout),c=[B5,r.join("\n")+V5,z5(t.shape),u,U5(t.shape.length)];n.atomic||c.push(function(e,t,n){const r=e.length,o=q5(t,n);let i=`fn setOutputAtIndex(flatIndex : i32, value : ${D5(n)}) {\n      result[flatIndex] = ${o}(value);\n    }\n\n    fn setOutputAtIndexI32(flatIndex : i32, value : ${D5(n,"i32")}) {\n      result[flatIndex] = ${o}(value);\n    }\n    `;if(r>=2){const e=["d0","d1","d2","d3","d4","d5"].slice(0,r),t=L5(r);i+=`\n      fn setOutputAtCoords(${e.map((e=>`${e} : i32`)).join(", ")}, value : ${D5(n)}) {\n        let flatIndex = getOutputIndexFromCoords(${t}(${e.join(", ")}));\n        setOutputAtIndex(flatIndex${1===n?"":` / ${n}`}, value);\n      }\n      fn setOutputAtCoordsI32(${e.map((e=>`${e} : i32`)).join(", ")}, value : ${D5(n,"i32")}) {\n        let flatIndex = getOutputIndexFromCoords(${t}(${e.join(", ")}));\n        setOutputAtIndexI32(flatIndex${1===n?"":` / ${n}`}, value);\n      }\n    `}return i}(t.shape,t.dtype,n.outputComponent));n.variableNames.forEach(((t,n)=>{c.push(`${z5(e[n].shape,t)}`)}));const d=e.map(((e,r)=>function(e,t,n,r){let o=function(e,t){const n=e.name,r=e.shape.length,o=L5(r),i="get"+n.charAt(0).toUpperCase()+n.slice(1),a=["d0","d1","d2","d3","d4","d5"].slice(0,r),s=a.map((e=>`${e} : i32`)).join(", ");if(r<1)return`\n      fn ${i}() -> ${D5(t)} {\n        return ${D5(t)}(${n}[0]);\n      }\n    `;const l=`uniforms.${n.charAt(0).toLowerCase()+n.slice(1)}Shape`;let u=`${r}D`;0===r&&(u="1D");return`\n    fn ${i}(${s}) -> ${D5(t)} {\n      return ${D5(t)}(${n}[getIndexFromCoords${u}(${o}(${a.join(",")}),\n        ${l})${1===t?"":` / ${t}`}]);\n    }\n   `}(e,n);const i=e.shape;i.length<=t.length&&(o+=function(e,t,n,r){const o=e.name,i=o.charAt(0).toUpperCase()+o.slice(1),a="get"+i+"ByOutput",s=e.shape.length,l=t.length,u=L5(l);if(FU(e.shape,t)&&r)return`\n    fn ${a}Index(globalIndex : i32) -> ${D5(n)} {\n      return ${D5(n)}(${o}[globalIndex]);\n    }\n\n    fn ${a}Coords(coords : ${u}) -> ${D5(n)} {\n      return ${D5(n)}(${o}[${l>1?"getOutputIndexFromCoords(coords)":"coords"}${1===n?"":` / ${n}`}]);\n    }\n    `;const c=LY(e.shape,t),d=l-s;let p="";if(0===s)return`\n    fn ${a}Index(globalIndex : i32) -> ${D5(n)}{\n      return get${i}();\n    }\n\n    fn ${a}Coords(coords : ${u}) -> ${D5(n)}{\n      return get${i}();\n    }\n  `;p=l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${$5(e+d)} = 0;`)).join("\n");let h="";if(l<2&&s>0)h="coords";else if(l>1){const t=L5(s),n=e.shape.map(((e,t)=>`coords.${$5(t+d)}`)).join(", ");h=`${t}(${n})`}else h="coords";const f=`uniforms.${o.charAt(0).toLowerCase()+o.slice(1)}Shape`,m=`${s}D`;return`\n  fn ${a}Index(globalIndex : i32) -> ${D5(n)} {\n    var coords = getCoordsFromIndex(globalIndex);\n    ${p}\n    return ${D5(n)}(${o}[getIndexFromCoords${m}(${h}, ${f})${1===n?"":` / ${n}`}]);\n  }\n\n  fn ${a}Coords(coordsIn : ${u}) -> ${D5(n)} {\n    var coords = coordsIn;\n    ${p}\n    return ${D5(n)}(${o}[getIndexFromCoords${m}(${h}, ${f})${1===n?"":` / ${n}`}]);\n  }\n`}(e,t,n,r));return o}(e,t.shape,n.variableComponents?n.variableComponents[r]:n.outputComponent,n.dispatchLayout.x.length===t.shape.length))).join("\n");c.push(d),c.push(n.getUserCode());const p=H5(n);c.push(F5(p,n));const h=c.join("\n");return h}(n,{dtype:r.dtype,shape:r.shape},t),a=e.createShaderModule({code:i,label:t.constructor.name});let s=fW().get("WEBGPU_PRINT_SHADER");if(""!==s){s=s.toLowerCase();const e=s.split(",");("all"===s||e.some((e=>t.shaderKey.toLowerCase().includes(e))))&&(console.group(t.shaderKey),console.debug(i),console.groupEnd())}return o?e.createComputePipelineAsync({compute:{module:a,entryPoint:"_start"},label:t.constructor.name,layout:"auto"}):e.createComputePipeline({compute:{module:a,entryPoint:"_start"},label:t.constructor.name,layout:"auto"})},D5=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"f32";switch(e){case 1:return`${t}`;case 2:return`vec2<${t}>`;case 3:return`vec3<${t}>`;case 4:return`vec4<${t}>`;default:throw new Error(`${e}-component ${t} is not supported.`)}};function L5(e){if(e<=1)return"i32";if(2===e)return"vec2<i32>";if(3===e)return"vec3<i32>";if(4===e)return"vec4<i32>";if(5===e)return"vec5";if(6===e)return"vec6";throw Error(`GPU for rank ${e} is not yet supported`)}function $5(e){if(0===e)return"x";if(1===e)return"y";if(2===e)return"z";if(3===e)return"w";if(4===e)return"u";if(5===e)return"v";throw Error(`Index ${e} is not yet supported`)}function j5(){let e;switch(arguments.length){case 0:e="\n        fn main()\n      ";break;case 1:e=`\n        fn main(${arguments.length<=0?void 0:arguments[0]} : i32)\n      `;break;default:throw Error("Unreachable")}return e}function F5(e,t){let n;return n=`\n     ${function(e){return`\n  @compute @workgroup_size(${e.workgroupSize[0]}, ${e.workgroupSize[1]}, ${e.workgroupSize[2]})\n`}(t)}\n      fn _start(@builtin(local_invocation_id) LocalId : vec3<u32>,\n                @builtin(global_invocation_id) GlobalId : vec3<u32>,\n                @builtin(local_invocation_index) LocalIndex: u32,\n                @builtin(workgroup_id) WorkgroupId : vec3<u32>,\n                @builtin(num_workgroups) NumWorkgroups : vec3<u32>) {\n        localId = LocalId;\n        localIndex = LocalIndex;\n        globalId = GlobalId;\n        numWorkgroups = NumWorkgroups;\n        workgroupId = WorkgroupId;\n        ${e?"main(getGlobalIndex());":"main();"};\n      }\n    `,n}const B5="\n  struct vec5 {x: i32, y: i32, z: i32, w: i32, u: i32};\n  struct vec6 {x: i32, y: i32, z: i32, w: i32, u: i32, v: i32};\n\n  // Checks whether coordinates lie within the bounds of the shape.\n  fn coordsInBounds2D(coord : vec2<i32>, shape : vec2<i32>) -> bool {\n    return all(coord >= vec2<i32>(0)) && all(coord < shape);\n  }\n  fn coordsInBounds3D(coord : vec3<i32>, shape : vec3<i32>) -> bool {\n    return all(coord >= vec3<i32>(0)) && all(coord < shape);\n  }\n  fn coordsInBounds4D(coord : vec4<i32>, shape : vec4<i32>) -> bool {\n    return all(coord >= vec4<i32>(0)) && all(coord < shape);\n  }\n\n  fn getIndexFromCoords1D(coord : i32, shape : i32) -> i32 {\n    return coord;\n  }\n  fn getIndexFromCoords2D(coords : vec2<i32>, shape : vec2<i32>) -> i32 {\n    return dot(coords, vec2<i32>(shape.y, 1));\n  }\n  fn getIndexFromCoords3D(coords : vec3<i32>, shape : vec3<i32>) -> i32 {\n    return dot(coords, vec3<i32>(shape.y * shape.z, shape.z, 1));\n  }\n  fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n    return dot(coords, vec4<i32>(\n        shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n  }\n  fn getIndexFromCoords5D(coords : vec5, shape : vec5) -> i32 {\n    let shapeStrides: vec5 = vec5(shape.y * shape.z * shape.w * shape.u, shape.z * shape.w * shape.u, shape.w * shape.u, shape.u, 1);\n    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u;\n  }\n  fn getIndexFromCoords6D(coords : vec6, shape : vec6) -> i32 {\n    let shapeStrides: vec6 = vec6(shape.y * shape.z * shape.w * shape.u * shape.v, shape.z * shape.w * shape.u * shape.v, shape.w * shape.u * shape.v, shape.u * shape.v, shape.v, 1);\n    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u + coords.v*shapeStrides.v;\n  }\n\n  // NaN defination in IEEE 754-1985 is :\n  //   - sign = either 0 or 1.\n  //   - biased exponent = all 1 bits.\n  //   - fraction = anything except all 0 bits (since all 0 bits represents infinity).\n  // https://en.wikipedia.org/wiki/IEEE_754-1985#Representation_of_non-numbers\n  fn isnan(val: f32) -> bool {\n    let floatToUint: u32 = bitcast<u32>(val);\n    return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n  }\n  fn isnanVec4(val : vec4<f32>) -> vec4<bool> {\n    let floatToUint: vec4<u32> = bitcast<vec4<u32>>(val);\n    return (floatToUint & vec4<u32>(0x7fffffffu)) > vec4<u32>(0x7f800000u);\n  }\n",V5="\n  fn isinf(val: f32) -> bool {\n    return abs(val) == uniforms.INFINITY;\n  }\n";function z5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.length,r=""!==t?`get${t.charAt(0).toUpperCase()+t.slice(1)}CoordsFromIndex`:"getCoordsFromIndex",o=""!==t?`${t.charAt(0).toLowerCase()+t.slice(1)}ShapeStrides`:"outShapeStrides";if(n<=1)return`fn ${r}(index : i32) -> i32 { return index; }`;const i=tW(e),a=L5(n),s=[];for(let u=0;u<n;u++)s.push(`d${u}`);if(1===i.length)return`    fn ${r}(index : i32) -> vec2<i32> {\n      let d0 = index / uniforms.${o}; let d1 = index - d0 * uniforms.${o};\n      return vec2<i32>(d0, d1);\n    }`;let l;return l="var index2 = index;"+i.map(((e,t)=>`${`let ${s[t]} = index2 / uniforms.${o}.${$5(t)}`}; ${t===i.length-1?`let ${s[t+1]} = index2 - ${s[t]} * uniforms.${o}.${$5(t)}`:`index2 = index2 - ${s[t]} * uniforms.${o}.${$5(t)}`};`)).join(""),`\n    fn ${r}(index : i32) -> ${a} {\n      ${l}\n      return ${a}(${s.join(",")});\n    }\n  `}function U5(e){let t="";switch(e){case 0:case 1:t+="\n        fn getOutputIndexFromCoords(coords : i32) -> i32 {\n          return coords;\n        }\n        ";break;case 2:t+="\n        fn getOutputIndexFromCoords(coords : vec2<i32>) -> i32 {\n          return dot(coords, vec2<i32>(uniforms.outShapeStrides, 1));\n        }\n        ";break;case 3:t+="\n        fn getOutputIndexFromCoords(coords : vec3<i32>) -> i32 {\n          return dot(coords, vec3<i32>(uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, 1));\n        }\n        ";break;case 4:t+="\n        fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n          return dot(coords, vec4<i32>(\n            uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, uniforms.outShapeStrides.z, 1));\n        }\n        ";break;case 5:t+="\n        fn getOutputIndexFromCoords(coords : vec5) -> i32 {\n          return coords.x * uniforms.outShapeStrides.x +\n              coords.y * uniforms.outShapeStrides.y +\n              coords.z * uniforms.outShapeStrides.z +\n              coords.w * uniforms.outShapeStrides.w +\n              coords.u;\n        }\n        ";break;case 6:t+="\n        fn getOutputIndexFromCoords(coords : vec6) -> i32 {\n          return coords.x * uniforms.outShapeStrides.x +\n              coords.y * uniforms.outShapeStrides.y +\n              coords.z * uniforms.outShapeStrides.z +\n              coords.w * uniforms.outShapeStrides.w +\n              coords.u * uniforms.outShapeStrides.u +\n              coords.v;\n        }\n        ";break;default:MU(!1,(()=>`Unsupported ${e}D shape`))}return t}function W5(e){return 1===e.dispatch[1]&&1===e.dispatch[2]}function q5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("float32"===e)return D5(t,"f32");if("int32"===e||"bool"===e)return D5(t,"i32");throw new Error(`type ${e} is not supported.`)}function H5(e){return(!e.dispatchLayout.hasOwnProperty("y")||0===e.dispatchLayout.y.length)&&(!e.dispatchLayout.hasOwnProperty("z")||0===e.dispatchLayout.z.length)}const G5=e=>{let t=1;for(let n=0;n<e.length;n++)t*=e[n];return t};function X5(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1];const[o,i,a]=[Math.ceil(G5(e.x.map((e=>t[e])))/(n[0]*r[0])),e.y?Math.ceil(G5(e.y.map((e=>t[e])))/(n[1]*r[1])):1,e.z?Math.ceil(G5(e.z.map((e=>t[e])))/(n[2]*r[2])):1];return[o,i,a]}function K5(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return[8,8,1];const n=G5(e.x.map((e=>t[e]))),r=G5(e.y.map((e=>t[e])));return n<=4?[4,16,1]:r<=4?[16,4,1]:[16,16,1]}function Y5(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return[4,4,1];const n=G5(e.x.map((e=>t[e]))),r=G5(e.y.map((e=>t[e])));return n<=4?[1,2,1]:r<=4?[2,1,1]:[2,2,1]}function Q5(e){return{x:e.map(((e,t)=>t))}}function J5(e){if("float32"===e||"int32"===e||"bool"===e||"string"===e)return 4;if("complex64"===e)return 8;throw new Error(`Unknown dtype ${e}`)}function Z5(){return!("undefined"===typeof globalThis||!globalThis.navigator||!globalThis.navigator.gpu)}function e6(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&MU("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGPU backend.`))}))}var t6;!function(e){e[e.MatMulReduceProgram=0]="MatMulReduceProgram",e[e.MatMulSplitKProgram=1]="MatMulSplitKProgram",e[e.MatMulSmallOutputSizeProgram=2]="MatMulSmallOutputSizeProgram",e[e.MatMulPackedProgram=3]="MatMulPackedProgram",e[e.MatMulMax=4]="MatMulMax"}(t6||(t6={}));const n6=fW().getNumber("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD");class r6 extends IU{nextDataId(){return r6.nextDataId++}constructor(e,t){if(super(),this.commandQueueOwnedIds=new WeakSet,this.dispatchCountInPass=0,this.disposed=!1,this.downloadWaitMs=0,this.tensorDataPendingDisposal=[],this.queryResolveBuffer=null,this.querySet=null,this.querySetCount=2,this.stagingPendingDisposal=[],this.uniformPendingDisposal=[],this.uploadWaitMs=0,this.hasReadSyncWarned=!1,this.hasTimestampQueryWarned=!1,!Z5())throw new Error("WebGPU is not supported on this device");this.pipelineCache={},this.device=e,this.queue=e.queue,this.commandEncoder=null,this.computePassEncoder=null,this.adapterInfo=new k5(t),this.supportTimestampQuery=this.device.features.has("timestamp-query"),this.thresholdToIncreaseWorkgroups=this.adapterInfo.intelGPUGeneration>=12?16:8,this.bufferManager=new E5(this.device),this.textureManager=new I5(this.device),this.tensorMap=new TU(this,oK()),fW().getBool("WEBGPU_USE_PROFILE_TOOL")&&(this.dummyCanvas=document.createElement("canvas"),this.dummyCanvas.width=1,this.dummyCanvas.height=1,this.dummyContext=this.dummyCanvas.getContext("webgpu"),this.dummyContext.configure({device:e,format:"bgra8unorm"}),document.body.appendChild(this.dummyCanvas))}floatPrecision(){return 32}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.tensorMap.has(e))return!0;const n=this.tensorMap.get(e);return t?n.refCount=0:n.refCount--,!(n.refCount>0)&&(null!=n.complexTensorInfos&&(this.disposeData(n.complexTensorInfos.real.dataId),this.disposeData(n.complexTensorInfos.imag.dataId)),this.commandQueueOwnedIds.has(e)?(this.tensorDataPendingDisposal.push(e),!0):(this.releaseResource(e),this.tensorMap.delete(e),!0))}memory(){return{numBytesInGPU:this.bufferManager.numBytesUsed,numBytesAllocatedInGPU:this.bufferManager.numBytesAllocated,unreliable:!1}}releaseResource(e){const t=this.tensorMap.get(e);t&&t.resource&&(t.external||(t.resource instanceof GPUBuffer?this.bufferManager.releaseBuffer(t.resource):t.resource instanceof GPUTexture&&this.textureManager.releaseTexture(t.resource)),t.resource=null)}refCount(e){if(this.tensorMap.has(e)){return this.tensorMap.get(e).refCount}return 0}incRef(e){this.tensorMap.get(e).refCount++}decRef(e){if(this.tensorMap.has(e)){this.tensorMap.get(e).refCount--}}write(e,t,n){if("complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.tensorMap.set(r,{dtype:n,shape:t,values:e,refCount:1}),r}move(e,t,n,r,o){if("complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.tensorMap.set(e,{dtype:r,shape:n,values:t,refCount:o})}submitQueue(){this.queue.submit([this.commandEncoder.finish()]),this.commandEncoder=null,this.dispatchCountInPass=0,this.commandQueueOwnedIds=new WeakSet,this.tensorDataPendingDisposal.forEach((e=>{this.releaseResource(e),this.tensorMap.delete(e)})),this.uniformPendingDisposal.forEach((e=>this.bufferManager.releaseBuffer(e))),this.stagingPendingDisposal.forEach((e=>this.bufferManager.releaseBuffer(e,!1))),this.tensorDataPendingDisposal=[],this.uniformPendingDisposal=[],this.stagingPendingDisposal=[]}ensureCommandEncoderReady(){this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder())}endComputePassEncoder(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}async checkCompileCompletionAsync(){let e;try{e=await Promise.all(Object.values(this.pipelineCache))}catch(Nve){throw new Error(Nve.message)}Object.keys(this.pipelineCache).map(((t,n)=>{this.pipelineCache[t]=e[n]}))}async getBufferData(e){if(fW().getBool("WEBGPU_ENGINE_COMPILE_ONLY"))return console.warn("The data may be invalid since WEBGPU_ENGINE_COMPILE_ONLY is true, this can only be called when WEBGPU_ENGINE_COMPILE_ONLY is false"),null;const t=e.size,n=this.bufferManager.acquireBuffer(t,GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ);this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(e,0,n,0,t),this.submitQueue(),await n.mapAsync(GPUMapMode.READ);const r=n.getMappedRange().slice(0);return n.unmap(),null!=n&&this.bufferManager.releaseBuffer(n),fW().getBool("WEBGPU_USE_PROFILE_TOOL")&&(MU(void 0!==this.dummyContext,(()=>"Fail to get context for profiling tool")),this.dummyContext.getCurrentTexture()),r}convertAndCacheOnCPU(e,t){const n=this.tensorMap.get(e);return n.values=t,n.values}readSync(e){const t=this.tensorMap.get(e),{values:n,complexTensorInfos:r}=t;if(null!=n||"string"===t.dtype)return n;if("complex64"===t.dtype){const t=oW(A3(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)).buffer,"float32");return this.convertAndCacheOnCPU(e,t),t}this.hasReadSyncWarned||(this.hasReadSyncWarned=!0,console.warn("The performance of synchronously reading data from GPU to CPU is poor on the webgpu backend, please use asynchronous APIs instead."));const o=["opaque","premultiplied"],i=t.resource,a=i.size;MU(a%4===0,(()=>"Because there is 4 bytes for one pixel, buffer size must be multiple of 4."));const s=a/4,l=new ArrayBuffer(a),u=256,c=256,d=o.map((e=>new OffscreenCanvas(u,c))),p=new OffscreenCanvas(u,c);this.endComputePassEncoder(),d.map(((e,t)=>{const n=e.getContext("webgpu");return n.configure({device:this.device,format:"bgra8unorm",usage:GPUTextureUsage.COPY_DST,alphaMode:o[t]}),n.getCurrentTexture()})).map(((e,t)=>{const n=(n,r,a)=>{this.ensureCommandEncoderReady(),this.commandEncoder.copyBufferToTexture({buffer:i,bytesPerRow:1024,offset:a},{texture:e},{width:n,height:r}),this.submitQueue();const s=p.getContext("2d",{willReadFrequently:!0});s.clearRect(0,0,n,r),s.drawImage(d[t],0,0);const u=s.getImageData(0,0,n,r).data,c=o[t],h=new Uint8ClampedArray(l,a,n*r*4);for(let e=0;e<h.length;e+=4)if("premultiplied"===c)h[e+3]=u[e+3];else{const t=u[e];h[e]=u[e+2],h[e+1]=u[e+1],h[e+2]=t}},r=Math.floor(s/65536);let a=u,h=c,f=0;for(let o=0;o<r;o++)n(a,h,f),f+=262144;const m=s%65536;h=Math.floor(m/u),h>0&&(n(a,h,f),f+=1024*h),a=m%u,a>0&&n(a,1,f)}));const h=oW(l,t.dtype);return this.convertAndCacheOnCPU(e,h),h}async read(e){if(!this.tensorMap.has(e))throw new Error(`Tensor ${e} was not registered!`);const t=this.tensorMap.get(e),{values:n}=t;if(null!=n)return n;let r;if("complex64"===t.dtype){const e=await Promise.all([this.read(t.complexTensorInfos.real.dataId),this.read(t.complexTensorInfos.imag.dataId)]);r=A3(e[0],e[1])}else{r=oW(await this.getBufferData(t.resource),t.dtype)}return this.convertAndCacheOnCPU(e,r),r}copyBuffer(e){const t=e.size,n=e.usage,r=this.bufferManager.acquireBuffer(t,n);return this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(e,0,r,0,t),this.submitQueue(),r}createTensorFromGPUData(e,t,n){let r=e.buffer;if("complex64"===n)throw new Error("Cannot write to a complex64 dtype. ");const o={id:this.nextDataId()};this.tensorMap.set(o,{dtype:n,shape:t,values:null,refCount:1,external:e.zeroCopy});const i=this.tensorMap.get(o),a=J5(i.dtype)*$U(i.shape);if(e.buffer.size<a)throw new Error(`GPUBuffer size(${e.buffer.size}) is smaller than tensor size(${a})!`);if((e.buffer.usage&(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC))!==(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC))throw new Error("GPUBuffer.usage should include GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC!");return!0!==e.zeroCopy&&(r=this.copyBuffer(r)),i.resource=r,oK().makeTensorFromDataId(o,t,n,this)}readToGPU(e){const t=this.tensorMap.get(e),{values:n,dtype:r,shape:o,resource:i}=t;if("complex64"===r)throw new Error("Does not support reading buffer for complex64 dtype.");if(null==i)throw null!=n?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const a=i,s=a.size,l=a.usage,u=this.bufferManager.acquireBuffer(s,l);this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(i,0,u,0,s),this.submitQueue();const c=this.makeTensorInfo(o,r),d=oK().makeTensorFromTensorInfo(c);return this.tensorMap.get(c.dataId).resource=u,{tensorRef:d,buffer:u}}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>nX(e)));return hY(e.shape,e.dtype,n)}catch(_ve){throw new Error("Failed to decode encoded string bytes into utf-8")}return hY(e.shape,e.dtype,t)}async time(e){this.supportTimestampQuery||this.hasTimestampQueryWarned||(console.warn("This device doesn't support timestamp-query extension. Start Chrome browser with flag --enable-dawn-features=allow_unsafe_apis to try it again. Otherwise, zero will be shown for the kernel time when profiling mode is enabled."),this.hasTimestampQueryWarned=!0);const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=oX(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=oX(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},s=await Promise.all(o);return a.kernelMs=PU(s),a.getExtraProfileInfo=()=>s.map(((e,t)=>({name:i[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", "),this.uploadWaitMs=0,this.downloadWaitMs=0,a}makeTensorInfo(e,t,n){"string"===t&&null!=n&&n.length>0&&QU(n[0])&&(n=n.map((e=>tX(e))));return{dataId:this.write(n,e,t),shape:e,dtype:t}}tensorToBinding(e){if(!e)return null;const t=this.tensorMap.get(e.dataId).resource;return t instanceof GPUBuffer?{buffer:t}:t instanceof GPUTexture?t.createView():t}uploadToGPU(e){const t=this.tensorMap.get(e);if(null!=t.resource)return;const n=J5(t.dtype)*$U(t.shape);let r;const o=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;if(t.values){if(r=this.bufferManager.acquireBuffer(n,o,!0),"unmapped"===r.mapState){const e=this.bufferManager.acquireBuffer(n,GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC,!0,!1),o=e.getMappedRange();"int32"===t.dtype||"bool"===t.dtype?new Int32Array(o).set(t.values):new Float32Array(o).set(t.values),e.unmap(),this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(e,0,r,0,n),this.stagingPendingDisposal.push(e)}else{const e=r.getMappedRange();"int32"===t.dtype||"bool"===t.dtype?new Int32Array(e).set(t.values):new Float32Array(e).set(t.values),r.unmap()}t.values=null}else r=this.bufferManager.acquireBuffer(n,o);t.resource=r}makeUniforms(e){let t=0,n=0;const r=[];let o=1;e.forEach((e=>{let i;switch(0===e.data.length&&(e.data=[1]),e.data.length){case 1:i=4;break;case 2:i=8;break;case 3:case 4:case 5:case 6:i=16;break;default:MU(!1,(()=>`Unsupported ${e.data.length}D shape`))}5!==n&&6!==n||(i=16),i>o&&(o=i),t=Math.ceil(t/i)*i,n=e.data.length,r.push(t),t+=4*e.data.length})),t=Math.ceil(t/o)*o;const i=new ArrayBuffer(t);e.forEach(((e,t)=>{const n=r[t];"int32"===e.type?new Int32Array(i,n,e.data.length).set(e.data):"uint32"===e.type?new Uint32Array(i,n,e.data.length).set(e.data):new Float32Array(i,n,e.data.length).set(e.data)}));const a=this.bufferManager.acquireBuffer(t,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);return this.queue.writeBuffer(a,0,i,0,t),this.uniformPendingDisposal.push(a),{offset:0,size:t,buffer:a}}runWebGPUProgram(e,t,n,r,o){if(o||(o=this.makeTensorInfo(e.outputShape,n)),0===$U(o.shape))return this.tensorMap.get(o.dataId).values=GU(o.dtype,0),o;this.uploadToGPU(o.dataId),e.dispatch=((e,t)=>{const n=e.limits.maxComputeWorkgroupsPerDimension,r=t.dispatchLayout,o=t.dispatch;if(o.every((e=>e<=n)))return o;MU(o[0]>n&&void 0===r.y&&void 0===r.z,(()=>"Dispatch size exceeds WebGPU limits in Y or Z dimension."));let i=Math.ceil(Math.sqrt(o[0]));return i>n?(i=Math.ceil(Math.cbrt(o[0])),MU(i<=n,(()=>"Total dispatch size exceeds WebGPU maximum.")),[i,i,i]):[i,i,1]})(this.device,e);const i=t.map(((t,n)=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");return this.uploadToGPU(t.dataId),{dtype:this.tensorMap.get(t.dataId).dtype,shape:t.shape,name:e.variableNames[n]}}));e.shaderKey=function(e,t,n){let r=e.shaderKey;if(null!=e.pixelsOpType)return r;const o=[],i=[];t.forEach((e=>{o.push(e.shape),i.push(e.dtype)})),o.push(n.shape),i.push(n.dtype);const a=t.map((e=>LY(e.shape,n.shape))),s=t.map((e=>FU(e.shape,n.shape))).join("_"),l=a.map((e=>e.join("_"))).join(";"),u=W5(e)?"flatDispatch":"";return r+="_"+(e.workgroupSize?e.workgroupSize.join(","):"")+o.map((e=>e.length)).join(",")+i.join(",")+e.variableNames.join(",")+l+s+u,r}(e,i,o);const a=fW().getBool("WEBGPU_ENGINE_COMPILE_ONLY");return e.shaderKey in this.pipelineCache||(this.pipelineCache[e.shaderKey]=M5(this.device,e,i,o,a)),e.pipeline=this.pipelineCache[e.shaderKey],a||this.recordAndSubmit(e,o,t,r),o}recordAndSubmit(e,t,n,r){if(e.pipeline instanceof Promise)throw new Error("Please call checkCompileCompletionAsync to ensure parallel compilation is done!");let o=[],i=[];const a="int32";if(null==e.pixelsOpType){o.push({type:"float32",data:[NaN]},{type:"float32",data:[1/0]}),i=n.concat(t).map((e=>e.shape));const e="int32";i.map((t=>{o.push({type:e,data:t});const n=tW(t);o.push({type:e,data:n})}))}else{const e=tW(t.shape);o.push({type:a,data:e})}if(e.size){const t=$U(e.outputShape);o.push({type:a,data:[e.outputComponent?t/e.outputComponent:t]})}r&&(o=[...o,...r]);const s=[this.tensorToBinding(t),...n.map((e=>this.tensorToBinding(e))),this.makeUniforms(o)];n.forEach((e=>{this.commandQueueOwnedIds.add(e.dataId)})),this.commandQueueOwnedIds.add(t.dataId);const l=this.device.createBindGroup({layout:e.pipeline.getBindGroupLayout(0),entries:s.map(((e,t)=>({binding:t,resource:e})))}),u=null!=this.activeTimers;this.ensureCommandEncoderReady();const c={};u&&this.supportTimestampQuery?(this.endComputePassEncoder(),null==this.querySet&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.querySetCount})),c.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:0,endOfPassWriteIndex:1},this.computePassEncoder=this.commandEncoder.beginComputePass(c)):this.computePassEncoder||(this.computePassEncoder=this.commandEncoder.beginComputePass(c)),this.computePassEncoder.setPipeline(e.pipeline),this.computePassEncoder.setBindGroup(0,l),this.computePassEncoder.dispatchWorkgroups(e.dispatch[0],e.dispatch[1],e.dispatch[2]),this.dispatchCountInPass++,(u||fW().get("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE")<=this.dispatchCountInPass||e.pixelsOpType===P5.DRAW)&&(this.endComputePassEncoder(),u?this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime()}):this.submitQueue())}async getQueryTime(){if(!this.supportTimestampQuery)return 0;null==this.queryResolveBuffer&&(this.queryResolveBuffer=this.bufferManager.acquireBuffer(8*this.querySetCount,GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST|GPUBufferUsage.QUERY_RESOLVE)),this.commandEncoder.resolveQuerySet(this.querySet,0,this.querySetCount,this.queryResolveBuffer,0);const e=this.bufferManager.acquireBuffer(8*this.querySetCount,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,8*this.querySetCount),this.submitQueue(),await e.mapAsync(GPUMapMode.READ);const t=new BigUint64Array(e.getMappedRange()),n=Number(t[1]-t[0])/1e6;return e.unmap(),this.bufferManager.releaseBuffer(e),n}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n6;return fW().getBool("WEBGPU_CPU_FORWARD")&&e.every((e=>null==this.tensorMap.get(e.dataId).resource&&$U(e.shape)<t))}numDataIds(){return this.tensorMap.numDataIds()-this.tensorDataPendingDisposal.length}dispose(){this.disposed||(null!=this.querySet&&this.querySet.destroy(),this.bufferManager.dispose(),this.textureManager.dispose(),this.disposed=!0)}}var o6;r6.nextDataId=0,Z5()&&uK("webgpu",(async()=>{const e={powerPreference:fW().get("WEBGPU_USE_LOW_POWER_GPU")?"low-power":"high-performance"},t=await navigator.gpu.requestAdapter(e),n={},r=[];t.features.has("timestamp-query")&&r.push("timestamp-query"),t.features.has("bgra8unorm-storage")&&r.push(["bgra8unorm-storage"]),n.requiredFeatures=r;const o=t.limits;n.requiredLimits={maxComputeWorkgroupStorageSize:o.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:o.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:o.maxStorageBufferBindingSize,maxBufferSize:o.maxBufferSize,maxComputeWorkgroupSizeX:o.maxComputeWorkgroupSizeX,maxComputeInvocationsPerWorkgroup:o.maxComputeInvocationsPerWorkgroup};const i=await t.requestDevice(n),a=await t.requestAdapterInfo();return new r6(i,a)}),3),function(e){e[e.ADD=0]="ADD",e[e.ATAN2=1]="ATAN2",e[e.COMPLEX_MULTIPLY_IMAG=2]="COMPLEX_MULTIPLY_IMAG",e[e.COMPLEX_MULTIPLY_REAL=3]="COMPLEX_MULTIPLY_REAL",e[e.DIV=4]="DIV",e[e.ELU_DER=5]="ELU_DER",e[e.EQUAL=6]="EQUAL",e[e.FLOOR_DIV=7]="FLOOR_DIV",e[e.GREATER=8]="GREATER",e[e.GREATER_EQUAL=9]="GREATER_EQUAL",e[e.LESS=10]="LESS",e[e.LESS_EQUAL=11]="LESS_EQUAL",e[e.LOGICAL_AND=12]="LOGICAL_AND",e[e.LOGICAL_OR=13]="LOGICAL_OR",e[e.MAX=14]="MAX",e[e.MIN=15]="MIN",e[e.MOD=16]="MOD",e[e.MUL=17]="MUL",e[e.NOT_EQUAL=18]="NOT_EQUAL",e[e.POW=19]="POW",e[e.PRELU=20]="PRELU",e[e.SQUARED_DIFFERENCE=21]="SQUARED_DIFFERENCE",e[e.SUB=22]="SUB"}(o6||(o6={}));const i6="let resultTemp = a + b;",a6="let resultTemp = atan2(a, b);",s6="let resultTemp = areal * breal - aimag * bimag;",l6="let resultTemp = areal * bimag + aimag * breal;",u6="let resultTemp = a / b;",c6="let resultTemp = select(a * (b + 1.0), a, b >= b - b);",d6="\n  let zero = sign(a) * 0 + 0;\n  let one = sign(b) * 0 + 1;\n  let resultTemp = select(zero, one, a == b);\n",p6="\n  let remainder =\n      select(a % b, round(a % b), (round(a) == a) & (round(b) == b));\n  let quotient = (a - remainder) / b;\n  let resultTemp =\n      round(select(quotient, quotient - 1, sign(remainder) == -sign(b)));\n",h6="\n  let zero = sign(a) * 0 + 0;\n  let one = sign(b) * 0 + 1;\n  let resultTemp = select(zero, one, a > b);\n",f6="\n  let zero = sign(a) * 0 + 0;\n  let one = sign(b) * 0 + 1;\n  let resultTemp = select(zero, one, a >= b);\n",m6="\n  let zero = sign(a) * 0 + 0;\n  let one = sign(b) * 0 + 1;\n  let resultTemp = select(zero, one, a < b);\n",g6="\n  let zero = sign(a) * 0 + 0;\n  let one = sign(b) * 0 + 1;\n  let resultTemp = select(zero, one, a <= b);\n",y6="return f32(a >= 1.0 && b >= 1.0);",v6="return (vec4<f32>(a >= vec4<f32>(1.0)) *\n  vec4<f32>(b >= vec4<f32>(1.0)));",b6="return f32(a >= 1.0 || b >= 1.0);",x6="return min(vec4<f32>(a >= vec4<f32>(1.0)) +\n  vec4<f32>(b >= vec4<f32>(1.0)), vec4<f32>(1.0));",w6="let resultTemp = max(a, b);",A6="let resultTemp = min(a, b);",S6="\n  let isNaN = b == 0.;\n  var resultTemp = a % b;\n  resultTemp = select((resultTemp + b) % b, resultTemp,\n      (a < 0. && b < 0.) || (a >= 0. && b > 0.));\n",C6="\n  let isNaN = !vec4<bool>(b);\n  var resultTemp = vec4<f32>(a % b);\n  if (!((a[0] < 0. && b[0] < 0.) || (a[0] >= 0. && b[0] > 0.))) {\n    resultTemp[0] = (resultTemp[0] + b[0]) % b[0];\n  }\n  if (!((a[1] < 0. && b[1] < 0.) || (a[1] >= 0. && b[1] > 0.))) {\n    resultTemp[1] = (resultTemp[1] + b[1]) % b[1];\n  }\n  if (!((a[2] < 0. && b[2] < 0.) || (a[2] >= 0. && b[2] > 0.))) {\n    resultTemp[2] = (resultTemp[2] + b[2]) % b[2];\n  }\n  if (!((a[3] < 0. && b[3] < 0.) || (a[3] >= 0. && b[3] > 0.))) {\n    resultTemp[3] = (resultTemp[3] + b[3]) % b[3];\n  }\n",k6="let resultTemp = a * b;",E6="\n  var resultTemp = f32(a != b);\n  let valueForNaN = 1.0;\n",T6="\n  var resultTemp = vec4<f32>(a != b);\n  let valueForNaN = 1.0;\n",I6="\n  let isNaN = a < 0.0 && floor(b) < b;\n  if (b == 0.0) {\n    return 1.0;\n  }\n  var resultTemp = select(sign(a) * pow(abs(a), b), pow(abs(a), b),\n      round(abs(b) % 2.0) != 1.0);\n",O6="\n  let isModRound1Bool = vec4<i32>(round(abs(b) % vec4<f32>(2.0))) == vec4<i32>(1);\n  let isModRound1 = vec4<f32>(isModRound1Bool);\n  let multiplier = sign(a) * isModRound1 + (vec4<f32>(1.0) - isModRound1);\n  var resultTemp = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  let isExpZero = b == vec4<f32>(0.0);\n  if (isExpZero.r) {\n    resultTemp.r = 1.0;\n  }\n  if (isExpZero.g) {\n    resultTemp.g = 1.0;\n  }\n  if (isExpZero.b) {\n    resultTemp.b = 1.0;\n  }\n  if (isExpZero.a) {\n    resultTemp.a = 1.0;\n  }\n  let isNaN = (a < vec4<f32>(0.0)) & (floor(b) < b);\n",R6="if (a < 0.0) { return b * a; }  return a;",N6="\n  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));\n  return (aLessThanZero * (b * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);\n",_6="let resultTemp = (a - b) * (a - b);",P6="let resultTemp = a - b;";function M6(e,t){let n;do{switch(e){case o6.ATAN2:n=a6;break;case o6.MAX:n=w6;break;case o6.MIN:n=A6;break;case o6.MOD:n=t?C6:S6;break;case o6.NOT_EQUAL:n=t?T6:E6;break;case o6.POW:n=t?O6:I6;break;default:continue}let r,o,i;return t?(r="isnanVec4",o="vec4<f32>",i="vec4<bool>"):(r="isnan",o="f32",i="bool"),`\n      let aIsNaN = ${r}(a);\n      let aPostLegalization = select(a, ${o}(42), aIsNaN);\n      let bIsNaN = ${r}(b);\n      let bPostLegalization = select(b, ${o}(42), bIsNaN);\n      let isNaN = false;\n      let valueForNaN = uniforms.NAN;\n      {\n        let a = aPostLegalization;\n        let b = bPostLegalization;\n        ${n}\n        return select(\n            resultTemp, ${o}(valueForNaN),\n            ${i}(isNaN) | aIsNaN | bIsNaN);\n      }\n    `}while(0);switch(e){case o6.ADD:n=i6;break;case o6.COMPLEX_MULTIPLY_IMAG:n=l6;break;case o6.COMPLEX_MULTIPLY_REAL:n=s6;break;case o6.DIV:n=u6;break;case o6.ELU_DER:n=c6;break;case o6.EQUAL:n=d6;break;case o6.FLOOR_DIV:n=p6;break;case o6.GREATER:n=h6;break;case o6.GREATER_EQUAL:n=f6;break;case o6.LESS:n=m6;break;case o6.LESS_EQUAL:n=g6;break;case o6.LOGICAL_AND:return t?v6:y6;case o6.LOGICAL_OR:return t?x6:b6;case o6.MUL:n=k6;break;case o6.PRELU:return t?N6:R6;case o6.SQUARED_DIFFERENCE:n=_6;break;case o6.SUB:n=P6}return`\n    ${n}\n    return resultTemp;\n  `}var D6;!function(e){e[e.ABS=0]="ABS",e[e.ACOS=1]="ACOS",e[e.ACOSH=2]="ACOSH",e[e.ASIN=3]="ASIN",e[e.ASINH=4]="ASINH",e[e.ATAN=5]="ATAN",e[e.ATANH=6]="ATANH",e[e.CEIL=7]="CEIL",e[e.COS=8]="COS",e[e.COSH=9]="COSH",e[e.ELU=10]="ELU",e[e.ERF=11]="ERF",e[e.EXP=12]="EXP",e[e.EXPM1=13]="EXPM1",e[e.FLOOR=14]="FLOOR",e[e.IS_FINITE=15]="IS_FINITE",e[e.IS_INF=16]="IS_INF",e[e.IS_NAN=17]="IS_NAN",e[e.LINEAR=18]="LINEAR",e[e.LOG=19]="LOG",e[e.LOG1P=20]="LOG1P",e[e.LOGICAL_NOT=21]="LOGICAL_NOT",e[e.NEG=22]="NEG",e[e.RELU=23]="RELU",e[e.RELU6=24]="RELU6",e[e.LEAKYRELU=25]="LEAKYRELU",e[e.RECIPROCAL=26]="RECIPROCAL",e[e.ROUND=27]="ROUND",e[e.RSQRT=28]="RSQRT",e[e.SELU=29]="SELU",e[e.SIGMOID=30]="SIGMOID",e[e.SIGN=31]="SIGN",e[e.SIN=32]="SIN",e[e.SINH=33]="SINH",e[e.SOFTPLUS=34]="SOFTPLUS",e[e.SQRT=35]="SQRT",e[e.SQUARE=36]="SQUARE",e[e.STEP=37]="STEP",e[e.TAN=38]="TAN",e[e.TANH=39]="TANH",e[e.TO_INT=40]="TO_INT"}(D6||(D6={}));const L6="return abs(a);",$6="\n  if (abs(a) > 1.) {\n    return uniforms.NAN;\n  }\n  return acos(a);\n",j6="\n  if (a < 1.) {\n    return uniforms.NAN;\n  }\n  return acosh(a);\n",F6="\n  if (abs(a) > 1.) {\n    return uniforms.NAN;\n  }\n  return asin(a);\n",B6="return asinh(a);",V6="\n  if (isnan(a)) {\n    return uniforms.NAN;\n  }\n  return atan(a);\n",z6="\n  if (abs(a) > 1.) {\n    return uniforms.NAN;\n  }\n  if (a == 1.) {\n    return uniforms.INFINITY;\n  }\n  if (a == -1.) {\n    return -uniforms.INFINITY;\n  }\n  return atanh(a);\n",U6="return ceil(a);",W6="return cos(a);",q6="\n  let e2x = exp(-a);\n  return (e2x + 1.0 / e2x) / 2.0;\n",H6="return exp(a) - 1.0;",G6="if (a >= 0.0) { return a; }  return (exp(a) - 1.0);",X6="\n  var resFloat = exp(a) - vec4<f32>(1.0);\n  if (a.r >= 0.0) {\n    resFloat.r = a.r;\n  }\n  if (a.g >= 0.0) {\n    resFloat.g = a.g;\n  }\n  if (a.b >= 0.0) {\n    resFloat.b = a.b;\n  }\n  if (a.a >= 0.0) {\n    resFloat.a = a.a;\n  }\n  return resFloat;\n",K6=`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  let p = ${g3};\n  let a1 = ${y3};\n  let a2 = ${v3};\n  let a3 = ${b3};\n  let a4 = ${x3};\n  let a5 = ${w3};\n\n  let sign = sign(a);\n  let absA = abs(a);\n  let t = 1.0 / (1.0 + p * absA);\n  return sign * (1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * exp(-absA * absA));\n`,Y6="return exp(a);",Q6="return floor(a);",J6="return f32(!isnan(a) && !isinf(a));",Z6="return f32(isinf(a));",e8="return f32(isnan(a));",t8="return a;",n8="if (a < 0.0) { return uniforms.NAN; }\n  return log(a);",r8="\n  if (isnan(a)) { return a; }\n  return log(1.0 + a);\n",o8="return f32(!(a >= 1.0));",i8="return -a;",a8="if (a < 0.0) { return uniforms.alpha * a; } return a;",s8="\n  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));\n  return (aLessThanZero * (uniforms.alpha * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);\n",l8="return 1.0 / a;",u8="return select(a, 0.0, a < 0.0);",c8="return clamp(a, 0.0, 6.0);",d8="return clamp(a, vec4<f32>(0.0, 0.0, 0.0, 0.0), vec4<f32>(6.0, 6.0, 6.0, 6.0));",p8="\n  return select(a, vec4<f32>(0.0), a < vec4<f32>(0.0));\n",h8="return round(a);",f8="return inverseSqrt(a);",m8=`\n  if (a >= 0.0) {\n    return ${m3} * a;\n  } else {\n    return ${f3} * (exp(a) - 1.0);\n  }\n`,g8="return 1.0 / (1.0 + exp(-1.0 * a));",y8="return sign(a);",v8="return sin(a);",b8="\n  let e2x = exp(a);\n  return (e2x - 1.0 / e2x) / 2.0;\n",x8="\n  let epsilon = 1.1920928955078125e-7;\n  let threshold = log(epsilon) + 2.0;\n\n  let too_large = a > -threshold;\n  let too_small = a < threshold;\n  let exp_a = exp(a);\n\n  if (too_large) {\n    return a;\n  } else if (too_small) {\n    return exp_a;\n  } else {\n    return log(exp_a + 1.0);\n  }\n",w8="return sqrt(a);",A8="return a * a;",S8="\n  if (isnan(a)) {\n    return a;\n  }\n\n  return select(uniforms.stepAlpha, 1.0, a > 0.0);\n",C8="return tan(a);",k8="\n  let e2x = exp(-2.0 * abs(a));\n  return sign(a) * (1.0 - e2x) / (1.0 + e2x);\n",E8="return f32(i32((a)));";function T8(e,t){switch(e){case D6.ABS:return L6;case D6.ACOS:return $6;case D6.ACOSH:return j6;case D6.ASIN:return F6;case D6.ASINH:return B6;case D6.ATAN:return V6;case D6.ATANH:return z6;case D6.COS:return W6;case D6.COSH:return q6;case D6.CEIL:return U6;case D6.ELU:return t?X6:G6;case D6.ERF:return K6;case D6.EXP:return Y6;case D6.EXPM1:return H6;case D6.FLOOR:return Q6;case D6.IS_FINITE:return J6;case D6.IS_INF:return Z6;case D6.IS_NAN:return e8;case D6.LINEAR:return t8;case D6.LOG:return n8;case D6.LOG1P:return r8;case D6.LOGICAL_NOT:return o8;case D6.NEG:return i8;case D6.LEAKYRELU:return t?s8:a8;case D6.RECIPROCAL:return l8;case D6.RELU:return t?p8:u8;case D6.RELU6:return t?d8:c8;case D6.ROUND:return h8;case D6.RSQRT:return f8;case D6.SELU:return m8;case D6.SIGMOID:return g8;case D6.SIGN:return y8;case D6.SIN:return v8;case D6.SINH:return b8;case D6.SOFTPLUS:return x8;case D6.SQRT:return w8;case D6.SQUARE:return A8;case D6.STEP:return S8;case D6.TAN:return C8;case D6.TANH:return k8;case D6.TO_INT:return E8;default:throw new Error(`BinaryType ${e} is not implemented!`)}}function I8(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;if(null===e)return"";let o="";if("linear"===e)o=T8(D6.LINEAR);else if("relu"===e)o=T8(D6.RELU,n);else if("elu"===e)o=T8(D6.ELU,n);else if("relu6"===e)o=T8(D6.RELU6,n);else if("prelu"===e)o=M6(o6.PRELU,n);else if("sigmoid"===e)o=T8(D6.SIGMOID,n);else{if("leakyrelu"!==e)throw new Error(`Activation ${e} has not been implemented for the WebGPU backend.`);o=T8(D6.LEAKYRELU,n)}const i=D5(n?4:1);let a="";return a=t?`\n      fn activation(a : ${i}, coords : vec${r}<i32>) -> ${i} {\n        let b = getPreluActivationWeightsByOutputCoords(coords);\n        ${o}\n      }`:`\n      fn activation(a : ${i}, coords : vec${r}<i32>) -> ${i} {\n        ${o}\n      }`,a}function O8(e,t){return`\n      ${e?"value = value + getBiasByOutputCoords(coords);":""}\n      ${t?"value = activation(value, coords);":""}\n      `}function R8(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;MU(e&&1===o||!e,(()=>`transposeA ${e} is not compatible with component size ${o}`));const i=`\n      ${e?"value = getA(batch, col, row);":"value = getA(batch, row, col);"}\n\n    `,a=t?"value = getB(batch, col, row);":"value = getB(batch, row, col);";return`\n  fn mm_readA(batch: i32, row: i32, col: i32) -> ${D5(o)} {\n    var value = ${D5(o)}(0.0);\n    ${n&&r?i:`\n    ${e?"if(row < uniforms.dimAOuter && col < uniforms.dimInner)":"if(row < uniforms.aShape[1] && col < uniforms.aShape[2])"}\n    {\n      ${i}\n    }\n    `}\n    return value;\n  }\n\n  fn mm_readB(batch: i32, row: i32, col: i32) -> ${D5(o)} {\n    var value = ${D5(o)}(0.0);\n    ${a}\n    return value;\n  }\n  `}function N8(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;return`\n  ${R8(n,r,o,i,arguments.length>6&&void 0!==arguments[6]&&arguments[6],a)}\n  fn mm_write(batch: i32, row: i32, col: i32, valueIn: ${D5(a)}) {\n    ${o&&i?"":"if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)"}\n    {\n      var value = valueIn;\n      let coords = vec3<i32>(batch, row, col);\n      ${O8(e,t)}\n      setOutputAtCoords(coords[0], coords[1], coords[2], value);\n    }\n  }\n  `}function _8(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const s=t[1]*e[1],l=t[0]*e[0],u=n?s:r,c=n?r:s,d=u/t[0],p=r/t[1],h=e[1],f=e[0];return MU((n&&4===d&&4===e[1]||!n&&(3===d||4===d))&&u%t[0]===0&&r%t[1]===0&&4===e[0],(()=>`If transposeA ${n} is true, innerElementSize ${d} and workPerThread[1] ${e[1]} must be 4.\n          Otherwise, innerElementSize ${d} must be 3 or 4.\n      tileAWidth ${u} must be divisible by workgroupSize[0]${t[0]}. tileInner ${r} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`)),`\n  var<workgroup> mm_Asub : array<array<vec${d}<f32>, ${u/d}>, ${c}>;\n  var<workgroup> mm_Bsub : array<array<vec4<f32>, ${l/e[0]}>, ${r}>;\n\n  ${j5()} {\n    let localRow = i32(localId.y);\n    let tileRow = localRow * ${h};\n    let tileCol = i32(localId.x);\n\n    let globalRow = i32(globalId.y) * ${h};\n    let globalCol = i32(globalId.x) * ${f};\n    let batch = ${o?"0":"i32(globalId.z)"};\n    let batchA = ${o||!a?"batch":"batch % uniforms.aShape[0]"};\n    let batchB = ${o||!a?"batch":"batch % uniforms.bShape[0]"};\n    let globalRowStart = i32(workgroupId.y) * ${s};\n\n    let numTiles = ${o?`${Math.ceil(i/r)}`:`(uniforms.dimInner - 1) / ${r} + 1`};\n    var kStart = ${o?`i32(globalId.z) * ${i}`:"0"};\n\n    var acc: array<vec4<f32>, ${h}>;\n\n    // Loop over shared dimension.\n    let tileRowB = localRow * ${p};\n    for (var t = 0; t < numTiles; t++) {\n        // Load one tile of A into local memory.\n        for (var innerRow = 0; innerRow < ${h}; innerRow++) {\n            let inputRow = tileRow + innerRow;\n            let inputCol = tileCol;\n            ${((e,t)=>e?`\n        mm_Asub[inputRow][inputCol] = mm_readA(batchA,\n          kStart + inputRow,\n          globalRowStart + inputCol * ${t});\n        `:`\n        mm_Asub[inputRow][inputCol] = mm_readA(batchA,\n          globalRow + innerRow,\n          kStart + inputCol * ${t});\n        `)(n,d)}\n        }\n\n        // Load one tile of B into local memory.\n        for (var innerRow = 0; innerRow < ${p}; innerRow++) {\n            let inputRow = tileRowB + innerRow;\n            let inputCol = tileCol;\n            mm_Bsub[inputRow][inputCol] = mm_readB(batchB, kStart + inputRow, globalCol);\n        }\n        kStart = kStart + ${r};\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        ${((e,t,n,r)=>{if(e)return`\n      for (var k = 0; k < ${r}; k++) {\n        let BCached0 = mm_Bsub[k][tileCol];\n        let ACached0 = mm_Asub[k][localRow];\n        for (var i = 0; i < ${n}; i++) {\n          acc[i] = fma(BCached0, vec4<f32>(ACached0[i]), acc[i]);\n        }\n      }`;{let e="",o="";for(let n=0;n<t;n++)e+=`let BCached${n} = mm_Bsub[k * ${t} + ${n}][tileCol];`,o+=`acc[i] = fma(BCached${n}, vec4<f32>(ACached[${n}]), acc[i]);`;return`\n      for (var k = 0; k < ${r/t}; k++) {\n        ${e}\n        for (var i = 0; i < ${n}; i++) {\n          let ACached = mm_Asub[tileRow + i][k];\n          ${o}\n        }\n      }`}})(n,d,h,r)}\n        workgroupBarrier();\n    }\n\n    for (var innerRow = 0; innerRow < ${h}; innerRow++) {\n        mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n    }\n  }`}const P8=e=>e?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batchA,\n          kStart + inputRow,\n          globalRowStart + inputCol);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(batchA,\n          globalRowStart + inputRow,\n          kStart + inputCol);\n        ";function M8(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=e[1]*t[1],u=e[0]*t[0],c=n?l:r,d=n?r:l;MU(d%t[1]===0&&c%t[0]===0&&r%t[1]===0,(()=>`tileAHight ${d} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${c} must be divisible by workgroupSize[0]${t[0]}, tileInner ${r} must be divisible by workgroupSize[1]${t[1]}`));const p=d/t[1],h=c/t[0],f=r/t[1],m=e[1],g=e[0],y=a?`\n      let localRow = i32(localId.y);\n      let localCol = i32(localId.x);\n      let globalRowStart = i32(workgroupId.y) * ${l};\n      let globalColStart = i32(workgroupId.x) * ${u};\n\n      // Loop over shared dimension.\n      for (var t = 0; t < numTiles; t++) {\n        // Load one tile of A into local memory.\n        for (var inputRow = localRow; inputRow < ${d}; inputRow = inputRow + ${t[1]}) {\n          for (var inputCol = localCol; inputCol < ${c}; inputCol = inputCol + ${t[0]}) {\n            ${P8(n)}\n          }\n        }\n        // Load one tile of B into local memory.\n        for (var inputRow = localRow; inputRow < ${r}; inputRow = inputRow + ${t[1]}) {\n              for (var inputCol = localCol; inputCol < ${u}; inputCol = inputCol + ${t[0]}) {\n            mm_Bsub[inputRow][inputCol] = mm_readB(batchB,\n              kStart + inputRow,\n              globalColStart + inputCol);\n          }\n        }\n        kStart = kStart + ${r};\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        var BCached : array<f32, ${g}>;\n        for (var k = 0; k < ${r}; k++) {\n          for (var inner = 0; inner < ${g}; inner++) {\n            BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];\n          }\n          for (var innerRow = 0; innerRow < ${m}; innerRow++) {\n            let ACached = ${n?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}\n            for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n              acc[innerRow][innerCol] =\n                  fma(ACached, BCached[innerCol], acc[innerRow][innerCol]);\n            }\n          }\n        }\n        workgroupBarrier();\n      }\n      for (var innerRow = 0; innerRow < ${m}; innerRow++) {\n        let gRow = globalRowStart + localRow + innerRow * ${t[1]};\n        for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n          let gCol = globalColStart + localCol + innerCol * ${t[0]};\n          mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n        }\n      }\n      `:`\n  let tileRow = i32(localId.y) * ${m};\n  let tileCol = i32(localId.x) * ${g};\n\n  let globalRow = i32(globalId.y) * ${m};\n  let globalCol = i32(globalId.x) * ${g};\n  let globalRowStart = i32(workgroupId.y) * ${l};\n\n  let tileRowA = i32(localId.y) * ${p};\n  let tileColA = i32(localId.x) * ${h};\n  let tileRowB = i32(localId.y) * ${f};\n  // Loop over shared dimension.\n  for (var t = 0; t < numTiles; t++) {\n    // Load one tile of A into local memory.\n    for (var innerRow = 0; innerRow < ${p}; innerRow++) {\n      for (var innerCol = 0; innerCol < ${h}; innerCol++) {\n        let inputRow = tileRowA + innerRow;\n        let inputCol = tileColA + innerCol;\n        ${P8(n)}\n      }\n    }\n\n    // Load one tile of B into local memory.\n    for (var innerRow = 0; innerRow < ${f}; innerRow++) {\n      for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n        let inputRow = tileRowB + innerRow;\n        let inputCol = tileCol + innerCol;\n        mm_Bsub[inputRow][inputCol] = mm_readB(batchB,\n          kStart + inputRow,\n          globalCol + innerCol);\n      }\n    }\n    kStart = kStart + ${r};\n    workgroupBarrier();\n\n    // Compute acc values for a single thread.\n    var BCached : array<f32, ${g}>;\n    for (var k = 0; k < ${r}; k++) {\n      for (var inner = 0; inner < ${g}; inner++) {\n        BCached[inner] = mm_Bsub[k][tileCol + inner];\n      }\n\n      for (var innerRow = 0; innerRow < ${m}; innerRow++) {\n        ${(e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(n)}\n        for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n          acc[innerRow][innerCol] =\n              fma(ACached, BCached[innerCol], acc[innerRow][innerCol]);\n        }\n      }\n    }\n\n    workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < ${m}; innerRow++) {\n    for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n      mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n          acc[innerRow][innerCol]);\n    }\n  }\n  `;return`\n    var<workgroup> mm_Asub : array<array<f32, ${c}>, ${d}>;\n    var<workgroup> mm_Bsub : array<array<f32, ${u}>, ${r}>;\n\n    ${j5()} {\n      let batch = ${o?"0":"i32(globalId.z)"};\n      let batchA = ${o||!s?"batch":"batch % uniforms.aShape[0]"};\n      let batchB = ${o||!s?"batch":"batch % uniforms.bShape[0]"};\n      let numTiles = ${o?`${Math.ceil(i/r)}`:`(uniforms.dimInner - 1) / ${r} + 1`};\n      var kStart = ${o?`i32(globalId.z) * ${i}`:"0"};\n\n      var acc : array<array<f32, ${g}>, ${m}>;\n\n      // Without this initialization strange values show up in acc.\n      for (var innerRow = 0; innerRow < ${m}; innerRow++) {\n        for (var innerCol = 0; innerCol < ${g}; innerCol++) {\n          acc[innerRow][innerCol] = 0.0;\n        }\n      }\n      ${y}\n    }\n  `}class D8{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=t,this.dispatchLayout={x:[2],y:[1],z:[0]};const l=n?e[1]:e[2];if(this.isVec4=(l%4===0&&!n||t[1]%4===0&&n)&&t[2]%4===0&&!r,this.outputComponent=this.isVec4?4:1,this.isVectorA=1===t[1]&&!n,!this.isVec4&&this.isVectorA)this.elementsPerThread=[1,1,1],this.workgroupSize=[32,1,1];else{const e=function(e,t,n){const r=[8,8,1],o=[4,4,1];return arguments.length>3&&void 0!==arguments[3]&&arguments[3]||(e<=8&&(o[1]=1),t<=16&&n<=16&&(r[0]=4)),{workgroupSize:r,elementsPerThread:o}}(t[1],l,t[2],n);this.workgroupSize=e.workgroupSize,this.elementsPerThread=e.elementsPerThread}this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread);const u=null!=o,c=null!=a;u&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),this.sequentialAccessByThreads=s,this.transposeA=n,this.transposeB=r,this.addBias=u,this.activation=i,this.hasPreluActivationWeights=c,[this.fitAOuter,this.fitBOuter,this.fitInner]=this.getShapeFit(t[1],t[2],l),this.shaderKey=`matMulPacked_${this.elementsPerThread}_${n}_${r}_${this.activation}_${this.fitAOuter}_${this.fitBOuter}_${this.fitInner}_${this.isVec4}_${this.isVectorA}_${this.sequentialAccessByThreads}`}getShapeFit(e,t,n){const r=this.workgroupSize[1]*this.elementsPerThread[1],o=this.workgroupSize[0]*this.elementsPerThread[0];!this.isVec4&&this.isVectorA?this.tileInner=4*this.workgroupSize[0]:this.tileInner=o;return[e%r===0,t%o===0,n%this.tileInner===0]}getUserCode(){const e=`\n      ${I8(this.activation,this.hasPreluActivationWeights,this.isVec4)}\n      ${N8(this.addBias,this.activation,!1,this.transposeB,this.fitAOuter,this.fitBOuter,this.fitInner,this.isVec4?4:1)}\n      ${this.isVec4?_8(this.elementsPerThread,this.workgroupSize,this.transposeA,this.tileInner,!1,null,!0):this.isVectorA?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];MU(1===e[1]&&1===e[2],(()=>`A linear work group size is required. But got ${e}.`));const n=4*e[0];return`\n    var<workgroup> mm_Asub : array<vec4<f32>, ${e[0]}>;\n\n    ${j5()} {\n      let tileCol = i32(localId.x);\n      let globalCol = i32(globalId.x);\n      let globalRow = i32(globalId.y);\n\n      let numTiles = (uniforms.dimInner - 1) / ${n} + 1;\n      let batch = i32(globalId.z);\n      let batchA = batch % uniforms.aShape[0];\n      let batchB = batch % uniforms.bShape[0];\n      // Without this initialization strange values show up in acc.\n      var acc = 0.0;\n\n      // Loop over shared dimension.\n      for (var t = 0; t < numTiles; t++) {\n        // Load one tile of A into local memory.\n        let colA = t * ${n} + tileCol * 4;\n        mm_Asub[tileCol] = vec4<f32>(${(e=>e?"\n      mm_readA(batchA, colA, globalRow),\n      mm_readA(batchA, colA + 1, globalRow),\n      mm_readA(batchA, colA + 2, globalRow),\n      mm_readA(batchA, colA + 3, globalRow)\n  ":"\n      mm_readA(batchA, globalRow, colA),\n      mm_readA(batchA, globalRow, colA + 1),\n      mm_readA(batchA, globalRow, colA + 2),\n      mm_readA(batchA, globalRow, colA + 3)\n  ")(t)});\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        for (var k = 0; k < ${n/4}; k++) {\n          let rowB = t * ${n} + k * 4;\n          let BCached = vec4<f32>(mm_readB(batchB, rowB, globalCol),\n                              mm_readB(batchB, rowB + 1, globalCol),\n                              mm_readB(batchB, rowB + 2, globalCol),\n                              mm_readB(batchB, rowB + 3, globalCol));\n\n          let ACached = mm_Asub[k];\n          acc = acc + dot(ACached, BCached);\n        }\n\n        workgroupBarrier();\n      }\n\n      mm_write(batch, globalRow, globalCol, acc);\n    }\n  `}(this.workgroupSize,this.transposeA):M8(this.elementsPerThread,this.workgroupSize,this.transposeA,this.tileInner,!1,null,this.sequentialAccessByThreads,!0)}\n    `;return e}}class L8{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[256,1,1],this.outputShape=e,this.dispatchLayout={x:[],y:[1,2],z:[0]},this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize);const a=null!=r,s=null!=i;a&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),this.transposeA=t,this.transposeB=n,this.addBias=a,this.activation=o,this.hasPreluActivationWeights=s,this.shaderKey=`matMulReduce_${this.activation}_${t}_${n}`}getUserCode(){var e;return`\n      ${I8(this.activation,this.hasPreluActivationWeights)}\n      ${N8(this.addBias,this.activation,this.transposeA,this.transposeB)}\n      ${e=this.workgroupSize[0],`\n    var<workgroup> sumValues : array<f32, ${e}>;\n    ${j5()} {\n      let coords = getOutputCoords();\n      let batch = coords[0];\n      let batchA = batch % uniforms.aShape[0];\n      let batchB = batch % uniforms.bShape[0];\n      let row = coords[1];\n      let col = coords[2];\n      var sum = 0.0;\n      let Length = uniforms.dimInner;\n      for (var k = i32(localId.x); k < Length; k = k + ${e}) {\n        let dataA = mm_readA(batchA, row, k);\n        let dataB = mm_readB(batchB, k, col);\n        sum = sum + dataA * dataB;\n      }\n      sumValues[localId.x] = sum;\n      workgroupBarrier();\n\n      for(var currentSize = ${e/2}u; currentSize > 1u;\n          currentSize = currentSize / 2u) {\n        if (localId.x < currentSize)\n        {\n          sumValues[localId.x] = sumValues[localId.x] + sumValues[localId.x + currentSize];\n        }\n        workgroupBarrier();\n      }\n\n      if (localId.x == 0u) {\n        sum = sumValues[0] + sumValues[1];\n        mm_write(batch, row, col, sum);\n      }\n    }\n  `}\n    `}}class $8{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[16,8,1],this.outputShape=n,this.dispatchLayout={x:[2],y:[1],z:[0]},this.dispatch=[Math.ceil(n[2]/this.workgroupSize[0]),Math.ceil(n[1]/this.workgroupSize[1]),n[0]];const l=null!=i;l&&this.variableNames.push("bias");const u=null!=s;u&&this.variableNames.push("preluActivationWeights"),this.transposeA=r,this.transposeB=o,this.addBias=l,this.activation=a,this.hasPreluActivationWeights=u,this.shaderKey=`matMulSmallOutputSize_${this.activation}_${r}_${o}`}getUserCode(){return`\n      ${I8(this.activation,this.hasPreluActivationWeights)}\n      ${N8(this.addBias,this.activation,this.transposeA,this.transposeB)}\n      ${function(e){const t=e[1],n=e[0],r=t>n?t:n;return`\n  var<workgroup> mm_Asub : array<array<f32, ${r}>, ${t}>;\n  var<workgroup> mm_Bsub : array<array<f32, ${n}>, ${r}>;\n\n  // If the output size is small for matrix multiplication, avoid to use vec4\n  // and handle some elements per thread to optimally utilize the ALU.\n  // Read data from global memory to registers firstly, then store them into\n  // shared memory, so it is instruction-Level parallelism for arithmetic\n  // operations and others handle IO operations between barrier api, makes ALU\n  // and load/store units work simultaneously, could improves the performance.\n  ${j5()} {\n    let tileRow = i32(localId.y);\n    let tileCol = i32(localId.x);\n    let globalRow = i32(globalId.y);\n    let globalCol = i32(globalId.x);\n    let batch = i32(globalId.z);\n    let batchA = batch % uniforms.aShape[0];\n    let batchB = batch % uniforms.bShape[0];\n\n    // uniforms.dimInner should be greater than 0.\n    let numTiles = (uniforms.dimInner - 1) / ${r} + 1;\n    var acc = 0.0;\n\n    var globalColA = tileCol;\n    var globalRowB = 0;\n    var regA = mm_readA(batchA, globalRow, globalColA);\n    var regB0 = mm_readB(batchB, globalRowB + 2 * tileRow, globalCol);\n    var regB1 = mm_readB(batchB, globalRowB + 2 * tileRow + 1, globalCol);\n    globalColA = globalColA + ${r};\n    globalRowB = globalRowB + ${r};\n\n    for (var t = 0; t < numTiles; t = t + 1) {\n      mm_Asub[tileRow][tileCol] = regA;\n      mm_Bsub[2 * tileRow][tileCol] = regB0;\n      mm_Bsub[2 * tileRow + 1][tileCol] = regB1;\n\n      workgroupBarrier();\n\n      regA = mm_readA(batchA, globalRow, globalColA);\n      regB0 = mm_readB(batchB, globalRowB + 2 * tileRow, globalCol);\n      regB1 = mm_readB(batchB, globalRowB + 2 * tileRow + 1, globalCol);\n      globalColA = globalColA + ${r};\n      globalRowB = globalRowB + ${r};\n\n      for (var k = 0; k < ${r}; k = k + 1) {\n        acc = acc + mm_Asub[tileRow][k] * mm_Bsub[k][tileCol];\n      }\n      workgroupBarrier();\n    }\n\n    mm_write(batch, globalRow, globalCol, acc);\n  }\n  `}(this.workgroupSize)}\n    `}}class j8{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[8,8,1],this.atomic=!0,this.splitedDimInner=128,MU(1===e[0],(()=>"MatMulSplitKProgram only supports batch = 1.")),this.outputShape=e,this.dispatchLayout={x:[2],y:[1],z:[0,3]};const o=(n&&this.outputShape[1]%4===0||!n&&t%4===0)&&this.outputShape[2]%4===0;this.elementsPerThread=[4,4,this.splitedDimInner],this.outputComponent=o?4:1,o||(this.outputShape[1]<16&&(this.elementsPerThread[1]=1),this.outputShape[2]<16&&(this.elementsPerThread[0]=1)),this.dispatch=X5(this.dispatchLayout,[this.outputShape[0],this.outputShape[1],this.outputShape[2],t],this.workgroupSize,this.elementsPerThread),this.transposeA=n,this.transposeB=r,this.shaderKey=`matMulSplitK_${n}_${r}_${this.elementsPerThread}_${this.outputComponent}`}getUserCode(){const e=this.outputComponent;return`\n      ${R8(!1,this.transposeB,!1,!1,!1,e)}\n      fn mm_write(batch: i32, row : i32, col : i32, value : ${D5(e)}) {\n        if (row < uniforms.dimAOuter && col < uniforms.dimBOuter) {\n          let coords = vec3<i32>(batch, row, col);\n          let flatIndex = getOutputIndexFromCoords(coords);\n          // The problem is that we should initialize output to zero before using.\n          // Otherwise, the original value will be added to the result.\n          for (var i = 0; i < ${e}; i = i + 1) {\n            ${_5("&result[flatIndex + i]",""+(e>1?"value[i]":"value"),"float32")}\n          }\n        }\n      }\n      ${4===e?_8(this.elementsPerThread,this.workgroupSize,this.transposeA,32,!0,this.splitedDimInner):M8(this.elementsPerThread,this.workgroupSize,this.transposeA,32,!0,this.splitedDimInner)}\n    `}}class F8{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.uniforms="",this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.addBias=null!=t,this.hasPreluActivationWeights=null!=r,this.activation=n,this.addBias&&this.variableNames.push("bias"),this.hasPreluActivationWeights&&this.variableNames.push("preluActivationWeights"),this.shaderKey=`biasActivation_${n}`}getUserCode(){return`\n    ${I8(this.activation,this.hasPreluActivationWeights)}\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        var value = getXByOutputIndex(index);\n        ${O8(this.addBias,this.activation)}\n        setOutputAtIndex(index, value);\n      }\n    }\n    `}}class B8{constructor(e){this.variableNames=[],this.outputShape=[],this.uniforms="value : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="fill"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        setOutputAtIndex(index, uniforms.value);\n      }\n    }\n  `}}function V8(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:i}=n;if(i=i||JU(o),"string"===i){const e=XU(i,$U(r));return e.fill(o),t.makeTensorInfo(r,i,e)}{const e=new B8(r),n=[{type:"float32",data:[o]}];return t.runWebGPUProgram(e,[],i,n)}}const z8={kernelName:Sq,backendName:"webgpu",kernelFunc:V8};function U8(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:o}=n,i=$U(r.shape),a=WU(o,i),s=$U(a);return MU(i===s,(()=>`The new shape (${a}) has ${s} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:a,dtype:r.dtype}}const W8={kernelName:IH,backendName:"webgpu",kernelFunc:U8};function q8(e){let{a:t,b:n,transposeA:r,transposeB:o,backend:i,bias:a=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:u=null}=e;const c=t.shape.length,d=n.shape.length,p=r?t.shape[c-2]:t.shape[c-1],h=o?n.shape[d-1]:n.shape[d-2],f=r?t.shape[c-1]:t.shape[c-2],m=o?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),v=$U(g),b=$U(y),x=jY(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);MU(p===h,(()=>`Error in matMul: inner shapes (${p}) and (${h}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${o} must match.`));const w=r?[v,p,f]:[v,f,p],A=o?[b,m,h]:[b,h,m],S=U8({inputs:{x:t},backend:i,attrs:{shape:w}}),C=U8({inputs:{x:n},backend:i,attrs:{shape:A}}),k=[S,C],E=Math.max(v,b),T=[S,C],I=[{type:"int32",data:[f]},{type:"int32",data:[m]},{type:"int32",data:[p]}];let O,R;const N=[E,f,m];let _=fW().get("WEBGPU_MATMUL_PROGRAM_TYPE");if(_<0){const e=fW().getNumber("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL"),t=e>0?e:i.thresholdToIncreaseWorkgroups,n=E*Math.ceil(f/32)*Math.ceil(m/32);_=n<=t||f<=8&&n<=2*t?E*f*m<=128?t6.MatMulReduceProgram:1===E&&h>=2e3?t6.MatMulSplitKProgram:t6.MatMulSmallOutputSizeProgram:t6.MatMulPackedProgram}switch(_){case t6.MatMulReduceProgram:O=new L8(N,r,o,a,u,s);break;case t6.MatMulSplitKProgram:if(R=V8({backend:i,attrs:{shape:N,value:0,dtype:t.dtype}}),O=new j8(N,h,r,o),a||u){R=i.runWebGPUProgram(O,T,t.dtype,I,R);const e=new F8(R.shape,a,u,s);let n=null;const r=[R];a&&r.push(a),s&&r.push(s),"leakyrelu"===u&&(n=[{type:"float32",data:[l]}],e.uniforms+=" alpha : f32,");const o=i.runWebGPUProgram(e,r,R.dtype,n);k.push(R);const c=U8({inputs:{x:o},backend:i,attrs:{shape:x}});k.push(o);for(const t of k)i.disposeData(t.dataId);return c}break;case t6.MatMulSmallOutputSizeProgram:O=new $8(w,A,N,r,o,a,u,s);break;case t6.MatMulPackedProgram:const e=i.adapterInfo.isIntel();O=new D8(w,N,r,o,a,u,s,e);break;default:throw new Error(`Unsupported MatMulProgramType ${_}.`)}a&&T.push(a),s&&T.push(s),"leakyrelu"===u&&(I.push({type:"float32",data:[l]}),O.uniforms+=" alpha : f32,"),R=i.runWebGPUProgram(O,T,t.dtype,I,R);const P=U8({inputs:{x:R},backend:i,attrs:{shape:x}});k.push(R);for(const M of k)i.disposeData(M.dataId);return P}const H8={kernelName:kG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return q8({a:o,b:i,transposeA:l,transposeB:u,backend:n,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}};class G8{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.workgroupSize=[128,1,1],this.size=!0,this.outputShape=jY(t,n),this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`binaryOpComplex_${e}`,this.op=e}getUserCode(){return`\n      fn binaryOpComplex(\n          areal : f32, aimag : f32, breal : f32, bimag : f32) -> f32 {\n        ${M6(this.op,!1)}\n      }\n\n      ${j5("index")} {\n        if(index < uniforms.size) {\n          let areal = getARealByOutputIndex(index);\n          let aimag = getAImagByOutputIndex(index);\n          let breal = getBRealByOutputIndex(index);\n          let bimag = getBImagByOutputIndex(index);\n          setOutputAtIndex(index, binaryOpComplex(areal, aimag, breal, bimag));\n        }\n      }\n    `}}class X8{constructor(e,t,n){if(this.size=!0,this.variableNames=["A","B"],this.outputShape=jY(t,n),this.dispatchLayout=Q5(this.outputShape),this.op=e,this.useSharedMemoryWithA=t.length<=1&&n.length>1&&t[0]<128,this.useSharedMemoryWithB=n.length<=1&&t.length>1&&n[0]<128,this.useSharedMemoryWithA||this.useSharedMemoryWithB)this.outputComponent=1,this.variableComponents=[1,1],this.lastDimensionSize=this.useSharedMemoryWithB?n[0]:t[0],this.shaderKey=`binary_${e}_${this.lastDimensionSize}`,this.type="shared",this.workgroupSize=[256,1,1];else{const r=t.length>0&&t[t.length-1]%4===0,o=n.length>0&&n[n.length-1]%4===0;r&&o?(this.outputComponent=4,this.variableComponents=[4,4]):r&&(jU(n)||1===n[n.length-1])||o&&(jU(t)||1===t[t.length-1])?(this.outputComponent=4,this.variableComponents=r?[4,1]:[1,4]):(this.outputComponent=1,this.variableComponents=[1,1]),this.type="nonshared",this.shaderKey=`binary_${e}_${this.variableComponents}`,this.workgroupSize=[128,1,1]}this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.outputComponent,1,1])}getUserCode(){let e;const t=4===this.outputComponent?"vec4<f32>":"f32",n=`\n    fn binaryOperation(a : ${t}, b : ${t}) -> ${t} {\n      ${M6(this.op,4===this.outputComponent)}\n    };\n    `;if("shared"===this.type){const t=this.lastDimensionSize>1?`coords[${this.outputShape.length-1}]`:"0",r=this.useSharedMemoryWithB?`let a = getAByOutputIndex(index);\n          let b = sharedBuf[${t}];`:`let a = sharedBuf[${t}];\n          let b = getBByOutputIndex(index);`;e=`\n        ${n}\n        var<workgroup> sharedBuf : array<f32, ${this.lastDimensionSize}>;\n        ${j5("index")} {\n          // Fill in the shared memory buffer.\n          let localIndex = i32(localId.x);\n          if(localIndex < ${this.lastDimensionSize}) {\n            sharedBuf[localIndex] = f32(${this.useSharedMemoryWithB?"B":"A"}[localIndex]);\n          }\n          workgroupBarrier();\n\n          if(index < uniforms.size) {\n            let coords = getCoordsFromIndex(index);\n            ${r}\n            setOutputAtIndex(index, binaryOperation(a, b));\n          }\n        }\n        `}else e=`\n       ${n}\n       ${j5("index")} {\n         if (index < uniforms.size) {\n           let coords = getCoordsFromIndex(index * ${this.outputComponent});\n           let a = ${t}(getAByOutputCoords(coords));\n           let b = ${t}(getBByOutputCoords(coords));\n           setOutputAtIndex(index, binaryOperation(a, b));\n         }\n       }\n       `;return e}}function K8(e){const{inputs:t}=e,{x:n}=t;return e.backend.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const Y8={kernelName:_q,backendName:"webgpu",kernelFunc:K8};function Q8(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.makeTensorInfo(r.shape,"complex64"),a=n.tensorMap.get(i.dataId),s=K8({inputs:{x:r},backend:n}),l=K8({inputs:{x:o},backend:n});return a.complexTensorInfos={real:s,imag:l},i}const J8={kernelName:qW,backendName:"webgpu",kernelFunc:Q8};class Z8{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.variableNames=["A"],this.size=!0;this.workgroupSize=[128,1,1],this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.op=t,""!==n&&(this.uniforms=n),this.shaderKey=`unary_${t}`}getUserCode(){return`\n      fn unaryOperation(a : f32) -> f32 {\n        ${T8(this.op,!1)}\n      }\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let a = getAByOutputIndex(index);\n          setOutputAtIndex(index, unaryOperation(a));\n        }\n      }\n      `}}function e7(e){let{opType:t,cpuKernelImpl:n,dtype:r}=e;return e=>{let{inputs:o,backend:i}=e;const{x:a}=o,s=i,l=r||a.dtype;if(s.shouldExecuteOnCPU([a])&&null!=n){const e=s.tensorMap.get(a.dataId),t=n(e.values,l);return s.makeTensorInfo(a.shape,l,t)}const u=new Z8(a.shape,t);return s.runWebGPUProgram(u,[a],l)}}function t7(e){let{opType:t,cpuKernelImpl:n,supportsComplex:r=!1,dtype:o}=e;return e=>{let{inputs:i,backend:a}=e;const{a:s,b:l}=i,u=a;if(r&&"complex64"===s.dtype){const e=u.tensorMap.get(s.dataId),n=u.tensorMap.get(l.dataId);let r,o;if(t!==o6.MUL)[r,o]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,o={dataId:n.dataId,dtype:n.dtype,shape:s.shape},i={dataId:r.dataId,dtype:r.dtype,shape:l.shape},a=new X8(t,s.shape,l.shape);return u.runWebGPUProgram(a,[o,i],OX(n.dtype,r.dtype))}));else{const t=new G8(o6.COMPLEX_MULTIPLY_REAL,s.shape,l.shape),i=new G8(o6.COMPLEX_MULTIPLY_IMAG,s.shape,l.shape),a=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:s.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:l.shape},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:l.shape}];r=u.runWebGPUProgram(t,a,"float32"),o=u.runWebGPUProgram(i,a,"float32")}const i=Q8({inputs:{real:r,imag:o},backend:u});return u.disposeData(r.dataId),u.disposeData(o.dataId),i}const c=o||OX(s.dtype,l.dtype);if(("string"===s.dtype||"string"===l.dtype||u.shouldExecuteOnCPU([s,l]))&&null!=n){const e=u.tensorMap.get(s.dataId).values,t=u.tensorMap.get(l.dataId).values,r="string"===s.dtype?n4(e):e,o="string"===s.dtype?n4(t):t,[i,a]=n(s.shape,l.shape,r,o,c);return u.makeTensorInfo(a,c,i)}const d=new X8(t,s.shape,l.shape);return u.runWebGPUProgram(d,[s,l],c)}}function n7(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&MU("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function r7(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}function o7(e){return(t,n,r,o,i)=>{const a=jY(t,n),s=a.length,l=tW(a),u=GU(i,$U(a)),c=t.length,d=n.length,p=tW(t),h=tW(n),f=LY(t,a),m=LY(n,a);if(f.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],o[g%o.length]);else for(let g=0;g<u.length;++g){const t=uW(g,s,l),n=t.slice(-c);f.forEach((e=>n[e]=0));const i=lW(n,c,p),a=t.slice(-d);m.forEach((e=>a[e]=0));const y=lW(a,d,h);u[g]=e(r[i],o[y])}return[u,a]}}function i7(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(o.shape,"float32",a)},s}function a7(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return i7({inputs:{real:a7(e,t,"float32"),imag:a7(e,t,"float32")},backend:e})}const r=aW($U(t),n);return e.makeTensorInfo(t,n,r)}function s7(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function l7(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}function u7(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=ZG([0],n),[o,i]=o7(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[i,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function c7(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===o.dtype)return s7({inputs:{x:o},backend:n});const e=a7(n,o.shape,o.dtype),t=c7({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),r=i7({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===o.dtype){const e=l7({inputs:{input:o},backend:n}),t=c7({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!KU(o.dtype,i)){const e=s7({inputs:{x:o},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const a=n.data.get(o.dataId).values,[s,l,u]=u7(a,o.shape,o.dtype,i);return n.makeTensorInfo(s,l,u)}function d7(e,t,n,r){return null==n?n=>{let{inputs:o,backend:i}=n;const{a:a,b:s}=o,l=i;n7([a,s],e);const u=l.data.get(a.dataId).values,c=l.data.get(s.dataId).values,d="string"===a.dtype?n4(u):u,p="string"===a.dtype?n4(c):c,h=r||a.dtype,[f,m]=t(a.shape,s.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:o,backend:i}=e;const{a:a,b:s}=o,l=i;if("complex64"===a.dtype||"complex64"===s.dtype){const e=c7({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,o=t.complexTensorInfos.imag,i=l.data.get(r.dataId).values,u=l.data.get(o.dataId).values,c=c7({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,y,v]=n(a.shape,s.shape,i,u,f,m),b=l.makeTensorInfo(v,"float32",g),x=l.makeTensorInfo(v,"float32",y),w=i7({inputs:{real:b,imag:x},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(x),w}{const e=l.data.get(a.dataId).values,n=l.data.get(s.dataId).values,o=r||a.dtype,[i,u]=t(a.shape,s.shape,e,n,o);return l.makeTensorInfo(u,o,i)}}}function p7(e){return(t,n,r,o,i,a)=>{const s=jY(t,n),l=$U(s),u=s.length,c=tW(s),d=GU("float32",l),p=GU("float32",l),h=LY(t,s),f=LY(n,s),m=A3(r,o),g=A3(i,a),y=t.length,v=tW(t),b=n.length,x=tW(n);if(h.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=r.real,p[w]=r.imag}else for(let w=0;w<d.length;w++){const t=uW(w,u,c),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=lW(n,y,v),o=t.slice(-b);f.forEach((e=>o[e]=0));const i=lW(o,b,x),a=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);d[w]=a.real,p[w]=a.imag}return[d,p,s]}}const h7=o7(((e,t)=>e+t)),f7=p7(((e,t,n,r)=>({real:e+n,imag:t+r})));d7(AW,h7,f7);function m7(e,t,n,r,o){const i=$U(r),a=aW(o,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=o||(a[n]+=i>0?t[s]:1)}return a}function g7(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e.shape[0],i=e.shape[1],a=hY([o,n],t.dtype);for(let s=0;s<o;s++)for(let o=0;o<i;o++){const i=e.get(s,o);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?a.set(1,s,i):t.size>0?a.set(a.get(s,i)+t.get(s,o),s,i):a.set(a.get(s,i)+1,s,i))}return a}const y7=o7(((e,t)=>e&t));d7(BW,y7);function v7(e){return(t,n,r)=>{const o=XU(n,t.length);for(let i=0;i<t.length;++i)o[i]=e(t[i],r);return o}}function b7(e,t,n){return x7(e,v7(t),n)}function x7(e,t,n){return r=>{let{inputs:o,attrs:i,backend:a}=r;const{x:s}=o;n7(s,e);const l=a,u=l.data.get(s.dataId).values;let c;if("string"===s.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=n4(u)}else c=u;const d=n||s.dtype,p=t(c,d,i);return l.makeTensorInfo(s.shape,d,p)}}const w7=v7((e=>Math.ceil(e)));x7(UW,w7);function A7(e,t,n,r){const o=XU(n,$U(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=$U(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const i="string"===n?n4(e.vals):e.vals;let a=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[s+t]=i[a++]}r+=e.shape[1]}))}return o}const S7=o7(((e,t)=>e===t?1:0)),C7=(d7(vq,S7,null,"bool"),v7((e=>Math.exp(e)))),k7=(x7(bq,C7,"float32"),v7((e=>Math.expm1(e)))),E7=(x7(wq,k7),v7((e=>Math.floor(e)))),T7=(x7(kq,E7),o7(((e,t)=>Math.floor(e/t))));d7(Eq,T7,null,"int32");function I7(e,t,n,r,o,i,a,s,l){const u=hY([r,i],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<o;t++){const i=e[c*o+t];r+=i*a[t],n.push(i)}if(r<0||r>=l/i)throw new Error(`Invalid indices: ${n} does not index into ${s}`);for(let e=0;e<i;e++)u.values[c*i+e]=t.get(...t.indexToLoc(r*i+e))}return u}function O7(e,t,n){const r=hY(n,e.dtype);for(let o=0;o<r.size;++o){const n=r.indexToLoc(o).slice(),i=n[0],a=n[2],s=t.locToIndex([i,a]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[o]=e.values[l])}return r}const R7=o7(((e,t)=>e>t?1:0)),N7=(d7(Rq,R7,null,"bool"),o7(((e,t)=>e>=t?1:0))),_7=(d7(Nq,N7,null,"bool"),o7(((e,t)=>e<t?1:0))),P7=(d7(Fq,_7,null,"bool"),o7(((e,t)=>e<=t?1:0)));d7(Bq,P7,null,"bool");function M7(e,t,n){const r=(t-e)/(n-1),o=aW(n,"float32");o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+r;return o}const D7=v7((e=>Math.log(e)));x7(zq,D7);function L7(e,t,n,r){const o=GU(r,$U(n));for(let i=0;i<o.length;++i){const n=i*t;let r=e[n];for(let o=0;o<t;++o){const t=e[n+o];(Number.isNaN(t)||t>r)&&(r=t)}o[i]=r}return o}const $7=o7(((e,t)=>Math.max(e,t))),j7=(d7(Yq,$7),o7(((e,t)=>Math.min(e,t)))),F7=(d7(oH,j7),o7(((e,t)=>e*t))),B7=p7(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})));d7(lH,F7,B7);function V7(e,t,n){const r=JG(-1,n);return F7([],t,r,e,n)}const z7=o7(((e,t)=>e!==t?1:0));d7(cH,z7,null,"bool");function U7(e,t,n,r,o){const i=t.length,a=$U(t),s=tW(t),l=tW(o),u=GU(n,$U(o));for(let c=0;c<a;++c){const t=uW(c,i,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[lW(n,i,l)]=e[c]}return u}function W7(e,t,n,r){const[o,i]=rZ(e,r),a=OX(t,"int32"),s=aW($U(o),a),l=$U(i);for(let u=0;u<s.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];s[u]=t}return{outVals:s,outShape:o,outDtype:a}}function q7(e,t,n,r){const o=[];let i=0;const a=t.length-1+n.length,s=new Array(a).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],o=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)s[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],a=e[u]+1;for(let e=0;e<n.length;++e){const o=n[e],i=e+t.length-1;if(i>=0){const e=s[i],t=e[e.length-1]-o[r];for(let n=r;n<a;++n)s[i].push(o[n+1]+t)}r=o[r],a=o[a]}a!==r&&(o.push([r,a]),i+=a-r)}return{outSplits:s,valueSlices:o,numValues:i}}function H7(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function G7(e,t,n,r,o){const i=t.slice();i[0]=o;const a=XU(n,$U(i)),s=e.length;return function(e,t,n,r,o,i){const a=H7(t,2)[1],s=H7(i,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)o[l*s+n]=e[t*a+n];++l}}(e,t,r,0===s?0:s/t[0],a,i),[a,i]}function X7(e,t,n,r,o,i,a,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const o=uW(r,t.length,tW(t)).join(",");throw new Error(`indices[${o}] = ${e} is not in [0, ${n})`)}}))}(i,a,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=q7(i,a,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=XU("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),h=G7(n,r,o,c,d);return[p,h[0],h[1]]}const K7=2147483647;function Y7(e,t,n,r,o,i,a){if(t.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===o.length,u=0===a.length,c=[];s||c.push(t[0]),l||c.push(o[0]),u||c.push(a[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=XU("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=s?e[0]:e[m],n=l?r[0]:r[m],o=u?i[0]:i[m];if(0===o)throw new Error("Requires delta != 0");let a;if(o>0&&n<t||o<0&&n>t)a=0;else if(a=Math.ceil(Math.abs((n-t)/o)),a>K7)throw new Error(`Requires ((limit - start) / delta) <= ${K7}`);p[m+1]=p[m]+a}const h=XU(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=s?e[0]:e[m];const r=u?i[0]:i[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}var Q7=e3;class J7{constructor(e,t,n,r,o,i,a,s,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=n3(u),this.raggedRank=r3(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Q7.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Q7.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Q7.VALUE_ROWIDS:return J7.getMaxWidthValueRowID(t);case Q7.ROW_SPLITS:return J7.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Q7[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],o=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,o=Math.max(i-n,o),n=i)}return Math.max(t-n,o)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return e9(e,n)}calculateOutputSize(e){const t=this.valuesShape;o3(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=t3(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let o=1;o<=this.raggedRank;++o)r[o]<0&&(r[o]=this.getMaxWidth(o));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),o=[];let i=0;for(let a=0;a<r;++a,i+=t)o.push(i);for(let a=r;a<e;++a)o.push(-1);return MU(o.length===e,(()=>"Final length of result must be equal to firstDimension.")),o}calculateOutputIndexRowSplit(e,t,n,r){const o=e.length,i=[];for(let a=0;a<o-1;++a){const o=e[a+1]-e[a];let s=Math.min(r,o),l=t[a];-1===l&&(s=0);for(let e=0;e<s;++e)i.push(l),l+=n;for(let e=0;e<o-s;++e)i.push(-1)}if(o>0&&i.length!==e[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const o=e.length,i=[];if(0===o)return[];let a=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];i.push(l);for(let u=1;u<o;++u){const o=e[u];if(o===s)l>=0&&(++a,a<r?l+=n:l=-1);else{if(a=0,s=o,o>=t.length)throw new Error(`Got nextValueRowId=${o} which is not less than ${t.length}`);l=t[o]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const o=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Q7.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,t,n,r);case Q7.ROW_SPLITS:if(o.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(o,t,n,r);default:throw new Error(`Unsupported partition type: ${Q7[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Q7.FIRST_DIM_SIZE:return e[0];case Q7.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Q7.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Q7[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let i=n.length-2;i>=0;--i)n[i]=n[i+1]*t[i+1];const r=e9(t,!1),o=XU(this.valuesDType,$U(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){i=this.calculateOutputIndex(e-1,i,n[e],t[e])}this.setOutput(this.raggedRank,i,o,r)}return[r,o]}setOutput(e,t,n,r){if(0===n.length)return;const o=this.values,i=n;let a=r.slice();a=a.slice(e+1);const s=$U(a),l=t.length;let u=this.defaultValue;if(u.length!==s&&1!==u.length){const e=this.defaultValueShape;iK((()=>{const t=sJ(u,e),n=CJ(t,a);u=n.dataSync()}))}let c=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=o.subarray(c*s);Z7(i.subarray(d*s),e,(p-d)*s)}if(h>=l){const t=n.length;e=Math.floor(t/s)}if(e>p)if(1===this.defaultValue.length)i.subarray(p*s,e*s).fill(this.defaultValue[0]),p=e;else for(;e>p;){Z7(i.slice(p*s),u,s),++p}e<0?(c=h+1,d=p):(c=h,d=p,p=d+1)}else++p}}}function Z7(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function e9(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function t9(e,t,n,r,o,i,a,s,l,u){return new J7(e,t,n,r,o,i,a,s,l,u).compute()}function n9(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return aW(0,r);const o=aW(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+n;return o}const r9=v7((e=>1/Math.sqrt(e)));x7(LH,r9);function o9(e,t,n,r,o,i,a,s,l,u){const c=[r/o,o],d=e.values,p=t.values;if(0===r)return hY(n,t.dtype);const h=l instanceof gX?l:hY(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<i;f++){const e=[];let i=0;for(let t=0;t<a;t++){const n=d[f*a+t];e.push(n),i+=n*s[t]}if(i<0||i>=r/o)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<o;n++)u?h.values[i*o+n]+=p[f*o+n]:h.values[i*o+n]=0===t.rank?p[0]:p[f*o+n]}return h}const i9=v7((e=>1/(1+Math.exp(-e))));b7(HH,(e=>1/(1+Math.exp(-e))));function a9(e,t,n,r,o){const i=OQ(r,t,n),a=$U(n),s=tW(r);if(i){const n=RQ(t,s);return"string"===o?e.slice(n,n+a):e.subarray(n,n+a)}const l=hY(r,o,"string"===o?n4(e):e),u=hY(n,o);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map(((e,n)=>e+t[n]));u.set(l.get(...n),...e)}return"string"===o?r4(u.values):u.values}function s9(e,t,n,r,o,i,a){const s=t[0],l=i[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(V3(s));return[XU(n,0),[0,d],XU(o,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(z3(g,t));if(t>=l)throw new Error(U3(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];u[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<s;++e)c[e]=e;return[t,[s,d],n,u,c]}{const t=f[l-1],i=XU(n,t*d),p=XU(o,t),h=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],o=h[t],a=(0===t?0:f[t-1])+o;h[t]++;for(let r=0;r<d;++r)i[a*d+r]=e[n*d+r];p[a]=r[n],c[n]=a}for(let e=0;e<l;++e){if(0===h[e]){const t=0===e?0:f[e-1];i[t*d+0]=e;for(let e=1;e<d;++e)i[t*d+e]=0;p[t]=a}}return[i,[t,d],p,u,c]}}function l9(e,t,n,r,o){const i=$U(r),a=t[0],s=o.length,l=[];let u=1,c=-1;for(let m=0;m<s;++m){const e=o[m];if(-1===e){if(-1!==c)throw new Error(W3(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(q3(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/u);if(u*e!==i)throw new Error(G3(r,l));l[c]=e}if($U(l)!==i)throw new Error(X3(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(s>0){h[s-1]=1;for(let e=s-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=XU(n,a*s);for(let m=0;m<a;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[a,s],l]}function u9(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?o[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=d.reduce(((e,t)=>e*t),1),h=XU(n,p);if(0===s)return c>0&&h.fill(a),[h,d];if(c<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,y=o[f];for(;;){let t=0;if(m<s){if(t=o[m],y===t){++m;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=c)throw new Error(Q3(y,c));y>g&&h.fill(a,g*u,y*u);for(let n=f;n<m;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(J3(n,r[n],l[0]));for(let n=0;n<u;n++)h[y*u+n]+=e[t*u+n]}if(i)for(let e=0;e<u;e++)h[y*u+e]/=m-f;if(f=m,++m,g=y+1,y=t,m>s)break}return g<c&&h.fill(a,g*u,c*u),[h,d]}const c9=v7((e=>Math.sqrt(e))),d9=(b7(XH,(e=>Math.sqrt(e))),v7(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:o}=t;return e.replace(new RegExp(n,r?"g":""),o)})));x7(aG,d9);function p9(e,t,n,r){const o=hY(e,t.dtype);for(let i=0;i<o.size;i++){const e=o.indexToLoc(i),a=new Array(e.length);for(let t=0;t<a.length;t++)a[t]=e[t]*n[t]+r[t];o.set(t.get(...a),...e)}return o}class h9{constructor(e,t,n,r,o,i){this.separator=tX(e),this.nGramWidths=t,this.leftPad=tX(n),this.rightPad=tX(r),this.padWidth=o,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,o,i){for(let a=0;a<o;++a){const s=this.getPadWidth(i),l=Math.max(0,s-a),u=Math.max(0,s-(o-(a+1))),c=i-(l+u),d=t+(l>0?0:a-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+a]=new Uint8Array(p);const h=n[r+a];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let o=1;o<r;++o){let r=t[o]>=e;if(r=r&&t[o]<=n,!r)throw new Error(`Invalid split value ${t[o]}, must be in [${e}, ${n}]`);e=t[o]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const o=r-1,i=XU("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=o;++t)i[t]=0;return[e,i]}i[0]=0;for(let s=1;s<=o;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),i[s]=i[s-1]+n}const a=new Array(i[o]);for(let s=0;s<o;++s){const n=t[s];let r=i[s];if(this.nGramWidths.forEach((o=>{const i=t[s+1]-t[s],l=this.getNumNGrams(i,o);this.createNGrams(e,n,a,r,l,o),r+=l})),this.preserveShort&&r===i[s]){const o=t[s+1]-t[s];if(0===o)continue;const i=o+2*this.padWidth,l=1;this.createNGrams(e,n,a,r,l,i)}}return[a,i]}}function f9(e,t,n,r,o,i,a,s){return new h9(n,r,o,i,a,s).compute(e,t)}function m9(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const o=t[0];let i=e.indexOf(o);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(o)}return void(n&&0===e.length||r.push(e))}let o=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(o,i);n&&0===t.length||r.push(t),o=i+1}}function g9(e,t,n){const r=e.length,o=[];let i=0,a=0;const s=new Array(r);for(let p=0;p<r;++p){const r=o.length;m9(e[p],t,n,o);const l=o.length-r;s[p]=l,i+=l,a=Math.max(a,l)}const l=XU("int32",2*i),u=new Array(i),c=[r,a];let d=0;for(let p=0;p<r;++p)for(let e=0;e<s[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=o[d],++d;return[l,u,c]}function y9(e,t){const n=XU("int32",e.length);for(let r=0;r<e.length;++r)n[r]=QG(e[r]).modulo(t).getLowBitsUnsigned();return n}const v9=o7(((e,t)=>e-t)),b9=p7(((e,t,n,r)=>({real:e-n,imag:t-r})));d7(dG,v9,b9);function x9(e,t){const n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];const r=hY(n,e.dtype);for(let o=0;o<r.values.length;++o){const t=r.indexToLoc(o),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const i=e.locToIndex(n);r.values[o]=e.values[i]}return r}const w9=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function A9(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const o=r-n+1,i=t-n+1,a=Math.log(o),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(o-s)/o)*Math.sign(i-o/2);A9(e,t,Math.max(n,Math.floor(t-i*s/o+l)),Math.min(r,Math.floor(t+(o-i)*s/o+l)))}const o=e[t];let i=n,a=r;for(_U(e,n,t),w9(e[r],o)>0&&_U(e,n,r);i<a;){for(_U(e,i,a),i++,a--;w9(e[i],o)<0;)i+=1;for(;w9(e[a],o)>0;)a-=1}0===w9(e[n],o)?_U(e,n,a):(a+=1,_U(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function S9(e,t,n,r,o){const i=t[t.length-1],[a,s]=[e.length/i,i],l=GU(n,a*r),u=GU("int32",a*r);for(let d=0;d<a;d++){const t=d*s,n=e.subarray(t,t+s);let i=new Array(n.length);n.forEach(((e,t)=>i[t]={value:e,index:t})),r<i.length&&(A9(i,r),i=i.slice(0,r)),o&&i.sort(w9);const a=d*r,c=l.subarray(a,a+r),p=u.subarray(a,a+r);for(let e=0;e<r;e++)c[e]=i[e].value,p[e]=i[e].index}const c=t.slice();return c[c.length-1]=r,[hY(c,n,l),hY(c,"int32",u)]}function C9(e,t,n,r){const o=qU(t,n)[0],i=[1,n[0],1];for(let f=0;f<o;f++)i[0]*=n[f];i[1]=n[o];for(let f=o+1;f<n.length;f++)i[2]*=n[f];const a=new Map,s=new Int32Array(n[o]),l=new gX(i,r,e),u=[],c=1===i[0]&&1===i[2];for(let f=0;f<n[o];f++){let t;if(c)t=e[f].toString();else{const e=[];for(let t=0;t<i[0];t++)for(let n=0;n<i[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=a.get(t);if(null!=n)s[f]=n;else{const e=a.size;a.set(t,e),s[f]=e,u.push(f)}}const d=i.slice();d[1]=a.size;const p=new gX(d,r);u.forEach(((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)p.set(l.get(n,e,r),n,t,r)}));const h=n.slice();return h[o]=d[1],{outputValues:p.values,outputShape:h,indices:s}}const{mx:k9,ct:E9,YG:T9,hH:I9,z3:O9,sG:R9,uM:N9,vS:_9,C1:P9,qB:M9,GG:D9,lg:L9,rq:$9,cu:j9,WR:F9,px:B9,jC:V9,He:z9,hE:U9,BF:W9,Dk:q9,cl:H9,_B:G9,qy:X9,Zy:K9,bu:Y9,dH:Q9,HS:J9,eW:Z9,GK:eee,dl:tee,Dw:nee,xT:ree,_X:oee,wz:iee}=T,aee=e7({opType:D6.ABS,cpuKernelImpl:Q9}),see={kernelName:bW,backendName:"webgpu",kernelFunc:aee},lee=e7({opType:D6.ACOS}),uee={kernelName:xW,backendName:"webgpu",kernelFunc:lee},cee=e7({opType:D6.ACOSH}),dee={kernelName:wW,backendName:"webgpu",kernelFunc:cee},pee=t7({opType:o6.ADD,cpuKernelImpl:k9,supportsComplex:!0}),hee={kernelName:AW,backendName:"webgpu",kernelFunc:pee};class fee{constructor(e){this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e[0],this.variableNames=e.map(((e,t)=>`T${t}`)),this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.shaderKey="addN"}getUserCode(){const e=[];this.variableNames.forEach((t=>{e.push(`let v${t} = get${t}ByOutputCoords(coords);`)}));const t=this.variableNames.map((e=>`v${e}`)).join(" + ");return`\n      ${j5("index")} {\n        for (var i = 0; i < ${this.workPerThread}; i = i + 1) {\n          let flatIndex = index * ${this.workPerThread} + i;\n          if (flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndex);\n            ${e.join("\n        ")}\n            setOutputAtIndex(flatIndex, ${t});\n          }\n        }\n      }\n    `}}const mee={kernelName:SW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;if(1===r.length)return K8({inputs:{x:r[0]},backend:n});const o=r.map((e=>e.dtype)).reduce(((e,t)=>OX(e,t))),i=r.map((e=>e.shape)),a=new fee(i);return n.runWebGPUProgram(a,r,o)}};class gee{constructor(e,t){this.variableNames=["A"],this.workgroupSize=[16,16,1];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.dispatchLayout={x:[0],y:[1]},this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[1,1,1]),this.shaderKey="transposeShared"}getUserCode(){MU(this.workgroupSize[0]===this.workgroupSize[1],(()=>`Must be a square tile, current tile shape is ${this.workgroupSize[0]} x ${this.workgroupSize[1]}`));const e=this.workgroupSize[0];return`\n      var<workgroup> tile : array<array<f32, ${this.workgroupSize[0]+1}>, ${this.workgroupSize[0]}>;\n      ${j5()} {\n        var x = i32(workgroupId.x) * ${e} + i32(localId.x);\n        var y = i32(workgroupId.y) * ${e} + i32(localId.y);\n        let width = uniforms.outShape[0];\n        let height = uniforms.outShape[1];\n        if (x < width && y < height) {\n          tile[localId.y][localId.x] = f32(A[y * width + x]);\n        }\n        workgroupBarrier();\n\n        x = i32(workgroupId.y) * ${e} + i32(localId.x);\n        y = i32(workgroupId.x) * ${e} + i32(localId.y);\n        if (x < height && y < width) {\n          setOutputAtIndex((y * height + x), tile[localId.x]\n            [localId.y]);\n        }\n      }\n    `}}class yee{constructor(e,t){this.variableNames=["A"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0;const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.newDim=t,this.shaderKey=`transpose_${t}`}getUserCode(){const e=L5(this.outputShape.length),t=vee(this.newDim);return`\n      ${j5("index")} {\n        for(var i = 0; i < ${this.workPerThread}; i = i + 1) {\n          let flatIndex = index * ${this.workPerThread} + i;\n          if(flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndex);\n            setOutputAtIndex(flatIndex, A[getIndexFromCoords${this.outputShape.length}D(\n              ${e}(${t}), uniforms.aShape)]);\n          }\n        }\n      }\n    `}}function vee(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=new Array(t);for(let r=0;r<e.length;r++)n[e[r]]=`coords.${$5(r)}`;return n.join()}function bee(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:i}=r,a=n,s=o.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=o.shape[i[c]];if(n.shouldExecuteOnCPU([o])){const e=a.tensorMap.get(o.dataId).values,t=oee(e,o.shape,o.dtype,i,l);return n.makeTensorInfo(l,o.dtype,t)}if(2===o.shape.length&&FU(i,[1,0])){const e=new gee(o.shape,i);return a.runWebGPUProgram(e,[o],o.dtype)}const u=new yee(o.shape,i);return a.runWebGPUProgram(u,[o],o.dtype)}const xee={kernelName:yG,backendName:"webgpu",kernelFunc:bee};class wee{constructor(e,t,n){this.variableNames=["x"],this.uniforms="reduceSize : i32,",this.size=!0,this.inputShape=[e.batchSize,e.inSize];const[r]=rZ(this.inputShape,[1]);this.outputShape=0===r.length?[1]:r,e.inSize>=32768&&n>=512?this.workgroupSize=[512,1,1]:e.inSize>=4096?this.workgroupSize=[256,1,1]:this.workgroupSize=[64,1,1],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,[1,1,1]),this.reduceType=t,this.shaderKey=`reduce_${t}`}getUserCode(){let e="",t="0.0";const n=this.workgroupSize[0];"min"===this.reduceType||"max"===this.reduceType?(e=`\n         if (isnan(candidate)) {\n          bestValue = uniforms.NAN;\n         } else if (!isnan(bestValue) && candidate ${"min"===this.reduceType?"<":">"} bestValue)\n           {  bestValue = candidate; }`,t="f32(x[offset])"):"sum"===this.reduceType||"mean"===this.reduceType?e=" bestValue = bestValue + candidate; ":"prod"===this.reduceType?(e=" bestValue = bestValue * candidate; ",t="1.0"):"all"===this.reduceType?(e=" bestValue = f32(bestValue >= 1.0 && candidate >= 1.0); ",t="1.0"):"any"===this.reduceType&&(e=" bestValue = f32(bestValue >= 1.0 || candidate >= 1.0); ",t="0.0");const r="mean"===this.reduceType?"setOutputAtIndex(outputIndex, bestValue / f32(uniforms.reduceSize));":"setOutputAtIndex(outputIndex, bestValue);";return`\n       fn DIV_CEIL(a : u32, b : u32) -> u32 {\n        return ((a - 1u) / b + 1u);\n       }\n\n       ${`\n         var<workgroup> xBestValues : array<f32, ${n}>;\n       `}\n       fn getOffset(outputIndex : i32) -> i32 {\n         let outputCoords = getCoordsFromIndex(outputIndex);\n         let offset = ${1===this.outputShape.length?"outputCoords":"outputCoords[0]"} * uniforms.reduceSize;\n          return offset;\n       }\n       ${j5("index")} {\n         let outputIndex = index / ${n};\n         let offset = getOffset(outputIndex);\n         var bestValue = ${t};\n         let Length = uniforms.reduceSize;\n         let WorkPerThread = DIV_CEIL(u32(Length), ${n}u);\n         for (var k = i32(localId.x); k < Length && outputIndex < uniforms.size;\n             k = k + ${n}) {\n           let candidate = f32(x[offset + k]);\n           ${e}\n         }\n         xBestValues[localId.x] = bestValue;\n         workgroupBarrier();\n\n         var reduceSize = min(u32(Length), ${n}u);\n         for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n             currentSize = reduceSize / 2u) {\n           let interval = DIV_CEIL(reduceSize, 2u);\n           if (localId.x < currentSize) {\n            let candidate = xBestValues[localId.x + interval];\n            ${e}\n            xBestValues[localId.x] = bestValue;\n           }\n           reduceSize = interval;\n           workgroupBarrier();\n         }\n\n         if (localId.x == 0u && outputIndex < uniforms.size) {\n          ${r}\n        }\n       }\n     `}}const Aee={mean:"float32",all:"bool",any:"bool"};function See(e,t,n,r,o){const i=e.shape.length,a=[],s=qU(t,e.shape);let l=s;const u=aZ(l,i);let c=e;null!=u&&(c=bee({inputs:{x:e},attrs:{perm:u},backend:o}),l=lZ(l.length,i),a.push(c)),iZ(r,l,i);const[d,p]=rZ(c.shape,l);let h,f=d;if(n&&(f=oZ(d,s)),"max"!==r&&"prod"!==r||!o.shouldExecuteOnCPU([c])){const t=$U(p),n={windowSize:t,inSize:t,batchSize:$U(c.shape)/t,outSize:1},i=Aee[r]||RX(e.dtype),s=[{type:"int32",data:[t]}],l=new wee(n,r,o.device.limits.maxComputeWorkgroupSizeX),u=o.runWebGPUProgram(l,[c],i,s);a.push(u),h=U8({inputs:{x:u},attrs:{shape:f},backend:o})}else{const t=o.tensorMap.get(c.dataId).values;switch(r){case"max":const n=V9(t,$U(p),f,e.dtype);h=o.makeTensorInfo(f,e.dtype,n);break;case"prod":const{outVals:i,outShape:a,outDtype:s}=G9(c.shape,c.dtype,t,l);h=o.makeTensorInfo(a,s,i);break;default:throw new Error(`${r} CPU implementation is not yet supported.`)}}return a.forEach((e=>o.disposeData(e.dataId))),h}const Cee={kernelName:CW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{keepDims:i,axis:a}=r;return See(o,a,i,"all",n)}};const kee={kernelName:kW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{keepDims:i,axis:a}=r;return See(o,a,i,"any",n)}};class Eee{constructor(e,t,n){this.workgroupSize=[64,1,1],this.variableNames=["x"],this.uniforms="infinityValue : f32,",this.size=!0;const r=[t];this.op="min"===n?"<":">";const[o,i]=rZ(e,r);this.outputShape=0===o.length?[1]:o,this.dispatchLayout=Q5(this.outputShape),$U(i)<32?(this.type="plain",this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize)):(this.type="shared",this.dispatch=X5(this.dispatchLayout,this.outputShape,[1,1,1])),this.inputShape=e,this.shaderKey=`argMinMax_${this.op}_${this.type}`}getUserCode(){const e=this.workgroupSize[0],t=()=>1===this.inputShape.length?"uniforms.xShape":`uniforms.xShape.${$5(this.inputShape.length-1)}`,n=()=>{let e="";if(1===this.outputShape.length)1!==this.inputShape.length&&(e+="outputCoords,");else for(let t=0;t<this.outputShape.length;t++)e+=`outputCoords.${$5(t)},`;return e};if("shared"===this.type){return`\n      fn DIV_CEIL(a : u32, b : u32) -> u32 {\n        return ((a - 1u) / b + 1u);\n      }\n\n      ${`\n      var<workgroup> xBestIndices : array<i32, ${e}>;\n      var<workgroup> xBestValues : array<f32, ${e}>;\n    `}\n\n      ${j5("index")} {\n        let outputIndex = index / ${e};\n        let reduceLength = ${t()};\n\n        var bestIndex = i32(localId.x);\n        var bestValue = uniforms.infinityValue;\n        let outputCoords = getCoordsFromIndex(outputIndex);\n        for (var k = i32(localId.x); k < reduceLength && outputIndex < uniforms.size;\n            k = k + ${e}) {\n          let candidate = getX(${n()} k);\n          if (!isnan(candidate) && candidate ${this.op} bestValue) {\n            bestValue = candidate;\n            bestIndex = k;\n          }\n        }\n        xBestValues[localId.x] = bestValue;\n        xBestIndices[localId.x] = bestIndex;\n        workgroupBarrier();\n\n        var reduceSize = min(u32(reduceLength), ${e}u);\n        for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n            currentSize = reduceSize / 2u) {\n          let interval = DIV_CEIL(reduceSize, 2u);\n          if (localId.x < currentSize) {\n            let candidate = xBestValues[localId.x + interval];\n            if (candidate ${this.op} bestValue) {\n              bestValue = candidate;\n              xBestValues[localId.x] = bestValue;\n              xBestIndices[localId.x] = xBestIndices[localId.x + interval];\n            }\n          }\n          reduceSize = interval;\n          workgroupBarrier();\n        }\n\n        if (localId.x == 0u && outputIndex < uniforms.size) {\n          setOutputAtIndexI32(outputIndex, xBestIndices[localId.x]);\n        }\n      }\n    `}return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let outputCoords = getCoordsFromIndex(index);\n          var bestIndex = 0;\n          var bestValue = getX(${n()} 0);\n          let reduceLength = ${t()};\n          for (var i = 1; i < reduceLength; i++) {\n            let candidate = getX(${n()} i);\n            if (candidate ${this.op} bestValue) {\n              bestValue = candidate;\n              bestIndex = i;\n            }\n          }\n          setOutputAtIndexI32(index, bestIndex);\n        }\n      }\n      `}}const Tee={kernelName:EW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=qU(i,o.shape);const s=aZ(a,o.shape.length);let l=o;const u=[];null!=s&&(l=bee({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=lZ(a.length,l.shape.length)),iZ("argMax",[a[0]],l.shape.length);const c=new Eee(l.shape,a[0],"max"),d=[{type:"float32",data:[Number.NEGATIVE_INFINITY]}],p=n.runWebGPUProgram(c,[l],"int32",d);return u.forEach((e=>n.disposeData(e.dataId))),p}};const Iee={kernelName:TW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=qU(i,o.shape);const s=aZ(a,o.shape.length);let l=o;const u=[];null!=s&&(l=bee({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=lZ(a.length,l.shape.length)),iZ("argMin",[a[0]],l.shape.length);const c=new Eee(l.shape,a[0],"min"),d=[{type:"float32",data:[Number.POSITIVE_INFINITY]}],p=n.runWebGPUProgram(c,[l],"int32",d);return u.forEach((e=>n.disposeData(e.dataId))),p}},Oee=e7({opType:D6.ASIN}),Ree={kernelName:IW,backendName:"webgpu",kernelFunc:Oee},Nee=e7({opType:D6.ASINH}),_ee={kernelName:OW,backendName:"webgpu",kernelFunc:Nee},Pee=e7({opType:D6.ATAN}),Mee={kernelName:RW,backendName:"webgpu",kernelFunc:Pee},Dee=t7({opType:o6.ATAN2}),Lee={kernelName:_W,backendName:"webgpu",kernelFunc:Dee},$ee=e7({opType:D6.ATANH}),jee={kernelName:NW,backendName:"webgpu",kernelFunc:$ee};class Fee{constructor(e){this.variableNames=["x"],this.uniforms="strides : vec2<i32>,",this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="poolWithFilterSizeEqualsOne"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let batch = coords[0];\n          let d = coords[3];\n\n          let xRCCorner = coords.yz * uniforms.strides;\n          let xRCorner = xRCCorner.x;\n          let xCCorner = xRCCorner.y;\n\n          let value = getX(batch, xRCorner, xCCorner, d);\n          setOutputAtIndex(index, value);\n        }\n      }\n    `}}class Bee{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, convDims : vec2<i32>, filterDims : vec2<i32>,",this.workgroupSize=[128,1,1],this.size=!0,"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.poolType=t,this.computePositions=n,this.flattenPositions=r,this.includeBatchIndex=o,this.shaderKey=`pool2D_${t}_${n}_${r}_${o}`}getUserCode(){let e;if("avg"===this.poolType)e="resultValue = resultValue + value; count = count + 1.0;";else if(this.computePositions){e=`let currMaxValue = mix(value, maxValue, maxValueFound);\n      if (value >= currMaxValue) {\n        maxValue = value;\n        maxValueFound = 1.0;\n        maxPosition = ${this.flattenPositions?this.includeBatchIndex?"((batch * uniforms.xShape[1] + xR) * uniforms.xShape[2] + xC) * uniforms.xShape[3] + d":"(xR * uniforms.xShape[2] + xC) * uniforms.xShape[3] + d":"wR * uniforms.filterDims.y + wC"};\n      }`}else e="resultValue = max(value, resultValue);";let t="resultValue";"avg"===this.poolType&&(t="resultValue / max(count, 1.0)");return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n          let batch = coords[0];\n          let d = coords[3];\n          let xRCCorner = vec2<i32>(coords.yz) * uniforms.strides - uniforms.pads;\n          let xRCorner = xRCCorner.x;\n          let xCCorner = xRCCorner.y;\n\n          ${this.computePositions?"var maxValue = 0.0;\n            var maxValueFound = 0.0;\n            var maxPosition = 0;":`var resultValue = ${"avg"===this.poolType?"0.0":"-1.0 / pow(10.0, -20.0)"};`}\n\n          var count = 0.0;\n          for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + uniforms.dilations.x) {\n            let xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= uniforms.convDims.x) {\n              continue;\n            }\n\n            for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + uniforms.dilations.y) {\n              let xC = xCCorner + wC;\n              if (xC < 0 || xC >= uniforms.convDims.y) {\n                continue;\n              }\n\n              let value = getX(batch, xR, xC, d);\n              ${e}\n            }\n          }\n\n          ${this.computePositions?"setOutputAtIndexI32(index, maxPosition);":`setOutputAtIndex(index, ${t});`}\n        }\n      }\n    `}}class Vee{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],this.uniforms="strides : vec3<i32>, pads : vec3<i32>, convDims : vec3<i32>, filterDims : vec3<i32>,",this.workgroupSize=[128,1,1],this.size=!0,"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.poolType=t,this.computePositions=n,this.flattenPositions=r,this.includeBatchIndex=o,this.shaderKey=`pool3D_${t}_${n}_${r}_${o}`}getUserCode(){let e;if("avg"===this.poolType)e="resultValue += value; count += 1.0;";else if(this.computePositions){e=`let currMaxValue = mix(value, maxValue, maxValueFound);\n      if (value >= currMaxValue) {\n        maxValue = value;\n        maxValueFound = 1.0;\n        maxPosition = ${this.flattenPositions?this.includeBatchIndex?"(((batch * uniforms.xShape.y + xD) * uniforms.xShape.z + xR) * uniforms.xShape.w + xC) * uniforms.xShape.u + ch":"((xD * uniforms.xShape.z + xR) * uniforms.xShape.w + xC) * uniforms.xShape.u + ch":"wD * uniforms.filterDims.y * uniforms.filterDims.y + wR * uniforms.filterDims.z + wC"};\n      }`}else e="resultValue = max(value, resultValue);";let t="resultValue";"avg"===this.poolType&&(t="resultValue / max(count, 1.0)");return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let batch = coords.x;\n          let ch = coords.u;\n\n          let xCorner = vec3<i32>(coords.y, coords.z, coords.w) * uniforms.strides - uniforms.pads;\n          let xDCorner = xCorner.x;\n          let xRCorner = xCorner.y;\n          let xCCorner = xCorner.z;\n\n          ${this.computePositions?"var maxValue = 0.0;\n            var maxValueFound = 0.0;\n            var maxPosition = 0;":`var resultValue = ${"avg"===this.poolType?"0.0":"-1.0 / pow(10.0, -20.0)"};`}\n\n          var count = 0.0;\n          for (var wD = 0; wD < uniforms.filterDims.x; wD++) {\n            let xD = xDCorner + wD;\n            if (xD < 0 || xD >= uniforms.convDims.x) {\n              continue;\n            }\n\n            for (var wR = 0; wR < uniforms.filterDims.y; wR++) {\n              let xR = xRCorner + wR;\n              if (xR < 0 || xR >= uniforms.convDims.y) {\n                continue;\n              }\n\n              for (var wC = 0; wC < uniforms.filterDims.z; wC++) {\n                let xC = xCCorner + wC;\n                if (xC < 0 || xC >= uniforms.convDims.z) {\n                  continue;\n                }\n\n                let value = getX(batch, xD, xR, xC, ch);\n                ${e}\n              }\n            }\n          }\n\n          ${this.computePositions?"setOutputAtIndexI32(index, maxPosition);":`setOutputAtIndex(index, ${t});`}\n        }\n      }\n    `}}function zee(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r;return See(o,i,a,"max",n)}const Uee={kernelName:Kq,backendName:"webgpu",kernelFunc:zee};function Wee(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{keepDims:i,axis:a}=r;return See(o,a,i,"mean",n)}const qee={kernelName:nH,backendName:"webgpu",kernelFunc:Wee};function Hee(e,t,n,r){if(1===t.filterWidth&&1===t.filterHeight&&FU(t.inShape,t.outShape))return K8({inputs:{x:e},backend:r});if(t.filterWidth===t.inWidth&&t.filterHeight===t.inHeight&&1===t.batchSize&&"VALID"===t.padInfo.type){const o=e.shape.length,i=U8({inputs:{x:e},backend:r,attrs:{shape:[e.shape[o-3]*e.shape[o-2],e.shape[o-1]]}});let a;"avg"===n?a=Wee({inputs:{x:i},backend:r,attrs:{axis:0,keepDims:!1}}):(MU("max"===n,(()=>`Invalid pool type ${n}`)),a=zee({inputs:{x:i},backend:r,attrs:{reductionIndices:0,keepDims:!1}}));const s=U8({inputs:{x:a},backend:r,attrs:{shape:t.outShape}});return r.disposeData(i.dataId),r.disposeData(a.dataId),s}let o;const i=[{type:"int32",data:[t.strideHeight,t.strideWidth]}];return 1===t.filterHeight&&1===t.filterWidth?o=new Fee(t):("avg"===n?o=new Bee(t,"avg"):(MU("max"===n,(()=>`Invalid pool type ${n}`)),o=new Bee(t,"max")),i.push({type:"int32",data:[t.padInfo.top,t.padInfo.left]},{type:"int32",data:[t.dilationHeight,t.dilationWidth]},{type:"int32",data:[t.inHeight,t.inWidth]},{type:"int32",data:[t.effectiveFilterHeight,t.effectiveFilterWidth]})),r.runWebGPUProgram(o,[e],e.dtype,i)}const Gee={kernelName:PW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;return Hee(o,GQ(o.shape,i,a,1,s,l),"avg",n)}};const Xee={kernelName:DW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=XQ(o.shape,i,a,[1,1,1],s,u,l),d=new Vee(c,"avg"),p=[{type:"int32",data:[c.strideDepth,c.strideHeight,c.strideWidth]},{type:"int32",data:[c.padInfo.front,c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.inDepth,c.inHeight,c.inWidth]},{type:"int32",data:[c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth]}];return n.runWebGPUProgram(d,[o],o.dtype,p)}};class Kee{constructor(e){this.variableNames=["dy"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, filterDims : vec2<i32>,\n       outHeight : i32, outWidth : i32, avgMultiplier : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="avgPool2DBackprop"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords[0];\n        let d = coords[3];\n\n        let dyRCCorner = vec2<i32>(coords.yz) - uniforms.pads;\n        let dyRCorner = dyRCCorner.x;\n        let dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        for (var wR = 0; wR < uniforms.filterDims[0]; wR = wR + uniforms.dilations[0]) {\n          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);\n\n          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n            continue;\n          }\n          let idyR = i32(dyR);\n\n          for (var wC = 0; wC < uniforms.filterDims[1]; wC = wC + uniforms.dilations[1]) {\n            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);\n\n            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n              continue;\n            }\n            let idyC = i32(dyC);\n\n            let dyValue = getDy(batch, idyR, idyC, d);\n\n            dotProd = dotProd + dyValue * uniforms.avgMultiplier;\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}class Yee{constructor(e){this.variableNames=["dy"],this.uniforms="strides : vec3<i32>, pads : vec3<i32>, filterDims : vec3<i32>,\n       outDepth : i32, outHeight : i32, outWidth : i32, avgMultiplier : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="avgPool3DBackprop"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords.x;\n        let ch = coords.u;\n\n        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;\n        let dyDCorner = dyCorner.x;\n        let dyRCorner = dyCorner.y;\n        let dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        for (var wD = 0; wD < uniforms.filterDims[0]; wD++) {\n          let dyD = f32(dyDCorner + wD) / f32(uniforms.strides[0]);\n\n          if (dyD < 0.0 || dyD >= f32(uniforms.outDepth) || fract(dyD) > 0.0) {\n            continue;\n          }\n          let idyD = i32(dyD);\n\n          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {\n            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);\n\n            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n              continue;\n            }\n            let idyR = i32(dyR);\n\n            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {\n              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);\n\n              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n                continue;\n              }\n              let idyC = i32(dyC);\n\n              let dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              dotProd += dyValue * uniforms.avgMultiplier;\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}const Qee={kernelName:LW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=XQ(a.shape,s,l,1,u,c),p=new Yee(d),h=1/(d.filterDepth*d.filterHeight*d.filterWidth),f=[{type:"int32",data:[d.strideDepth,d.strideHeight,d.strideWidth]},{type:"int32",data:[d.effectiveFilterDepth-1-d.padInfo.front,d.effectiveFilterHeight-1-d.padInfo.top,d.effectiveFilterWidth-1-d.padInfo.left]},{type:"int32",data:[d.effectiveFilterDepth,d.effectiveFilterHeight,d.effectiveFilterWidth]},{type:"int32",data:[d.outDepth]},{type:"int32",data:[d.outHeight]},{type:"int32",data:[d.outWidth]},{type:"float32",data:[h]}];return n.runWebGPUProgram(p,[o],a.dtype,f)}};const Jee={kernelName:MW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;e6([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=GQ(a.shape,s,l,1,u),d=new Kee(c),p=1/(c.filterHeight*c.filterWidth),h=[{type:"int32",data:[c.strideHeight,c.strideWidth]},{type:"int32",data:[c.effectiveFilterHeight-1-c.padInfo.top,c.effectiveFilterWidth-1-c.padInfo.left]},{type:"int32",data:[c.dilationHeight,c.dilationWidth]},{type:"int32",data:[c.effectiveFilterHeight,c.effectiveFilterWidth]},{type:"int32",data:[c.outHeight]},{type:"int32",data:[c.outWidth]},{type:"float32",data:[p]}];return n.runWebGPUProgram(d,[o],a.dtype,h)}};const Zee={kernelName:$W,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;return q8({a:o,b:i,transposeA:a,transposeB:s,backend:n})}};class ete{constructor(e,t){this.variableNames=["source"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.rank=t.length,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.start=e,this.uniforms=`start : ${L5(e.length)}, `,this.shaderKey="slice"}getUserCode(){const e=L5(this.rank),t=function(e){if(1===e)return"sourceLoc";if(e<=6)return tte.slice(0,e).map((e=>`sourceLoc.${e}`)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let n;n=1===this.start.length?this.outputShape.map(((e,t)=>"sourceLoc = uniforms.start + coords;")):this.outputShape.map(((e,t)=>`sourceLoc.${tte[t]} = uniforms.start.${$5(t)} + coords.${tte[t]};`));return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          var sourceLoc : ${e};\n          let coords = getCoordsFromIndex(index);\n          ${n.join("\n")}\n          setOutputAtIndex(index, getSource(${t}));\n        }\n      }\n    `}}const tte=["x","y","z","w","u","v"];function nte(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r,[s,l]=NQ(o,i,a);if(yQ(o,s,l),n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.tensorMap.get(o.dataId),t=J9(e.values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,t)}if(0===$U(l))return n.makeTensorInfo(l,o.dtype,[]);const u=new ete(s,l),c=[{type:"int32",data:s}];return n.runWebGPUProgram(u,[o],o.dtype,c)}const rte={kernelName:zH,backendName:"webgpu",kernelFunc:nte},ote={kernelName:jW,backendName:"webgpu",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;MU(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGPU backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=l3(o.shape,i,s),u=u3(l.length,i.length),c=c3(o.shape,i,s),d=d3(a,i.length),p=p3(c,a,i.length),h=[],f=U8({inputs:{x:o},backend:n,attrs:{shape:l}}),m=bee({inputs:{x:f},backend:n,attrs:{perm:u}}),g=U8({inputs:{x:m},backend:n,attrs:{shape:c}}),y=nte({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeData(e.dataId))),y}},ite=`\n  fn bincount_write(index: i32, value: f32) {\n    ${_5("&result[index]","value","float32")}\n  }\n`;class ate{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.outputShape=[],this.variableNames=["x"],this.uniforms="binCountSize : i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.hasWeights=!0,this.binaryOutput=!1,this.outputShape=e,this.rank=e.length,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.binaryOutput=n,n&&(this.atomic=!1),this.hasWeights=t,this.hasWeights&&this.variableNames.push("w"),this.shaderKey=`bincount_${this.hasWeights}_${this.binaryOutput}_${this.rank}`}getUserCode(){return`\n    ${this.binaryOutput?"\n  fn bincount_write(index: i32, value: f32) {\n    atomicStore(&result[index], bitcast<i32>(value));\n  }\n":ite}\n  ${j5("index")} {\n    ${1===this.rank?`if (index < uniforms.xShape) {\n      let indexVal = i32(getX(index));\n      if (indexVal < uniforms.binCountSize) {\n        let value = ${this.binaryOutput?1:this.hasWeights?"getW(index)":"1."};\n        bincount_write(indexVal, value);\n      }\n    }`:`let coord = getCoordsFromIndex(index);\n    if (coordsInBounds2D(coord, uniforms.xShape)) {\n      let indexVal = i32(getX(coord[0], coord[1]));\n      if (indexVal < uniforms.binCountSize) {\n        let value = ${this.binaryOutput?1:this.hasWeights?"getW(coord[0], coord[1])":"1."};\n        bincount_write(coord.x * uniforms.binCountSize + indexVal, value);\n      }\n    }`}\n  }\n  `}}const ste={kernelName:FW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=$U(o.shape),l=$U(i.shape)>0,u=[a],c=i.dtype,d=V8({backend:n,attrs:{shape:u,value:0,dtype:c}}),p=new ate([s],l),h=[{type:"int32",data:[a]}],f=l?[o,i]:[o];return n.runWebGPUProgram(p,f,c,h,d)}};class lte{constructor(e){this.outputShape=[],this.variableNames=["s0","s1"],this.uniforms="s0Size : i32, s1Size : i32, ",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="broadcastArgs"}getUserCode(){return`\n  ${j5("index")} {\n    if (index < uniforms.size) {\n      var s0 = 1.0;\n      var s1 = 1.0;\n      let indexS0 = index - uniforms.size + uniforms.s0Size;\n      let indexS1 = index - uniforms.size + uniforms.s1Size;\n      if (indexS0 >= 0) {\n        s0 = getS0(indexS0);\n      }\n      if (indexS1 >= 0) {\n        s1 = getS1(indexS1);\n      }\n\n      if (s0 == 1.0) {\n        setOutputAtIndex(index, s1);\n      } else if (s1 == 1.0) {\n        setOutputAtIndex(index, s0);\n      } else if (s0 != s1) {\n        setOutputAtIndex(index, uniforms.NAN);\n      } else {\n        setOutputAtIndex(index, s0);\n      }\n    }\n  }\n  `}}const ute={kernelName:VW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t;if(n.shouldExecuteOnCPU([r,o])){const e=n.tensorMap.get(r.dataId),t=n.tensorMap.get(o.dataId),i=e.values,a=t.values,s=jY(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const i=$U(r.shape),a=$U(o.shape),s=Math.max(i,a),l=new lte(s),u=[{type:"int32",data:[i]},{type:"int32",data:[a]}];return n.runWebGPUProgram(l,[r,o],"int32",u)}},cte=t7({opType:o6.NOT_EQUAL,dtype:"bool",cpuKernelImpl:H9}),dte={kernelName:cH,backendName:"webgpu",kernelFunc:cte};function pte(e){const{inputs:t,backend:n}=e,{input:r}=t;return K8({inputs:{x:n.tensorMap.get(r.dataId).complexTensorInfos.real},backend:n})}const hte={kernelName:kH,backendName:"webgpu",kernelFunc:pte};const fte={kernelName:zW,backendName:"webgpu",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:i}=n,{dtype:a}=o;if("complex64"===a){if("complex64"===i.dtype)return K8({inputs:{x:i},backend:r});const t=QZ(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),o=Q8({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeData(n.dataId),o}if("complex64"===i.dtype){const t=pte({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:a}});return r.disposeData(t.dataId),n}if(!KU(i.dtype,a)){const e=K8({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(r.shouldExecuteOnCPU([i])){const e=r.tensorMap.get(i.dataId).values,[t,n,o]=E9(e,i.shape,i.dtype,a);return r.makeTensorInfo(t,n,o)}if("int32"===a)return function(e,t){const n=new Z8(e.shape,D6.TO_INT),r=t.runWebGPUProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===a){const e=r.makeTensorInfo([],"bool",GU("bool",1)),t=cte({inputs:{a:i,b:e},backend:r});return r.disposeData(e.dataId),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${a}`)}},mte=e7({opType:D6.CEIL,cpuKernelImpl:T9}),gte={kernelName:UW,backendName:"webgpu",kernelFunc:mte};class yte{constructor(e){this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workPerThread=4,this.workgroupSize=[64,1,1],this.outputComponent=4,this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.shaderKey="clipVec4"}getUserCode(){return`\n      ${j5("index")} {\n        if(index < uniforms.size) {\n          let value = getAByOutputIndex(index);\n          var clampedValue = clamp(\n              value, vec4<f32>(uniforms.minVal), vec4<f32>(uniforms.maxVal));\n          clampedValue = select(clampedValue, value, isnanVec4(value));\n          setOutputAtIndex(index, clampedValue);\n        }\n      }\n    `}}class vte{constructor(e){this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="clip"}getUserCode(){return`\n      ${j5("index")} {\n        if(index < uniforms.size) {\n          let value = getAByOutputIndex(index);\n          if (isnan(value)) {\n            setOutputAtIndex(index, value);\n            return;\n          }\n          setOutputAtIndex(index, clamp(value, uniforms.minVal, uniforms.maxVal));\n        }\n      }\n    `}}const bte={kernelName:WW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:i,clipValueMax:a}=r;let s;const l=[{type:"float32",data:[i]},{type:"float32",data:[a]}];return s=$U(o.shape)%4===0?new yte(o.shape):new vte(o.shape),n.runWebGPUProgram(s,[o],o.dtype,l)}};class xte{constructor(e){this.outputShape=[],this.variableNames=["real","imag"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="complexAbs"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let re = abs(getRealByOutputIndex(index));\n        let im = abs(getImagByOutputIndex(index));\n        let mx = max(re, im);\n\n        // The length function in wgsl may be not underflow-safe on some GPUs.\n        // So the safe solution is to ensure underflow-safety in all cases.\n        setOutputAtIndex(index, select(mx * length(vec2<f32>(1, min(re, im)/mx)), 0.0, mx == 0.0));\n      }\n    }\n  `}}function wte(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const Ate={kernelName:HW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.tensorMap.get(r.dataId),i=new xte(r.shape),a=[wte(r,o.complexTensorInfos.real),wte(r,o.complexTensorInfos.imag)];return n.runWebGPUProgram(i,a,a[0].dtype)}};class Ste{constructor(e){this.uniforms="",this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=Z2(e,1),this.variableNames=e.map(((e,t)=>`T${t}`)),this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.offsetLength=e.length-1;for(let t=0;t<this.offsetLength;t++)this.uniforms+=`offset${t} : i32,`;this.shaderKey="concat"}getUserCode(){const e=[];if(this.offsetLength>0){e.push("if (yC < uniforms.offset0){ setOutputAtCoords(coords.x, coords.y, getT0(yR, yC)); }");for(let r=1;r<this.offsetLength;r++)e.push(`else if (yC < uniforms.offset${[r]}){ setOutputAtCoords(coords.x, coords.y, getT${r}(yR, yC - uniforms.offset${r-1})); }`);const t=this.offsetLength,n=this.offsetLength-1;e.push(`else { setOutputAtCoords(coords.x, coords.y, getT${t}(yR, yC - uniforms.offset${n})); }`)}else e.push("setOutputAtCoords(coords.x, coords.y, getT0(yR, yC));");return`\n      ${j5("index")} {\n        for(var i = 0; i < ${this.workPerThread}; i = i + 1) {\n          let flatIndex = index * ${this.workPerThread} + i;\n          if(flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndex);\n            let yR = coords.x;\n            let yC = coords.y;\n\n            ${e.join("\n        ")}\n          }\n        }\n      }\n    `}}function Cte(e){const{inputs:t,backend:n}=e,{input:r}=t;return K8({inputs:{x:n.tensorMap.get(r.dataId).complexTensorInfos.imag},backend:n})}const kte={kernelName:Mq,backendName:"webgpu",kernelFunc:Cte};function Ete(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>pte({inputs:{input:e},backend:n}))),o=e.map((e=>Cte({inputs:{input:e},backend:n}))),i=Ete(r,t,n),a=Ete(o,t,n),s=Q8({inputs:{real:i,imag:a},backend:n});return r.forEach((e=>n.disposeData(e.dataId))),o.forEach((e=>n.disposeData(e.dataId))),n.disposeData(i.dataId),n.disposeData(a.dataId),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=$U(e.shape.slice(t));return U8({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=Z2(o.map((e=>e.shape)),1),s=1===o[0].shape[0],l=I9(i,a,r,s),u=Z2(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return o.forEach((e=>n.disposeData(e.dataId))),c}const i=n.device.limits.maxStorageBuffersPerShaderStage-1;if(e.length>i){const r=[];for(let a=0;a<e.length;a+=i){const o=e.slice(a,a+i);r.push(Ete(o,t,n))}const o=Ete(r,t,n);for(const e of r)n.disposeData(e.dataId);return o}const{tensors2D:a,outShape:s}=function(e,t,n){const r=Z2(e.map((e=>e.shape)),t),o=e.map((e=>U8({inputs:{x:e},backend:n,attrs:{shape:[$U(e.shape.slice(0,t)),$U(e.shape.slice(t))]}})));return{tensors2D:o,outShape:r}}(e,t,n),l=a.map((e=>e.shape)),u=new Ste(l),c=[],d=new Array(l.length-1);if(d.length>0){d[0]=l[0][1],c.push({type:"int32",data:[d[0]]});for(let e=1;e<d.length;e++)d[e]=d[e-1]+l[e][1],c.push({type:"int32",data:[d[e]]})}const p=n.runWebGPUProgram(u,a,a[0].dtype,c);a.forEach((e=>n.disposeData(e.dataId)));const h=U8({inputs:{x:p},backend:n,attrs:{shape:s}});return n.disposeData(p.dataId),h}function Tte(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=qU(o,t[0].shape)[0];J2(t.map((e=>e.shape)),i);const a=Z2(t.map((e=>e.shape)),i);if(0===$U(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>$U(e.shape)>0));return 1===s.length?K8({inputs:{x:s[0]},backend:n}):Ete(s,i,n)}const Ite={kernelName:GW,backendName:"webgpu",kernelFunc:Tte};class Ote{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, dilations : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=e.outShape,this.isChannelsLast="channelsLast"===e.dataFormat,this.isVec4=((e.inChannels%4===0||e.inChannels%3===0)&&this.isChannelsLast||e.outWidth%4===0&&!this.isChannelsLast)&&e.outChannels%4===0,this.dispatchLayout=this.isChannelsLast?{x:[3],y:[1,2],z:[0]}:{x:[2,3],y:[1],z:[0]},this.workgroupSize=K5(this.dispatchLayout,this.outputShape,this.isVec4),this.elementsPerThread=Y5(this.dispatchLayout,this.outputShape,this.isVec4),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread),this.isVec4?(this.outputComponent=4,this.isChannelsLast&&e.inChannels%4!==0?(this.innerElementSize=3,this.variableComponents=[1,4]):(this.innerElementSize=4,this.variableComponents=[4,4]),o&&(this.variableNames.push("bias"),this.variableComponents.push(4)),a&&(this.variableNames.push("preluActivationWeights"),this.variableComponents.push(4))):(this.innerElementSize=this.elementsPerThread[0],o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights")),this.sequentialAccessByThreads=s,this.addBias=o,this.activation=i,this.hasPreluActivationWeights=a,this.tileAOuter=this.workgroupSize[1]*this.elementsPerThread[1],this.tileBOuter=this.workgroupSize[0]*this.elementsPerThread[0],this.tileInner=Math.max(this.workgroupSize[0]*this.innerElementSize,this.workgroupSize[1]),this.fitAOuter=t%this.tileAOuter===0,this.fitBOuter=n%this.tileBOuter===0,this.fitInner=r%this.tileInner===0,this.shaderKey=`conv2DMM_${this.elementsPerThread}_${this.activation}}_${this.fitAOuter}_${this.fitBOuter}_${this.fitInner}_${this.isVec4}_${this.innerElementSize}_${this.isChannelsLast}_${this.sequentialAccessByThreads}`}getUserCode(){const e=this.isVec4?_8(this.elementsPerThread,this.workgroupSize,!this.isChannelsLast,this.tileInner):M8(this.elementsPerThread,this.workgroupSize,!this.isChannelsLast,this.tileInner,!1,null,this.sequentialAccessByThreads),t=this.isVec4?[this.innerElementSize,4,4]:[1,1,1],n=`\n    ${function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:4,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:4,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:4;const c=e?"\n      let coord = vec4<i32>(batch, xRow, xCol, xCh);\n      ":"\n      let coord = vec4<i32>(batch, xCh, xRow, xCol);\n      ",d=e?"\n      let coords = vec4<i32>(\n        batch,\n        row / outWidth,\n        row % outWidth,\n        col);\n      ":"\n      let coords = vec4<i32>(\n        batch,\n        row,\n        col / outWidth,\n        col % outWidth);\n      ",p=e?"uniforms.xShape[1]":"uniforms.xShape[2]",h=e?"uniforms.xShape[2]":"uniforms.xShape[3]",f=e?"row":"col",m=e?"col":"row",g=`\n      let inChannels = uniforms.wShape[2];\n      let outWidth = ${e?"uniforms.outShape[2]":"uniforms.outShape[3]"};\n      let outRow = ${f} / outWidth;\n      let outCol = ${f} % outWidth;\n\n      let WRow = ${m} / (uniforms.filterDims[1] * inChannels);\n      let WCol = ${m} / inChannels % uniforms.filterDims[1];\n      let xRow = outRow * uniforms.strides[0] + uniforms.dilations[0] * WRow - uniforms.pads[0];\n      let xCol = outCol * uniforms.strides[1] + uniforms.dilations[1] * WCol - uniforms.pads[1];\n      let xCh = ${m} % inChannels;\n      var resData = ${D5(s)}(0.0);\n      // The bounds checking is always needed since we use it to pad zero for\n      // the 'same' padding type.\n      if (xRow >= 0 && xRow < ${p} && xCol >= 0 && xCol < ${h}) {\n        ${c}\n        let xIndex = getIndexFromCoords4D(coord, uniforms.xShape);\n        ${(e=>{switch(e){case 1:return"resData = f32(x[xIndex]);";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = vec4<f32>(x[xIndex / 4]);";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(s)}\n      }\n      return resData;`,y=e?t&&r?`\n      ${g}`:`\n      if (row < uniforms.dimAOuter && col < uniforms.dimInner) {\n        ${g}\n      }\n      return ${D5(s)}(0.0);`:r&&n?`\n      ${g}`:`\n      if (row < uniforms.dimInner && col < uniforms.dimBOuter) {\n        ${g}\n      }\n      return ${D5(s)}(0.0);`,v=`${(e=>{switch(e){case 1:return"return f32(W[row * uniforms.wShape[3] + col]);";case 4:return"return vec4<f32>(W[(row * uniforms.wShape[3] + col) / 4]);";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(l)}`,b=D5(u),x=D5(e?s:l),w=D5(e?l:s);return`\n      ${I8(i,a,4===u,4)}\n      fn mm_readA(batch: i32, row : i32, col : i32) -> ${x} {\n        ${e?y:v}\n      }\n\n      fn mm_readB(batch: i32, row : i32, col : i32) -> ${w} {\n        ${e?v:y}\n      }\n\n      fn mm_write(batch: i32, row : i32, col : i32, valueIn : ${b}) {\n        if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)\n        {\n        var value = valueIn;\n        let outWidth = ${e?"uniforms.outShape[2]":"uniforms.outShape[3]"};\n        ${d}\n        ${O8(o,i)}\n        setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n        }\n      }`}(this.isChannelsLast,this.fitAOuter,this.fitBOuter,this.fitInner,this.addBias,this.activation,this.hasPreluActivationWeights,t[0],t[1],t[2])}\n    ${e}\n  `;return n}}class Rte{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["x","W"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>,",this.workgroupSize=[4,4,8],this.outputShape=e.outShape,this.isChannelsLast="channelsLast"===e.dataFormat,this.dispatchLayout=this.isChannelsLast?{x:[2],y:[1],z:[0,3]}:{x:[3],y:[2],z:[0,1]},this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.addBias=t,this.activation=n,this.hasPreluActivationWeights=r,t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.shaderKey=`conv2dnaive_${this.activation}_${this.isChannelsLast}`}getUserCode(){return`\n       ${I8(this.activation,this.hasPreluActivationWeights,!1,4)}\n       fn readInp(batch : i32, row : i32, col : i32, chan : i32) -> f32{\n         let coords = vec4<i32>(batch, row, col, chan);\n         if (coordsInBounds4D(coords, uniforms.xShape)) {\n           return  getX(batch, row, col, chan);\n         } else {\n          return 0.0;\n         }\n       }\n       fn readFilt(row : i32, col : i32, xChannel : i32, outChannel : i32) -> f32{\n         let coords = vec4<i32>(row, col, xChannel, outChannel);\n         if(coordsInBounds4D(coords, uniforms.wShape)) {\n           return getW(row, col, xChannel, outChannel);\n          } else {\n            return 0.0;\n          }\n       }\n       fn writeResult(batch : i32, row : i32, col : i32, chan : i32, valueIn : f32) {\n         let coords = ${this.isChannelsLast?"vec4<i32>(batch, row, col, chan);":"vec4<i32>(batch, chan, row, col);"}\n         if (coordsInBounds4D(coords, uniforms.outShape)) {\n           var value = valueIn;\n           ${O8(this.addBias,this.activation)}\n           setOutputAtCoords(coords.x, coords.y, coords.z, coords.w, value);\n         }\n       }\n       ${j5("index")} {\n         let coords = getOutputCoords();\n         let batch = coords[0];\n         let outChannel = ${this.isChannelsLast?"coords[3];":"coords[1];"}\n         let outRow = ${this.isChannelsLast?"coords[1];":"coords[2];"}\n         let outCol = ${this.isChannelsLast?"coords[2];":"coords[3];"}\n         var acc : f32 = 0.0;\n         for (var row = 0; row < uniforms.filterDims[0]; row = row + 1) {\n           for (var col = 0; col < uniforms.filterDims[1]; col = col + 1) {\n             let xRow = outRow * uniforms.strides[0] + uniforms.dilations[0] * row - uniforms.pads[0];\n             let xCol = outCol * uniforms.strides[1] + uniforms.dilations[1] * col - uniforms.pads[1];\n             for (var xChannel = 0; xChannel < ${this.isChannelsLast?"uniforms.xShape[3];":"uniforms.xShape[1];"} xChannel = xChannel + 1) {\n               ${this.isChannelsLast?"let v = readInp(batch, xRow, xCol, xChannel);":"let v = readInp(batch, xChannel, xRow, xCol);"}\n               let f = readFilt(row, col, xChannel, outChannel);\n               acc = acc + v * f;\n             }\n           }\n         }\n         writeResult(batch, outRow, outCol, outChannel, acc);\n       }\n     `}}class Nte{constructor(e,t){this.variableNames=["x"],this.uniforms="pads : vec2<i32>, strides : vec2<i32>, dilations : vec2<i32>, outWidth : i32, itemsPerBlockRow : i32,\n       inChannels : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast=t,this.shaderKey=`im2col_${this.isChannelsLast}`}getUserCode(){const e=this.isChannelsLast?1:2,t=this.isChannelsLast?2:3,n=this.isChannelsLast?"coords[1]":"coords[2]",r=this.isChannelsLast?"coords[2]":"coords[1]",o=this.isChannelsLast?"getX(batch, xRow, xCol, ch)":"getX(batch, ch, xRow, xCol)";return`\n    ${j5("index")} {\n      let coords = getCoordsFromIndex(index);\n      if(index < uniforms.size) {\n        let batch = coords[0];\n        let row = ${n};\n        let col = ${r};\n        let offsetY = (row / uniforms.outWidth) * uniforms.strides[0] - uniforms.pads[0];\n        let xRow = offsetY + uniforms.dilations[0] * (col / uniforms.itemsPerBlockRow);\n        var value = 0.0;\n        if(xRow < uniforms.xShape[${e}] && xRow >= 0) {\n          let offsetX = (row % uniforms.outWidth) * uniforms.strides[1] -\n              uniforms.pads[1];\n          let xCol = offsetX + uniforms.dilations[1] * ((col %\n              uniforms.itemsPerBlockRow) / uniforms.inChannels);\n          let ch = col % uniforms.inChannels;\n          if(xCol < uniforms.xShape[${t}] && xCol >= 0) {\n            value = ${o};\n          }\n        }\n        setOutputAtIndex(index, value);\n      }\n    }\n   `}}function _te(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function Pte(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}=e;const u=null!=i,c=null!=a,d="channelsLast"===r.dataFormat,p=d&&r.filterHeight===r.inHeight&&r.filterWidth===r.inWidth&&"VALID"===r.padInfo.type,h=fW().getBool("WEBGPU_USE_NAIVE_CONV2D_DEBUG");if(!h&&(p||1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type)))return function(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}=e;const u="channelsLast"===r.dataFormat,c=!u,d=[];let p,h;if(u&&r.filterHeight===r.inHeight&&r.filterWidth===r.inWidth&&"VALID"===r.padInfo.type){const e=r.inHeight*r.inWidth*r.inChannels;p=U8({inputs:{x:t},backend:o,attrs:{shape:[1,r.batchSize,e]}}),h=U8({inputs:{x:n},backend:o,attrs:{shape:[1,e,r.outChannels]}})}else p=U8({inputs:{x:t},backend:o,attrs:{shape:u?[r.batchSize,r.inHeight*r.inWidth,r.inChannels]:[r.batchSize,r.inChannels,r.inHeight*r.inWidth]}}),h=U8({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}});if(d.push(p),d.push(h),null!=a){const e=_te(a.shape,u);null!=e&&(a=U8({inputs:{x:a},backend:o,attrs:{shape:e}}),d.push(a))}if(null!=i){const e=_te(i.shape,u);null!=e&&(i=U8({inputs:{x:i},backend:o,attrs:{shape:e}}),d.push(i))}const f=q8({a:u?p:h,b:u?h:p,transposeA:c,transposeB:!1,backend:o,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:s}),m=U8({inputs:{x:f},backend:o,attrs:{shape:r.outShape}});d.push(f);for(const g of d)o.disposeData(g.dataId);return m}({x:t,filter:n,convInfo:r,backend:o,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:s});const f=fW().getNumber("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL"),m=f>-1?f:o.thresholdToIncreaseWorkgroups,g=r.batchSize*Math.ceil(r.outHeight*r.outWidth/32)*Math.ceil(r.outChannels/32);if(fW().getBool("WEBGPU_CONV_SEPARATE_IM2COL_SHADER")||g<=m)return function(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}=e;const{filterWidth:u,filterHeight:c,inChannels:d,strideWidth:p,strideHeight:h,padInfo:f,outWidth:m,outHeight:g,dilationWidth:y,dilationHeight:v,dataFormat:b}=r,x="channelsLast"===b,w=u*c*d,A=g*m,S=x?[r.batchSize,A,w]:[r.batchSize,w,A],C=new Nte(S,x),k=[{type:"int32",data:[f.top,f.left]},{type:"int32",data:[h,p]},{type:"int32",data:[v,y]},{type:"int32",data:[m]},{type:"int32",data:[d*u]},{type:"int32",data:[d]}],E=o.runWebGPUProgram(C,[t],t.dtype,k),T=[];T.push(E);const I=U8({inputs:{x:n},backend:o,attrs:{shape:[1,w,-1]}});if(T.push(I),null!=a){const e=_te(a.shape,x);null!=e&&(a=U8({inputs:{x:a},backend:o,attrs:{shape:e}}),T.push(a))}if(null!=i){const e=_te(i.shape,x);null!=e&&(i=U8({inputs:{x:i},backend:o,attrs:{shape:e}}),T.push(i))}const O=q8({a:x?E:I,b:x?I:E,transposeA:!x,transposeB:!1,backend:o,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:s}),R=U8({inputs:{x:O},backend:o,attrs:{shape:r.outShape}});T.push(O);for(const N of T)o.disposeData(N.dataId);return R}({x:t,filter:n,convInfo:r,backend:o,bias:i,preluActivationWeights:a,leakyreluAlpha:s,activation:l});let y;const v=[r.padInfo.top,r.padInfo.left],b=[{type:"int32",data:[r.filterHeight,r.filterWidth]},{type:"int32",data:[...v]},{type:"int32",data:[r.strideHeight,r.strideWidth]},{type:"int32",data:[r.dilationHeight,r.dilationWidth]}];if(h)y=new Rte(r,u,l,c);else{const e=d?r.outHeight*r.outWidth:r.outChannels,t=d?r.outChannels:r.outHeight*r.outWidth,n=r.filterHeight*r.filterWidth*r.inChannels;b.push({type:"int32",data:[e]},{type:"int32",data:[t]},{type:"int32",data:[n]});const i=o.adapterInfo.isIntel();y=new Ote(r,e,t,n,u,l,c,i)}const x=[],w=[t,n];u&&(d||1!==i.shape.length||(i=U8({inputs:{x:i},backend:o,attrs:{shape:[i.shape[0],1,1]}}),x.push(i)),w.push(i)),c&&(d||1!==a.shape.length||(a=U8({inputs:{x:a},backend:o,attrs:{shape:[a.shape[0],1,1]}}),x.push(a)),w.push(a)),"leakyrelu"===l&&(b.push({type:"float32",data:[s]}),y.uniforms+=" alpha : f32,");const A=o.runWebGPUProgram(y,w,t.dtype,b);for(const S of x)o.disposeData(S.dataId);return A}const Mte={kernelName:XW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=n,d=iJ(l);return Pte({x:o,filter:i,convInfo:KQ(o.shape,i.shape,a,u,s,c,!1,d),backend:r})}};class Dte{constructor(e){this.variableNames=["dy","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, outBackprop : vec4<i32>,",this.workgroupSize=[64,1,1],this.size=!1,this.isVec4=!1,this.workPerThread=1,this.outputShape=e.inShape,this.isChannelsLast="channelsLast"===e.dataFormat,this.isVec4=this.isChannelsLast&&e.outChannels%4===0&&e.inChannels%4===0,this.isVec4?(this.workPerThread=2,this.outputComponent=4,this.workgroupSize=[4,4,4],this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[4,this.workPerThread,1])):(this.size=!0,this.workPerThread=1,this.workgroupSize=[64,1,1],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize)),this.shaderKey=`conv2DDerInput_${this.isChannelsLast}_${this.isVec4}_${this.workPerThread}`}getUserCode(){const e=this.isChannelsLast?1:2,t=this.isChannelsLast?2:3,n=this.isChannelsLast?3:1,r=`\n    ${j5()} {\n      let batch = i32(globalId.z) / uniforms.outShape[1];\n      let r = i32(globalId.z) % uniforms.outShape[1];\n      let c = i32(globalId.y) * ${this.workPerThread};\n      let d1 = i32(globalId.x) * 4;\n\n      let dyCorner = vec2<i32>(r, c) - uniforms.pads;\n\n      // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n      // ? = to be determined. : = across all values in that axis.\n      var dotProd: array<vec4<f32>, ${this.workPerThread}>;\n      for (var i = 0; i < ${this.workPerThread}; i++) {\n        dotProd[i] = vec4<f32>(0.0);\n      }\n      for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + 1) {\n        let dyR = f32(dyCorner.x + wR) / f32(uniforms.strides.x);\n        let wRPerm = uniforms.filterDims.x - 1 - wR;\n        if (dyR < 0.0 || dyR >= f32(uniforms.outBackprop[1]) ||\n            fract(dyR) > 0.0) {\n          continue;\n        }\n        let idyR = i32(dyR);\n\n        for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + 1) {\n          let dyC = f32(dyCorner.y + wC) / f32(uniforms.strides.y);\n          let dyC2 = f32(dyCorner.y + 1 + wC) / f32(uniforms.strides.y);\n          let wCPerm = uniforms.filterDims.y - 1 - wC;\n          var bDyCVal = true;\n          var bDyCVal2 = true;\n          if (dyC < 0.0 || dyC >= f32(uniforms.outBackprop[2]) ||\n              fract(dyC) > 0.0) {\n            bDyCVal = false;\n          }\n          if (dyC2 < 0.0 || dyC2 >= f32(uniforms.outBackprop[2]) ||\n              fract(dyC2) > 0.0) {\n            bDyCVal2 = false;\n          }\n\n          let idyC = i32(dyC);\n          let idyC2 = i32(dyC2);\n          if (bDyCVal && bDyCVal2) {\n            let d2Length = uniforms.outBackprop[3];\n            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {\n              let wValue0 = getW(wRPerm, wCPerm, d1, d2);\n              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);\n              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);\n              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);\n              var xValue =  getDy(batch, idyR, idyC, d2);\n              let tmpval = vec4<f32>(dot(xValue, wValue0),\n                                     dot(xValue, wValue1),\n                                     dot(xValue, wValue2),\n                                     dot(xValue, wValue3));\n              dotProd[0] = dotProd[0] + tmpval;\n              xValue = getDy(batch, idyR, idyC2, d2);\n              dotProd[1] = dotProd[1] + vec4<f32>(dot(xValue, wValue0),\n                                                  dot(xValue, wValue1),\n                                                  dot(xValue, wValue2),\n                                                  dot(xValue, wValue3));\n            }\n          } else if (bDyCVal) {\n            let d2Length = uniforms.outBackprop[3];\n            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {\n              let wValue0 = getW(wRPerm, wCPerm, d1, d2);\n              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);\n              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);\n              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);\n              var xValue =  getDy(batch, idyR, idyC, d2);\n              let tmpval = vec4<f32>(dot(xValue, wValue0),\n                                     dot(xValue, wValue1),\n                                     dot(xValue, wValue2),\n                                     dot(xValue, wValue3));\n              dotProd[0] = dotProd[0] + tmpval;\n            }\n          } else if (bDyCVal2) {\n            let d2Length = uniforms.outBackprop[3];\n            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {\n              let wValue0 = getW(wRPerm, wCPerm, d1, d2);\n              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);\n              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);\n              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);\n              var xValue =  getDy(batch, idyR, idyC2, d2);\n              let tmpval = vec4<f32>(dot(xValue, wValue0),\n                                     dot(xValue, wValue1),\n                                     dot(xValue, wValue2),\n                                     dot(xValue, wValue3));\n              dotProd[1] = dotProd[1] + tmpval;\n            }\n          }\n        }\n      }\n\n      for (var i = 0; i < ${this.workPerThread}; i = i + 1) {\n        let coords = vec4<i32>(batch, r, c + i, d1);\n        if (coordsInBounds4D(coords, uniforms.outShape)) {\n          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], dotProd[i]);\n        }\n      }\n    }\n    `;return this.isVec4?`\n    ${r}\n    `:`\n    ${j5("index")} {\n      if(index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords[0];\n        let d1 = coords[${n}];\n\n        let dyCorner = vec2<i32>(coords[${e}], coords[${t}]) - uniforms.pads;\n        let dyRCorner = dyCorner.x;\n        let dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + 1) {\n          let dyR = (f32(dyRCorner) + f32(wR)) / f32(uniforms.strides.x);\n          let wRPerm = uniforms.filterDims.x - 1 - wR;\n          if (dyR < 0.0 || dyR >= f32(uniforms.outBackprop[1]) || fract(dyR) > 0.0 ||\n              wRPerm < 0) {\n            continue;\n          }\n          let idyR = i32(dyR);\n\n          for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + 1) {\n            let dyC = (f32(dyCCorner) + f32(wC)) / f32(uniforms.strides.y);\n            let wCPerm = uniforms.filterDims.y - 1 - wC;\n            if (dyC < 0.0 || dyC >= f32(uniforms.outBackprop[2]) ||\n                fract(dyC) > 0.0 || wCPerm < 0) {\n              continue;\n            }\n            let idyC = i32(dyC);\n\n            for (var d2 = 0; d2 < uniforms.outBackprop[3]; d2 = d2 + 1) {\n              let xValue = ${this.isChannelsLast?"getDy(batch, idyR, idyC, d2)":"getDy(batch, d2, idyR, idyC)"};\n              let wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd = dotProd + xValue * wValue;\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n  `}}class Lte{constructor(e){this.variableNames=["x","dy"],this.uniforms="pads : vec2<i32>, strides : vec2<i32>, batchSize : i32, outHeight : i32, outWidth : i32, inHeight : i32, inWidth : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast="channelsLast"===e.dataFormat,this.shaderKey=`conv2DDerFilter_${this.isChannelsLast}`}getUserCode(){return`\n    ${j5("index")} {\n      if(index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let wR = coords[0];\n        let wC = coords[1];\n        let d1 = coords[2];\n        let d2 = coords[3];\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        for (var b = 0; b < uniforms.batchSize; b = b + 1) {\n          for (var yR = 0; yR < uniforms.outHeight; yR = yR + 1) {\n            let xR = wR + yR * uniforms.strides[0] - uniforms.pads[0];\n            if (xR < 0 || xR >= uniforms.inHeight) {\n              continue;\n            }\n\n            for (var yC = 0; yC < uniforms.outWidth; yC = yC + 1) {\n              let xC = wC + yC * uniforms.strides[1] - uniforms.pads[1];\n\n              if (xC < 0 || xC >= uniforms.inWidth) {\n                continue;\n              }\n\n              if (${this.isChannelsLast}) {\n                let dyValue = getDy(b, yR, yC, d2);\n                let xValue = getX(b, xR, xC, d1);\n                dotProd = dotProd + xValue * dyValue;\n              } else {\n                let dyValue = getDy(b, d2, yR, yC);\n                let xValue = getX(b, d1, xR, xC);\n                dotProd = dotProd + xValue * dyValue;\n              }\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n  `}}class $te{constructor(e){this.variableNames=["x","dy"],this.uniforms="pads : vec3<i32>, strides : vec3<i32>, batchSize : i32, outDepth : i32,\n       outHeight : i32, outWidth : i32, inDepth : i32, inHeight : i32, inWidth : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3DDerFilter"}getUserCode(){return`\n    ${j5("index")} {\n      if(index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let wF = coords.x;\n        let wR = coords.y;\n        let wC = coords.z;\n        let d1 = coords.w;\n        let d2 = coords.u;\n\n        var dotProd = 0.0;\n        for (var b = 0; b < uniforms.batchSize; b++) {\n          for (var yF = 0; yF < uniforms.outDepth; yF++) {\n            let xF = wF + yF * uniforms.strides[0] - uniforms.pads[0];\n            if (xF < 0 || xF >= uniforms.inDepth) {\n              continue;\n            }\n\n            for (var yR = 0; yR < uniforms.outHeight; yR++) {\n              let xR = wR + yR * uniforms.strides[1] - uniforms.pads[1];\n              if (xR < 0 || xR >= uniforms.inHeight) {\n                continue;\n              }\n\n              for (var yC = 0; yC < uniforms.outWidth; yC++) {\n                let xC = wC + yC * uniforms.strides[2] - uniforms.pads[2];\n                if (xC < 0 || xC >= uniforms.inWidth) {\n                  continue;\n                }\n\n                let dyValue = getDy(b, yF, yR, yC, d2);\n                let xValue = getX(b, xF, xR, xC, d1);\n                dotProd += xValue * dyValue;\n              }\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n  `}}class jte{constructor(e){this.variableNames=["dy","W"],this.uniforms="filterDims : vec3<i32>, pads : vec3<i32>, strides : vec3<i32>,\n      outDepth : i32, outHeight : i32, outWidth : i32, outChannels : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3DDerInput"}getUserCode(){return`\n    ${j5("index")} {\n      if(index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords.x;\n        let d1 = coords.u;\n\n        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;\n        let dyFCorner = dyCorner.x;\n        let dyRCorner = dyCorner.y;\n        let dyCCorner = dyCorner.z;\n\n        var dotProd = 0.0;\n        for (var wF = 0; wF < uniforms.filterDims[0]; wF++) {\n          let dyF = f32(dyFCorner + wF) / f32(uniforms.strides[0]);\n          if (dyF < 0.0 || dyF >= f32(uniforms.outDepth) || fract(dyF) > 0.0) {\n            continue;\n          }\n          let idyF = i32(dyF);\n\n          let wFPerm = uniforms.filterDims[0] - 1 - wF;\n\n          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {\n            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);\n\n            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n              continue;\n            }\n            let idyR = i32(dyR);\n\n            let wRPerm = uniforms.filterDims[1] - 1 - wR;\n\n            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {\n              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);\n\n              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n                continue;\n              }\n              let idyC = i32(dyC);\n\n              let wCPerm = uniforms.filterDims[2] - 1 - wC;\n\n              for (var d2 = 0; d2 < uniforms.outChannels; d2++) {\n                let xValue = getDy(batch, idyF, idyR, idyC, d2);\n                let wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n  `}}const Fte={kernelName:KW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=iJ(l),p=KQ(o.shape,c,a,1,s,u,!1,d),h=new Lte(p),f=[{type:"int32",data:[p.padInfo.top,p.padInfo.left]},{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.batchSize]},{type:"int32",data:[p.outHeight]},{type:"int32",data:[p.outWidth]},{type:"int32",data:[p.inHeight]},{type:"int32",data:[p.inWidth]}];return n.runWebGPUProgram(h,[o,i],o.dtype,f)}};class Bte{constructor(e){this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, outBackprop : vec4<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=e.inShape,MU("channelsLast"===e.dataFormat,(()=>"TODO: NCHW is unimplemented")),this.isVec4=e.inChannels%4===0&&e.outChannels%4===0,this.dispatchLayout={x:[3],y:[1,2],z:[0]},this.workgroupSize=K5(this.dispatchLayout,this.outputShape,this.isVec4),this.elementsPerThread=Y5(this.dispatchLayout,this.outputShape,this.isVec4),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread),this.isVec4&&(this.outputComponent=4,this.variableComponents=[4,1]),this.shaderKey=`conv2DDerInputMM_${this.isVec4}_${this.elementsPerThread}`}getUserCode(){const e=this.isVec4?_8(this.elementsPerThread,this.workgroupSize):M8(this.elementsPerThread,this.workgroupSize),t=`\n    ${function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const t=`if (row < uniforms.dimAOuter && col < uniforms.dimInner) {\n        \n      let outRow = row / uniforms.outShape[2];\n      let outCol = row % uniforms.outShape[2];\n\n      let WRow = col / (uniforms.filterDims[1] * uniforms.outBackprop[3]);\n      let WCol = col / uniforms.outBackprop[3] % uniforms.filterDims[1];\n      let xR = f32(outRow - uniforms.pads[0] + WRow) / f32(uniforms.strides[0]);\n      let xC = f32(outCol - uniforms.pads[1] + WCol) / f32(uniforms.strides[1]);\n      if (xR < 0.0 || xR >= f32(uniforms.outBackprop[1]) || fract(xR) > 0.0) {\n        return ${D5(e)}(0.0);\n      }\n      if (xC < 0.0 || xC >= f32(uniforms.outBackprop[2]) || fract(xC) > 0.0) {\n        return ${D5(e)}(0.0);\n      }\n      let coord = vec4<i32>(\n          batch,\n          i32(xR),\n          i32(xC),\n          col % uniforms.outBackprop[3]);\n      return x[getIndexFromCoords4D(coord, uniforms.xShape)/${e}];\n      }\n      return ${D5(e)}(0.0);`;return`\n  fn mm_readA(batch: i32, row : i32, col : i32) -> ${D5(e)} {\n    ${t}\n  }\n\n  fn mm_readB(batch: i32, row : i32, col : i32) -> ${D5(e)} {\n    let coordX = uniforms.filterDims.x - 1 -\n        row / (uniforms.filterDims[1] * uniforms.outBackprop[3]);\n    let coordY = uniforms.filterDims.y - 1 -\n        (row / uniforms.outBackprop[3]) % uniforms.filterDims[1];\n    if (row < uniforms.dimInner && col < uniforms.dimBOuter &&\n        coordX >= 0 && coordY >= 0) {\n      let rowInner = row % uniforms.outBackprop[3];\n      let coord = vec4<i32>(coordX, coordY, col, rowInner);\n      ${(e=>{switch(e){case 1:return"return W[getIndexFromCoords4D(coord, uniforms.wShape)];";case 4:return"\n            let coord1 = vec4<i32>(coordX, coordY, col + 1, rowInner);\n            let coord2 = vec4<i32>(coordX, coordY, col + 2, rowInner);\n            let coord3 = vec4<i32>(coordX, coordY, col + 3, rowInner);\n            let v0 = W[getIndexFromCoords4D(coord, uniforms.wShape)];\n            let v1 = W[getIndexFromCoords4D(coord1, uniforms.wShape)];\n            let v2 = W[getIndexFromCoords4D(coord2, uniforms.wShape)];\n            let v3 = W[getIndexFromCoords4D(coord3, uniforms.wShape)];\n            return vec4<f32>(v0, v1, v2, v3);\n            ";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(e)}\n    }\n    return ${D5(e)}(0.0);\n  }\n\n  fn mm_write(batch: i32, row : i32, col : i32, valueInput : ${D5(e)}) {\n    if (row < uniforms.dimAOuter && col < uniforms.dimBOuter) {\n      var value = valueInput;\n      let outCoord = vec4<i32>(\n          batch,\n          row / uniforms.outShape[2],\n          row % uniforms.outShape[2],\n          col);\n      result[getIndexFromCoords4D(outCoord, uniforms.outShape)/${e}] = value;\n    }\n  }`}(this.isVec4?4:1)}\n    ${e}\n    `;return t}}const Vte={kernelName:YW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=iJ(u),p=KQ(a,i.shape,s,1,l,c,!1,d),h=[{type:"int32",data:[p.filterHeight,p.filterWidth]},{type:"int32",data:[p.filterHeight-1-p.padInfo.top,p.filterWidth-1-p.padInfo.left]},{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.batchSize,p.outHeight,p.outWidth,p.outChannels]}];let f;if(fW().getBool("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE")||"channelsLast"!==p.dataFormat)f=new Dte(p);else{f=new Bte(p);const e=p.inHeight*p.inWidth,t=p.inChannels,n=p.filterHeight*p.filterWidth*p.outChannels;h.push({type:"uint32",data:[e]},{type:"uint32",data:[t]},{type:"uint32",data:[n]})}return n.runWebGPUProgram(f,[o,i],"float32",h)}};class zte{constructor(e){this.variableNames=["x","W"],this.uniforms="filterDims: vec3<i32>, pads: vec3<i32>, strides: vec3<i32>, dilations: vec3<i32>,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3dnaive"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getOutputCoords();\n        let batch = coords.x;\n        let d2 = coords.u;\n\n        let xFRCCorner = vec3<i32>(coords.y, coords.z, coords.w) * uniforms.strides - uniforms.pads;\n        let xFCorner = xFRCCorner.x;\n        let xRCorner = xFRCCorner.y;\n        let xCCorner = xFRCCorner.z;\n\n        let inputDepthNearestVec4 = (uniforms.xShape.u / 4) * 4;\n        let inputDepthVec4Remainder = uniforms.xShape.u % 4;\n\n        var dotProd = 0.0;\n        for (var wF = 0; wF < uniforms.filterDims[0]; wF++) {\n          let xF = xFCorner + wF * uniforms.dilations[0];\n          if (xF < 0 || xF >= uniforms.xShape.y) {\n            continue;\n          }\n\n          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {\n            let xR = xRCorner + wR * uniforms.dilations[1];\n            if (xR < 0 || xR >= uniforms.xShape.z) {\n              continue;\n            }\n\n            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {\n              let xC = xCCorner + wC * uniforms.dilations[2];\n              if (xC < 0 || xC >= uniforms.xShape.w) {\n                continue;\n              }\n\n              for (var d1 = 0; d1 < inputDepthNearestVec4; d1 += 4) {\n                let xValues = vec4<f32>(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                let wValues = vec4<f32>(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (inputDepthVec4Remainder == 1) {\n                dotProd += getX(batch, xF, xR, xC, inputDepthNearestVec4) *\n                  getW(wF, wR, wC, inputDepthNearestVec4, d2);\n              } else if (inputDepthVec4Remainder == 2) {\n                let xValues = vec2<f32>(\n                  getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1)\n                );\n                let wValues = vec2<f32>(\n                  getW(wF, wR, wC, inputDepthNearestVec4, d2),\n                  getW(wF, wR, wC, inputDepthNearestVec4 + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (inputDepthVec4Remainder == 3) {\n                let xValues = vec3<f32>(\n                  getX(batch, xF, xR, xC, inputDepthNearestVec4),\n                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),\n                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2)\n                );\n                let wValues = vec3<f32>(\n                  getW(wF, wR, wC, inputDepthNearestVec4, d2),\n                  getW(wF, wR, wC, inputDepthNearestVec4 + 1, d2),\n                  getW(wF, wR, wC, inputDepthNearestVec4 + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }`}}const Ute={kernelName:QW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=YQ(o.shape,i.shape,a,l,s),c=[u.padInfo.front,u.padInfo.top,u.padInfo.left],d=[{type:"int32",data:[u.filterDepth,u.filterHeight,u.filterWidth]},{type:"int32",data:[...c]},{type:"int32",data:[u.strideDepth,u.strideHeight,u.strideWidth]},{type:"int32",data:[u.dilationDepth,u.dilationHeight,u.dilationWidth]}],p=new zte(u),h=OX(o.dtype,i.dtype);return n.runWebGPUProgram(p,[o,i],h,d)}};const Wte={kernelName:JW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:l}=r,u=YQ(o.shape,l,a,1,s),c=new $te(u),d=[{type:"int32",data:[u.padInfo.front,u.padInfo.top,u.padInfo.left]},{type:"int32",data:[u.strideDepth,u.strideHeight,u.strideWidth]},{type:"int32",data:[u.batchSize]},{type:"int32",data:[u.outDepth]},{type:"int32",data:[u.outHeight]},{type:"int32",data:[u.outWidth]},{type:"int32",data:[u.inDepth]},{type:"int32",data:[u.inHeight]},{type:"int32",data:[u.inWidth]}];return n.runWebGPUProgram(c,[o,i],i.dtype,d)}};const qte={kernelName:ZW,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,pad:s,inputShape:l}=r,u=YQ(l,i.shape,a,1,s),c=new jte(u),d=[{type:"int32",data:[u.filterDepth,u.filterHeight,u.filterWidth]},{type:"int32",data:[u.filterDepth-1-u.padInfo.front,u.filterHeight-1-u.padInfo.top,u.filterWidth-1-u.padInfo.left]},{type:"int32",data:[u.strideDepth,u.strideHeight,u.strideWidth]},{type:"int32",data:[u.outDepth]},{type:"int32",data:[u.outHeight]},{type:"int32",data:[u.outWidth]},{type:"int32",data:[u.outChannels]}];return n.runWebGPUProgram(c,[o,i],o.dtype,d)}},Hte=e7({opType:D6.COS}),Gte={kernelName:eq,backendName:"webgpu",kernelFunc:Hte},Xte=e7({opType:D6.COSH}),Kte={kernelName:tq,backendName:"webgpu",kernelFunc:Xte};class Yte{constructor(e,t,n,r){this.variableNames=["Image","Boxes","BoxInd"],this.uniforms="extrapolationValue : f32,",this.workgroupSize=[64,1,1],this.size=!0;const[o]=t;this.outputShape=[o,n[0],n[1],e],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.methodId="bilinear"===r?1:0,this.cropHeightBiggerThan1=this.outputShape[1]>1,this.cropWidthBiggerThan1=this.outputShape[2]>1,this.shaderKey=`cropAndResize_${this.methodId}_${this.cropHeightBiggerThan1}_${this.cropWidthBiggerThan1}`}getUserCode(){const[e,t]=["f32(uniforms.imageShape[1] - 1)","f32(uniforms.imageShape[2] - 1)"],[n,r,o]=this.cropHeightBiggerThan1?[`(${e} / f32(uniforms.outShape[1] - 1))`,"(y2-y1) * height_ratio",`y1*${e} + f32(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${e}`],[i,a,s]=this.cropWidthBiggerThan1?[`(${t} / f32(uniforms.outShape[2] - 1))`,"(x2-x1) * width_ratio",`x1*${t} + f32(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${t}`];return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let height_ratio = f32(${n});\n        let width_ratio = f32(${i});\n        let b = coords[0];\n        let y = coords[1];\n        let x = coords[2];\n        let d = coords[3];\n        // get box vals\n        let y1 = getBoxes(b, 0);\n        let x1 = getBoxes(b, 1);\n        let y2 = getBoxes(b, 2);\n        let x2 = getBoxes(b, 3);\n        // get image in batch index\n        let bInd = i32(round(getBoxInd(b)));\n        if(bInd < 0 || bInd >= uniforms.outShape[0]) {\n          return;\n        }\n        let height_scale = ${r};\n        let width_scale = ${a};\n        let in_y = ${o};\n        if( in_y < 0.0 || in_y > ${e} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let in_x = ${s};\n        if( in_x < 0.0 || in_x > ${t} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let sourceFracIndexCR = vec2<f32>(in_x,in_y);\n        if(${this.methodId} == 1) {\n          // Compute the four integer indices.\n          let sourceFloorCR = vec2<i32>(sourceFracIndexCR);\n          let sourceCeilCR = vec2<i32>(ceil(sourceFracIndexCR));\n          let topLeft = getImage(bInd, sourceFloorCR.y, sourceFloorCR.x, d);\n          let bottomLeft = getImage(bInd, sourceCeilCR.y, sourceFloorCR.x, d);\n          let topRight = getImage(bInd, sourceFloorCR.y, sourceCeilCR.x, d);\n          let bottomRight = getImage(bInd, sourceCeilCR.y, sourceCeilCR.x, d);\n          let fracCR = sourceFracIndexCR - vec2<f32>(sourceFloorCR);\n          let top = topLeft + (topRight - topLeft) * fracCR.x;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          let newValue = top + (bottom - top) * fracCR.y;\n          setOutputAtIndex(index, newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          let sourceNearestCR = vec2<i32>(floor(\n            sourceFracIndexCR + vec2<f32>(0.5,0.5)));\n          let newValue = getImage(\n            bInd, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    }\n    `}}const Qte={kernelName:oq,backendName:"webgpu",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new Yte(o.shape[3],i.shape,s,l),d=[{type:"float32",data:[u]}];return n.runWebGPUProgram(c,[o,i,a],"float32",d)}};var Jte;!function(e){e.Prod="*",e.Sum="+"}(Jte||(Jte={}));class Zte{constructor(e,t,n,r){this.variableNames=["x"],this.uniforms="index : f32,",this.size=!0,this.workgroupSize=[128,1,1],this.outputShape=t,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.exclusive=n,this.reverse=r,this.op=e,this.shaderKey=`cum_${this.op}_${this.exclusive}_${this.reverse}`}getUserCode(){const e=this.outputShape.length,t=this.op===Jte.Prod?"1.0":"0.0",n=this.exclusive?t:`getX(${ene(e,"coords",this.op)})`,r=this.outputShape[this.outputShape.length-1];let o="",i="";return this.exclusive?(o=this.reverse?"end != "+(r-1):"end != 0",i=this.reverse?"end + 1":"end - 1"):(o=this.reverse?`end + pow2 < ${r}`:"end >= pow2",i=this.reverse?"end + pow2":"end - pow2"),`\n      ${j5("index")} {\n       if (index < uniforms.size) {\n         var coords = getCoordsFromIndex(index);\n\n         let end = ${tne(e,"coords",this.op)};\n         var val = ${n};\n         let pow2 = i32(pow(2.0, uniforms.index));\n         if (${o}) {\n           let idx = ${i};\n           ${tne(e,"coords",this.op)} = idx;\n           val ${this.op}= getX(${ene(e,"coords",this.op)});\n         }\n         setOutputAtIndex(index, val);\n       }\n      }\n    `}}function ene(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function tne(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function nne(e,t,n,r,o,i){const a=t.shape.length,s=aZ([r],a);let l=t;null!=s&&(l=bee({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=lZ(1,a)[0];if(u!==a-1)throw new Error(`WebGPU cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=K8({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(c))-1;p++){const t=new Zte(e,l.shape,!1,i),r=d,o=[{type:"float32",data:[p]}];d=n.runWebGPUProgram(t,[d],d.dtype,o),n.disposeData(r.dataId)}if(o){const t=new Zte(e,l.shape,o,i),r=d,a=[{type:"float32",data:[0]}];d=n.runWebGPUProgram(t,[d],d.dtype,a),n.disposeData(r.dataId)}if(null!=s){const e=bee({inputs:{x:d},backend:n,attrs:{perm:sZ(s)}});return n.disposeData(d.dataId),n.disposeData(l.dataId),e}return d}const rne={kernelName:nq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return nne(Jte.Prod,o,n,i,a,s)}};const one={kernelName:rq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return nne(Jte.Sum,o,n,i,a,s)}};const ine={kernelName:iq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r,l=1===o.shape.length,u=$U(i.shape)>0,c=i.dtype,d=l?[o.shape[0]]:[o.shape[0],o.shape[1]],p=V8({backend:n,attrs:{shape:l?[a]:[o.shape[0],a],value:0,dtype:c}}),h=new ate(d,u,s),f=[{type:"int32",data:[a]}],m=u?[o,i]:[o];return n.runWebGPUProgram(h,m,c,f,p)}};class ane{constructor(e,t){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.uniforms="blockSize : i32,",this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`depthToSpace_${t}`,this.dataFormat=t}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let h = ${this.getHeightCoordString()};\n          let w = ${this.getWidthCoordString()};\n          let d = ${this.getDepthCoordString()};\n\n          let in_h = h / uniforms.blockSize;\n          let offset_h = h % uniforms.blockSize;\n          let in_w = w / uniforms.blockSize;\n          let offset_w = w % uniforms.blockSize;\n          let offset_d = (offset_h * uniforms.blockSize + offset_w) *\n            ${this.getOutputDepthSize()};\n          let in_d = d + offset_d;\n\n          let rlt = ${this.getInputSamplingString()};\n          setOutputAtIndex(index, rlt);\n        }\n      }`}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?"uniforms.outShape[3]":"uniforms.outShape[1]"}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const sne={kernelName:aq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r,s=o.shape[0],l=("NHWC"===a?o.shape[1]:o.shape[2])*i,u=("NHWC"===a?o.shape[2]:o.shape[3])*i,c=("NHWC"===a?o.shape[3]:o.shape[1])/(i*i),d=[{type:"int32",data:[i]}],p=new ane("NHWC"===a?[s,l,u,c]:[s,c,l,u],a);return n.runWebGPUProgram(p,[o],o.dtype,d)}};class lne{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.variableNames=["x","W"],this.uniforms="pads : vec2<i32>, inDims : vec2<i32>,",this.workgroupSize=[16,16,1],this.outputShape=e,this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),r&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.addBias=r,this.activation=o,this.hasPreluActivation=i,this.filterHeight=t,this.filterWidth=n,this.shaderKey=`depthwiseNCHW_${this.activation}_${this.filterHeight}_${this.filterWidth}`}getUserCode(){const e=this.filterWidth*this.filterHeight,t=this.workgroupSize[0]*this.workgroupSize[1]*this.workgroupSize[2],n=this.workgroupSize[1]+this.filterHeight-1,r=this.workgroupSize[0]+this.filterWidth-1;return`\n      ${I8(this.activation,this.hasPreluActivation,!1,4)}\n\n      var<workgroup> mm_Asub : array<array<f32, ${r}>, ${n}>;\n      var<workgroup> mm_Bsub : array<array<f32, ${this.filterWidth}>, ${this.filterHeight}>;\n      fn readX(batch : i32, channel : i32, row : i32, col : i32) -> f32 {\n        var value = 0.0;\n        if (row >=0 && row < uniforms.inDims[0] && col >=0 && col < uniforms.inDims[1])\n        {\n          value = getX(batch, channel, row, col);\n        }\n        return value;\n      }\n\n      ${j5()} {\n        let coords = getOutputCoords();\n        let batch = coords[0];\n        let xRCCorner = vec2<i32>(coords.zw) - uniforms.pads;\n        let channelMul = uniforms.wShape[3];\n        let d1 = coords[1] / channelMul;\n        let q = coords[1] % channelMul;\n\n        let inputRowStart = xRCCorner.x;\n        let inputColStart = xRCCorner.y;\n\n        let localRow = i32(localId.y);\n        let localCol = i32(localId.x);\n\n        // Load one tile of X into local memory.\n        for (var inputRow = localRow; inputRow < ${n}; inputRow = inputRow + ${this.workgroupSize[1]}) {\n          for (var inputCol = localCol; inputCol < ${r}; inputCol = inputCol + ${this.workgroupSize[0]}) {\n            let rowOffset = inputRow - localRow;\n            let colOffset = inputCol - localCol;\n            mm_Asub[inputRow][inputCol] = readX(batch, d1, inputRowStart + rowOffset, inputColStart + colOffset);\n          }\n        }\n\n        // Load one tile of W into local memory.\n        var wIndex = i32(localIndex);\n        ${e<t?`if (wIndex < ${e})`:`for(; wIndex < ${e}; wIndex = wIndex + ${t})`}\n\n        {\n          let wRow = wIndex / ${this.filterWidth};\n          let wCol = wIndex % ${this.filterWidth};\n          mm_Bsub[wRow][wCol] = getW(wRow, wCol, d1, q);\n        }\n\n        workgroupBarrier();\n\n        var value = 0.0;\n        for (var wR = 0; wR < ${this.filterHeight}; wR = wR + 1) {\n          for (var wC = 0; wC < ${this.filterWidth}; wC = wC + 1) {\n            let xVal = mm_Asub[localRow + wR][localCol + wC];\n            let wVal = mm_Bsub[wR][wC];\n            value = fma(xVal, wVal, value);\n          }\n        }\n        ${O8(this.addBias,this.activation)}\n        if (coordsInBounds4D(coords, uniforms.outShape)) {\n          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n        }\n      }\n    `}}class une{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["x","W"],this.uniforms="pads : vec2<i32>, inDims : vec2<i32>, virtualWidth : i32,",this.workgroupSize=[64,1,1],this.workPerThread=4,this.outputComponent=4,this.outputShape=e.outShape,this.virtualWidth=Math.ceil(this.outputShape[2]/this.workPerThread)*this.workPerThread;const o=[this.outputShape[0],this.outputShape[1],this.virtualWidth,this.outputShape[3]];this.dispatchLayout=Q5(o),this.dispatch=X5(this.dispatchLayout,o,this.workgroupSize,[this.outputComponent*this.workPerThread,1,1]),MU("channelsLast"===e.dataFormat,(()=>"TODO: NCHW is unimplemented")),t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.convInfo=e,this.addBias=t,this.activation=n,this.hasPreluActivation=r,this.shaderKey=`depthwiseVec4_${n}_${this.convInfo.filterHeight}_${this.convInfo.filterWidth}_${this.convInfo.strideHeight}_${this.convInfo.strideWidth}_${this.workPerThread}`}getUserCode(){const e=(this.workPerThread-1)*this.convInfo.strideWidth+this.convInfo.filterWidth,t=this.convInfo.strideHeight,n=this.convInfo.strideWidth;return`\n      ${I8(this.activation,this.hasPreluActivation,!0,4)}\n      fn readX(batch : i32, row : i32, col : i32, channel : i32) -> vec4<f32> {\n        var value = vec4<f32>(0.0);\n        if (col >=0 && col < uniforms.inDims[1]) {\n          value = getX(batch, row, col, channel);\n        }\n        return value;\n      }\n\n      ${j5("index")} {\n        let width0 = uniforms.outShape[3] / ${this.outputComponent};\n        let d1 = (index % width0) * ${this.outputComponent};\n        var index1 = index / width0;\n        let width1 = uniforms.virtualWidth / ${this.workPerThread};\n        let c = (index1 % width1) * ${this.workPerThread};\n        index1 = index1 / width1;\n        let r = index1 % uniforms.outShape[1];\n        let batch = index1 / uniforms.outShape[1];\n\n        let xRCCorner = vec2<i32>(r, c) * vec2<i32>(${t}, ${n}) - uniforms.pads;\n\n        let xRCorner = xRCCorner.x;\n        let xCCorner = xRCCorner.y;\n        var xVals : array<vec4<f32>, ${e}>;\n        var dotProd : array<vec4<f32>, ${this.workPerThread}>;\n        for (var i = 0; i < ${this.workPerThread}; i++) {\n          dotProd[i] = vec4<f32>(0.0);\n        }\n\n        // Use constant instead of uniform can give better performance.\n        for (var wR = 0; wR < ${this.convInfo.filterHeight}; wR = wR + 1) {\n          let xR = xRCorner + wR;\n          if (xR >=0 && xR < uniforms.inDims[0]) {\n            for (var i = 0; i < ${e}; i++) {\n              xVals[i] = readX(batch, xR, xCCorner + i, d1);\n            }\n            for (var wC = 0; wC < ${this.convInfo.filterWidth}; wC = wC + 1) {\n              let wValue = getW(wR, wC, d1, 0);\n              for (var i = 0; i < ${this.workPerThread}; i++) {\n                dotProd[i] = fma(xVals[i * ${n} + wC], wValue, dotProd[i]);\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < ${this.workPerThread}; i = i + 1) {\n          let coords = vec4<i32>(batch, r, c + i, d1);\n          if (coordsInBounds4D(coords, uniforms.outShape)) {\n            var value = dotProd[i];\n            ${O8(this.addBias,this.activation)}\n            setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n          }\n        }\n      }\n    `}}class cne{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["x","W"],this.uniforms="pads : vec2<i32>, inDims : vec2<i32>, filterHeight : i32,\n      filterWidth : i32, strides : vec2<i32>, dilations : vec2<i32>,",this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast="channelsLast"===e.dataFormat,t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.convInfo=e,this.addBias=t,this.activation=n,this.hasPreluActivation=r,this.shaderKey=`depthwise_${this.activation}_${this.isChannelsLast}`}getUserCode(){const e=this.isChannelsLast?"getX(batch, xR, xC, d1);":"getX(batch, d1, xR, xC);";return`\n      ${I8(this.activation,this.hasPreluActivation,!1,4)}\n\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getOutputCoords();\n          let batch = coords[0];\n          let xRCCorner = vec2<i32>(coords.${this.isChannelsLast?"yz":"zw"}) * uniforms.strides - uniforms.pads;\n          let d2 = coords[${this.isChannelsLast?3:1}];\n          let channelMul = uniforms.wShape[3];\n          let d1 = d2 / channelMul;\n          let q = d2 % channelMul;\n\n          let inputRowStart = xRCCorner.x;\n          let inputColStart = xRCCorner.y;\n          let inputRowEnd = inputRowStart + uniforms.filterHeight *\n              uniforms.dilations[0];\n          let inputColEnd = inputColStart + uniforms.filterWidth *\n              uniforms.dilations[1];\n\n          // Convolve x(?, ?, d1)|x(d1, ?, ?) with w(:, :, d1, q) to get\n          // y(yR, yC, d2)|y(d2, yR, yC). ? = to be determined. : = across all\n          // values in that axis. x(?, ?, d1) and y(yR, yC, d2) is for NHWC.\n          // x(d1, ?, ?) and y(d2, yR, yC) is for NCHW.\n          var value = 0.0;\n\n          // Extract if checking out of for loop for performance.\n          if (inputRowStart >= 0 && inputColStart >= 0 &&\n            inputRowEnd < uniforms.inDims[0] &&\n                inputColEnd < uniforms.inDims[1]) {\n              for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {\n                let xR = inputRowStart + wR * uniforms.dilations[0];\n\n                for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {\n                  let xC = inputColStart + wC * uniforms.dilations[1];\n\n                  let xVal = ${e};\n                  let wVal = getW(wR, wC, d1, q);\n                  value = value + xVal * wVal;\n                }\n              }\n            } else {\n              for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {\n                let xR = inputRowStart + wR * uniforms.dilations[0];\n\n                if (xR < 0 || xR >= uniforms.inDims[0]) {\n                  continue;\n                }\n\n                for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {\n                  let xC = inputColStart + wC * uniforms.dilations[1];\n\n                  if (xC < 0 || xC >= uniforms.inDims[1]) {\n                    continue;\n                  }\n\n                  let xVal = ${e};\n                  let wVal = getW(wR, wC, d1, q);\n                  value = value + xVal * wVal;\n                }\n              }\n            }\n            ${O8(this.addBias,this.activation)}\n          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n        }\n      }\n    `}}const dne={kernelName:sq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=iJ(l);let p=u;null==p&&(p=[1,1]);const h=KQ(o.shape,i.shape,a,p,s,c,!0,d),f=[{type:"int32",data:[h.padInfo.top,h.padInfo.left]},{type:"int32",data:[h.inHeight,h.inWidth]}],m="channelsLast"===h.dataFormat;let g;return!m&&h.inHeight>16&&h.inWidth>16&&1===h.strideHeight&&1===h.strideWidth&&1===h.dilationWidth&&1===h.dilationHeight&&h.inChannels===h.outChannels?g=new lne(h.outShape,h.filterHeight,h.filterWidth):m&&h.outHeight>4&&h.outWidth>4&&h.strideWidth<=2&&h.inChannels===h.outChannels&&1===h.dilationHeight&&1===h.dilationWidth&&h.inChannels%4===0?(g=new une(h),f.push({type:"int32",data:[g.virtualWidth]})):(g=new cne(h),f.push({type:"int32",data:[h.filterHeight]},{type:"int32",data:[h.filterWidth]},{type:"int32",data:[h.strideHeight,h.strideWidth]},{type:"int32",data:[h.dilationHeight,h.dilationWidth]})),n.runWebGPUProgram(g,[o,i],o.dtype,f)}};class pne{constructor(e){this.variableNames=["x","dy"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, filterDims : vec2<i32>, outHeight : i32,\n      outWidth : i32, inHeight : i32, inWidth : i32, batchSize : i32, channelMul : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="depthwise_conv2d_backprop_filter"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let wR = coords[0];\n        let wC = coords[1];\n        let d1 = coords[2];\n        let dm = coords[3];\n        let d2 = d1 * uniforms.channelMul + dm;\n\n        var dotProd = 0.0;\n        for (var b = 0; b < uniforms.batchSize; b++) {\n          for (var yR = 0; yR < uniforms.outHeight; yR++) {\n            let xR = wR + yR * uniforms.strides[0] - uniforms.pads[0];\n\n            if (xR < 0 || xR >= uniforms.inHeight) {\n              continue;\n            }\n\n            for (var yC = 0; yC < uniforms.outWidth; yC++) {\n              let xC = wC + yC * uniforms.strides[1] - uniforms.pads[1];\n\n              if (xC < 0 || xC >= uniforms.inWidth) {\n                continue;\n              }\n\n              let dyValue = getDy(b, yR, yC, d2);\n              let xValue = getX(b, xR, xC, d1);\n              dotProd += xValue * dyValue;\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}class hne{constructor(e){this.variableNames=["dy","W"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, filterDims : vec2<i32>,\n       outHeight : i32, outWidth : i32, channelMul : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="depthwise_conv2d_backprop_input"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords[0];\n        let d1 = coords[3];\n        let dyCorner = coords.yz - uniforms.pads;\n        let dyRCorner = dyCorner.x;\n        let dyCCorner = dyCorner.y;\n\n        var dotProd = 0.0;\n        for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {\n          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);\n\n          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n            continue;\n          }\n\n          let idyR = i32(dyR);\n          let wRPerm = uniforms.filterDims[0] - 1 - wR;\n\n          for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {\n            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);\n\n            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n              continue;\n            }\n\n            let idyC = i32(dyC);\n            let wCPerm = uniforms.filterDims[1] - 1 - wC;\n\n            for (var dm = 0; dm < uniforms.channelMul; dm++) {\n              let d2 = d1 * uniforms.channelMul + dm;\n              let xValue = getDy(batch, idyR, idyC, d2);\n              let wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}const fne={kernelName:lq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=KQ(o.shape,c,a,s,l,u,!0),p=new pne(d),h=[{type:"int32",data:[d.strideHeight,d.strideWidth]},{type:"int32",data:[d.padInfo.top,d.padInfo.left]},{type:"int32",data:[d.filterHeight,d.filterWidth]},{type:"int32",data:[d.outHeight]},{type:"int32",data:[d.outWidth]},{type:"int32",data:[d.inHeight]},{type:"int32",data:[d.inWidth]},{type:"int32",data:[d.batchSize]},{type:"int32",data:[d.outChannels/d.inChannels]}];return n.runWebGPUProgram(p,[o,i],"float32",h)}};const mne={kernelName:uq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=KQ(c,i.shape,a,s,l,u,!0),p=new hne(d),h=[{type:"int32",data:[d.strideHeight,d.strideWidth]},{type:"int32",data:[d.filterHeight-1-d.padInfo.top,d.filterWidth-1-d.padInfo.left]},{type:"int32",data:[d.filterHeight,d.filterWidth]},{type:"int32",data:[d.outHeight]},{type:"int32",data:[d.outWidth]},{type:"int32",data:[d.outChannels/d.inChannels]}];return n.runWebGPUProgram(p,[o,i],o.dtype,h)}};class gne{constructor(e){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,e],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="diag"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getOutputCoords();\n          let value = select(0.0, getX(coords[0]), coords[0] == coords[1]);\n          setOutputAtIndex(index, value);\n        }\n      }\n    `}}const yne={kernelName:cq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],i=$U(r.shape),a=U8({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new gne(i),l=n.runWebGPUProgram(s,[a],a.dtype),u=U8({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeData(a.dataId),n.disposeData(l.dataId),u}};class vne{constructor(e){this.variableNames=["x","w"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="dilation2d"}getUserCode(){return`\n       ${j5("index")} {\n         if (index < uniforms.size) {\n           let neg_infinity = -3.4e38;\n           let coords = getOutputCoords();\n           let batch = coords.x;\n           let d1 = coords.w;\n           let outTopLeftCorner = coords.yz * uniforms.strides - uniforms.pads;\n           let hBeg = outTopLeftCorner.x;\n           let wBeg = outTopLeftCorner.y;\n\n           var curVal = neg_infinity;\n           for (var h = 0; h < uniforms.filterDims[0]; h = h + 1) {\n             let hIn = hBeg + h * uniforms.dilations[0];\n\n             if (hIn >= 0 && hIn < uniforms.xShape[1]) {\n               for (var w = 0; w < uniforms.filterDims[1]; w = w + 1) {\n                 let wIn = wBeg + w * uniforms.dilations[1];\n\n                 if (wIn >= 0 && wIn < uniforms.xShape[2]) {\n                   let val = getX(batch, hIn, wIn, d1) + getW(h, w, d1);\n                   if (val > curVal) {\n                     curVal = val;\n                   }\n                 }\n               }\n             }\n           }\n\n           setOutputAtIndex(index, curVal);\n         }\n       }\n     `}}const bne={kernelName:dq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=HQ(o.shape,i.shape,a,s,"NHWC",l),c=[u.padInfo.top,u.padInfo.left],d=[{type:"int32",data:[u.filterHeight,u.filterWidth]},{type:"int32",data:[...c]},{type:"int32",data:[u.strideHeight,u.strideWidth]},{type:"int32",data:[u.dilationHeight,u.dilationWidth]}],p=new vne(u);return n.runWebGPUProgram(p,[o,i],o.dtype,d)}};class xne{constructor(e,t){if(this.variableNames=["x","w","dy"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>, dySize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(e.outShape),this.dispatch=X5(this.dispatchLayout,e.outShape,this.workgroupSize),"float32"!==t&&"int32"!==t)throw new Error(`Dilation2DBackpropInput only supports float32 and int32\n          types, does not support ${t} type.`);this.type=t,this.shaderKey="dilation2DBackpropInput"}getUserCode(){return`\n       ${j5("index")} {\n         if (index < uniforms.dySize) {\n           let coords = getDyCoordsFromIndex(index);\n           let b = coords[0];\n           let r = coords[1];\n           let c = coords[2];\n           let d = coords[3];\n\n           let dyCorner = vec2<i32>(r, c) * uniforms.strides - uniforms.pads;\n           var curVal = -3.4e38;  // neg_infinity\n           var xRMax = 0;\n           var xCMax = 0;\n\n           // In the case of multiple argmax branches, we only back-propagate\n           // along the last branch, i.e., the one with largest value of\n           // 'wR * uniforms.filterDims[1] + wC', similarly to the max-pooling\n           // backward routines.\n           for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {\n             let xR = dyCorner.x + wR * uniforms.dilations[0];\n\n             if (xR >= 0 && xR < uniforms.xShape[1]) {\n               for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {\n                 let xC = dyCorner.y + wC * uniforms.dilations[1];\n\n                 if (xC >= 0 && xC < uniforms.xShape[2]) {\n                   let val = getX(b, xR, xC, d) + getW(wR, wC, d);\n                   if (val > curVal) {\n                     curVal = val;\n                     xRMax = xR;\n                     xCMax = xC;\n                   }\n                 }\n               }\n             }\n           }\n\n           let flatIndexIn = d + uniforms.xShape[3] *\n               (xCMax + uniforms.xShape[2] * (xRMax + uniforms.xShape[1] * b));\n           let value = getDy(b, r, c, d);\n           ${_5("&result[flatIndexIn]","value",this.type)}\n         }\n       }\n     `}}class wne{constructor(e,t,n){if(this.variableNames=["x","w","dy"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>, dySize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e.filterShape,this.dispatchLayout=Q5(e.outShape),this.dispatch=X5(this.dispatchLayout,e.outShape,this.workgroupSize),"float32"!==n&&"int32"!==n)throw new Error(`Dilation2DBackpropFilter only supports float32 and int32\n          types, does not support ${n} type.`);this.type=n,this.shaderKey="dilation2DBackpropFilter"}getUserCode(){return`\n       ${j5("index")} {\n         if (index < uniforms.dySize) {\n           let coords = getDyCoordsFromIndex(index);\n           let b = coords[0];\n           let r = coords[1];\n           let c = coords[2];\n           let d = coords[3];\n\n           let dyCorner = vec2<i32>(r, c) * uniforms.strides - uniforms.pads;\n           var curVal = -3.4e38;  // neg_infinity\n           var wRMax = 0;\n           var wCMax = 0;\n\n           // In the case of multiple argmax branches, we only back-propagate\n           // along the last branch, i.e., the one with largest value of\n           // 'wR * uniforms.filterDims[1] + wC', similarly to the max-pooling\n           // backward routines.\n           for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {\n             let xR = dyCorner.x + wR * uniforms.dilations[0];\n\n             if (xR >= 0 && xR < uniforms.xShape[1]) {\n               for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {\n                 let xC = dyCorner.y + wC * uniforms.dilations[1];\n\n                 if (xC >= 0 && xC < uniforms.xShape[2]) {\n                   let val = getX(b, xR, xC, d) + getW(wR, wC, d);\n                   if (val > curVal) {\n                     curVal = val;\n                     wRMax = wR;\n                     wCMax = wC;\n                   }\n                 }\n               }\n             }\n           }\n\n           let flatIndexIn = d + uniforms.wShape[2] * (wCMax + wRMax * uniforms.wShape[1]);\n           let value = getDy(b, r, c, d);\n           ${_5("&result[flatIndexIn]","value",this.type)}\n         }\n       }\n     `}}const Ane={kernelName:"Dilation2DBackpropFilter",backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,dy:a}=t,{strides:s,pad:l,dilations:u}=r,c=HQ(o.shape,i.shape,s,l,"NHWC",u),d=i.dtype,p=new wne(c,i.shape,d),h=[{type:"int32",data:[c.filterHeight,c.filterWidth]},{type:"int32",data:[c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.strideHeight,c.strideWidth]},{type:"int32",data:[c.dilationHeight,c.dilationWidth]},{type:"int32",data:[$U(c.outShape)]}],f=V8({backend:n,attrs:{shape:i.shape,value:0,dtype:d}});return n.runWebGPUProgram(p,[o,i,a],d,h,f)}};const Sne={kernelName:"Dilation2DBackpropInput",backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,dy:a}=t,{strides:s,pad:l,dilations:u}=r,c=HQ(o.shape,i.shape,s,l,"NHWC",u),d=o.dtype,p=new xne(c,d),h=[{type:"int32",data:[c.filterHeight,c.filterWidth]},{type:"int32",data:[c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.strideHeight,c.strideWidth]},{type:"int32",data:[c.dilationHeight,c.dilationWidth]},{type:"int32",data:[$U(c.outShape)]}],f=V8({backend:n,attrs:{shape:c.inShape,value:0,dtype:d}});return n.runWebGPUProgram(p,[o,i,a],d,h,f)}};class Cne{constructor(e,t,n){this.variableNames=["Image"],this.uniforms="alpha: f32,",this.workgroupSize=[64,1,1],this.pixelsOpType=P5.DRAW,this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.type=t,this.textureFormat=n,this.shaderKey=`draw_${t}_${n}`}getUserCode(){let e;const t="float32"===this.type?"value":"value / 255.0";e=`\n      if (uniforms.numChannels == 1) {\n        rgba[0] = ${t};\n        rgba[1] = ${t};\n        rgba[2] = ${t};\n      } else {\n        rgba[d] = ${t};\n      }`;return`\n       @group(0) @binding(0) var outImage : texture_storage_2d<${this.textureFormat}, write>;\n       ${j5("index")} {\n         if (index < uniforms.size) {\n           var rgba = vec4<f32>(0.0, 0.0, 0.0, uniforms.alpha);\n           for (var d = 0; d < uniforms.numChannels; d = d + 1) {\n             let value = f32(inBuf[index * uniforms.numChannels + d]);\n             ${e}\n           }\n           rgba.x = rgba.x * rgba.w;\n           rgba.y = rgba.y * rgba.w;\n           rgba.z = rgba.z * rgba.w;\n           let coords = getCoordsFromIndex(index);\n           textureStore(outImage, vec2<i32>(coords.yx), rgba);\n         }\n       }\n      `}}const kne={kernelName:pq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o}=t,{canvas:i,options:a}=r,[s,l]=o.shape.slice(0,2),{imageOptions:u}=a||{},c=(null===u||void 0===u?void 0:u.alpha)||1,d=n.device.features.has("bgra8unorm-storage")?"bgra8unorm":"rgba8unorm",p=[s,l],h=new Cne(p,o.dtype,d);i.width=l,i.height=s;const f="webgpu";let m,g=i.getContext(f);g||(m=new OffscreenCanvas(l,s),g=m.getContext(f));const y=3===o.shape.length?o.shape[2]:1;g.configure({device:n.device,format:d,usage:GPUTextureUsage.STORAGE_BINDING,alphaMode:"premultiplied"});const v="int32",b=n.makeTensorInfo(p,v),x=n.tensorMap.get(b.dataId);x.resource=g.getCurrentTexture(),x.external=!0;const w=[{type:"uint32",data:[y]},{type:"float32",data:[c]}];if(n.runWebGPUProgram(h,[o],v,w,b),m){const e=i.getContext("2d");if(!e)throw new Error("Please make sure this canvas has only been used for 2d or webgpu context!");e.drawImage(m,0,0)}return n.disposeData(b.dataId),o}},Ene=t7({opType:o6.MUL,cpuKernelImpl:W9,supportsComplex:!0}),Tne={kernelName:lH,backendName:"webgpu",kernelFunc:Ene};function Ine(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return See(o,i,a,"sum",n)}const One={kernelName:KH,backendName:"webgpu",kernelFunc:Ine};const Rne={kernelName:fq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:l}=M3(o,i.length);L3(a.length,l,i);const{path:u,steps:c}=$3(s,l),d=c.length;let p=null,h=a.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=D3(h,l[e]);let o;j3(t)?o=i[e]:(o=bee({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);FU(o.shape,a)||(o=U8({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===p?p=o:(p=Ene({inputs:{a:o,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=Ine({inputs:{x:p},backend:n,attrs:{axis:u[m]-(a.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeData(m.dataId);return p}},Nne=e7({opType:D6.ELU}),_ne={kernelName:mq,backendName:"webgpu",kernelFunc:Nne},Pne={kernelName:gq,backendName:"webgpu",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,i=new X8(o6.ELU_DER,r.shape,o.shape);return n.runWebGPUProgram(i,[r,o],r.dtype)}},Mne=t7({opType:o6.EQUAL,dtype:"bool",cpuKernelImpl:O9}),Dne={kernelName:vq,backendName:"webgpu",kernelFunc:Mne},Lne=e7({opType:D6.ERF}),$ne={kernelName:yq,backendName:"webgpu",kernelFunc:Lne},jne=e7({opType:D6.EXP,cpuKernelImpl:R9,dtype:"float32"}),Fne={kernelName:bq,backendName:"webgpu",kernelFunc:jne};function Bne(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:i}=t,a=i.shape.length,s=i.shape.slice();let l=o;return o<0&&(MU(-(a+1)<=o,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+o+1),s.splice(l,0,1),U8({inputs:{x:i},backend:r,attrs:{shape:s}})}const Vne={kernelName:xq,backendName:"webgpu",kernelFunc:Bne},zne=e7({opType:D6.EXPM1,cpuKernelImpl:N9}),Une={kernelName:wq,backendName:"webgpu",kernelFunc:zne};class Wne{constructor(e,t){this.variableNames=["real","imag"],this.outputShape=[],this.uniforms="exponentMultiplier : f32, denominator: f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.component=e,this.shaderKey=`fft_${e}`}getUserCode(){return`\n    fn unaryOpComplex(real: f32, expR: f32, imag: f32, expI: f32) -> f32 {\n      ${"real"===this.component?"return real * expR - imag * expI;":"return real * expI + imag * expR;"}\n    }\n\n    fn mulMatDFT(batch: i32, index: i32) -> f32 {\n      let indexRatio = f32(index) / f32(uniforms.realShape[1]);\n      let exponentMultiplierTimesIndexRatio =\n          uniforms.exponentMultiplier * indexRatio;\n\n      var result = 0.0;\n\n      for (var i = 0; i < uniforms.realShape[1]; i = i + 1) {\n        // x = (-2|2 * PI / N) * index * i;\n        let x = exponentMultiplierTimesIndexRatio * f32(i);\n        let expR = cos(x);\n        let expI = sin(x);\n        let real = getReal(batch, i);\n        let imag = getImag(batch, i);\n\n        result = result +\n            unaryOpComplex(real, expR, imag, expI) / uniforms.denominator;\n      }\n\n      return result;\n    }\n\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getOutputCoords();\n        setOutputAtIndex(index, mulMatDFT(coords[0], coords[1]));\n      }\n    }\n  `}}function qne(e,t,n){const r=n.tensorMap.get(e.dataId),o=$U(e.shape),i=e.shape[e.shape.length-1],a=[],s=U8({inputs:{x:e},backend:n,attrs:{shape:[o/i,i]}});a.push(s);const l=s.shape,u=new Wne("real",l),c=new Wne("imag",l),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],p=[{type:"float32",data:[t?2*Math.PI:-2*Math.PI]},{type:"float32",data:[t?l[1]:1]}],h=n.runWebGPUProgram(u,d,"float32",p);a.push(h);const f=n.runWebGPUProgram(c,d,"float32",p);a.push(f);const m=Q8({inputs:{real:h,imag:f},backend:n});a.push(m);const g=U8({inputs:{x:m},backend:n,attrs:{shape:e.shape}});return a.forEach((e=>n.disposeData(e.dataId))),g}const Hne={kernelName:Aq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return qne(r,!1,n)}};class Gne{constructor(e){this.outputShape=[],this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="flipLeftRight"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let coordX = uniforms.xShape[2] - coords[2] - 1;\n          let outputValue = getX(coords[0], coords[1], coordX, coords[3]);\n          setOutputAtIndex(index, outputValue);\n        }\n      }\n    `}}const Xne={kernelName:Cq,backendName:"webgpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,o=n,i=new Gne(r.shape);return o.runWebGPUProgram(i,[r],r.dtype)}},Kne=e7({opType:D6.FLOOR,cpuKernelImpl:_9}),Yne={kernelName:kq,backendName:"webgpu",kernelFunc:Kne},Qne=t7({opType:o6.FLOOR_DIV,cpuKernelImpl:P9,dtype:"int32"}),Jne={kernelName:Eq,backendName:"webgpu",kernelFunc:Qne};class Zne{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.pixelsOpType=P5.FROM_PIXELS,this.outputShape=[0],this.variableNames=[],this.workgroupSize=[256,1,1],this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[t,1,1]),this.importVideo=n,this.shaderKey=`fromPixels_${this.importVideo}`}getUserCode(){const e=this.importVideo?"textureLoad(src, vec2<i32>(coords.yx));":"textureLoad(src, vec2<i32>(coords.yx), 0)";return`\n      @binding(1) @group(0) var src: ${this.importVideo?"texture_external":"texture_2d<f32>"};\n      ${j5("index")} {\n        let flatIndex = index * uniforms.numChannels;\n        if (flatIndex < uniforms.size) {\n          let coords = getCoordsFromIndex(flatIndex);\n          let values = ${e};\n          for (var i = 0; i < uniforms.numChannels; i = i + 1) {\n            result[flatIndex + i] = i32(floor(255.0 * values[i]));\n          }\n        }\n      }\n  `}}const ere={kernelName:SG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:i}=r;if(null==o)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");const a="undefined"!==typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&o instanceof HTMLImageElement,l="undefined"!==typeof HTMLCanvasElement&&o instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&o instanceof OffscreenCanvas,u="undefined"!==typeof ImageBitmap&&o instanceof ImageBitmap,[c,d]=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],p=[d,c,i],h=fW().getBool("WEBGPU_IMPORT_EXTERNAL_TEXTURE")&&a,f=a||s;if(u||l||f){let e;if(h)e=n.device.importExternalTexture({source:o});else{if(f){const e=fW().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=tre&&e===nre||(nre=e,tre=document.createElement("canvas").getContext("2d",{willReadFrequently:nre})),tre.canvas.width=c,tre.canvas.height=d,tre.drawImage(o,0,0,c,d),o=tre.canvas}const t=GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING,r="rgba8unorm",i=n.textureManager.acquireTexture(p[1],p[0],r,t);n.queue.copyExternalImageToTexture({source:o},{texture:i},[p[1],p[0]]),e=i}const t=$U(p),r=tW(p),a=new Zne(p,i,h),s=[{type:"uint32",data:[t]},{type:"uint32",data:[i]},{type:"uint32",data:[...r]}],l=n.makeTensorInfo([d,c],"int32");n.tensorMap.get(l.dataId).resource=e;const u=n.runWebGPUProgram(a,[l],"int32",s);return n.disposeData(l.dataId),u}const m=o.data;let g=m;if(null!=i&&4!==i){g=new Uint8Array(o.width*o.height*i);const e=m.length;let t=0;for(let n=0;n<e;n++)n%4<i&&(g[t++]=m[n])}const y=n.makeTensorInfo(p,"int32",new Int32Array(g));return n.uploadToGPU(y.dataId),y}};let tre,nre=fW().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");class rre{constructor(e,t,n,r,o){this.uniforms="varianceEpsilon : f32,",this.workgroupSize=[128,1,1],this.size=!0,this.variableNames=["x","mean","variance"],jY(e,t),jY(e,n),this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),null!=r&&(jY(e,r),this.variableNames.push("offset")),null!=o&&(jY(e,o),this.variableNames.push("scale")),this.offsetShape=r,this.scaleShape=o,this.shaderKey="batchNorm"}getUserCode(){let e="0.0";null!=this.offsetShape&&(e="getOffsetByOutputIndex(index)");let t="1.0";null!=this.scaleShape&&(t="getScaleByOutputIndex(index)");return`\n      ${j5("index")} {\n        if (index < uniforms.size)\n        {\n          let xValue = getXByOutputIndex(index);\n          let meanValue = getMeanByOutputIndex(index);\n          let varianValue = getVarianceByOutputIndex(index);\n          let offsetValue = ${e};\n          let scaleValue = ${t};\n          let inv = scaleValue * inverseSqrt(varianValue + f32(uniforms.varianceEpsilon));\n          setOutputAtIndex(index,dot(vec3<f32>(xValue, -meanValue, offsetValue), vec3<f32>(inv, inv, 1.0)));\n        }\n      }\n  `}}const ore={kernelName:Tq,backendName:"webgpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o,scale:i,offset:a,mean:s,variance:l}=t,{varianceEpsilon:u}=n,c=r,d=[o,s,l];let p=null;null!=a&&(p=a.shape,d.push(a));let h=null;null!=i&&(h=i.shape,d.push(i));const f=new rre(o.shape,s.shape,l.shape,p,h),m=[{type:"float32",data:[u]}];return c.runWebGPUProgram(f,d,o.dtype,m)}};const ire={kernelName:EG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r,m=iJ(c);return Pte({x:o,filter:i,convInfo:KQ(o.shape,i.shape,l,d,u,p,!1,m),backend:n,bias:a,preluActivationWeights:s,leakyreluAlpha:f,activation:h})}};const are={kernelName:TG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r;let f=c;null==f&&(f=[1,1]),MU(rJ(l,f),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${f}'`));const m=KQ(o.shape,i.shape,l,f,u,d,!0),g=[o,i],y=null!=a,v=null!=s;y&&g.push(a),v&&g.push(s);const b=[{type:"int32",data:[m.padInfo.top,m.padInfo.left]},{type:"int32",data:[m.inHeight,m.inWidth]}];let x;return m.outHeight>4&&m.outWidth>4&&m.strideWidth<=2&&m.inChannels===m.outChannels&&1===m.dilationHeight&&1===m.dilationWidth&&m.inChannels%4===0?(x=new une(m,y,p,v),b.push({type:"int32",data:[x.virtualWidth]})):(x=new cne(m,y,p,v),b.push({type:"int32",data:[m.filterHeight]},{type:"int32",data:[m.filterWidth]},{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]})),"leakyrelu"===p&&(b.push({type:"float32",data:[h]}),x.uniforms+=" alpha : f32,"),n.runWebGPUProgram(x,g,"float32",b)}};class sre{constructor(e,t){this.variableNames=["A","indices"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`gathernd_${e}`,this.sliceDim=e,this.uniforms=`sliceDim : i32, strides : ${L5(e)},`}getUserCode(){let e;e=this.sliceDim>1?"uniforms.strides[j]":"uniforms.strides";return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          var flattenIndex = 0;\n          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {\n            let indexTemp = i32(round(getIndices(coords[0], j)));\n            let strideNum = ${e};\n            flattenIndex = flattenIndex + indexTemp * strideNum;\n          }\n\n          setOutputAtIndex(index, getA(flattenIndex, coords[1]));\n        }\n      }\n      `}}const lre={kernelName:Oq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=o.shape,a=i[i.length-1],s=$U(r.shape),[l,u,c,d]=h3(r,o),p=U8({inputs:{x:o},backend:n,attrs:{shape:[u,a]}}),h=U8({inputs:{x:r},backend:n,attrs:{shape:[$U(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),i=M9(e,t,r.dtype,u,a,c,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,i.values)}const f=new sre(a,[u,c]),m=[{type:"int32",data:[a]},{type:"int32",data:d}],g=n.runWebGPUProgram(f,[h,p],h.dtype,m),y=U8({inputs:{x:g},backend:n,attrs:{shape:l}});return n.disposeData(p.dataId),n.disposeData(h.dataId),n.disposeData(g.dataId),y}};class ure{constructor(e,t){this.variableNames=["A","indices"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.slice(),this.aShape=e,this.outputShape=t,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="gather"}getUserCode(){const e=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("indexZ"):n.push(`${t[r]}`);return n.join()}(this.aShape);return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          let indexZ = i32(getIndices(resRC.x, resRC.z));\n          let inBounds = select(0.0, 1.0, indexZ >= 0 && indexZ < uniforms.aShape[2]);\n          setOutputAtIndex(index, inBounds * getA(${e}));\n        }\n      }\n    `}}function cre(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r,l=t4(o,i,qU(a,o.shape)[0],s),u=$U(i.shape),c=[],d=U8({inputs:{x:o},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=U8({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,u/l.batchSize]}});c.push(d),c.push(p);const h=[l.batchSize,l.outerSize,u/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([o,i])){const e=n.tensorMap.get(p.dataId).values,t=hY(p.shape,p.dtype,e),r=n.tensorMap.get(d.dataId).values,o=hY(d.shape,d.dtype,r),i=D9(o,t,h);return c.forEach((e=>n.disposeData(e.dataId))),n.makeTensorInfo(l.outputShape,i.dtype,i.values)}const f=new ure(d.shape,h),m=n.runWebGPUProgram(f,[d,p],d.dtype);c.push(m);const g=U8({inputs:{x:m},backend:n,attrs:{shape:l.outputShape}});return c.forEach((e=>n.disposeData(e.dataId))),g}const dre={kernelName:Iq,backendName:"webgpu",kernelFunc:cre},pre=t7({opType:o6.GREATER,cpuKernelImpl:$9,dtype:"bool"}),hre={kernelName:Rq,backendName:"webgpu",kernelFunc:pre},fre=t7({opType:o6.GREATER_EQUAL,dtype:"bool",cpuKernelImpl:L9}),mre={kernelName:Nq,backendName:"webgpu",kernelFunc:fre};const gre={kernelName:Pq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return qne(r,!0,n)}},yre=e7({opType:D6.IS_FINITE,dtype:"bool"}),vre={kernelName:Dq,backendName:"webgpu",kernelFunc:yre},bre=e7({opType:D6.IS_INF,dtype:"bool"}),xre={kernelName:Lq,backendName:"webgpu",kernelFunc:bre},wre=e7({opType:D6.IS_NAN,dtype:"bool"}),Are={kernelName:$q,backendName:"webgpu",kernelFunc:wre};const Sre={kernelName:jq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r,a=[{type:"float32",data:[i]}],s=new Z8(o.shape,D6.LEAKYRELU,"alpha : f32,");return n.runWebGPUProgram(s,[o],"float32",a)}},Cre=t7({opType:o6.LESS,dtype:"bool",cpuKernelImpl:F9}),kre={kernelName:Fq,backendName:"webgpu",kernelFunc:Cre},Ere=t7({opType:o6.LESS_EQUAL,dtype:"bool",cpuKernelImpl:j9}),Tre={kernelName:Bq,backendName:"webgpu",kernelFunc:Ere};class Ire{constructor(e){this.variableNames=[],this.outputShape=[],this.uniforms="start : f32, step : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="linSpace"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          setOutputAtIndex(index, uniforms.start + f32(index) * uniforms.step);\n        }\n      }\n    `}}const Ore={kernelName:Vq,backendName:"webgpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=(o-r)/(i-1),s=new Ire(i),l=[{type:"float32",data:[r]},{type:"float32",data:[a]}];return t.runWebGPUProgram(s,[],"float32",l)}},Rre=e7({opType:D6.LOG,cpuKernelImpl:B9}),Nre={kernelName:zq,backendName:"webgpu",kernelFunc:Rre},_re=e7({opType:D6.LOG1P}),Pre={kernelName:Uq,backendName:"webgpu",kernelFunc:_re},Mre=t7({opType:o6.LOGICAL_AND,dtype:"bool"}),Dre={kernelName:Wq,backendName:"webgpu",kernelFunc:Mre},Lre=e7({opType:D6.LOGICAL_NOT}),$re={kernelName:qq,backendName:"webgpu",kernelFunc:Lre},jre=t7({opType:o6.LOGICAL_OR}),Fre={kernelName:Hq,backendName:"webgpu",kernelFunc:jre},Bre="\n  var powValue = 0.0;\n  let basis = uniforms.bias + uniforms.alpha * sum;\n  if (uniforms.beta == 0.5) {\n    powValue = inverseSqrt(basis);\n  } else if (uniforms.beta == 1.0) {\n    powValue = 1.0 / basis;\n  } else {\n    powValue = exp(log(basis) * (-uniforms.beta));\n  }\n";class Vre{constructor(e){this.outputShape=[],this.variableNames=["x"],this.uniforms="radius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="lrn"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getOutputCoords();\n        let b = coords[0];\n        let r = coords[1];\n        let c = coords[2];\n        let d = coords[3];\n\n        let x = getX(b, r, c, d);\n        var sum = 0.0;\n        for (var i = -uniforms.radius; i <= uniforms.radius; i = i + 1) {\n          let idx = d + i;\n          if (idx >= 0 && idx < uniforms.xShape[3]) {\n            let z = getX(b, r, c, idx);\n            sum = sum + z * z;\n          }\n        }\n        ${Bre}\n\n        setOutputAtIndex(index, x * powValue);\n      }\n    }\n  `}}class zre{constructor(e,t){this.outputShape=[],this.variableNames=["x"],this.uniforms="radius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[256,1,1],this.maxAllowRadius=16,MU(t<=this.maxAllowRadius,(()=>`Radius must be less than or equal to ${this.maxAllowRadius}, current radius is ${t}`)),this.outputShape=e,this.elementsPerWorkgroup=this.workgroupSize[0]-2*this.maxAllowRadius,this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=X5(this.dispatchLayout,this.outputShape,[this.elementsPerWorkgroup,this.workgroupSize[1],this.workgroupSize[2]]),this.shaderKey="lrn_shared"}getUserCode(){return`\n    var <workgroup>lrnSub: array<f32, ${this.workgroupSize[0]}>;\n    const elementsPerWorkgroup = ${this.elementsPerWorkgroup};\n    const maxAllowRadius = ${this.maxAllowRadius};\n\n    ${j5()} {\n      let localDepth = i32(localId.x);\n      let workgroupDepth = i32(workgroupId.x) * elementsPerWorkgroup;\n      let xDepth = workgroupDepth + localDepth - maxAllowRadius;\n      let b = i32(globalId.z) / uniforms.xShape[1];\n      let r = i32(globalId.z) - b * uniforms.xShape[1];\n      let c = i32(globalId.y);\n      let d = workgroupDepth + localDepth;\n\n      var x = 0.0;\n      if (xDepth >= 0 && xDepth < uniforms.xShape[3]) {\n        x = getX(b, r, c, xDepth);\n      }\n      lrnSub[localDepth] = x;\n      workgroupBarrier();\n\n      if (localDepth < elementsPerWorkgroup && d < uniforms.outShape[3]) {\n        var sum = 0.0;\n        let index = localDepth + maxAllowRadius;\n        for (var i = -uniforms.radius; i <= uniforms.radius; i = i + 1) {\n          let z = lrnSub[index + i];\n          sum = sum + z * z;\n        }\n        ${Bre}\n\n        setOutputAtCoords(b, r, c, d, lrnSub[index] * powValue);\n      }\n    } `}}const Ure={kernelName:Gq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:l}=r;let u;u=i>16?new Vre(o.shape):new zre(o.shape,i);const c=[{type:"int32",data:[i]},{type:"float32",data:[a]},{type:"float32",data:[s]},{type:"float32",data:[l]}];return n.runWebGPUProgram(u,[o],o.dtype,c)}};class Wre{constructor(e){this.outputShape=[],this.variableNames=["inputImage","outputImage","dy"],this.uniforms="depthRadius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="lrn_grad"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getOutputCoords();\n        let b = coords[0];\n        let r = coords[1];\n        let c = coords[2];\n\n        let MIN_DEPTH_BEGIN = 0;\n        let MAX_DEPTH_END = uniforms.outShape[3];\n        var result = 0.0;\n        for (var d = MIN_DEPTH_BEGIN; d < MAX_DEPTH_END; d++) {\n          let depthBegin = max(MIN_DEPTH_BEGIN, d - uniforms.depthRadius);\n          let depthEnd = min(MAX_DEPTH_END, d + uniforms.depthRadius + 1);\n\n          var norm = 0.0;\n          for (var k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; k++) {\n            if (k < depthBegin) {\n              continue;\n            } else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            } else {\n              break;\n            }\n          }\n\n          norm = uniforms.alpha * norm + uniforms.bias;\n\n          for (var k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; k++) {\n            if (k < depthBegin) {\n              continue;\n            } else if (k >= depthBegin && k < depthEnd) {\n              var dyi = -2.0 * uniforms.alpha * uniforms.beta\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d) / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * uniforms.beta);\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            } else {\n              break;\n            }\n          }\n        }\n\n        setOutputAtIndex(index, result);\n      }\n    }\n  `}}const qre={kernelName:Xq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new Wre(o.shape),p=[{type:"int32",data:[s]},{type:"float32",data:[l]},{type:"float32",data:[u]},{type:"float32",data:[c]}];return n.runWebGPUProgram(d,[o,i,a],o.dtype,p)}},Hre=t7({opType:o6.MAX,cpuKernelImpl:z9}),Gre={kernelName:Yq,backendName:"webgpu",kernelFunc:Hre};const Xre={kernelName:Qq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;return Hee(o,GQ(o.shape,i,a,1,s,l),"max",n)}};const Kre={kernelName:Zq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=XQ(o.shape,i,a,[1,1,1],s,u,l),d=new Vee(c,"max"),p=[{type:"int32",data:[c.strideDepth,c.strideHeight,c.strideWidth]},{type:"int32",data:[c.padInfo.front,c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.inDepth,c.inHeight,c.inWidth]},{type:"int32",data:[c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth]}];return n.runWebGPUProgram(d,[o],o.dtype,p)}};class Yre{constructor(e){this.variableNames=["dy","maxPos"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, filterDims : vec2<i32>,\n       outHeight : i32, outWidth : i32",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="maxPool2DBackprop"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords[0];\n        let d = coords[3];\n\n        let dyRCCorner = vec2<i32>(coords.yz) - uniforms.pads;\n        let dyRCorner = dyRCCorner.x;\n        let dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        let lastIndex = uniforms.filterDims[0] * uniforms.filterDims[1] - 1;\n        for (var wR = 0; wR < uniforms.filterDims[0]; wR += uniforms.dilations[0]) {\n          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);\n\n          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n            continue;\n          }\n          let idyR = i32(dyR);\n\n          for (var wC = 0; wC < uniforms.filterDims[1]; wC += uniforms.dilations[1]) {\n            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);\n\n            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n              continue;\n            }\n            let idyC = i32(dyC);\n\n            let dyValue = getDy(batch, idyR, idyC, d);\n            let maxPosValue = lastIndex - i32(getMaxPos(batch, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            let curPosValue = wR * uniforms.filterDims[1] + wC;\n            let mask = select(0.0, 1.0, maxPosValue == curPosValue);\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}class Qre{constructor(e){this.variableNames=["dy","maxPos"],this.uniforms="strides : vec3<i32>, pads : vec3<i32>, filterDims : vec3<i32>,\n      outDepth : i32, outHeight : i32, outWidth : i32",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="maxPool3DBackprop"}getUserCode(){return`\n      ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords.x;\n        let ch = coords.u;\n\n        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;\n        let dyDCorner = dyCorner.x;\n        let dyRCorner = dyCorner.y;\n        let dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        let lastIndex = uniforms.filterDims[0] * uniforms.filterDims[1] * uniforms.filterDims[2] - 1;\n\n        for (var wD = 0; wD < uniforms.filterDims[0]; wD++) {\n          let dyD = f32(dyDCorner + wD) / f32(uniforms.strides[0]);\n\n          if (dyD < 0.0 || dyD >= f32(uniforms.outDepth) || fract(dyD) > 0.0) {\n            continue;\n          }\n          let idyD = i32(dyD);\n\n          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {\n            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);\n\n            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {\n              continue;\n            }\n            let idyR = i32(dyR);\n\n            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {\n              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);\n\n              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {\n                continue;\n              }\n              let idyC = i32(dyC);\n\n              let dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              let maxPosValue = lastIndex - i32(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              let curPosValue = wD * uniforms.filterDims[1] * uniforms.filterDims[2] + wR * uniforms.filterDims[2] + wC;\n              let mask = select(0.0, 1.0, maxPosValue == curPosValue);\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n    `}}const Jre={kernelName:eH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=XQ(a.shape,s,l,[1,1,1],u,c),p=new Vee(d,"max",!0);let h=[{type:"int32",data:[d.strideDepth,d.strideHeight,d.strideWidth]},{type:"int32",data:[d.padInfo.front,d.padInfo.top,d.padInfo.left]},{type:"int32",data:[d.inDepth,d.inHeight,d.inWidth]},{type:"int32",data:[d.effectiveFilterDepth,d.effectiveFilterHeight,d.effectiveFilterWidth]}];const f=n.runWebGPUProgram(p,[a],"int32",h),m=new Qre(d);h=[{type:"int32",data:[d.strideDepth,d.strideHeight,d.strideWidth]},{type:"int32",data:[d.effectiveFilterDepth-1-d.padInfo.front,d.effectiveFilterHeight-1-d.padInfo.top,d.effectiveFilterWidth-1-d.padInfo.left]},{type:"int32",data:[d.effectiveFilterDepth,d.effectiveFilterHeight,d.effectiveFilterWidth]},{type:"int32",data:[d.outDepth]},{type:"int32",data:[d.outHeight]},{type:"int32",data:[d.outWidth]}];const g=n.runWebGPUProgram(m,[o,f],a.dtype,h);return n.disposeData(f.dataId),g}};const Zre={kernelName:Jq,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;e6([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=GQ(s.shape,l,u,1,c,d),h=new Bee(p,"max",!0);let f=[{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.padInfo.top,p.padInfo.left]},{type:"int32",data:[p.dilationHeight,p.dilationWidth]},{type:"int32",data:[p.inHeight,p.inWidth]},{type:"int32",data:[p.effectiveFilterHeight,p.effectiveFilterWidth]}];const m=n.runWebGPUProgram(h,[s],"int32",f),g=new Yre(p);f=[{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.effectiveFilterHeight-1-p.padInfo.top,p.effectiveFilterWidth-1-p.padInfo.left]},{type:"int32",data:[p.dilationHeight,p.dilationWidth]},{type:"int32",data:[p.effectiveFilterHeight,p.effectiveFilterWidth]},{type:"int32",data:[p.outHeight]},{type:"int32",data:[p.outWidth]}];const y=n.runWebGPUProgram(g,[o,m],s.dtype,f);return n.disposeData(m.dataId),y}};const eoe={kernelName:tH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{filterSize:o,strides:i,pad:a,includeBatchInIndex:s}=r,{x:l}=t;MU(4===l.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${l.shape.length}.`));const u=[1,1];MU(rJ(i,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`));const c=GQ(l.shape,o,i,u,a),d=[{type:"int32",data:[c.strideHeight,c.strideWidth]},{type:"int32",data:[c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.dilationHeight,c.dilationWidth]},{type:"int32",data:[c.inHeight,c.inWidth]},{type:"int32",data:[c.effectiveFilterHeight,c.effectiveFilterWidth]}];let p=new Bee(c,"max",!1);const h=n.runWebGPUProgram(p,[l],l.dtype,d);return p=new Bee(c,"max",!0,!0,s),[h,n.runWebGPUProgram(p,[l],"int32",d)]}};const toe={kernelName:rH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return See(o,i,a,"min",n)}},noe=t7({opType:o6.MIN,cpuKernelImpl:U9}),roe={kernelName:oH,backendName:"webgpu",kernelFunc:noe};class ooe{constructor(e,t,n){this.uniforms="",this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1])),this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.xShape=e,t.map(((e,t)=>{this.uniforms+=` pad${t} : vec2<i32>,`})),this.offset="reflect"===n?0:1,this.shaderKey=`mirrorPad_${n}`}getUserCode(){const e=this.xShape.length,t=this.xShape.map(((e,t)=>`uniforms.pad${t}[0]`)).join(","),n=this.xShape.map(((t,n)=>`uniforms.pad${n}[0] + uniforms.xShape${e>1?`[${n}]`:""}`)).join(","),r=1===e?"start":"start[i]",o=1===e?"end":"end[i]",i=1===e?"outC":"outC[i]",a=L5(e),s=e>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,e):"coords";return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let start = ${a}(${t});\n          let end = ${a}(${n});\n          var outC = getCoordsFromIndex(index);\n          for (var i = 0; i < ${e}; i = i + 1) {\n            if (${i} < ${r}) {\n              ${i} = ${r} * 2 - ${i} - ${this.offset};\n            } else if(${i} >= ${o}) {\n              ${i} = (${o} - 1) * 2 - ${i} + ${this.offset};\n            }\n          }\n          let coords = outC - start;\n          setOutputAtIndex(index, getX(${s}));\n        }\n      }\n    `}}const ioe={kernelName:iH,backendName:"webgpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{paddings:i,mode:a}=n,s=r,l=i.map((e=>({type:"int32",data:[e[0],e[1]]}))),u=new ooe(o.shape,i,a);return s.runWebGPUProgram(u,[o],o.dtype,l)}},aoe=t7({opType:o6.MOD}),soe={kernelName:aH,backendName:"webgpu",kernelFunc:aoe};class loe{constructor(e,t){this.variableNames=["probs"],this.outputShape=[],this.uniforms="seed : f32, numOutcomes: i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,t],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="multinomial"}getUserCode(){return`\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    fn random (seed : f32, resultUV : vec2<f32>) -> f32 {\n      let HASHSCALE1 = 443.8975;\n      let p = resultUV * seed;\n      var p3  = fract(vec3<f32>(p.xyx) * HASHSCALE1);\n      p3 = p3 + dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let coords = getOutputCoords();\n        let batch = coords[0];\n\n        let resUV = vec2<f32>(f32(coords[1]) / f32(uniforms.outShape[1]),\n            f32(coords[0]) / f32(uniforms.outShape[0]));\n        let r = random(uniforms.seed, resUV);\n        var cdf = 0.0;\n        for (var i = 0; i < uniforms.numOutcomes - 1; i = i + 1) {\n          cdf = cdf + getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutputAtIndexI32(index, i);\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutputAtIndexI32(index, uniforms.numOutcomes - 1);\n      }\n    }\n  `}}class uoe{constructor(e){this.variableNames=["logits"],this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=[this.outputShape[0],1,1],this.outputShape[1]>=4096?this.workgroupSize=[256,1,1]:this.workgroupSize=[64,1,1],this.shaderKey="softmax"}getUserCode(){return`\n    var<workgroup> buf : array<f32, ${this.workgroupSize[0]}>;\n    var<workgroup> rowMaxShared : f32;\n    var<workgroup> rowSumShared : f32;\n    const blockSize = ${this.workgroupSize[0]};\n    ${j5("index")} {\n      let row = index / blockSize;\n      let tid = i32(localId.x);\n      let cols = uniforms.outShape[1];\n\n      var threadMax = -3.402823e+38f;\n      for (var col = tid; col < cols; col += blockSize) {\n        let value = getLogits(row, col);\n        threadMax = max(threadMax, value);\n      }\n      if (tid < cols) {\n        buf[tid] = threadMax;\n      }\n      workgroupBarrier();\n\n      var reduceSize = min(cols, blockSize);\n      for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {\n        reduceSize = currSize + (reduceSize & 1);\n        if (tid < currSize) {\n          buf[tid] = max(buf[tid], buf[tid + reduceSize]);\n        }\n        workgroupBarrier();\n      }\n\n      if (tid == 0) {\n        rowMaxShared = buf[0];\n      }\n      workgroupBarrier();\n\n      var threadSum = 0.0;\n      for (var col = tid; col < cols; col += blockSize) {\n        let subExp = exp(getLogits(row, col) - rowMaxShared);\n        threadSum += subExp;\n      }\n      buf[tid] = threadSum;\n      workgroupBarrier();\n\n      for (var currSize = blockSize >> 1;  currSize > 0; currSize = currSize >> 1) {\n        if (tid < currSize) {\n          buf[tid] = buf[tid] + buf[tid + currSize];\n        }\n        workgroupBarrier();\n      }\n\n      if (tid == 0) {\n        rowSumShared = buf[0];\n      }\n      workgroupBarrier();\n\n      for (var col = tid; col < cols; col += blockSize) {\n        let value = exp(getLogits(row, col) - rowMaxShared) / rowSumShared;\n        setOutputAtCoords(row, col, value);\n      }\n  }\n    `}}function coe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=U8({inputs:{x:o},backend:n,attrs:{shape:[$U(o.shape)/o.shape[i],o.shape[i]]}}),s=new uoe(a.shape),l=n.runWebGPUProgram(s,[a],o.dtype),u=U8({inputs:{x:l},backend:n,attrs:{shape:o.shape}});return n.disposeData(a.dataId),n.disposeData(l.dataId),u}const doe={kernelName:JH,backendName:"webgpu",kernelFunc:coe};const poe={kernelName:sH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r,l=s?o:coe({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new loe(u,i),p=[{type:"float32",data:[a]},{type:"int32",data:[c]}],h=n.runWebGPUProgram(d,[l],"int32",p);return s||n.disposeData(l.dataId),h}};const hoe={kernelName:uH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.tensorMap.get(r.dataId),[t,o]=q9(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}const o=new Z8(r.shape,D6.NEG);return n.runWebGPUProgram(o,[r],r.dtype)}};const foe={kernelName:dH,backendName:"webgpu",kernelFunc:function(e){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(o.dataId),c=n.readSync(i.dataId),{selectedIndices:d}=u2(u,c,a,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}};const moe={kernelName:hH,backendName:"webgpu",kernelFunc:function(e){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(o.dataId),d=n.readSync(i.dataId),p=a,h=s,f=l,m=u,{selectedIndices:g,selectedScores:y}=d2(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class goe{constructor(e,t){this.variableNames=["x"],this.uniforms="onValue : f32, offValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,t],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="onehot"}getUserCode(){return`\n      ${j5("index")} {\n        if(index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          setOutputAtIndex(index, mix(uniforms.offValue, uniforms.onValue,\n                                      f32(i32(round(getX(coords.x))) == coords.y)));\n        }\n      }\n    `}}const yoe={kernelName:mH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:l}=r,u=$U(o.shape),c=new goe(u,a),d=U8({inputs:{x:o},backend:n,attrs:{shape:[u]}}),p=[{type:"float32",data:[s]},{type:"float32",data:[l]}],h=n.runWebGPUProgram(c,[d],i,p);n.disposeData(d.dataId);const f=U8({inputs:{x:h},backend:n,attrs:{shape:[...o.shape,a]}});return n.disposeData(h.dataId),f}};function voe(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=pte({inputs:{input:r},backend:n}),t=voe({inputs:{x:e},backend:n}),o=Cte({inputs:{input:r},backend:n}),i=voe({inputs:{x:o},backend:n}),a=Q8({inputs:{real:t,imag:i},backend:n});return n.disposeData(e.dataId),n.disposeData(t.dataId),n.disposeData(o.dataId),n.disposeData(i.dataId),a}return V8({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const boe={kernelName:wG,backendName:"webgpu",kernelFunc:voe};const xoe={kernelName:fH,backendName:"webgpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=pte({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=Cte({inputs:{input:o},backend:r}),a=voe({inputs:{x:i},backend:r}),s=Q8({inputs:{real:n,imag:a},backend:r});return r.disposeData(t.dataId),r.disposeData(n.dataId),r.disposeData(i.dataId),r.disposeData(a.dataId),s}return V8({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}};const woe={kernelName:gH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return Bne({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{DU(i,e.shape,"All tensors passed to stack must have matching shapes"),MU(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=Tte({inputs:t.map((e=>{const t=Bne({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeData(e.dataId))),l}};function Aoe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length,r=L5(n),o=e.map(((e,t)=>`uniforms.pad${t}[0]`)).join(","),i=e.map(((e,t)=>`uniforms.pad${t}[0] + uniforms.xShape${n>1?`[${t}]`:""}`)).join(",");return`\n        let start = ${n>1?`${r}(${o})`:`${o}`};\n        let end = ${n>1?`${r}(${i})`:`${i}`};\n        if (${n>1?"any(paddedCoords < start)":"paddedCoords < start"} || ${n>1?"any(paddedCoords >= end)":"paddedCoords >= end"}) {\n          setOutputAtIndex(index, ${t?0:"uniforms.constantValue"});\n        } else {\n          let coords = paddedCoords - start;\n          setOutputAtIndex(index, getX(${n>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n):"coords"}));\n        }\n  `}class Soe{constructor(e,t){this.variableNames=["x"],this.uniforms="constantValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1])),this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),t.map(((e,t)=>{this.uniforms+=` pad${t} : vec2<i32>,`})),this.xShape=e,this.shaderKey="pad"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let paddedCoords = getCoordsFromIndex(index);\n          ${Aoe(this.xShape)}\n        }\n      }\n    `}}const Coe={kernelName:yH,backendName:"webgpu",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;if(i.every((e=>FU(e,[0,0]))))return K8({inputs:{x:o},backend:n});if(0===$U(o.shape)){const e=i.map(((e,t)=>e[0]+o.shape[t]+e[1]));return V8({backend:n,attrs:{shape:e,value:a,dtype:o.dtype}})}const s=[{type:"float32",data:[a]}];i.map((e=>s.push({type:"int32",data:[e[0],e[1]]})));const l=new Soe(o.shape,i);return n.runWebGPUProgram(l,[o],o.dtype,s)}},koe=t7({opType:o6.POW}),Eoe={kernelName:vH,backendName:"webgpu",kernelFunc:koe};const Toe={kernelName:bH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,i=new X8(o6.PRELU,r.shape,o.shape);return n.runWebGPUProgram(i,[r,o],"float32")}};const Ioe={kernelName:xH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return See(o,i,a,"prod",n)}},Ooe={kernelName:CH,backendName:"webgpu",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:i,dtype:a}=n,s=X9(r,o,i,a);return t.makeTensorInfo([s.length],a,s)}},Roe=t7({opType:o6.DIV}),Noe={kernelName:hq,backendName:"webgpu",kernelFunc:Roe},_oe=e7({opType:D6.RECIPROCAL}),Poe={kernelName:EH,backendName:"webgpu",kernelFunc:_oe},Moe=e7({opType:D6.RELU}),Doe={kernelName:TH,backendName:"webgpu",kernelFunc:Moe},Loe=e7({opType:D6.RELU6}),$oe={kernelName:PH,backendName:"webgpu",kernelFunc:Loe};class joe{constructor(e,t,n){this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, halfPixelCenters : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e[0],t,n,e[3]],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="resizeBilinear"}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let d = coords[3];\n          let rc = coords.yz;\n\n          let effectiveInSize = vec2<f32>(\n            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveOutSize = vec2<f32>(\n            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveInputOverOutputRatioRC =\n              effectiveInSize / effectiveOutSize;\n\n          // Fractional source index\n          let sourceFracIndexRC =\n            (vec2<f32>(rc) + vec2<f32>(uniforms.halfPixelCenters)) *\n            effectiveInputOverOutputRatioRC - vec2<f32>(uniforms.halfPixelCenters);\n\n          // Compute the four integer indices.\n          let sourceFloorRC = vec2<i32>(sourceFracIndexRC);\n          let sourceCeilRC = vec2<i32>(\n            min(vec2<f32>(uniforms.xShape.yz) - vec2<f32>(1.0), ceil(sourceFracIndexRC)));\n\n          let topLeft = getX(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          let bottomLeft = getX(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          let topRight = getX(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          let bottomRight = getX(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          let fracRC = sourceFracIndexRC - vec2<f32>(sourceFloorRC);\n\n          let top = topLeft + (topRight - topLeft) * fracRC.y;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          let newValue = top + (bottom - top) * fracRC.x;\n\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    `}}const Foe={kernelName:NH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,size:a,halfPixelCenters:s}=r,[l,u]=a,c=[{type:"float32",data:[i&&l>1?1:0,i&&u>1?1:0]},{type:"float32",data:[s?.5:0]}],d=new joe(o.shape,l,u);return n.runWebGPUProgram(d,[o],"float32",c)}};class Boe{constructor(e,t){this.variableNames=["dy"],this.uniforms="effectiveXSize : vec2<i32>, effectiveYSize : vec2<i32>, heightScale : f32, widthScale : f32,\n       invHeightScale : f32, invWidthScale : f32, winHeight : i32, winWidth : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.alignCorners=t,this.shaderKey=`resizeBilinearBackprop_${t}`}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getOutputCoords();\n          let b = coords[0];\n          let d = coords[3];\n          let r = coords[1];\n          let c = coords[2];\n\n          var accumulator = 0.0;\n\n          // Compute bounds for where in dy we will look\n          let startRLerp = floor(f32(r) * uniforms.invHeightScale);\n          let startDyR = i32(startRLerp - f32(uniforms.winHeight / 2));\n\n          let startCLerp = floor(f32(c) * uniforms.invWidthScale);\n          let startDyC = i32(startCLerp - f32(uniforms.winWidth / 2));\n\n          // Loop over dy\n          for (var dyROffset = 0; dyROffset < uniforms.winHeight; dyROffset++) {\n            let dyR = startDyR + dyROffset;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyR < 0 || dyR >= uniforms.dyShape[1]) {\n              continue;\n            }\n\n            for (var dyCOffset = 0; dyCOffset < uniforms.winWidth; dyCOffset++) {\n              let dyC = startDyC + dyCOffset;\n\n              // Guard against the window exceeding the bounds of dy\n              if (dyC < 0 || dyC >= uniforms.dyShape[2]) {\n                continue;\n              }\n\n              let dxR = f32(dyR) * uniforms.heightScale;\n              let topDxRIndex = i32(floor(dxR));\n              let bottomDxRIndex = i32(min(ceil(dxR), f32(uniforms.outShape[1] - 1)));\n              let dxRLerp = dxR - f32(topDxRIndex);\n              let inverseDxRLerp = 1.0 - dxRLerp;\n\n              let dxC = f32(dyC) * uniforms.widthScale;\n              let leftDxCIndex = i32(floor(dxC));\n              let rightDxCIndex = i32(min(ceil(dxC), f32(uniforms.outShape[2] - 1)));\n              let dxCLerp = dxC - f32(leftDxCIndex);\n              let inverseDxCLerp = 1.0 - dxCLerp;\n\n              if (r == topDxRIndex && c == leftDxCIndex) {\n                // topLeft\n                accumulator +=\n                  getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n              }\n\n              if (r == topDxRIndex && c == rightDxCIndex) {\n                // topRight\n                accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n              }\n\n              if (r == bottomDxRIndex && c == leftDxCIndex) {\n                // bottomLeft\n                accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n              }\n\n              if (r == bottomDxRIndex && c == rightDxCIndex) {\n                // bottomRight\n                accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n              }\n            }\n          }\n          // End loop over dy\n\n          setOutputAtIndex(index, accumulator);\n        }\n      }\n    `}}const Voe={kernelName:_H,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,[,s,l]=o.shape,[,u,c]=i.shape,d=[a&&u>1?s-1:s,a&&c>1?l-1:l],p=[a&&u>1?u-1:u,a&&c>1?c-1:c],h=d[0]/p[0],f=d[1]/p[1],m=1/h,g=1/f,y=2*Math.ceil(m)+2,v=2*Math.ceil(g)+2,b=new Boe(o.shape,a),x=[{type:"int32",data:d},{type:"int32",data:p},{type:"float32",data:[h]},{type:"float32",data:[f]},{type:"float32",data:[m]},{type:"float32",data:[g]},{type:"int32",data:[y]},{type:"int32",data:[v]}];return n.runWebGPUProgram(b,[i],i.dtype,x)}};class zoe{constructor(e,t,n,r){this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, roundBase : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e[0],t,n,e[3]],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.halfPixelCenters=r,this.shaderKey=`resizeNearest_${r}`}getUserCode(){let e;e=this.halfPixelCenters?"max((vec2<f32>(rc) + vec2<f32>(0.5)) * effectiveInputOverOutputRatioRC, vec2<f32>(0.0))":"vec2<f32>(rc) * effectiveInputOverOutputRatioRC";return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let d = coords[3];\n          let rc = coords.yz;\n\n          let effectiveInSize = vec2<f32>(\n            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveOutSize = vec2<f32>(\n            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveInputOverOutputRatioRC =\n              effectiveInSize / effectiveOutSize;\n\n          // Fractional source index\n          let sourceFracIndexRC = ${e};\n\n          // Compute the coordinators of nearest neighbor point.\n          let inputShapeRC = vec2<f32>(f32(uniforms.xShape.y), f32(uniforms.xShape.z));\n          let sourceNearestRC = vec2<i32>(\n            min(inputShapeRC - 1.0, floor(sourceFracIndexRC + uniforms.roundBase)));\n          let newValue = getX(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    `}}const Uoe={kernelName:OH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=[{type:"float32",data:[i&&l>1?1:0,i&&u>1?1:0]},{type:"float32",data:[i?.5:0]}],d=new zoe(o.shape,l,u,a);return n.runWebGPUProgram(d,[o],o.dtype,c)}};class Woe{constructor(e,t){this.variableNames=["dy"],this.uniforms="effectiveXSize : vec2<i32>, effectiveYSize : vec2<i32>, invHeightScale : f32, invWidthScale : f32,\n       winHeight : i32, winWidth : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.alignCorners=t,this.shaderKey=`resizeNearestNeigborBackprop_${t}`}getUserCode(){return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getOutputCoords();\n          let b = coords[0];\n          let d = coords[3];\n          let r = coords[1];\n          let c = coords[2];\n\n          var accumulator = 0.0;\n\n          // Compute bounds for where in dy we will look\n          let startRLerp = floor(f32(r) * uniforms.invHeightScale);\n          let startDyR = i32(floor(startRLerp - f32(uniforms.winHeight / 2)));\n\n          let startCLerp = floor(f32(c) * uniforms.invWidthScale);\n          let startDyC = i32(floor(startCLerp - f32(uniforms.winWidth / 2)));\n\n          // Loop over dy\n          for (var dyROffset = 0; dyROffset < uniforms.winHeight; dyROffset++) {\n            let dyR = startDyR + dyROffset;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyR < 0 || dyR >= uniforms.dyShape[1]) {\n              continue;\n            }\n\n            for (var dyCOffset = 0; dyCOffset < uniforms.winWidth; dyCOffset++) {\n              let dyC = startDyC + dyCOffset;\n\n              // Guard against the window exceeding the bounds of dy\n              if (dyC < 0 || dyC >= uniforms.dyShape[2]) {\n                continue;\n              }\n\n              let sourceFracRow = f32(uniforms.effectiveXSize[0]) *\n                  (f32(dyR) / f32(uniforms.effectiveYSize[0]));\n\n              let sourceFracCol = f32(uniforms.effectiveXSize[1]) *\n                  (f32(dyC) / f32(uniforms.effectiveYSize[1]));\n\n              let sourceNearestRow =\n                  i32(min(f32(uniforms.outShape[1] - 1),\n                  ${this.alignCorners?"floor(sourceFracRow + 0.5)":"floor(sourceFracRow)"}));\n\n              let sourceNearestCol =\n                  i32(min(f32(uniforms.outShape[2] - 1),\n                  ${this.alignCorners?"floor(sourceFracCol + 0.5)":"floor(sourceFracCol)"}));\n\n              if (r == sourceNearestRow && c == sourceNearestCol) {\n                accumulator += getDy(b, dyR, dyC, d);\n              }\n            }\n          }\n          // End loop over dy\n\n          setOutputAtIndex(index, accumulator);\n        }\n      }\n    `}}const qoe={kernelName:RH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,[,s,l]=o.shape,[,u,c]=i.shape,d=[a&&u>1?s-1:s,a&&c>1?l-1:l],p=[a&&u>1?u-1:u,a&&c>1?c-1:c],h=1/(d[0]/p[0]),f=1/(d[1]/p[1]),m=2*Math.ceil(h)+2,g=2*Math.ceil(f)+2,y=new Woe(o.shape,a),v=[{type:"int32",data:d},{type:"int32",data:p},{type:"float32",data:[h]},{type:"float32",data:[f]},{type:"int32",data:[m]},{type:"int32",data:[g]}];return n.runWebGPUProgram(y,[i],i.dtype,v)}};class Hoe{constructor(e){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms=" axis : vec4<i32>,",this.shaderKey="reverse"}getUserCode(){return`\n      \n      // Using uniform variables as judging conditions, so the function has\n      // coherent execution within all threads.\n      fn getReverseCoords(coords : vec4<i32>) -> vec4<i32> {\n        var reverseCoords = coords;\n        if (uniforms.axis[0] == 1) {\n          reverseCoords[0] = uniforms.xShape[0] - coords[0] - 1;\n        }\n        if (uniforms.axis[1] == 1) {\n          reverseCoords[1] = uniforms.xShape[1] - coords[1] - 1;\n        }\n        if (uniforms.axis[2] == 1) {\n          reverseCoords[2] = uniforms.xShape[2] - coords[2] - 1;\n        }\n        if (uniforms.axis[3] == 1) {\n          reverseCoords[3] = uniforms.xShape[3] - coords[3] - 1;\n        }\n\n        return reverseCoords;\n      }\n    \n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let reverseCoords = getReverseCoords(coords);\n          setOutputAtIndex(index, getX(reverseCoords[0],\n              reverseCoords[1], reverseCoords[2], reverseCoords[3]));\n        }\n      }\n    `}}const Goe={kernelName:MH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r,a=o.shape.length;if(0===a)return K8({inputs:{x:o},backend:n});const s=o.shape,l=[1,1,1,1];s.forEach(((e,t)=>{l[t+4-a]=e}));const u=qU(i,o.shape),c=[0,0,0,0];u.forEach((e=>{c[e+4-a]=1}));const d=[{type:"int32",data:c}],p=U8({inputs:{x:o},backend:n,attrs:{shape:l}}),h=new Hoe(l),f=n.runWebGPUProgram(h,[p],p.dtype,d);n.disposeData(p.dataId);const m=U8({inputs:{x:f},backend:n,attrs:{shape:s}});return n.disposeData(f.dataId),m}};class Xoe{constructor(e,t){this.outputShape=[],this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms="centerX : f32, centerY : f32, sinRadians : f32,\n          cosRadians : f32,",this.shaderKey="rotate",this.outputShape=e,"number"===typeof t?(this.uniforms+=" fillValue : f32,",this.fillSnippet="var outputValue = uniforms.fillValue;",this.shaderKey+="_float"):(this.uniforms+=" fillValue : vec3<f32>,",this.fillSnippet="var outputValue = uniforms.fillValue[coords[3]];",this.shaderKey+="_vec3")}getUserCode(){return`\n        ${j5("index")} {\n          if (index < uniforms.size) {\n            let coords = getCoordsFromIndex(index);\n            let coordXFloat = (f32(coords[2]) - uniforms.centerX) *\n                uniforms.cosRadians - (f32(coords[1]) - uniforms.centerY) *\n                uniforms.sinRadians;\n            let coordYFloat = (f32(coords[2]) - uniforms.centerX) *\n                uniforms.sinRadians + (f32(coords[1]) - uniforms.centerY) *\n                uniforms.cosRadians;\n            let coordX = i32(round(coordXFloat + uniforms.centerX));\n            let coordY = i32(round(coordYFloat + uniforms.centerY));\n            ${this.fillSnippet}\n            if(coordX >= 0 && coordX < uniforms.xShape[2] && coordY >= 0 &&\n                coordY < uniforms.xShape[1]) {\n              outputValue = getX(coords[0], coordY, coordX, coords[3]);\n            }\n            setOutputAtIndex(index, outputValue);\n          }\n        }\n      `}}const Koe={kernelName:CG,backendName:"webgpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:i,fillValue:a,center:s}=n,l=r,u=new Xoe(o.shape,a),[c,d]=s3(s,o.shape[1],o.shape[2]),p=[{type:"float32",data:[c]},{type:"float32",data:[d]},{type:"float32",data:[Math.sin(i)]},{type:"float32",data:[Math.cos(i)]}];"number"===typeof a?p.push({type:"float32",data:[Number.parseFloat(a.toFixed(2))]}):p.push({type:"float32",data:a});return l.runWebGPUProgram(u,[o],o.dtype,p)}},Yoe=e7({opType:D6.ROUND}),Qoe={kernelName:DH,backendName:"webgpu",kernelFunc:Yoe},Joe=e7({opType:D6.RSQRT,cpuKernelImpl:K9}),Zoe={kernelName:LH,backendName:"webgpu",kernelFunc:Joe};class eie{constructor(e,t,n,r,o,i,a){let s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];this.variableNames=["updates","indices"],this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=i,this.type=a,this.sumDupeIndices=s,this.dispatchLayout=Q5(e),this.dispatch=X5(this.dispatchLayout,e,this.workgroupSize),this.sliceDimGreaterThanOne=t>1,this.shaderKey=`scatter_${n}_${r}_${this.sliceDimGreaterThanOne}_${a}_${s}_${o.length}`;const l=L5(o.length);this.uniforms=`sliceDim : i32, strides: ${l}, updatesSize: i32,`,this.updatesRank=r,this.indicesRank=n}getUserCode(){let e="";1===this.indicesRank?e="coords[0]":2===this.indicesRank&&(e="coords[0], j");const t=`getIndices(${e})`,n=this.sliceDimGreaterThanOne?"uniforms.strides[j]":"uniforms.strides";let r="",o="";1===this.dispatchLayout.x.length?(r="flattenedIndex",o="\n      fn getUpdatesCoordsFromFlatIndex(index : i32) -> i32 {\n        return index;\n      }\n      "):2===this.dispatchLayout.x.length&&(r="vec2<i32>(flattenedIndex, coords[1])",o="\n      fn getUpdatesCoordsFromFlatIndex(index : i32) -> vec2<i32> {\n        // N.B. |updates| could be a scalar tensor, conceptually representing a\n        // 2D tensor with all values equal to that. By design, its size must be\n        // the same as |outShape[1]| in one dimension, and |indicesShape[0]|\n        // gives the other.\n        let sliceSize = uniforms.outShape[1];\n        let d0 = index / sliceSize;\n        let d1 = index - d0 * sliceSize;\n        return vec2<i32>(d0, d1);\n      }\n      ");const i=`getUpdates(${Array.from({length:this.updatesRank},((e,t)=>`coords[${t}]`)).join(", ")})`;return`\n    ${o}\n      ${j5("index")} {\n        if (index < uniforms.updatesSize) {\n          let coords = getUpdatesCoordsFromFlatIndex(index);\n          var flattenedIndex = 0;\n          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {\n            let indexInside = i32(round(${t}));\n            flattenedIndex = flattenedIndex + indexInside * ${n};\n          }\n          let updateValue =\n              ${q5(this.type)}(${i});\n          let flatIndex = getOutputIndexFromCoords(${r});\n\n          ${this.sumDupeIndices?_5("&result[flatIndex]","updateValue",this.type):"atomicStore(&result[flatIndex], bitcast<i32>(updateValue));"}\n        }\n      }`}}const tie={kernelName:$H,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=b1(0,o,a),p=[d/u,u];if(0===d)return n.makeTensorInfo(a,o.dtype);const h=U8({inputs:{x:o},backend:n,attrs:{shape:[l,s]}}),f=U8({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=f.dtype,g=V8({backend:n,attrs:{shape:p,value:0,dtype:m}}),y=[{type:"int32",data:[s]},{type:"int32",data:c},{type:"int32",data:[$U(f.shape)]}],v=new eie(f.shape,s,h.shape.length,f.shape.length,c,p,m),b=n.runWebGPUProgram(v,[f,h],m,y,g),x=U8({inputs:{x:b},backend:n,attrs:{shape:a}});return n.disposeData(h.dataId),n.disposeData(f.dataId),n.disposeData(b.dataId),x}};class nie{constructor(e,t){this.outputShape=[],this.variableNames=["sortedSequence","values"],this.uniforms="numInputs : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.side=t,this.shaderKey=`search_sorted_${t}`}getUserCode(){return`\n      fn findBound(batch: i32, value: f32) -> i32 {\n        var left = i32(0);\n        var right = uniforms.numInputs;\n        while (left < right) {\n          var mid = (left + right) / 2;\n          if (getSortedSequence(batch, mid) ${"left"===this.side?"<":"<="} value) {\n            left = mid + 1;\n          } else {\n            right = mid;\n          }\n        }\n        return right;\n      }\n\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let value = getValuesByOutputIndex(index);\n          setOutputAtIndexI32(index, findBound(coords[0], value));\n        }\n      }\n    `}}const rie={kernelName:FH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=new nie([i.shape[0],i.shape[1]],a),l=[{type:"int32",data:[o.shape[1]]}];return n.runWebGPUProgram(s,[o,i],"int32",l)}};class oie{constructor(e,t,n){this.variableNames=["c","a","b"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.cRank=e,this.rank=n,this.shaderKey="select"}getUserCode(){let e,t;if(this.rank>4)throw Error(`Where for rank ${this.rank} is not yet supported`);if(1===this.rank)t="resRC",e="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],o=[];for(let e=0;e<this.outputShape.length;e++)o.push(`${n[e]}`),e<this.cRank&&r.push(`${n[e]}`);e=r.join(),t=o.join()}return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          let cVal = getC(${e});\n          if (cVal >= 1.0) {\n            setOutputAtIndex(index, getA(${t}));\n          } else {\n            setOutputAtIndex(index, getB(${t}));\n          }\n        }\n      }\n    `}}const iie={kernelName:BH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t,a=new oie(r.shape.length,o.shape,o.shape.length);return n.runWebGPUProgram(a,[r,o,i],OX(o.dtype,i.dtype))}},aie=e7({opType:D6.SELU}),sie={kernelName:VH,backendName:"webgpu",kernelFunc:aie},lie=e7({opType:D6.SIGMOID}),uie={kernelName:HH,backendName:"webgpu",kernelFunc:lie},cie=e7({opType:D6.SIGN}),die={kernelName:qH,backendName:"webgpu",kernelFunc:cie},pie=e7({opType:D6.SIN}),hie={kernelName:UH,backendName:"webgpu",kernelFunc:pie},fie=e7({opType:D6.SINH}),mie={kernelName:WH,backendName:"webgpu",kernelFunc:fie},gie=e7({opType:D6.SOFTPLUS}),yie={kernelName:GH,backendName:"webgpu",kernelFunc:gie};class vie{constructor(e,t,n,r,o,i){this.variableNames=["x"],this.outputShape=[],this.uniforms="",this.workgroupSize=[64,1,1],this.size=!0;const a=new Array(r.length);for(let s=0;s<a.length;s++)a[s]=r[o[s]];this.outputShape=a,this.newDim=o,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.xShape=e,this.paddedXShape=t,this.uniforms+=`reshapedPaddedXShape : ${L5(r.length)}, paddedXShapeStrides : ${L5(i)}, `,n.map(((e,t)=>{this.uniforms+=` pad${t} : vec2<i32>,`})),this.shaderKey=`spaceToBatchND_${o}`}getUserCode(){const e=L5(this.outputShape.length),t=vee(this.newDim);return`\n      ${z5(this.paddedXShape,"PaddedX")}\n      ${j5("index")} {\n        if(index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let switchedIndex = getIndexFromCoords${this.outputShape.length}D(${e}(${t}), uniforms.reshapedPaddedXShape);\n          let paddedCoords = getPaddedXCoordsFromIndex(switchedIndex);\n          ${Aoe(this.xShape,!0)}\n        }\n      }\n    `}}const bie={kernelName:YH,backendName:"webgpu",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;MU(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGPU backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...a);for(let v=1+i.length;v<o.shape.length;++v)l.push([0,0]);const u=l.map(((e,t)=>e[0]+o.shape[t]+e[1])),c=l3(u,i,s,!1),d=u3(c.length,i.length,!1),p=c3(u,i,s,!1),h=tW(u),f=new vie(o.shape,u,l,c,d,h.length),m=[{type:"int32",data:c},{type:"int32",data:h}];l.map((e=>m.push({type:"int32",data:[e[0],e[1]]})));const g=n.runWebGPUProgram(f,[o],o.dtype,m),y=U8({inputs:{x:g},backend:n,attrs:{shape:p}});return n.disposeData(g.dataId),y}};class xie{constructor(e,t,n){this.variableNames=["input","indices","segmentIds"],this.outputShape=[],this.uniforms="segmentSize : i32, sparseSize : i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e,this.type=n,this.dispatchLayout=Q5([t]),this.dispatch=X5(this.dispatchLayout,[t],this.workgroupSize),this.shaderKey="sparseSegmentSum"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.sparseSize) {\n        let indexInSegmentIds = index / uniforms.segmentSize;\n        let indexInSegment = index % uniforms.segmentSize;\n        let indexInInput = indices[indexInSegmentIds];\n        let segmentId = segmentIds[indexInSegmentIds];\n\n        let value = input[indexInInput * uniforms.segmentSize + indexInSegment];\n        let outIndex = segmentId * uniforms.segmentSize + indexInSegment;\n        ${_5("&result[outIndex]","value",this.type)}\n      }\n    }\n  `}}class wie{constructor(e,t){this.variableNames=["segmentIds"],this.outputShape=[],this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=[e],this.dispatchLayout=Q5(t),this.dispatch=X5(this.dispatchLayout,t,this.workgroupSize),this.shaderKey="sparseSegmentIdCountProgram"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.segmentIdsShape) {\n        let segmentId = segmentIds[index];\n        ${_5("&result[segmentId]","1","int32")}\n      }\n    }\n  `}}class Aie{constructor(e,t){this.variableNames=["segmentSum","sameSegmentIdCount"],this.outputShape=[],this.uniforms="segmentSize : i32",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.type=t,this.dispatchLayout=Q5(e),this.dispatch=X5(this.dispatchLayout,e,this.workgroupSize),this.shaderKey="sparseSegmentMean"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.size) {\n        let segmentId = index / uniforms.segmentSize;\n        let count = sameSegmentIdCount[segmentId];\n        if (count != 0) {\n          ${"float32"===this.type?"setOutputAtIndex(index, segmentSum[index] / f32(count));":"setOutputAtIndexI32(index, segmentSum[index] / count);"}\n        }\n      }\n    }\n  `}}function Sie(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;const i=$U(e.shape)/e.shape[0],a=e.dtype,s=$U(t.shape),l=o.readSync(n.dataId),u=s>0?l[s-1]+1:0;let c;const d=e.shape.slice();d[0]=u;const p=s*i,h=V8({backend:o,attrs:{shape:d,value:0,dtype:a}});c=new xie(d,p,a);let f=[{type:"int32",data:[i]},{type:"int32",data:[p]}];const m=o.runWebGPUProgram(c,[e,t,n],a,f,h);if(r)return m;const g=V8({backend:o,attrs:{shape:[u],value:0,dtype:"int32"}});c=new wie(u,n.shape);const y=o.runWebGPUProgram(c,[n],"int32",null,g),v=V8({backend:o,attrs:{shape:d,value:0,dtype:a}});c=new Aie(d,a),f=[{type:"int32",data:[i]}];const b=o.runWebGPUProgram(c,[m,y],a,f,v);return o.disposeData(m.dataId),o.disposeData(y.dataId),b}const Cie={kernelName:tG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;return Sie(r,o,i,!1,n)}};const kie={kernelName:nG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;return Sie(r,o,i,!0,n)}};class Eie{constructor(e,t){this.variableNames=["A"],this.workgroupSize=[64,1,1],this.size=!0;const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.rank=this.outputShape.length,this.shaderKey="tile"}getUserCode(){const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>=5)throw Error(`Tile for rank ${e} is not yet supported`);if(1===e)return`(resRC % ${t}aShape)`;const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let o=0;o<e;o++)r.push(`(${n[o]} % ${t}aShape[${o}])`);return r.join()}(this.rank,"uniforms.");return`\n      ${j5("index")} {\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          setOutputAtIndex(index, getA(${e}));\n        }\n      }\n    `}}function Tie(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;if(n.shouldExecuteOnCPU([o])||"string"===o.dtype||o.shape.length>=5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>nX(e))):e,r=hY(o.shape,o.dtype,t),a=nee(r,i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new Eie(o.shape,i);return n.runWebGPUProgram(a,[o],o.dtype)}const Iie={kernelName:fG,backendName:"webgpu",kernelFunc:Tie};const Oie={kernelName:rG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=b1(0,o,s),h=!1;if("string"===i.dtype){const e=n.bufferSync(o),t=n.bufferSync(i),r=nX(n.readSync(a.dataId)[0]),f=Y9(e,t,s,p,c,u,l,d,r,h);return n.makeTensorInfo(s,f.dtype,f.values)}const f=[p/c,c],m=U8({inputs:{x:o},backend:n,attrs:{shape:[u,l]}}),g=i.shape.length?U8({inputs:{x:i},backend:n,attrs:{shape:[u,c]}}):K8({inputs:{x:i},backend:n}),y=g.dtype,v=n.makeTensorInfo([],y,aW(1,y)),b=U8({inputs:{x:a},backend:n,attrs:{shape:Array(f.length).fill(1)}}),x=Tie({inputs:{x:b},backend:n,attrs:{reps:f}}),w=[{type:"int32",data:[l]},{type:"int32",data:d},{type:"int32",data:[$U([u,c])]}];switch(u){case 0:break;case 1:{const e=new eie([u,c],l,m.shape.length,g.shape.length,d,f,y,h);n.runWebGPUProgram(e,[g,m],y,w,x)}break;default:{const e=new eie([u,c],l,m.shape.length,v.shape.length,d,f,y,h);n.runWebGPUProgram(e,[v,m],y,w,x)}{const e=new eie([u,c],l,m.shape.length,g.shape.length,d,f,y);n.runWebGPUProgram(e,[g,m],y,w,x)}}const A=U8({inputs:{x:x},backend:n,attrs:{shape:s}});return n.disposeData(m.dataId),n.disposeData(g.dataId),n.disposeData(b.dataId),n.disposeData(v.dataId),n.disposeData(x.dataId),A}};const Rie={kernelName:QH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=qU(a,o.shape)[0],l=B3(o,i,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=nte({inputs:{x:o},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},Nie=e7({opType:D6.SQRT}),_ie={kernelName:XH,backendName:"webgpu",kernelFunc:Nie},Pie={kernelName:iG,backendName:"webgpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,o=n,i=new Z8(r.shape,D6.SQUARE);return o.runWebGPUProgram(i,[r],r.dtype)}},Mie=t7({opType:o6.SQUARED_DIFFERENCE}),Die={kernelName:oG,backendName:"webgpu",kernelFunc:Mie};const Lie={kernelName:AG,backendName:"webgpu",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,i=new Z8(o.shape,D6.STEP,"stepAlpha : f32,"),a=[{type:"float32",data:[n.alpha]}];return r.runWebGPUProgram(i,[o],o.dtype,a)}};class $ie{constructor(e){this.variableNames=["x"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]);const t=L5(this.outputShape.length);this.uniforms=`begin : ${t},  strides : ${t}, `,this.shaderKey="stridedSlice"}getUserCode(){let e="";if(1===this.outputShape.length)e="coords * uniforms.strides + uniforms.begin";else{let t=0;e=this.outputShape.map(((e,n)=>(t++,1===this.outputShape.length?`coords * uniforms.strides[${n}] + uniforms.begin[${n}]`:`coords[${t-1}] * uniforms.strides[${n}] + uniforms.begin[${n}]`))).join(",")}return`\n       ${j5("index")} {\n         if (index < uniforms.size) {\n           let coords = getCoordsFromIndex(index);\n           setOutputAtIndex(index, getX(${e}));\n         }\n       }\n     `}}const jie={kernelName:sG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=_Q(o.shape,i,a,s,l,u,c,d,p);let w;if(m)w=U8({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){MU(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=bQ(v,b,x),t=nte({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=U8({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeData(t.dataId)}else{if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=hY(o.shape,o.dtype,e),r=Z9(h,t,x,v);w=n.makeTensorInfo(f,o.dtype,r.values)}else{const e=new $ie(h),t=[{type:"int32",data:v},{type:"int32",data:x}],r=n.runWebGPUProgram(e,[o],o.dtype,t);w=U8({inputs:{x:r},backend:n,attrs:{shape:f}}),n.disposeData(r.dataId)}}return w}};const Fie={kernelName:lG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.readSync(c.dataId),h=n.readSync(d.dataId),[f,m]=eee(p,h,o,i,a,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}},Bie=t7({opType:o6.SUB,cpuKernelImpl:tee,supportsComplex:!0}),Vie={kernelName:dG,backendName:"webgpu",kernelFunc:Bie},zie=e7({opType:D6.TAN}),Uie={kernelName:pG,backendName:"webgpu",kernelFunc:zie},Wie=e7({opType:D6.TANH}),qie={kernelName:hG,backendName:"webgpu",kernelFunc:Wie};const Hie={kernelName:jH,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:o,indices:i,updates:a}=t,{}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=b1(0,i,o.shape),p=[d/u,u];if(0===d)return n.makeTensorInfo(o.shape,i.dtype);const h=[],f=U8({inputs:{x:i},backend:n,attrs:{shape:[l,s]}});h.push(f);const m=U8({inputs:{x:a},backend:n,attrs:{shape:[l,u]}});h.push(m);const g=U8({inputs:{x:o},backend:n,attrs:{shape:p}});h.push(g);const y=Tie({inputs:{x:g},backend:n,attrs:{reps:Array(p.length).fill(1)}}),v=new eie([l,u],s,f.shape.length,m.shape.length,c,p,o.dtype,!1),b=[{type:"int32",data:[s]},{type:"int32",data:c},{type:"int32",data:[$U([l,u])]}],x=n.runWebGPUProgram(v,[m,f],g.dtype,b,y);h.push(x);const w=U8({inputs:{x:x},backend:n,attrs:{shape:o.shape}});return h.forEach((e=>n.disposeData(e.dataId))),w}};class Gie{constructor(e){this.variableNames=["x","indices"],this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms="inputSize : i32, firstPass : i32, negativeInf : f32,\n        dir : i32, inc : i32,",this.shaderKey="swap"}getUserCode(){return`\n        ${j5("index")} {\n          if (index < uniforms.size) {\n            let outC = getCoordsFromIndex(index);\n            let batch = outC[0];\n            let elemIdx = outC[1];\n            // We compare elements pair-wise within a group of size 2 * inc.\n            // The comparing rule for each group alternates between ascending\n            // and descending. Within each group, we compare each pair at\n            // positions i and i+inc. To decide whether an element at position i\n            // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n            // inc, it is in the first half of the group, we denote it as x0,\n            // otherwise we denote it as x1.\n            // For example, as shown in the Bitonic top K paper referenced\n            // above, Figure5(a) shows that element[1] is in the second half of\n            // the group when group size is 2, but it is in the first half of\n            // the group when group size is 4.\n            let isFirstInPair = elemIdx % (2 * uniforms.inc) < uniforms.inc;\n            var i = 0;\n            if (isFirstInPair) {\n              i = elemIdx;\n            } else {\n              i = elemIdx - uniforms.inc;\n            }\n\n            var i0 = 0;\n            if (uniforms.firstPass == 1) {\n              i0 = i;\n            } else {\n              i0 = i32(getIndices(batch, i));\n            }\n\n            var i1 = 0;\n            if (uniforms.firstPass == 1) {\n              i1 = i + uniforms.inc;\n            } else {\n              i1 = i32(getIndices(batch, i + uniforms.inc));\n            }\n\n            var x0 = f32(0.0);\n            var x1 = f32(0.0);\n            if (i0 < uniforms.inputSize) {\n              x0 = getX(batch, i0);\n            } else {\n              x0 = uniforms.negativeInf;\n            }\n            if (i1 < uniforms.inputSize) {\n              x1 = getX(batch, i1);\n            } else {\n              x1 = uniforms.negativeInf;\n            }\n\n            let reverse = elemIdx % (2 * uniforms.dir) >= uniforms.dir;\n            let isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n            if (reverse == isGreater) {\n              // Elements in opposite order of direction\n              let iTemp = i0;\n              i0 = i1;\n              i1 = iTemp;\n            }\n            if (isFirstInPair) {\n              setOutputAtIndex(index, f32(i0));\n            } else {\n              setOutputAtIndex(index, f32(i1));\n            }\n          }\n        }\n      `}}class Xie{constructor(e){this.variableNames=["x","indices"],this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms="inputSize : i32, firstPass : i32, k : i32,",this.shaderKey="merge"}getUserCode(){return`\n        ${j5("index")} {\n          if (index < uniforms.size) {\n            let outC = getCoordsFromIndex(index);\n            let batch = outC[0];\n            let elemIdx = outC[1];\n            // The output size is half of the previous size.\n            // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _\n            // (k=4), we only need to output the indices at positions |, the\n            // indices at positions _ can be thrown away, see Figure5(b) After\n            // Phase 2 (Merge phase) in the Bitonic Top K paper referenced\n            // above.\n            // For example, the paper shows we only need to output the orange\n            // bars. The output sequence should look like this | | | | | | | |.\n            // Because the sequence is halved, to map the output index back to\n            // the previous sequence to find the corresponding value, we need\n            // to double the index. When we double the index, we basically\n            // interpolate a position, so 2i looks like\n            // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k\n            // position of each 2k positions by - elemIdx % k. E.g. for output\n            // at index 4,5,6,7, we want to get the corresponding element at\n            // original index 8,9,10,11, for output at index 8,9,10,11,\n            // we want to get the corresponding element at original index\n            // 16,17,18,19, so on and so forth.\n\n            var i = 0;\n            if (elemIdx < uniforms.k) {\n              i = elemIdx;\n            } else {\n              i = elemIdx * 2 - elemIdx % uniforms.k;\n            }\n            var i0 = 0;\n            if (uniforms.firstPass == 1) {\n              i0 = i;\n            } else {\n              i0 = i32(getIndices(batch, i));\n            }\n            var i1 = 0;\n            if (uniforms.firstPass == 1) {\n              i1 = i + uniforms.k;\n            } else {\n              i1 = i32(getIndices(batch, i + uniforms.k));\n            }\n\n            let x0 = getX(batch, i0);\n            var x1 = f32(0.0);\n            if (i1 < uniforms.inputSize) {\n              x1 = getX(batch, i1);\n            } else {\n              x1 = x0;\n            }\n\n            if (x0 >= x1) {\n              setOutputAtIndex(index, f32(i0));\n            } else {\n              setOutputAtIndex(index, f32(i1));\n            }\n          }\n        }\n      `}}function Kie(e,t){null!==t&&e.disposeData(t.dataId)}function Yie(e){let t=1;for(;t<e;)t*=2;return t}const Qie={kernelName:mG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r,s=o.shape,l=s[s.length-1];if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),[t,r]=ree(e,s,o.dtype,i,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return s[s.length-1]=0,[n.makeTensorInfo(s,o.dtype,[]),n.makeTensorInfo(s,"int32",[])];if(1===l)return[o,V8({attrs:{shape:s,dtype:"int32",value:0},backend:n})];const u=$U(s)/l,c=U8({inputs:{x:o},attrs:{shape:[u,l]},backend:n}),d=Yie(i),p=Yie(l);let h=null;const f=()=>null===h?[c,c]:[c,h],m=(e,t,r)=>{const o=f(),i=new Gie(r),a=[{type:"int32",data:[l]},{type:"int32",data:[null===h?1:0]},{type:"float32",data:[Number.NEGATIVE_INFINITY]},{type:"int32",data:[e]},{type:"int32",data:[t]}],s=h;h=n.runWebGPUProgram(i,o,"int32",a),Kie(n,s)};for(let x=1;x<d;x*=2){const e=2*x;for(let t=x;t>=1;t/=2)m(e,t,[u,p])}for(let x=p;x>d;x/=2){const e=f(),t=new Xie([u,x/2]),r=[{type:"int32",data:[l]},{type:"int32",data:[null===h?1:0]},{type:"int32",data:[d]}],o=h;h=n.runWebGPUProgram(t,e,"int32",r),Kie(n,o);const i=d/2,a=2*i;for(let n=i;n>=1;n/=2)m(a,n,h.shape)}let g=h;h=nte({inputs:{x:h},backend:n,attrs:{begin:0,size:[u,i]}}),Kie(n,g);let y=cre({inputs:{x:c,indices:h},backend:n,attrs:{axis:1,batchDims:1}});Kie(n,c);const v=s.slice(0,-1);v.push(i),g=h,h=U8({inputs:{x:h},attrs:{shape:v},backend:n}),Kie(n,g);const b=y;return y=U8({inputs:{x:y},attrs:{shape:v},backend:n}),Kie(n,b),[y,h]}};class Jie{constructor(e){this.variableNames=["Image","Transforms"],this.uniforms="interpolationModeId : i32, fillModeId : i32, fillValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="transform"}getUserCode(){return`\n          fn mapCoord(outCoord : f32, len : f32) -> f32{\n            var inCoord = outCoord;\n            if(uniforms.fillModeId == 2) {\n              if (inCoord < 0.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz2 = 2.0 * len;\n                  if (inCoord < sz2) {\n                    inCoord = sz2 * f32(i32(f32(-inCoord / sz2))) +\n                    inCoord;\n                  }\n                  if (inCoord < -len) {\n                    inCoord = inCoord + sz2;\n                  } else {\n                    inCoord = -inCoord - 1.0;\n                  }\n                }\n              } else if (inCoord > len - 1.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz2 = 2.0 * len;\n                  inCoord = inCoord - sz2 * f32(i32(f32(inCoord / sz2)));\n                  if (inCoord >= len) {\n                    inCoord = sz2 - inCoord - 1.0;\n                  }\n                }\n              }\n              return clamp(inCoord, 0.0, len - 1.0);\n            } else if (uniforms.fillModeId == 3) {\n              if (inCoord < 0.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz = len - 1.0;\n                  inCoord = inCoord + len * (f32(i32(f32(-inCoord / sz))) + 1.0);\n                }\n              } else if (inCoord > len - 1.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz = len - 1.0;\n                  inCoord = inCoord - len * f32(i32(f32(inCoord / sz)));\n                }\n              }\n              return clamp(inCoord, 0.0, len - 1.0);\n            } else if (uniforms.fillModeId == 4) {\n              return clamp(outCoord, 0.0, len - 1.0);\n            }\n            return outCoord;\n          }\n          fn readWithFillValue(batch : i32, coordY : i32, coordX : i32,\n            channel : i32) -> f32 {\n            var outputValue : f32;\n            if (0 <= coordY && coordY < uniforms.imageShape[1] && 0 <= coordX && coordX < uniforms.imageShape[2]) {\n                outputValue = getImage(batch, coordY, coordX, channel);\n            } else {\n              outputValue = uniforms.fillValue;\n            }\n            return outputValue;\n          }\n\n          ${j5("index")} {\n            if (index < uniforms.size) {\n              let coords = getCoordsFromIndex(index);\n              var outputValue : f32;\n              let batch = coords[0];\n              let x = coords[2];\n              let y = coords[1];\n              let channel = coords[3];\n              let xf = f32(x);\n              let yf = f32(y);\n              let a1 = getTransforms(batch, 0);\n              let a2 = getTransforms(batch, 1);\n              let a3 = getTransforms(batch, 2);\n              let b1 = getTransforms(batch, 3);\n              let b2 = getTransforms(batch, 4);\n              let b3 = getTransforms(batch, 5);\n              let c1 = getTransforms(batch, 6);\n              let c2 = getTransforms(batch, 7);\n              let projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = uniforms.fillValue;\n              } else {\n                let inX = (a1 * xf + a2 * yf + a3) / projection;\n                let inY = (b1 * xf + b2 * yf + b3) / projection;\n                let mapX = mapCoord(inX, f32(uniforms.imageShape[2]));\n                let mapY = mapCoord(inY, f32(uniforms.imageShape[1]));\n\n                if (uniforms.interpolationModeId == 1) {\n                  let coordY = i32(round(mapY));\n                  let coordX = i32(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  let yFloor = floor(mapY);\n                  let xFloor = floor(mapX);\n                  let yCeil = yFloor + 1.0;\n                  let xCeil = xFloor + 1.0;\n                  let valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, i32(yFloor), i32(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, i32(yFloor), i32(xCeil), channel);\n                  let valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, i32(yCeil), i32(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, i32(yCeil), i32(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutputAtIndex(index, outputValue);\n            }\n          }\n        `}}const Zie={kernelName:gG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=new Jie([c,f,m,h]),y="nearest"===a?1:2;let v;switch(s){case"constant":default:v=1;break;case"reflect":v=2;break;case"wrap":v=3;break;case"nearest":v=4}const b=[{type:"int32",data:[y]},{type:"int32",data:[v]},{type:"float32",data:[l]}];return n.runWebGPUProgram(g,[o,i],"float32",b)}};const eae={kernelName:bG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o,s=a.shape.length,l=o.shape[i],u=new Array(s-1);let c=0;for(let m=0;m<s;m++)m!==i&&(u[c++]=a.shape[m]);const d=[],p=new Array(s).fill(0),h=a.shape.slice();h[i]=1;const f=new Array(l);for(let m=0;m<f.length;m++){p[i]=m;const e=nte({inputs:{x:a},backend:n,attrs:{begin:p,size:h}}),t=U8({inputs:{x:e},backend:n,attrs:{shape:u}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeData(e.dataId))),f}};class tae{constructor(e,t,n){if(this.outputShape=[],this.variableNames=["x","segmentIds"],this.uniforms="numSegments : i32, xSize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=t,this.dispatchLayout=Q5(e),this.dispatch=X5(this.dispatchLayout,e,this.workgroupSize),"float32"!==n&&"int32"!==n)throw new Error(`UnsortedSegmentSum only supports float32 and int32\n              types, does not support ${n} type.`);this.type=n,this.shaderKey="unsortedSegmentSum"}getUserCode(){return`\n    ${j5("index")} {\n      if (index < uniforms.xSize) {\n        let coords = getXCoordsFromIndex(index);\n        let b = coords[0];\n        let inCol = coords[1];\n\n        let segmentId = i32(getSegmentIds(inCol));\n        if (segmentId >= 0) {\n          let flatIndex = b * uniforms.numSegments + segmentId % uniforms.numSegments;\n          let value = getX(b, inCol);\n\n          ${_5("&result[flatIndex]","value",this.type)}\n        }\n      }\n    }\n  `}}const nae={kernelName:xG,backendName:"webgpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r,s=o.shape.length,l=[];let u=0;const c=aZ([u],s);let d=o;null!=c&&(d=bee({inputs:{x:o},backend:n,attrs:{perm:c}}),l.push(d),u=lZ(1,s)[0]);const p=e4(d.shape,u,a),h=$U([d.shape[u]]),f=U8({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(f);const m=o.dtype,g=[f.shape[0],a],y=V8({backend:n,attrs:{shape:g,value:0,dtype:m}}),v=new tae(f.shape,g,m),b=[{type:"int32",data:[a]},{type:"int32",data:[$U(f.shape)]}],x=n.runWebGPUProgram(v,[f,i],m,b,y),w=U8({inputs:{x:x},backend:n,attrs:{shape:p}});l.push(x);let A=w;if(null!=c){l.push(w);const e=sZ(c);A=bee({inputs:{x:A},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeData(e.dataId))),A}},rae=[H8,see,uee,dee,hee,mee,Cee,kee,Tee,Iee,Ree,_ee,Mee,Lee,jee,Gee,Xee,Qee,Jee,Zee,ote,ste,ute,fte,gte,bte,J8,Ate,Ite,Mte,Fte,Vte,Ute,Wte,qte,Gte,Kte,Qte,rne,one,ine,sne,fne,mne,dne,yne,bne,Ane,Sne,kne,Rne,_ne,Pne,Dne,$ne,Fne,Vne,Une,Hne,z8,Xne,ere,Yne,Jne,ore,ire,are,lre,dre,hre,mre,Y8,gre,kte,vre,xre,Are,Sre,kre,Tre,Ore,Pre,Nre,Dre,$re,Fre,Ure,qre,Uee,Gre,Xre,Zre,Kre,Jre,eoe,qee,toe,roe,ioe,soe,poe,Tne,hoe,foe,moe,dte,yoe,xoe,woe,Coe,Eoe,Toe,Ioe,Ooe,hte,Noe,Poe,Doe,$oe,W8,Foe,Voe,Uoe,qoe,Goe,Koe,Qoe,Zoe,tie,rie,iie,sie,uie,die,hie,mie,rte,Lie,jie,Fie,doe,yie,bie,Cie,kie,Oie,Rie,_ie,Pie,Die,Vie,One,Uie,qie,Hie,Iie,Qie,Zie,xee,eae,nae,boe];for(const n of rae)DG(n);var oae=function(e,t){return(oae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function iae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}oae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var aae=function(){return(aae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function sae(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function lae(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function uae(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var cae=["nose","left_eye","right_eye","left_ear","right_ear","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle"],dae=["nose","left_eye_inner","left_eye","left_eye_outer","right_eye_inner","right_eye","right_eye_outer","left_ear","right_ear","mouth_left","mouth_right","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_pinky","right_pinky","left_index","right_index","left_thumb","right_thumb","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle","left_heel","right_heel","left_foot_index","right_foot_index"],pae={left:[1,2,3,7,9,11,13,15,17,19,21,23,25,27,29,31],right:[4,5,6,8,10,12,14,16,18,20,22,24,26,28,30,32],middle:[0]},hae={left:[1,3,5,7,9,11,13,15],right:[2,4,6,8,10,12,14,16],middle:[0]},fae=[[0,1],[0,2],[1,3],[2,4],[5,6],[5,7],[5,11],[6,8],[6,12],[7,9],[8,10],[11,12],[11,13],[12,14],[13,15],[14,16]],mae=[[0,1],[0,4],[1,2],[2,3],[3,7],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[11,23],[12,14],[14,16],[12,24],[13,15],[15,17],[16,18],[16,20],[15,17],[15,19],[15,21],[16,22],[17,19],[18,20],[23,25],[23,24],[24,26],[25,27],[26,28],[27,29],[28,30],[27,31],[28,32],[29,31],[30,32]];function gae(e){return e instanceof SVGAnimatedLength?e.baseVal.value:e}function yae(e){return sae(this,void 0,void 0,(function(){var t,n;return lae(this,(function(r){switch(r.label){case 0:return t=document.createElement("canvas"),e instanceof xX?[4,hQ(e,t)]:[3,2];case 1:return r.sent(),[3,3];case 2:t.width=gae(e.width),t.height=gae(e.height),n=t.getContext("2d"),e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0),r.label=3;case 3:return[2,t]}}))}))}function vae(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i,a;return lae(this,(function(s){switch(s.label){case 0:return e instanceof xX?(t=e.shape.slice(0,2),n=t[0],r=t[1],o=ImageData.bind,[4,hQ(e)]):[3,2];case 1:return[2,new(o.apply(ImageData,[void 0,s.sent(),r,n]))];case 2:return i=document.createElement("canvas"),a=i.getContext("2d"),i.width=gae(e.width),i.height=gae(e.height),a.drawImage(e,0,0),[2,a.getImageData(0,0,i.width,i.height)]}}))}))}function bae(e){return sae(this,void 0,void 0,(function(){var t;return lae(this,(function(n){switch(n.label){case 0:return e instanceof SVGImageElement||e instanceof OffscreenCanvas?[4,yae(e)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:t=e,n.label=3;case 3:return[2,fQ(t,4)]}}))}))}function xae(e){if(e<0||e>=256)throw new Error("Mask value must be in range [0, 255] but got ".concat(e));if(!Number.isInteger(e))throw new Error("Mask value must be an integer but got ".concat(e))}var wae={runtime:"mediapipe",enableSmoothing:!0,enableSegmentation:!1,smoothSegmentation:!0,modelType:"full"},Aae=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,this.mask]}))}))},e.prototype.toImageData=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,vae(this.mask)]}))}))},e.prototype.toTensor=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,bae(this.mask)]}))}))},e.prototype.getUnderlyingType=function(){return"canvasimagesource"},e}();function Sae(e){return xae(e),"person"}var Cae=function(){function e(e){var t,n=this;switch(this.width=0,this.height=0,this.selfieMode=!1,this.poseSolution=new EU.Pose({locateFile:function(t,n){if(e.solutionPath){var r=e.solutionPath.replace(/\/+$/,"");return"".concat(r,"/").concat(t)}return"".concat(n,"/").concat(t)}}),e.modelType){case"lite":t=0;break;case"heavy":t=2;break;default:t=1}this.poseSolution.setOptions({modelComplexity:t,smoothLandmarks:e.enableSmoothing,enableSegmentation:e.enableSegmentation,smoothSegmentation:e.smoothSegmentation,selfieMode:this.selfieMode}),this.poseSolution.onResults((function(e){if(n.height=e.image.height,n.width=e.image.width,null==e.poseLandmarks)n.poses=[];else{var t=n.translateOutput(e.poseLandmarks,e.poseWorldLandmarks);e.segmentationMask&&(t.segmentation={maskValueToLabel:Sae,mask:new Aae(e.segmentationMask)}),n.poses=[t]}}))}return e.prototype.translateOutput=function(e,t){var n=this,r={keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,z:e.z,score:e.visibility,name:dae[t]}}))};return null!=t&&(r.keypoints3D=t.map((function(e,t){return{x:e.x,y:e.y,z:e.z,score:e.visibility,name:dae[t]}}))),r},e.prototype.estimatePoses=function(e,t,n){return sae(this,void 0,void 0,(function(){var r,o;return lae(this,(function(i){switch(i.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.poseSolution.setOptions({selfieMode:this.selfieMode})),e instanceof xX?(o=ImageData.bind,[4,hQ(e)]):[3,2];case 1:return r=new(o.apply(ImageData,[void 0,i.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,i.label=3;case 3:return e=r,[4,this.poseSolution.send({image:e},n)];case 4:return i.sent(),[2,this.poses]}}))}))},e.prototype.dispose=function(){this.poseSolution.close()},e.prototype.reset=function(){this.poseSolution.reset()},e.prototype.initialize=function(){return this.poseSolution.initialize()},e}();function kae(e){return sae(this,void 0,void 0,(function(){var t,n;return lae(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return aae({},wae);var t=aae({},e);return t.runtime="mediapipe",null==t.enableSegmentation&&(t.enableSegmentation=wae.enableSegmentation),null==t.enableSmoothing&&(t.enableSmoothing=wae.enableSmoothing),null==t.smoothSegmentation&&(t.smoothSegmentation=wae.smoothSegmentation),null==t.modelType&&(t.modelType=wae.modelType),t}(e),[4,(n=new Cae(t)).initialize()];case 1:return r.sent(),[2,n]}}))}))}function Eae(e){return e instanceof xX?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function Tae(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function Iae(e){return e instanceof xX?e:fQ(e)}function Oae(e,t,n){return Rae(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}function Rae(e,t){MU(0!==e.width,(function(){return"".concat(t," width cannot be 0.")})),MU(0!==e.height,(function(){return"".concat(t," height cannot be 0.")}))}function Nae(e,t,n){var r=n.rotationVectorStartKeypointIndex,o=n.rotationVectorEndKeypointIndex,i=e.locationData,a=i.relativeKeypoints[r].x*t.width,s=i.relativeKeypoints[r].y*t.height,l=i.relativeKeypoints[o].x*t.width,u=i.relativeKeypoints[o].y*t.height,c=2*Math.sqrt((l-a)*(l-a)+(u-s)*(u-s)),d=function(e,t,n){var r,o=e.locationData,i=n.rotationVectorStartKeypointIndex,a=n.rotationVectorEndKeypointIndex;r=n.rotationVectorTargetAngle?n.rotationVectorTargetAngle:Math.PI*n.rotationVectorTargetAngleDegree/180;var s=o.relativeKeypoints[i].x*t.width,l=o.relativeKeypoints[i].y*t.height,u=o.relativeKeypoints[a].x*t.width,c=o.relativeKeypoints[a].y*t.height;return Tae(r-Math.atan2(-(c-l),u-s))}(e,t,n);return{xCenter:a/t.width,yCenter:s/t.height,width:c/t.width,height:c/t.height,rotation:d}}function _ae(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}function Pae(e,t,n,r,o,i,a){return e[t][o]*(e[n][i]*e[r][a]-e[n][a]*e[r][i])}function Mae(e,t,n){var r=(t+1)%4,o=(t+2)%4,i=(t+3)%4,a=(n+1)%4,s=(n+2)%4,l=(n+3)%4;return Pae(e,r,o,i,a,s,l)+Pae(e,o,i,r,a,s,l)+Pae(e,i,r,o,a,s,l)}function Dae(e,t,n){void 0===n&&(n={ignoreRotation:!1});for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o],s=a.x-.5,l=a.y-.5,u=n.ignoreRotation?0:t.rotation,c=Math.cos(u)*s-Math.sin(u)*l,d=Math.sin(u)*s+Math.cos(u)*l;c=c*t.width+t.xCenter,d=d*t.height+t.yCenter;var p=a.z*t.width,h=aae({},a);h.x=c,h.y=d,h.z=p,r.push(h)}return r}function Lae(e,t){var n=function(e,t,n,r){var o=(r-n)/255;return{scale:o,offset:n-0*o}}(0,0,t[0],t[1]);return iK((function(){return yY(xY(e,n.scale),n.offset)}))}function $ae(e,t,n){var r,o,i,a,s,l,u,c,d,p,h,f,m=t.outputTensorSize,g=t.keepAspectRatio,y=t.borderMode,v=t.outputTensorFloatRange,b=Eae(e),x=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(b,n),w=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,o=t.width;Rae(t,"targetSize"),Rae(e,"roi");var i,a,s=r/o,l=e.height/e.width,u=0,c=0;return s>l?(i=e.width,a=e.width*s,c=(1-l/s)/2):(i=e.height/s,a=e.height,u=(1-s/l)/2),e.width=i,e.height=a,{top:c,left:u,right:u,bottom:c}}(x,m,g),A=(r=x,o=b.width,i=b.height,a=r.width,s=r.height,l=Math.cos(r.rotation),u=Math.sin(r.rotation),c=r.xCenter,d=r.yCenter,p=1/o,h=1/i,(f=new Array(16))[0]=a*l*1*p,f[1]=-s*u*p,f[2]=0,f[3]=(-.5*a*l*1+.5*s*u+c)*p,f[4]=a*u*1*h,f[5]=s*l*h,f[6]=0,f[7]=(-.5*s*l-.5*a*u*1+d)*h,f[8]=0,f[9]=0,f[10]=a*p,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,_ae(f));return{imageTensor:iK((function(){var t=Iae(e),n=h1(Oae(A,b,m),[1,8]),r="zero"===y?"constant":"nearest",o=H2.transform(gZ(fY(t,"float32")),n,"bilinear",r,0,[m.height,m.width]);return null!=v?Lae(o,v):o})),padding:w,transformationMatrix:A}}function jae(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function Fae(e){return null!=e&&null!=e.currentTime}function Bae(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=0;a<e.length;++a){var s=e[a];n=Math.min(n,s.x),r=Math.max(r,s.x),o=Math.min(o,s.y),i=Math.max(i,s.y),t.locationData.relativeKeypoints.push({x:s.x,y:s.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:o,xMax:r,yMax:i,width:r-n,height:i-o},t}function Vae(e,t,n,r){return sae(this,void 0,void 0,(function(){var r,o,i,a,s;return lae(this,(function(l){switch(l.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),r=h1(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),o=p1(e.map((function(e){return e.score[0]}))),[4,H2.nonMaxSuppressionAsync(r,o,t,n)];case 1:return[4,(i=l.sent()).array()];case 2:return a=l.sent(),s=e.filter((function(e,t){return a.indexOf(t)>-1})),aK([r,o,i]),[2,s]}}))}))}function zae(e,t){return e.map((function(e){var n=aae(aae({},e),{x:e.x*t.width,y:e.y*t.height});return null!=e.z&&(n.z=e.z*t.width),n}))}function Uae(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,h,f,m,g,y,v,b,x,w,A,S,C,k,E;return lae(this,(function(T){switch(T.label){case 0:if(r=s1(t,[0]),o=r.shape,i=o[0],a=o[1],s=o[2],e.length!==s)throw new Error("Expected heatmap to have same number of channels as the number of landmarks. But got landmarks length: "+"".concat(e.length,", heatmap length: ").concat(s));return l=[],[4,r.buffer()];case 1:for(u=T.sent(),c=0;c<e.length;c++)if(d=e[c],p=aae({},d),l.push(p),h=Math.trunc(p.x*a),f=Math.trunc(p.y*i),!(h<0||h>=a||f<0||h>=i)){for(m=Math.trunc((n.kernelSize-1)/2),g=Math.max(0,h-m),y=Math.min(a,h+m+1),v=Math.max(0,f-m),b=Math.min(i,f+m+1),x=0,w=0,A=0,S=0,C=v;C<b;++C)for(k=g;k<y;++k)E=u.get(C,k,c),x+=E,S=Math.max(S,E),w+=k*E,A+=C*E;S>=n.minConfidenceToRefine&&x>0&&(p.x=w/a/x,p.y=A/i/x)}return r.dispose(),[2,l]}}))}))}function Wae(e,t){var n=t.left,r=t.top,o=t.left+t.right,i=t.top+t.bottom;return e.map((function(e){return aae(aae({},e),{x:(e.x-n)/(1-o),y:(e.y-r)/(1-i),z:e.z/(1-o)})}))}function qae(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s;return lae(this,(function(l){switch(l.label){case 0:return r=e[0],o=e[1],i=function(e,t,n){return iK((function(){var r,o,i,a;n.reverseOutputOrder?(o=s1(hJ(e,[0,n.boxCoordOffset+0],[-1,1])),r=s1(hJ(e,[0,n.boxCoordOffset+1],[-1,1])),a=s1(hJ(e,[0,n.boxCoordOffset+2],[-1,1])),i=s1(hJ(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=s1(hJ(e,[0,n.boxCoordOffset+0],[-1,1])),o=s1(hJ(e,[0,n.boxCoordOffset+1],[-1,1])),i=s1(hJ(e,[0,n.boxCoordOffset+2],[-1,1])),a=s1(hJ(e,[0,n.boxCoordOffset+3],[-1,1]))),o=yY(xY(bY(o,n.xScale),t.w),t.x),r=yY(xY(bY(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(i=xY(mZ(bY(i,n.hScale)),t.h),a=xY(mZ(bY(a,n.wScale)),t.w)):(i=xY(bY(i,n.hScale),t.h),a=xY(bY(a,n.wScale),t.h));var s=MY(r,bY(i,2)),l=MY(o,bY(a,2)),u=yY(r,bY(i,2)),c=yY(o,bY(a,2)),d=cJ([sJ(s,[n.numBoxes,1]),sJ(l,[n.numBoxes,1]),sJ(u,[n.numBoxes,1]),sJ(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var h=n.keypointCoordOffset+p*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=s1(hJ(e,[0,h],[-1,1])),m=s1(hJ(e,[0,h+1],[-1,1]))):(m=s1(hJ(e,[0,h],[-1,1])),f=s1(hJ(e,[0,h+1],[-1,1])));var g=yY(xY(bY(f,n.xScale),t.w),t.x),y=yY(xY(bY(m,n.yScale),t.h),t.y);d=cJ([d,sJ(g,[n.numBoxes,1]),sJ(y,[n.numBoxes,1])],1)}return d}))}(o,t,n),a=iK((function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=EJ(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=pJ(e)):e})),[4,Hae(i,a,n)];case 1:return s=l.sent(),aK([i,a]),[2,s]}}))}))}function Hae(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,h,f;return lae(this,(function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return o=m.sent(),[4,t.data()];case 2:for(i=m.sent(),a=0;a<n.numBoxes;++a)if(!(null!=n.minScoreThresh&&i[a]<n.minScoreThresh||(s=a*n.numCoords,l=Gae(o[s+0],o[s+1],o[s+2],o[s+3],i[a],n.flipVertically,a),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<d;p+=n.numValuesPerKeypoint)h=s+n.keypointCoordOffset+p,f={x:o[h+0],y:n.flipVertically?1-o[h+1]:o[h+1]},c.relativeKeypoints.push(f);r.push(l)}return[2,r]}}))}))}function Gae(e,t,n,r,o,i,a){return{score:[o],ind:a,locationData:{relativeBoundingBox:{xMin:t,yMin:i?1-n:e,xMax:r,yMax:i?1-e:n,width:r-t,height:n-e}}}}function Xae(e,t){return"none"===e?t:function(e){return 1/(1+Math.exp(-e))}(t)}function Kae(e,t,n,r){return sae(this,void 0,void 0,(function(){var o,i,a,s,l,u,c,d;return lae(this,(function(p){switch(p.label){case 0:return n=n||t.flipHorizontally||!1,r=r||t.flipVertically||!1,o=e.size,i=o/t.numLandmarks,[4,e.data()];case 1:for(a=p.sent(),s=[],l=0;l<t.numLandmarks;++l)u=l*i,(d={x:0,y:0}).x=n?t.inputImageWidth-a[u]:a[u],i>1&&(d.y=r?t.inputImageHeight-a[u+1]:a[u+1]),i>2&&(d.z=a[u+2]),i>3&&(d.score=Xae(t.visibilityActivation,a[u+3])),s.push(d);for(c=0;c<s.length;++c)(d=s[c]).x=d.x/t.inputImageWidth,d.y=d.y/t.inputImageHeight,d.z=d.z/t.inputImageWidth/(t.normalizeZ||1);return[2,s]}}))}))}function Yae(e,t,n){var r=e.width,o=e.height,i=e.rotation;if(null==n.rotation&&null==n.rotationDegree||(i=function(e,t){return null!=t.rotation?e+=t.rotation:null!=t.rotationDegree&&(e+=Math.PI*t.rotationDegree/180),Tae(e)}(i,n)),0===i)e.xCenter=e.xCenter+r*n.shiftX,e.yCenter=e.yCenter+o*n.shiftY;else{var a=(t.width*r*n.shiftX*Math.cos(i)-t.height*o*n.shiftY*Math.sin(i))/t.width,s=(t.width*r*n.shiftX*Math.sin(i)+t.height*o*n.shiftY*Math.cos(i))/t.height;e.xCenter=e.xCenter+a,e.yCenter=e.yCenter+s}if(n.squareLong){var l=Math.max(r*t.width,o*t.height);r=l/t.width,o=l/t.height}else if(n.squareShort){var u=Math.min(r*t.width,o*t.height);r=u/t.width,o=u/t.height}return e.width=r*n.scaleX,e.height=o*n.scaleY,e}function Qae(e,t){return e.map((function(e){var n=aae(aae({},e),{x:e.x/t.width,y:e.y/t.height});return null!=e.z&&(e.z=e.z/t.width),n}))}var Jae=function(){function e(e){this.alpha=e,this.initialized=!1}return e.prototype.apply=function(e,t){var n;return this.initialized?n=null==t?this.storedValue+this.alpha*(e-this.storedValue):this.storedValue+this.alpha*t*Math.asinh((e-this.storedValue)/t):(n=e,this.initialized=!0),this.rawValue=e,this.storedValue=n,n},e.prototype.applyWithAlpha=function(e,t,n){return this.alpha=t,this.apply(e,n)},e.prototype.hasLastRawValue=function(){return this.initialized},e.prototype.lastRawValue=function(){return this.rawValue},e.prototype.reset=function(){this.initialized=!1},e}(),Zae=function(){function e(e){this.frequency=e.frequency,this.minCutOff=e.minCutOff,this.beta=e.beta,this.thresholdCutOff=e.thresholdCutOff,this.thresholdBeta=e.thresholdBeta,this.derivateCutOff=e.derivateCutOff,this.x=new Jae(this.getAlpha(this.minCutOff)),this.dx=new Jae(this.getAlpha(this.derivateCutOff)),this.lastTimestamp=0}return e.prototype.apply=function(e,t,n){if(null==e)return e;var r=Math.trunc(t);if(this.lastTimestamp>=r)return e;0!==this.lastTimestamp&&0!==r&&(this.frequency=1/(1e-6*(r-this.lastTimestamp))),this.lastTimestamp=r;var o=this.x.hasLastRawValue()?(e-this.x.lastRawValue())*n*this.frequency:0,i=this.dx.applyWithAlpha(o,this.getAlpha(this.derivateCutOff)),a=this.minCutOff+this.beta*Math.abs(i),s=null!=this.thresholdCutOff?this.thresholdCutOff+this.thresholdBeta*Math.abs(i):null;return this.x.applyWithAlpha(e,this.getAlpha(a),s)},e.prototype.getAlpha=function(e){return 1/(1+this.frequency/(2*Math.PI*e))},e}(),ese=function(){function e(e){this.config=e}return e.prototype.apply=function(e,t,n){var r=this;if(null==e)return this.reset(),null;this.initializeFiltersIfEmpty(e);var o=1;if(!this.config.disableValueScaling){if(n<this.config.minAllowedObjectScale)return uae([],e,!0);o=1/n}return e.map((function(e,n){var i=aae(aae({},e),{x:r.xFilters[n].apply(e.x,t,o),y:r.yFilters[n].apply(e.y,t,o)});return null!=e.z&&(i.z=r.zFilters[n].apply(e.z,t,o)),i}))},e.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},e.prototype.initializeFiltersIfEmpty=function(e){var t=this;null!=this.xFilters&&this.xFilters.length===e.length||(this.xFilters=e.map((function(e){return new Zae(t.config)})),this.yFilters=e.map((function(e){return new Zae(t.config)})),this.zFilters=e.map((function(e){return new Zae(t.config)})))},e}(),tse=function(){function e(e){this.config=e,this.window=[],this.lowPassFilter=new Jae(1),this.lastValue=0,this.lastValueScale=1,this.lastTimestamp=-1}return e.prototype.apply=function(e,t,n){if(null==e)return e;var r,o=Math.trunc(t);if(this.lastTimestamp>=o)return e;if(-1===this.lastTimestamp)r=1;else{for(var i=e*n-this.lastValue*this.lastValueScale,a=o-this.lastTimestamp,s=i,l=a,u=(1+this.window.length)*(1e6/30),c=0,d=this.window;c<d.length;c++){var p=d[c];if(l+p.duration>u)break;s+=p.distance,l+=p.duration}var h=s/(1e-6*l);r=1-1/(1+this.config.velocityScale*Math.abs(h)),this.window.unshift({distance:i,duration:a}),this.window.length>this.config.windowSize&&this.window.pop()}return this.lastValue=e,this.lastValueScale=n,this.lastTimestamp=o,this.lowPassFilter.applyWithAlpha(e,r)},e}(),nse=function(){function e(e){this.config=e}return e.prototype.apply=function(e,t,n){var r=this;if(null==e)return this.reset(),null;var o=1;if(!this.config.disableValueScaling){if(n<this.config.minAllowedObjectScale)return uae([],e,!0);o=1/n}return this.initializeFiltersIfEmpty(e),e.map((function(e,n){var i=aae(aae({},e),{x:r.xFilters[n].apply(e.x,t,o),y:r.yFilters[n].apply(e.y,t,o)});return null!=e.z&&(i.z=r.zFilters[n].apply(e.z,t,o)),i}))},e.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},e.prototype.initializeFiltersIfEmpty=function(e){var t=this;null!=this.xFilters&&this.xFilters.length===e.length||(this.xFilters=e.map((function(e){return new tse(t.config)})),this.yFilters=e.map((function(e){return new tse(t.config)})),this.zFilters=e.map((function(e){return new tse(t.config)})))},e}(),rse=function(){function e(e){if(null!=e.velocityFilter)this.keypointsFilter=new nse(e.velocityFilter);else{if(null==e.oneEuroFilter)throw new Error("Either configure velocityFilter or oneEuroFilter, but got "+"".concat(e,"."));this.keypointsFilter=new ese(e.oneEuroFilter)}}return e.prototype.apply=function(e,t,n,r,o){if(void 0===r&&(r=!1),null==e)return this.keypointsFilter.reset(),null;var i=null!=o?function(e,t){return(e.width*t.width+e.height*t.height)/2}(o,n):1,a=r?zae(e,n):e,s=this.keypointsFilter.apply(a,t,i);return r?Qae(s,n):s},e}(),ose=function(){function e(e){this.alpha=e.alpha}return e.prototype.apply=function(e){var t=this;if(null==e)return this.visibilityFilters=null,null;null!=this.visibilityFilters&&this.visibilityFilters.length===e.length||(this.visibilityFilters=e.map((function(e){return new Jae(t.alpha)})));for(var n=[],r=0;r<e.length;++r){var o=e[r],i=aae({},o);i.score=this.visibilityFilters[r].apply(o.score),n.push(i)}return n},e}(),ise={reduceBoxesInLowestlayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:5,minScale:.1484375,maxScale:.75,inputSizeHeight:224,inputSizeWidth:224,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,32,32,32],aspectRatios:[1],fixedAnchorSize:!0},ase={runtime:"tfjs",modelType:"full",enableSmoothing:!0,enableSegmentation:!1,smoothSegmentation:!0,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/detector/1",landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/2"},sse={maxPoses:1,flipHorizontal:!1},lse={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2254,numCoords:12,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:4,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:224,yScale:224,hScale:224,wScale:224,minScoreThresh:.5},use={shiftX:0,shiftY:0,scaleX:1.25,scaleY:1.25,squareLong:!0},cse={outputTensorSize:{width:224,height:224},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},dse={outputTensorSize:{width:256,height:256},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},pse={numLandmarks:39,inputImageWidth:256,inputImageHeight:256,visibilityActivation:"sigmoid",flipHorizontally:!1,flipVertically:!1},hse={numLandmarks:39,inputImageWidth:1,inputImageHeight:1,visibilityActivation:"sigmoid",flipHorizontally:!1,flipVertically:!1},fse={kernelSize:7,minConfidenceToRefine:.5},mse={alpha:.1},gse={oneEuroFilter:{frequency:30,minCutOff:.05,beta:80,derivateCutOff:1,minAllowedObjectScale:1e-6}},yse={oneEuroFilter:{frequency:30,minCutOff:.01,beta:10,derivateCutOff:1,minAllowedObjectScale:1e-6}},vse={oneEuroFilter:{frequency:30,minCutOff:.1,beta:40,derivateCutOff:1,minAllowedObjectScale:1e-6,disableValueScaling:!0}},bse={activation:"none"},xse={combineWithPreviousRatio:.7},wse=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,yae(this.mask)]}))}))},e.prototype.toImageData=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,vae(this.mask)]}))}))},e.prototype.toTensor=function(){return sae(this,void 0,void 0,(function(){return lae(this,(function(e){return[2,this.mask]}))}))},e.prototype.getUnderlyingType=function(){return"tensor"},e}();function Ase(e){return xae(e),"person"}var Sse=function(){function e(e,t,n,r,o,i){this.detectorModel=e,this.landmarkModel=t,this.enableSmoothing=n,this.enableSegmentation=r,this.smoothSegmentation=o,this.modelType=i,this.regionOfInterest=null,this.prevFilteredSegmentationMask=null,this.anchors=function(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],o=[],i=[],a=[],s=n;s<e.strides.length&&e.strides[s]===e.strides[n];){var l=jae(e.minScale,e.maxScale,s,e.strides.length);if(0===s&&e.reduceBoxesInLowestLayer)i.push(1),i.push(2),i.push(.5),a.push(.1),a.push(l),a.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)i.push(e.aspectRatios[u]),a.push(l);if(e.interpolatedScaleAspectRatio>0){var c=s===e.strides.length-1?1:jae(e.minScale,e.maxScale,s+1,e.strides.length);a.push(Math.sqrt(l*c)),i.push(e.interpolatedScaleAspectRatio)}}s++}for(var d=0;d<i.length;++d){var p=Math.sqrt(i[d]);r.push(a[d]/p),o.push(a[d]*p)}var h=0,f=0;if(e.featureMapHeight.length>0)h=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];h=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<h;++g)for(var y=0;y<f;++y)for(var v=0;v<r.length;++v){var b={xCenter:(y+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/h,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=o[v],b.height=r[v]),t.push(b)}n=s}return t}(ise);var a=p1(this.anchors.map((function(e){return e.width}))),s=p1(this.anchors.map((function(e){return e.height}))),l=p1(this.anchors.map((function(e){return e.xCenter}))),u=p1(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:l,y:u,w:a,h:s},this.prevFilteredSegmentationMask=this.enableSegmentation?h1([],[0,0]):null}return e.prototype.estimatePoses=function(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,h,f,m,g,y,v,b,x,w,A,S,C,k;return lae(this,(function(E){switch(E.label){case 0:return r=function(e){var t;if(null==(t=null==e?sse:aae({},e)).maxPoses&&(t.maxPoses=1),t.maxPoses<=0)throw new Error("Invalid maxPoses ".concat(t.maxPoses,". Should be > 0."));if(t.maxPoses>1)throw new Error("Multi-pose detection is not implemented yet. Please set maxPoses to 1.");return t}(t),null==e?(this.reset(),[2,[]]):(this.maxPoses=r.maxPoses,this.timestamp=null!=n?1e3*n:Fae(e)?1e6*e.currentTime:null,o=Eae(e),i=iK((function(){return fY(Iae(e),"float32")})),null!=(a=this.regionOfInterest)?[3,2]:[4,this.detectPose(i)]);case 1:if(0===(s=E.sent()).length)return this.reset(),i.dispose(),[2,[]];l=s[0],a=this.poseDetectionToRoi(l,o),E.label=2;case 2:return[4,this.poseLandmarksByRoi(a,i)];case 3:return u=E.sent(),i.dispose(),null==u?(this.reset(),[2,[]]):(c=u.landmarks,d=u.auxiliaryLandmarks,p=u.poseScore,h=u.worldLandmarks,f=u.segmentationMask,m=this.poseLandmarkFiltering(c,d,h,o),g=m.actualLandmarksFiltered,y=m.auxiliaryLandmarksFiltered,v=m.actualWorldLandmarksFiltered,b=this.poseLandmarksToRoi(y,o),this.regionOfInterest=b,x=this.smoothSegmentation&&null!=f?this.poseSegmentationFiltering(f):f,null!=(w=null!=g?zae(g,o):null)&&w.forEach((function(e,t){e.name=dae[t]})),null!=(A=v)&&A.forEach((function(e,t){e.name=dae[t]})),S={score:p,keypoints:w,keypoints3D:A},null!==x&&(C=iK((function(){var e=gZ(x,2),t=c0(e,[[0,0],[0,0],[0,1]]);return t0(t,[[0,0],[0,0],[0,2]],"symmetric")})),this.smoothSegmentation||aK(x),k={maskValueToLabel:Ase,mask:new wse(C)},S.segmentation=k),[2,[S]])}}))}))},e.prototype.poseSegmentationFiltering=function(e){var t=this.prevFilteredSegmentationMask;return 0===t.size?this.prevFilteredSegmentationMask=e:(this.prevFilteredSegmentationMask=function(e,t,n){return"webgl"===lK()?function(e,t,n){var r=n.combineWithPreviousRatio.toFixed(2),o={variableNames:["prevMask","newMask"],outputShape:e.shape,userCode:"\n  void main() {\n      ivec2 coords = getOutputCoords();\n      int height = coords[0];\n      int width = coords[1];\n\n      float prevMaskValue = getPrevMask(height, width);\n      float newMaskValue = getNewMask(height, width);\n\n      /*\n      * Assume p := newMaskValue\n      * H(p) := 1 + (p * log(p) + (1-p) * log(1-p)) / log(2)\n      * uncertainty alpha(p) =\n      *   Clamp(1 - (1 - H(p)) * (1 - H(p)), 0, 1) [squaring the\n      * uncertainty]\n      *\n      * The following polynomial approximates uncertainty alpha as a\n      * function of (p + 0.5):\n      */\n      const float c1 = 5.68842;\n      const float c2 = -0.748699;\n      const float c3 = -57.8051;\n      const float c4 = 291.309;\n      const float c5 = -624.717;\n      float t = newMaskValue - 0.5;\n      float x = t * t;\n\n      float uncertainty =\n        1.0 - min(1.0, x * (c1 + x * (c2 + x * (c3 + x * (c4 + x * c5)))));\n\n      float outputValue = newMaskValue + (prevMaskValue - newMaskValue) *\n                             (uncertainty * ".concat(r,");\n\n      setOutput(outputValue);\n    }\n")},i=cK();return iK((function(){var n=i.compileAndRun(o,[e,t]);return oK().makeTensorFromDataId(n.dataId,n.shape,n.dtype)}))}(e,t,n):iK((function(){var r=MY(t,.5),o=AY(r),i=MY(1,e0(1,xY(o,yY(5.68842,xY(o,yY(-.748699,xY(o,yY(-57.8051,xY(o,yY(291.309,xY(o,-624.717)))))))))));return yY(t,xY(MY(e,t),xY(i,n.combineWithPreviousRatio)))}))}(t,e,xse),aK(e)),aK(t),this.prevFilteredSegmentationMask},e.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),aK([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h,this.prevFilteredSegmentationMask])},e.prototype.reset=function(){this.regionOfInterest=null,this.enableSegmentation&&(aK(this.prevFilteredSegmentationMask),this.prevFilteredSegmentationMask=h1([],[0,0])),this.visibilitySmoothingFilterActual=null,this.visibilitySmoothingFilterAuxiliary=null,this.landmarksSmoothingFilterActual=null,this.landmarksSmoothingFilterAuxiliary=null},e.prototype.detectPose=function(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c;return lae(this,(function(d){switch(d.label){case 0:return t=$ae(e,cse),n=t.imageTensor,r=t.padding,o=this.detectorModel.predict(n),i=function(e){return iK((function(){var t=function(e){return iK((function(){return[hJ(e,[0,0,0],[1,-1,1]),hJ(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],r=t[1];return{boxes:s1(r),logits:s1(n)}}))}(o),a=i.boxes,[4,qae([s=i.logits,a],this.anchorTensor,lse)];case 1:return 0===(l=d.sent()).length?(aK([n,o,s,a]),[2,l]):[4,Vae(l,this.maxPoses,.3)];case 2:return u=d.sent(),c=function(e,t){void 0===e&&(e=[]);for(var n=t.left,r=t.top,o=t.left+t.right,i=t.top+t.bottom,a=0;a<e.length;a++){var s=e[a],l=s.locationData.relativeBoundingBox,u=(l.xMin-n)/(1-o),c=(l.yMin-r)/(1-i),d=l.width/(1-o),p=l.height/(1-i);l.xMin=u,l.yMin=c,l.width=d,l.height=p,l.xMax=u+d,l.yMax=c+p;var h=s.locationData.relativeKeypoints;h&&h.forEach((function(e){var t=(e.x-n)/(1-o),a=(e.y-r)/(1-i);e.x=t,e.y=a}))}return e}(u,r),aK([n,o,s,a]),[2,c]}}))}))},e.prototype.poseDetectionToRoi=function(e,t){return Yae(Nae(e,t,{rotationVectorEndKeypointIndex:1,rotationVectorStartKeypointIndex:0,rotationVectorTargetAngleDegree:90}),t,use)},e.prototype.poseLandmarksByRoi=function(e,t){return sae(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,p,h,f,m;return lae(this,(function(g){switch(g.label){case 0:if(n=Eae(t),r=$ae(t,dse,e),o=r.imageTensor,i=r.padding,a=r.transformationMatrix,"lite"!==this.modelType&&"full"!==this.modelType&&"heavy"!==this.modelType)throw new Error("Model type must be one of lite, full or heavy,"+"but got ".concat(this.modelType));return s=["ld_3d","output_poseflag","activation_heatmap","world_3d"],this.enableSegmentation&&s.push("activation_segmentation"),l=this.landmarkModel.execute(o,s),[4,this.tensorsToPoseLandmarksAndSegmentation(l)];case 1:return null==(u=g.sent())?(aK(l),aK(o),[2,null]):(c=u.landmarks,d=u.auxiliaryLandmarks,p=u.poseScore,h=u.worldLandmarks,f=u.segmentationMask,[4,this.poseLandmarksAndSegmentationInverseProjection(n,e,i,a,c,d,h,f)]);case 2:return m=g.sent(),aK(l),aK(o),[2,aae({poseScore:p},m)]}}))}))},e.prototype.poseLandmarksAndSegmentationInverseProjection=function(e,t,n,r,o,i,a,s){return sae(this,void 0,void 0,(function(){var l,u,c,d,p,h;return lae(this,(function(f){return l=Wae(o,n),u=Wae(i,n),c=Dae(l,t),d=Dae(u,t),p=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r],a=i.x,s=i.y,l=t.rotation,u=Math.cos(l)*a-Math.sin(l)*s,c=Math.sin(l)*a+Math.cos(l)*s,d=aae({},i);d.x=u,d.y=c,n.push(d)}return n}(a,t),h=null,this.enableSegmentation&&(h=iK((function(){var t=s.shape,n=t[0],o=t[1],i=function(e){var t=_ae(new Array(16).fill(0));t[0][0]=Mae(e,0,0),t[1][0]=-Mae(e,0,1),t[2][0]=Mae(e,0,2),t[3][0]=-Mae(e,0,3),t[0][2]=Mae(e,2,0),t[1][2]=-Mae(e,2,1),t[2][2]=Mae(e,2,2),t[3][2]=-Mae(e,2,3),t[0][1]=-Mae(e,1,0),t[1][1]=Mae(e,1,1),t[2][1]=-Mae(e,1,2),t[3][1]=Mae(e,1,3),t[0][3]=-Mae(e,3,0),t[1][3]=Mae(e,3,1),t[2][3]=-Mae(e,3,2),t[3][3]=Mae(e,3,3);for(var n=e[0][0]*t[0][0]+e[1][0]*t[0][1]+e[2][0]*t[0][2]+e[3][0]*t[0][3],r=0;r<t.length;r++)for(var o=0;o<t.length;o++)t[r][o]/=n;return t}(r),a=h1(Oae(i,{width:o,height:n},e),[1,8]),l=[1,n,o,1];return s1(H2.transform(sJ(s,l),a,"bilinear","constant",0,[e.height,e.width]),[0,3])})),aK(s)),[2,{landmarks:c,auxiliaryLandmarks:d,worldLandmarks:p,segmentationMask:h}]}))}))},e.prototype.tensorsToPoseLandmarksAndSegmentation=function(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c,d,p,h;return lae(this,(function(f){switch(f.label){case 0:return t=e[0],n=e[1],r=e[2],o=e[3],i=this.enableSegmentation?e[4]:null,[4,n.data()];case 1:return(a=f.sent()[0])<.5?[2,null]:[4,Kae(t,pse)];case 2:return[4,Uae(f.sent(),r,fse)];case 3:return s=f.sent(),l=s.slice(0,33),u=s.slice(33,35),[4,Kae(o,hse)];case 4:return c=f.sent(),d=c.slice(0,33),p=function(e,t,n){void 0===n&&(n=!0);for(var r=[],o=0;o<e.length;o++){var i=aae({},t[o]);n&&(i.score=e[o].score),r.push(i)}return r}(l,d,!0),h=this.enableSegmentation?function(e,t){return iK((function(){var n=s1(e,[0]),r=n.shape[2];if(1===r){var o=n;switch(t.activation){case"none":break;case"sigmoid":o=pJ(o);break;case"softmax":throw new Error("Softmax activation requires two channels.");default:throw new Error("Activation not supported (".concat(t.activation,")"))}return s1(o,[2])}throw new Error("Unsupported number of tensor channels ".concat(r))}))}(i,bse):null,[2,{landmarks:l,auxiliaryLandmarks:u,poseScore:a,worldLandmarks:p,segmentationMask:h}]}}))}))},e.prototype.poseLandmarksToRoi=function(e,t){return Yae(Nae(Bae(e),t,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:90}),t,use)},e.prototype.poseLandmarkFiltering=function(e,t,n,r){var o,i,a;if(null!=this.timestamp&&this.enableSmoothing){var s=Nae(Bae(t),r,{rotationVectorEndKeypointIndex:0,rotationVectorStartKeypointIndex:1,rotationVectorTargetAngleDegree:90});null==this.visibilitySmoothingFilterActual&&(this.visibilitySmoothingFilterActual=new ose(mse)),o=this.visibilitySmoothingFilterActual.apply(e),null==this.visibilitySmoothingFilterAuxiliary&&(this.visibilitySmoothingFilterAuxiliary=new ose(mse)),i=this.visibilitySmoothingFilterAuxiliary.apply(t),a=this.visibilitySmoothingFilterActual.apply(n),null==this.landmarksSmoothingFilterActual&&(this.landmarksSmoothingFilterActual=new rse(gse)),o=this.landmarksSmoothingFilterActual.apply(o,this.timestamp,r,!0,s),null==this.landmarksSmoothingFilterAuxiliary&&(this.landmarksSmoothingFilterAuxiliary=new rse(yse)),i=this.landmarksSmoothingFilterAuxiliary.apply(i,this.timestamp,r,!0,s),null==this.worldLandmarksSmoothingFilterActual&&(this.worldLandmarksSmoothingFilterActual=new rse(vse)),a=this.worldLandmarksSmoothingFilterActual.apply(n,this.timestamp)}else o=e,i=t,a=n;return{actualLandmarksFiltered:o,auxiliaryLandmarksFiltered:i,actualWorldLandmarksFiltered:a}},e}();function Cse(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i,a;return lae(this,(function(s){switch(s.label){case 0:return t=function(e){var t=aae({},null==e?ase:e);if(null==t.enableSmoothing&&(t.enableSmoothing=ase.enableSmoothing),null==t.enableSegmentation&&(t.enableSegmentation=ase.enableSegmentation),null==t.smoothSegmentation&&(t.smoothSegmentation=ase.smoothSegmentation),null==t.modelType&&(t.modelType=ase.modelType),null==t.detectorModelUrl&&(t.detectorModelUrl=ase.detectorModelUrl),null==t.landmarkModelUrl)switch(t.modelType){case"lite":t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/lite/2";break;case"heavy":t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/heavy/2";break;default:t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/2"}return t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,r="string"==typeof t.landmarkModelUrl&&t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Promise.all([S5(t.detectorModelUrl,{fromTFHub:n}),S5(t.landmarkModelUrl,{fromTFHub:r})])];case 1:return o=s.sent(),i=o[0],a=o[1],[2,new Sse(i,a,t.enableSmoothing,t.enableSegmentation,t.smoothSegmentation,t.modelType)]}}))}))}var kse,Ese,Tse=function(){function e(e){!function(e){if(e.maxTracks<1)throw new Error("Must specify 'maxTracks' to be at least 1, but "+"encountered ".concat(e.maxTracks));if(e.maxAge<=0)throw new Error("Must specify 'maxAge' to be positive, but "+"encountered ".concat(e.maxAge));if(void 0!==e.keypointTrackerParams){if(e.keypointTrackerParams.keypointConfidenceThreshold<0||e.keypointTrackerParams.keypointConfidenceThreshold>1)throw new Error("Must specify 'keypointConfidenceThreshold' to be in the range [0, 1], but encountered "+"".concat(e.keypointTrackerParams.keypointConfidenceThreshold));if(e.keypointTrackerParams.minNumberOfKeypoints<1)throw new Error("Must specify 'minNumberOfKeypoints' to be at least 1, but "+"encountered ".concat(e.keypointTrackerParams.minNumberOfKeypoints));for(var t=0,n=e.keypointTrackerParams.keypointFalloff;t<n.length;t++){var r=n[t];if(r<=0)throw new Error("Must specify each keypoint falloff parameterto be positive "+"but encountered ".concat(r))}}}(e),this.tracks=[],this.maxTracks=e.maxTracks,this.maxAge=1e3*e.maxAge,this.minSimilarity=e.minSimilarity,this.nextID=1}return e.prototype.apply=function(e,t){this.filterOldTracks(t);var n=this.computeSimilarity(e);return this.assignTracks(e,n,t),this.updateTracks(t),e},e.prototype.getTracks=function(){return this.tracks.slice()},e.prototype.getTrackIDs=function(){return new Set(this.tracks.map((function(e){return e.id})))},e.prototype.filterOldTracks=function(e){var t=this;this.tracks=this.tracks.filter((function(n){return e-n.lastTimestamp<=t.maxAge}))},e.prototype.assignTracks=function(e,t,n){for(var r=Array.from(Array(t[0].length).keys()),o=[],i=0,a=Array.from(Array(e.length).keys());i<a.length;i++){var s=a[i];if(0!==r.length){for(var l=-1,u=-1,c=0,d=r;c<d.length;c++){var p=d[c],h=t[s][p];h>=this.minSimilarity&&h>u&&(l=p,u=h)}if(l>=0){var f=this.tracks[l];f=Object.assign(f,this.createTrack(e[s],n,f.id)),e[s].id=f.id;var m=r.indexOf(l);r.splice(m,1)}else o.push(s)}else o.push(s)}for(var g=0,y=o;g<y.length;g++){s=y[g];var v=this.createTrack(e[s],n);this.tracks.push(v),e[s].id=v.id}},e.prototype.updateTracks=function(e){this.tracks.sort((function(e,t){return t.lastTimestamp-e.lastTimestamp})),this.tracks=this.tracks.slice(0,this.maxTracks)},e.prototype.createTrack=function(e,t,n){var r={id:n||this.nextTrackID(),lastTimestamp:t,keypoints:uae([],e.keypoints,!0).map((function(e){return aae({},e)}))};return void 0!==e.box&&(r.box=aae({},e.box)),r},e.prototype.nextTrackID=function(){var e=this.nextID;return this.nextID+=1,e},e.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.tracks=this.tracks.filter((function(t){return!e.includes(t.id)}))},e.prototype.reset=function(){this.tracks=[]},e}(),Ise=function(e){function t(t){return e.call(this,t)||this}return iae(t,e),t.prototype.computeSimilarity=function(e){var t=this;return 0===e.length||0===this.tracks.length?[[]]:e.map((function(e){return t.tracks.map((function(n){return t.iou(e,n)}))}))},t.prototype.iou=function(e,t){var n=Math.max(e.box.xMin,t.box.xMin),r=Math.max(e.box.yMin,t.box.yMin),o=Math.min(e.box.xMax,t.box.xMax),i=Math.min(e.box.yMax,t.box.yMax);if(n>=o||r>=i)return 0;var a=(o-n)*(i-r);return a/(e.box.width*e.box.height+t.box.width*t.box.height-a)},t}(Tse),Ose=function(e){function t(t){var n=e.call(this,t)||this;return n.keypointThreshold=t.keypointTrackerParams.keypointConfidenceThreshold,n.keypointFalloff=t.keypointTrackerParams.keypointFalloff,n.minNumKeyoints=t.keypointTrackerParams.minNumberOfKeypoints,n}return iae(t,e),t.prototype.computeSimilarity=function(e){if(0===e.length||0===this.tracks.length)return[[]];for(var t=[],n=0,r=e;n<r.length;n++){for(var o=r[n],i=[],a=0,s=this.tracks;a<s.length;a++){var l=s[a];i.push(this.oks(o,l))}t.push(i)}return t},t.prototype.oks=function(e,t){for(var n=this.area(t.keypoints)+1e-6,r=0,o=0,i=0;i<e.keypoints.length;++i){var a=e.keypoints[i],s=t.keypoints[i];if(!(a.score<this.keypointThreshold||s.score<this.keypointThreshold)){o+=1;var l=Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2),u=2*this.keypointFalloff[i];r+=Math.exp(-1*l/(2*n*Math.pow(u,2)))}}return o<this.minNumKeyoints?0:r/o},t.prototype.area=function(e){var t=this,n=e.filter((function(e){return e.score>t.keypointThreshold})),r=Math.min.apply(Math,uae([1],n.map((function(e){return e.x})),!1)),o=Math.max.apply(Math,uae([0],n.map((function(e){return e.x})),!1)),i=Math.min.apply(Math,uae([1],n.map((function(e){return e.y})),!1));return(o-r)*(Math.max.apply(Math,uae([0],n.map((function(e){return e.y})),!1))-i)},t}(Tse);function Rse(e){switch(e){case Ese.BlazePose:return dae.reduce((function(e,t,n){return e[t]=n,e}),{});case Ese.PoseNet:case Ese.MoveNet:return cae.reduce((function(e,t,n){return e[t]=n,e}),{});default:throw new Error("Model ".concat(e," is not supported."))}}!function(e){e.Keypoint="keypoint",e.BoundingBox="boundingBox"}(kse||(kse={})),function(e){e.MoveNet="MoveNet",e.BlazePose="BlazePose",e.PoseNet="PoseNet"}(Ese||(Ese={}));Object.freeze({__proto__:null,getKeypointIndexBySide:function(e){switch(e){case Ese.BlazePose:return pae;case Ese.PoseNet:case Ese.MoveNet:return hae;default:throw new Error("Model ".concat(e," is not supported."))}},getAdjacentPairs:function(e){switch(e){case Ese.BlazePose:return mae;case Ese.PoseNet:case Ese.MoveNet:return fae;default:throw new Error("Model ".concat(e," is not supported."))}},getKeypointIndexByName:Rse});var Nse=["SinglePose.Lightning","SinglePose.Thunder","MultiPose.Lightning"],_se={modelType:"SinglePose.Lightning",enableSmoothing:!0},Pse={},Mse={frequency:30,minCutOff:2.5,beta:300,derivateCutOff:2.5,thresholdCutOff:.5,thresholdBeta:5,disableValueScaling:!0},Dse={maxTracks:18,maxAge:1e3,minSimilarity:.2,keypointTrackerParams:{keypointConfidenceThreshold:.3,keypointFalloff:[.026,.025,.025,.035,.035,.079,.079,.072,.072,.062,.062,.107,.107,.087,.087,.089,.089],minNumberOfKeypoints:4}},Lse={maxTracks:18,maxAge:1e3,minSimilarity:.15,trackerParams:{}};function $se(e,t){var n,r,o,i;return e?t.width>t.height?(n=1,r=t.height/t.width,o=0,i=(t.width/2-t.height/2)/t.width):(n=t.width/t.height,r=1,o=(t.height/2-t.width/2)/t.height,i=0):t.width>t.height?(n=t.width/t.height,r=1,o=(t.height/2-t.width/2)/t.height,i=0):(n=1,r=t.height/t.width,o=0,i=(t.width/2-t.height/2)/t.width),{yMin:o,xMin:i,yMax:o+n,xMax:i+r,height:n,width:r}}function jse(e,t){var n={maxTracks:e.maxTracks,maxAge:e.maxAge,minSimilarity:e.minSimilarity};return null!=t.maxTracks&&(n.maxTracks=t.maxTracks),null!=t.maxAge&&(n.maxAge=t.maxAge),null!=t.minSimilarity&&(n.minSimilarity=t.minSimilarity),n}var Fse=function(){function e(e,t){this.moveNetModel=e,this.modelInputResolution={height:0,width:0},this.keypointIndexByName=Rse(Ese.MoveNet),"SinglePose.Lightning"===t.modelType?(this.modelInputResolution.width=192,this.modelInputResolution.height=192):"SinglePose.Thunder"===t.modelType&&(this.modelInputResolution.width=256,this.modelInputResolution.height=256),this.multiPoseModel="MultiPose.Lightning"===t.modelType,this.multiPoseModel||(this.keypointFilter=new ese(Mse),this.cropRegionFilterYMin=new Jae(.9),this.cropRegionFilterXMin=new Jae(.9),this.cropRegionFilterYMax=new Jae(.9),this.cropRegionFilterXMax=new Jae(.9)),this.enableSmoothing=t.enableSmoothing,t.minPoseScore?this.minPoseScore=t.minPoseScore:this.minPoseScore=.25,t.multiPoseMaxDimension?this.multiPoseMaxDimension=t.multiPoseMaxDimension:this.multiPoseMaxDimension=256,this.enableTracking=t.enableTracking,this.multiPoseModel&&this.enableTracking&&(t.trackerType===kse.Keypoint?this.tracker=new Ose(t.trackerConfig):t.trackerType===kse.BoundingBox&&(this.tracker=new Ise(t.trackerConfig)),this.enableSmoothing&&(this.keypointFilterMap=new Map))}return e.prototype.runSinglePersonPoseModel=function(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i;return lae(this,(function(a){switch(a.label){case 0:if(4!==(t=this.moveNetModel.execute(e)).shape.length||1!==t.shape[0]||1!==t.shape[1]||17!==t.shape[2]||3!==t.shape[3])throw t.dispose(),new Error("Unexpected output shape from model: [".concat(t.shape,"]"));return"webgpu"===lK()?[3,1]:(n=t.dataSync(),[3,3]);case 1:return[4,t.data()];case 2:n=a.sent(),a.label=3;case 3:for(t.dispose(),r={keypoints:[],score:0},o=0,i=0;i<17;++i)r.keypoints[i]={y:n[3*i],x:n[3*i+1],score:n[3*i+2]},r.keypoints[i].score>.2&&(++o,r.score+=r.keypoints[i].score);return o>0&&(r.score/=o),[2,r]}}))}))},e.prototype.runMultiPersonPoseModel=function(e){return sae(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l;return lae(this,(function(u){switch(u.label){case 0:if(3!==(t=this.moveNetModel.execute(e)).shape.length||1!==t.shape[0]||56!==t.shape[2])throw t.dispose(),new Error("Unexpected output shape from model: [".concat(t.shape,"]"));return"webgpu"===lK()?[3,1]:(n=t.dataSync(),[3,3]);case 1:return[4,t.data()];case 2:n=u.sent(),u.label=3;case 3:for(t.dispose(),r=[],o=n.length/56,i=0;i<o;++i)for(r[i]={keypoints:[]},a=56*i+51,r[i].box={yMin:n[a],xMin:n[a+1],yMax:n[a+2],xMax:n[a+3],width:n[a+3]-n[a+1],height:n[a+2]-n[a]},s=56*i+55,r[i].score=n[s],r[i].keypoints=[],l=0;l<17;++l)r[i].keypoints[l]={y:n[56*i+3*l],x:n[56*i+3*l+1],score:n[56*i+3*l+2]};return[2,r]}}))}))},e.prototype.estimatePoses=function(e,t,n){return void 0===t&&(t=Pse),sae(this,void 0,void 0,(function(){var r,o,i,a,s,l;return lae(this,(function(u){switch(u.label){case 0:return t=function(e){return null==e?Pse:aae({},e)}(t),null==e?(this.reset(),[2,[]]):(null==n?Fae(e)&&(n=1e6*e.currentTime):n*=1e3,r=Iae(e),o=Eae(r),i=gZ(r,0),e instanceof xX||r.dispose(),a=[],this.multiPoseModel?[3,2]:[4,this.estimateSinglePose(i,o,n)]);case 1:return a=u.sent(),[3,4];case 2:return[4,this.estimateMultiplePoses(i,o,n)];case 3:a=u.sent(),u.label=4;case 4:for(s=0;s<a.length;++s)for(l=0;l<a[s].keypoints.length;++l)a[s].keypoints[l].name=cae[l],a[s].keypoints[l].y*=o.height,a[s].keypoints[l].x*=o.width;return[2,a]}}))}))},e.prototype.estimateSinglePose=function(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s=this;return lae(this,(function(l){switch(l.label){case 0:return this.cropRegion||(this.cropRegion=$se(null==this.cropRegion,t)),r=iK((function(){var t=h1([[s.cropRegion.yMin,s.cropRegion.xMin,s.cropRegion.yMax,s.cropRegion.xMax]]),n=QZ([1],"int32"),r=[s.modelInputResolution.height,s.modelInputResolution.width];return fY(H2.cropAndResize(e,t,n,r,"bilinear",0),"int32")})),e.dispose(),[4,this.runSinglePersonPoseModel(r)];case 1:if(o=l.sent(),r.dispose(),o.score<this.minPoseScore)return this.reset(),[2,[]];for(i=0;i<o.keypoints.length;++i)o.keypoints[i].y=this.cropRegion.yMin+o.keypoints[i].y*this.cropRegion.height,o.keypoints[i].x=this.cropRegion.xMin+o.keypoints[i].x*this.cropRegion.width;return null!=n&&this.enableSmoothing&&(o.keypoints=this.keypointFilter.apply(o.keypoints,n,1)),a=function(e,t,n,r){for(var o={},i=0,a=cae;i<a.length;i++){var s=a[i];o[s]=[t[n[s]].y*r.height,t[n[s]].x*r.width]}if(function(e,t){return(e[t.left_hip].score>.2||e[t.right_hip].score>.2)&&(e[t.left_shoulder].score>.2||e[t.right_shoulder].score>.2)}(t,n)){var l=(o.left_hip[0]+o.right_hip[0])/2,u=(o.left_hip[1]+o.right_hip[1])/2,c=function(e,t,n,r,o){for(var i=["left_shoulder","right_shoulder","left_hip","right_hip"],a=0,s=0,l=0;l<i.length;l++)(h=Math.abs(r-n[i[l]][0]))>a&&(a=h),(f=Math.abs(o-n[i[l]][1]))>s&&(s=f);for(var u=0,c=0,d=0,p=Object.keys(n);d<p.length;d++){var h,f,m=p[d];e[t[m]].score<.2||((h=Math.abs(r-n[m][0]))>u&&(u=h),(f=Math.abs(o-n[m][1]))>c&&(c=f))}return[a,s,u,c]}(t,n,o,l,u),d=c[0],p=c[1],h=c[2],f=c[3],m=Math.max(1.9*p,1.9*d,1.2*h,1.2*f),g=[l-(m=Math.min(m,Math.max(u,r.width-u,l,r.height-l))),u-m];if(m>Math.max(r.width,r.height)/2)return $se(null==e,r);var y=2*m;return{yMin:g[0]/r.height,xMin:g[1]/r.width,yMax:(g[0]+y)/r.height,xMax:(g[1]+y)/r.width,height:(g[0]+y)/r.height-g[0]/r.height,width:(g[1]+y)/r.width-g[1]/r.width}}return $se(null==e,r)}(this.cropRegion,o.keypoints,this.keypointIndexByName,t),this.cropRegion=this.filterCropRegion(a),[2,[o]]}}))}))},e.prototype.estimateMultiplePoses=function(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,h,f=this;return lae(this,(function(m){switch(m.label){case 0:return t.width>t.height?(o=this.multiPoseMaxDimension,i=Math.round(this.multiPoseMaxDimension*t.height/t.width),r=H2.resizeBilinear(e,[i,o]),s=o,l=32*Math.ceil(i/32),a=c0(r,[[0,0],[0,l-i],[0,0],[0,0]])):(o=Math.round(this.multiPoseMaxDimension*t.width/t.height),i=this.multiPoseMaxDimension,r=H2.resizeBilinear(e,[i,o]),s=32*Math.ceil(o/32),l=i,a=c0(r,[[0,0],[0,0],[0,s-o],[0,0]])),r.dispose(),e.dispose(),u=fY(a,"int32"),a.dispose(),[4,this.runMultiPersonPoseModel(u)];case 1:for(c=m.sent(),u.dispose(),c=c.filter((function(e){return e.score>=f.minPoseScore})),p=0;p<c.length;++p)for(d=0;d<c[p].keypoints.length;++d)c[p].keypoints[d].y*=l/i,c[p].keypoints[d].x*=s/o;if(this.enableTracking&&(this.tracker.apply(c,n),this.enableSmoothing)){for(p=0;p<c.length;++p)this.keypointFilterMap.has(c[p].id)||this.keypointFilterMap.set(c[p].id,new ese(Mse)),c[p].keypoints=this.keypointFilterMap.get(c[p].id).apply(c[p].keypoints,n,1);h=this.tracker.getTrackIDs(),this.keypointFilterMap.forEach((function(e,t){h.has(t)||f.keypointFilterMap.delete(t)}))}return[2,c]}}))}))},e.prototype.filterCropRegion=function(e){if(e){var t=this.cropRegionFilterYMin.apply(e.yMin),n=this.cropRegionFilterXMin.apply(e.xMin),r=this.cropRegionFilterYMax.apply(e.yMax),o=this.cropRegionFilterXMax.apply(e.xMax);return{yMin:t,xMin:n,yMax:r,xMax:o,height:r-t,width:o-n}}return this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset(),null},e.prototype.dispose=function(){this.moveNetModel.dispose()},e.prototype.reset=function(){this.cropRegion=null,this.resetFilters()},e.prototype.resetFilters=function(){this.keypointFilter.reset(),this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset()},e}();function Bse(e){return void 0===e&&(e=_se),sae(this,void 0,void 0,(function(){var t,n,r,o;return lae(this,(function(i){switch(i.label){case 0:return t=function(e){var t,n=null==e?_se:aae({},e);if(null==n.modelType)n.modelType="SinglePose.Lightning";else if(Nse.indexOf(n.modelType)<0)throw new Error("Invalid architecture ".concat(n.modelType,". ")+"Should be one of ".concat(Nse));if(null==n.enableSmoothing&&(n.enableSmoothing=!0),null!=n.minPoseScore&&(n.minPoseScore<0||n.minPoseScore>1))throw new Error("minPoseScore should be between 0.0 and 1.0");if(null!=n.multiPoseMaxDimension&&(n.multiPoseMaxDimension%32!=0||n.multiPoseMaxDimension<32))throw new Error("multiPoseMaxDimension must be a multiple of 32 and higher than 0");if("MultiPose.Lightning"===n.modelType&&null==n.enableTracking&&(n.enableTracking=!0),"MultiPose.Lightning"===n.modelType&&!0===n.enableTracking)if(null==n.trackerType&&(n.trackerType=kse.BoundingBox),n.trackerType===kse.Keypoint)null!=n.trackerConfig?n.trackerConfig=function(e){var t=jse(Dse,e);return t.keypointTrackerParams=aae({},Dse.keypointTrackerParams),null!=e.keypointTrackerParams&&(null!=e.keypointTrackerParams.keypointConfidenceThreshold&&(t.keypointTrackerParams.keypointConfidenceThreshold=e.keypointTrackerParams.keypointConfidenceThreshold),null!=e.keypointTrackerParams.keypointFalloff&&(t.keypointTrackerParams.keypointFalloff=e.keypointTrackerParams.keypointFalloff),null!=e.keypointTrackerParams.minNumberOfKeypoints&&(t.keypointTrackerParams.minNumberOfKeypoints=e.keypointTrackerParams.minNumberOfKeypoints)),t}(n.trackerConfig):n.trackerConfig=Dse;else{if(n.trackerType!==kse.BoundingBox)throw new Error("Tracker type not supported by MoveNet");null!=n.trackerConfig?n.trackerConfig=(t=n.trackerConfig,jse(Lse,t)):n.trackerConfig=Lse}return n}(e),r=!0,t.modelUrl?(r="string"==typeof t.modelUrl&&t.modelUrl.indexOf("https://tfhub.dev")>-1,[4,S5(t.modelUrl,{fromTFHub:r})]):[3,2];case 1:return n=i.sent(),[3,4];case 2:return o=void 0,"SinglePose.Lightning"===t.modelType?o="https://tfhub.dev/google/tfjs-model/movenet/singlepose/lightning/4":"SinglePose.Thunder"===t.modelType?o="https://tfhub.dev/google/tfjs-model/movenet/singlepose/thunder/4":"MultiPose.Lightning"===t.modelType&&(o="https://tfhub.dev/google/tfjs-model/movenet/multipose/lightning/1"),[4,S5(o,{fromTFHub:r})];case 3:n=i.sent(),i.label=4;case 4:return"webgl"===lK()&&fW().set("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",0),[2,new Fse(n,t)]}}))}))}var Vse={architecture:"MobileNetV1",outputStride:16,multiplier:.75,inputResolution:{height:257,width:257}},zse=["MobileNetV1","ResNet50"],Use={MobileNetV1:[8,16],ResNet50:[16]},Wse=[8,16,32],qse={MobileNetV1:[.5,.75,1],ResNet50:[1]},Hse=[1,2,4],Gse={maxPoses:1,flipHorizontal:!1},Xse={maxPoses:5,flipHorizontal:!1,scoreThreshold:.5,nmsRadius:20},Kse=[-123.15,-115.9,-103.06];function Yse(e){return Math.floor(e/2)}var Qse=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(Yse(e),e);)this.exchange(e,Yse(e)),e=Yse(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function Jse(e,t,n,r,o,i){for(var a=i.shape,s=a[0],l=a[1],u=!0,c=Math.max(n-o,0),d=Math.min(n+o+1,s),p=c;p<d;++p){for(var h=Math.max(r-o,0),f=Math.min(r+o+1,l),m=h;m<f;++m)if(i.get(p,m,e)>t){u=!1;break}if(!u)break}return u}function Zse(e){return sae(this,void 0,void 0,(function(){return lae(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function ele(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+17)}}function tle(e,t,n){var r=ele(e.heatmapY,e.heatmapX,e.id,n),o=r.y,i=r.x;return{x:e.heatmapX*t+i,y:e.heatmapY*t+o}}function nle(e,t,n,r){var o=n.x,i=n.y;return e.some((function(e){var n,a,s,l,u=e.keypoints;return n=i,a=o,(s=u[r].y-n)*s+(l=u[r].x-a)*l<=t}))}var rle=cae.reduce((function(e,t,n){return e[t]=n,e}),{}),ole=[["nose","left_eye"],["left_eye","left_ear"],["nose","right_eye"],["right_eye","right_ear"],["nose","left_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["left_shoulder","left_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["nose","right_shoulder"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["right_shoulder","right_hip"],["right_hip","right_knee"],["right_knee","right_ankle"]].map((function(e){var t=e[0],n=e[1];return[rle[t],rle[n]]})),ile=ole.map((function(e){return e[1]})),ale=ole.map((function(e){return e[0]}));function sle(e,t,n){return e<t?t:e>n?n:e}function lle(e,t,n,r){return{y:sle(Math.round(e.y/t),0,n-1),x:sle(Math.round(e.x/t),0,r-1)}}function ule(e,t){return{x:e.x+t.x,y:e.y+t.y}}function cle(e,t,n,r,o,i,a,s){void 0===s&&(s=2);for(var l=r.shape,u=l[0],c=l[1],d={y:t.y,x:t.x},p=ule(d,function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,lle(d,i,u,c),a)),h=0;h<s;h++){var f=lle(p,i,u,c),m=ele(f.y,f.x,n,o);p=ule({x:f.x*i,y:f.y*i},{x:m.x,y:m.y})}var g=lle(p,i,u,c),y=r.get(g.y,g.x,n);return{y:p.y,x:p.x,name:cae[n],score:y}}function dle(e,t,n,r,o,i){var a=t.shape[2],s=ile.length,l=new Array(a),u=e.part,c=e.score,d=tle(u,r,n);l[u.id]={score:c,name:cae[u.id],y:d.y,x:d.x};for(var p=s-1;p>=0;--p){var h=ile[p],f=ale[p];l[h]&&!l[f]&&(l[f]=cle(p,l[h],f,t,n,r,i))}for(p=0;p<s;++p)h=ale[p],f=ile[p],l[h]&&!l[f]&&(l[f]=cle(p,l[h],f,t,n,r,o));return l}function ple(e,t,n){return n.reduce((function(n,r,o){var i=r.y,a=r.x,s=r.score;return nle(e,t,{y:i,x:a},o)||(n+=s),n}),0)/n.length}function hle(e,t,n,r,o,i,a,s){return void 0===a&&(a=.5),void 0===s&&(s=20),sae(this,void 0,void 0,(function(){var l,u,c,d,p,h,f,m,g,y,v,b;return lae(this,(function(x){switch(x.label){case 0:return[4,Zse([e,t,n,r])];case 1:for(l=x.sent(),u=l[0],c=l[1],d=l[2],p=l[3],h=[],f=function(e,t,n){for(var r=n.shape,o=r[0],i=r[1],a=r[2],s=new Qse(o*i*a,(function(e){return e.score})),l=0;l<o;++l)for(var u=0;u<i;++u)for(var c=0;c<a;++c){var d=n.get(l,u,c);d<e||Jse(c,d,l,u,1,n)&&s.enqueue({score:d,part:{heatmapY:l,heatmapX:u,id:c}})}return s}(a,0,u),m=s*s;h.length<i&&!f.empty();)g=f.dequeue(),y=tle(g.part,o,c),nle(h,m,y,g.part.id)||(v=dle(g,u,c,o,d,p),b=ple(h,m,v),h.push({keypoints:v,score:b}));return[2,h]}}))}))}function fle(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(t.length){case 0:e="fn main() ";break;case 1:e="fn main(".concat(t[0]," : i32)");break;default:throw Error("Unreachable")}return e}var mle=function(){function e(e){this.variableNames=["A","B"],this.size=!0,this.workgroupSize=[32,1,1],this.outputShape=[e[0],1],this.dispatchLayout=Q5(this.outputShape),this.dispatch=X5(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="getpointsConfidenceOp"}return e.prototype.getUserCode=function(){return"\n        ".concat(fle("index")," {\n          if (index < uniforms.size) {\n            let y = B[index * 2];\n            let x = B[index * 2 + 1];\n            let outIndex = y * uniforms.aShape.x * uniforms.aShape.z + x * uniforms.aShape.z + index;\n            result[index] = A[outIndex];\n          }\n        }\n        ")},e}();var gle=function(){function e(e){if(this.variableNames=["A","B"],this.size=!0,this.supportedLastDimension=2,2!==e.length||e[1]!==this.supportedLastDimension)throw new Error("GetOffsetVectorsProgram only supports shape of [x, ".concat(this.supportedLastDimension,"], but current shape is ").concat(e));this.workgroupSize=[32,1,1],this.outputShape=e;var t=[e[0],1];this.dispatchLayout=Q5(t),this.dispatch=X5(this.dispatchLayout,t,this.workgroupSize),this.shaderKey="GetOffsetVectors"}return e.prototype.getUserCode=function(){return"\n    fn getOffsetPoint(y: i32, x: i32, index: i32) -> vec2<i32> {\n      let outIndexY = y * uniforms.bShape.x * uniforms.bShape.y + x * uniforms.bShape.y + index;\n      let outIndexX = outIndexY + uniforms.bShape.z;\n      let outY = i32(B[outIndexY]);\n      let outX = i32(B[outIndexX]);\n      return vec2<i32>(outY, outX);\n    }\n\n    ".concat(fle("index")," {\n      if (index < uniforms.size) {\n        let indexY = index * ").concat(this.supportedLastDimension,";\n        let indexX = indexY + 1;\n        let heatmapY = A[indexY];\n        let heatmapX = A[indexX];\n        let out = getOffsetPoint(i32(heatmapY), i32(heatmapX), index);\n        result[indexY] = f32(out[0]);\n        result[indexX] = f32(out[1]);\n      }\n    }\n    ")},e}();function yle(e){var t=e.shape,n=t[0],r=t[1],o=t[2];return iK((function(){var t,i,a=sJ(e,[n*r,o]),s=FQ(a,0),l=gZ(bY(s,kY(r,"int32")),1),u=gZ((t=s,i=r,iK((function(){var e=bY(t,kY(i,"int32"));return MY(t,xY(e,kY(i,"int32")))}))),1);return cJ([l,u],1)}))}function vle(e,t,n){return iK((function(){var r=function(e,t){for(var n=[],r=0;r<cae.length;r++){var o=ble(e.get(r,0).valueOf(),e.get(r,1).valueOf(),r,t),i=o.x,a=o.y;n.push(a),n.push(i)}return h1(n,[cae.length,2])}(e,n);return yY(fY(xY(e.toTensor(),kY(t,"int32")),"float32"),r)}))}function ble(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+cae.length)}}function xle(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p;return lae(this,(function(h){switch(h.label){case 0:return r=0,o=yle(e),[4,Promise.all([e.buffer(),t.buffer(),o.buffer()])];case 1:return i=h.sent(),a=i[0],s=i[1],l=i[2],[4,(u=vle(l,n,s)).buffer()];case 2:return c=h.sent(),d=Array.from(function(e,t){for(var n=t.shape[0],r=new Float32Array(n),o=0;o<n;o++){var i=t.get(o,0),a=t.get(o,1);r[o]=e.get(i,a,o)}return r}(a,l)),p=d.map((function(e,t){return r+=e,{y:c.get(t,0),x:c.get(t,1),score:e,name:cae[t]}})),o.dispose(),u.dispose(),[2,{keypoints:p,score:r/p.length}]}}))}))}function wle(e,t,n){return sae(this,void 0,void 0,(function(){var r,o,i;return lae(this,(function(a){return r=yle(e),o=function(e,t,n){return iK((function(){var r=function(e,t){if(cK()instanceof r6)return function(e,t){var n=cK(),r=new gle(e.shape),o=n.runWebGPUProgram(r,[e,t],"float32");return oK().makeTensorFromTensorInfo(o)}(e,t);throw new Error("getOffsetVectorsGPU is not supported in this backend!")}(e,n);return yY(fY(xY(e,kY(t,"int32")),"float32"),r)}))}(r,n,t),i=function(e,t){if(cK()instanceof r6)return function(e,t){var n=cK(),r=new mle(t.shape),o=n.runWebGPUProgram(r,[e,t],"float32");return oK().makeTensorFromTensorInfo(o)}(e,t);throw new Error("getPointsConfidenceWebGPU is not supported in this backend!")}(e,r),[2,[o,i]]}))}))}function Ale(e,t){return(e-1)%t==0}var Sle="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/",Cle="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/";function kle(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var Ele=function(){function e(e,t){this.posenetModel=e;var n=this.posenetModel.inputs[0].shape;MU(-1===n[1]&&-1===n[2],(function(){return"Input shape [".concat(n[1],", ").concat(n[2],"] ")+"must both be equal to or -1"}));var r,o,i=(r=t.inputResolution,o=t.outputStride,{height:kle(r.height,o),width:kle(r.width,o)});!function(e){MU(Wse.indexOf(e)>=0,(function(){return"outputStride of ".concat(e," is invalid. ")+"It must be either 8 or 16."}))}(t.outputStride),function(e,t){MU(Ale(e.height,t),(function(){return"height of ".concat(e.height," is invalid for output stride ")+"".concat(t,".")})),MU(Ale(e.width,t),(function(){return"width of ".concat(e.width," is invalid for output stride ")+"".concat(t,".")}))}(i,t.outputStride),this.inputResolution=i,this.outputStride=t.outputStride,this.architecture=t.architecture}return e.prototype.estimatePoses=function(e,t){return void 0===t&&(t=Gse),sae(this,void 0,void 0,(function(){return lae(this,(function(n){return[2,this.estimatePosesGPU(e,t,!1)]}))}))},e.prototype.estimatePosesGPU=function(e,t,n){return void 0===t&&(t=Gse),void 0===n&&(n=!1),sae(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,h,f,m,g,y,v,b,x;return lae(this,(function(w){switch(w.label){case 0:return r=function(e){var t=e;if(null==t.maxPoses&&(t.maxPoses=1),t.maxPoses<=0)throw new Error("Invalid maxPoses ".concat(t.maxPoses,". Should be > 0."));if(t.maxPoses>1){if((t=aae(aae({},Xse),t)).scoreThreshold<0||t.scoreThreshold>1)throw new Error("Invalid scoreThreshold ".concat(t.scoreThreshold,". ")+"Should be in range [0.0, 1.0]");if(t.nmsRadius<=0)throw new Error("Invalid nmsRadius ".concat(t.nmsRadius,"."))}return t}(t),null==e?[2,n?[[],[]]:[]]:(this.maxPoses=r.maxPoses,o=$ae(e,{outputTensorSize:this.inputResolution,keepAspectRatio:!0,borderMode:"replicate"}),i=o.imageTensor,a=o.padding,s="ResNet50"===this.architecture?yY(i,Kse):Lae(i,[-1,1]),l=this.posenetModel.predict(s),"ResNet50"===this.architecture?(u=s1(l[2],[0]),c=s1(l[3],[0]),d=s1(l[0],[0]),p=s1(l[1],[0])):(u=s1(l[0],[0]),c=s1(l[1],[0]),d=s1(l[2],[0]),p=s1(l[3],[0])),h=pJ(c),1!==this.maxPoses?[3,5]:n?[4,wle(h,u,this.outputStride)]:[3,2]);case 1:return m=w.sent(),y=m[0],g=m[1],f=[y,g],[3,4];case 2:return[4,xle(h,u,this.outputStride)];case 3:y=w.sent(),f=[y],w.label=4;case 4:return[3,7];case 5:if(n)throw new Error("GPU renderer only supports single pose!");return[4,hle(h,u,d,p,this.outputStride,this.maxPoses,r.scoreThreshold,r.nmsRadius)];case 6:f=w.sent(),w.label=7;case 7:if(n){if(!0===r.flipHorizontal)throw new Error("flipHorizontal is not supported!");v=this.getCanvasInfo(Eae(e),this.inputResolution,a)}else x=Eae(e),b=function(e,t,n,r){var o=t.height,i=t.width,a=o/(n.height*(1-r.top-r.bottom)),s=i/(n.width*(1-r.left-r.right)),l=-r.top*n.height,u=-r.left*n.width;if(1===s&&1===a&&0===l&&0===u)return e;for(var c=0,d=e;c<d.length;c++)for(var p=0,h=d[c].keypoints;p<h.length;p++){var f=h[p];f.x=(f.x+u)*s,f.y=(f.y+l)*a}return e}(f,x,this.inputResolution,a),r.flipHorizontal&&(b=function(e,t){for(var n=0,r=e;n<r.length;n++)for(var o=0,i=r[n].keypoints;o<i.length;o++){var a=i[o];a.x=t.width-1-a.x}return e}(b,x));return i.dispose(),s.dispose(),aK(l),u.dispose(),c.dispose(),d.dispose(),p.dispose(),h.dispose(),[2,n?[f,v]:b]}}))}))},e.prototype.getCanvasInfo=function(e,t,n){var r=e.height,o=e.width,i=r/(t.height*(1-n.top-n.bottom)),a=o/(t.width*(1-n.left-n.right)),s=-n.top*t.height;return[-n.left*t.width,s,a,i,e.width,e.height]},e.prototype.dispose=function(){this.posenetModel.dispose()},e.prototype.reset=function(){},e}();function Tle(e){return void 0===e&&(e=Vse),sae(this,void 0,void 0,(function(){var t,n,r,o,i;return lae(this,(function(a){switch(a.label){case 0:return"ResNet50"!==(t=function(e){var t=e||Vse;if(null==t.architecture&&(t.architecture="MobileNetV1"),zse.indexOf(t.architecture)<0)throw new Error("Invalid architecture ".concat(t.architecture,". ")+"Should be one of ".concat(zse));if(null==t.inputResolution&&(t.inputResolution={height:257,width:257}),null==t.outputStride&&(t.outputStride=16),Use[t.architecture].indexOf(t.outputStride)<0)throw new Error("Invalid outputStride ".concat(t.outputStride,". ")+"Should be one of ".concat(Use[t.architecture]," ")+"for architecture ".concat(t.architecture,"."));if(null==t.multiplier&&(t.multiplier=1),qse[t.architecture].indexOf(t.multiplier)<0)throw new Error("Invalid multiplier ".concat(t.multiplier,". ")+"Should be one of ".concat(qse[t.architecture]," ")+"for architecture ".concat(t.architecture,"."));if(null==t.quantBytes&&(t.quantBytes=4),Hse.indexOf(t.quantBytes)<0)throw new Error("Invalid quantBytes ".concat(t.quantBytes,". ")+"Should be one of ".concat(Hse," ")+"for architecture ".concat(t.architecture,"."));if("MobileNetV1"===t.architecture&&32===t.outputStride&&1!==t.multiplier)throw new Error("When using an output stride of 32, you must select 1 as the multiplier.");return t}(e)).architecture?[3,2]:(s=t.outputStride,l=t.quantBytes,u="model-stride".concat(s,".json"),n=4===l?Cle+"float/"+u:Cle+"quant".concat(l,"/")+u,[4,S5(t.modelUrl||n)]);case 1:return r=a.sent(),[2,new Ele(r,t)];case 2:return o=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},o="model-stride".concat(e,".json");return 4===n?Sle+"float/".concat(r[t],"/")+o:Sle+"quant".concat(n,"/").concat(r[t],"/")+o}(t.outputStride,t.multiplier,t.quantBytes),[4,S5(t.modelUrl||o)];case 3:return i=a.sent(),[2,new Ele(i,t)]}var s,l,u}))}))}var Ile={SINGLEPOSE_LIGHTNING:"SinglePose.Lightning",SINGLEPOSE_THUNDER:"SinglePose.Thunder",MULTIPOSE_LIGHTNING:"MultiPose.Lightning"};const Ole={},Rle={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Nle(e,t){if(!(e in Ole)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(fW().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete Ole[e]}),!1),fW().getBool("SOFTWARE_WEBGL_ENABLED")&&(Rle.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",Rle)||n.getContext("experimental-webgl",Rle);return n.getContext("webgl2",Rle)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;Ole[e]=n}const n=Ole[e];return null==n||n.isContextLost()?(delete Ole[e],Nle(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Ole[e])}var _le,Ple,Mle;function Dle(e,t){return[t,e]}function Lle(e){const t=$U(e);return VU(Math.ceil(t/4))}function $le(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function jle(e,t){const n=e;let r,o,i,a,s,l,u,c,d,p;return 2===fW().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,i=n.RGBA16F,a=n.RGBA32F,s=n.RED,u=4,c=1,d=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(r=e.RGBA,o=e.RGBA,i=e.RGBA,a=n.RGBA,s=e.RGBA,u=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:p}}function Fle(e,t){const n=t();return fW().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(_le||(_le={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Ple||(Ple={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Mle||(Mle={}));function Ble(e){return!!(fW().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Vle(e,t){return Yle(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const zle=/ERROR: [0-9]+:([0-9]+):/g;function Ule(e,t){const n=zle.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map(((e,t)=>zU((t+1).toString(),i)+e));let s=0;for(let d=0;d<a.length;d++)s=Math.max(a[d].length,s);const l=a.slice(0,r-1),u=a.slice(r-1,r),c=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${zU(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function Wle(e,t){if(Fle(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function qle(e,t,n,r,o,i,a){const s=e.getAttribLocation(t,n);return-1!==s&&(Fle(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),Fle(e,(()=>e.vertexAttribPointer(s,o,e.FLOAT,!1,i,a))),Fle(e,(()=>e.enableVertexAttribArray(s))),!0)}function Hle(e,t,n,r){Fle(e,(()=>function(e,t,n){Qle(e,n),Fle(e,(()=>e.activeTexture(e.TEXTURE0+n))),Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),Fle(e,(()=>e.uniform1i(n,r)))}function Gle(e,t,n){Fle(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),Fle(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function Xle(e,t){Fle(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),Fle(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function Kle(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function Yle(e,t,n){const r=Fle(e,(()=>t()));if(null==r)throw new Error(n);return r}function Qle(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function Jle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return $U(e.slice(0,e.length-t))}function Zle(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function eue(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Jle(e),...Zle(e)]),t}function tue(e){return e%2===0}function nue(e,t){if(FU(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(tue(n)&&tue(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&tue(e[0])&&tue(t[0])}let rue,oue;function iue(e,t){return null!=e.getExtension(t)}function aue(e){try{if(null!=Nle(e))return!0}catch(Nve){return console.log("Error when getting WebGL context: ",Nve),!1}return!1}function sue(e){if(0===e)return!1;const t=Nle(e);if(1!==e){if(iue(t,"EXT_color_buffer_float"))return lue(t);const e="EXT_color_buffer_half_float";if(iue(t,e)){const n=t.getExtension(e);return function(e,t){const n=jle(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const o=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,o,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),s}(t,n)}return!1}if(!iue(t,"OES_texture_float"))return!1;if(!iue(t,"WEBGL_color_buffer_float"))return!1;return lue(t)}function lue(e){const t=jle(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function uue(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&MU("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const cue=fW();function due(){let e,t,n,r,o,i,a,s,l,u;return 2===fW().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s=fW().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function pue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=tW(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / ${t}`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${t}`:`index -= ${e[o]} * ${t}`};`)).join("")}function hue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=tW(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / outShapeStrides[${o}]`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`};`)).join("")}function fue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),o=new Array(n-1);o[n-2]=r[n-1];for(let i=n-3;i>=0;--i)o[i]=`(${o[i+1]} * ${r[i+1]})`;return o}(e.map(((e,t)=>t)),t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / ${r[o]}`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${r[o]}`:`index -= ${e[o]} * ${r[o]}`};`)).join("")}function mue(e){const t=tW(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}cue.registerFlag("HAS_WEBGL",(()=>cue.getNumber("WEBGL_VERSION")>0)),cue.registerFlag("WEBGL_VERSION",(()=>aue(2)?2:aue(1)?1:0)),cue.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),cue.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===cue.get("WEBGL_VERSION"))),cue.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),cue.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),cue.registerFlag("WEBGL_PACK",(()=>cue.getBool("HAS_WEBGL"))),cue.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_CLIP",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_REDUCE",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_LAZILY_UNPACK",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_CONV_IM2COL",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>cue.getBool("WEBGL_PACK"))),cue.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==rue){const t=Nle(e);rue=t.getParameter(t.MAX_TEXTURE_SIZE)}return rue}(cue.getNumber("WEBGL_VERSION")))),cue.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==oue){const t=Nle(e);oue=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,oue)}(cue.getNumber("WEBGL_VERSION")))),cue.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=cue.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=Nle(e);return t=iue(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:iue(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),cue.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>cue.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!UX())),cue.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=Nle(e);if(1===e){if(!iue(t,"OES_texture_float"))return!1}else if(!iue(t,"EXT_color_buffer_float"))return!1;return lue(t)}(cue.getNumber("WEBGL_VERSION")))),cue.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!cue.getBool("WEBGL_FORCE_F16_TEXTURES")&&cue.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),cue.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>sue(cue.getNumber("WEBGL_VERSION")))),cue.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=cue.getNumber("WEBGL_VERSION"))&&null!=Nle(e).fenceSync;var e})),cue.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>cue.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),cue.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),cue.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>UX()?1:-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),cue.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),cue.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),cue.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),cue.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),cue.registerFlag("WEBGL_EXP_CONV",(()=>!1)),cue.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>cue.getBool("IS_TEST"))),cue.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),cue.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),cue.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),cue.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const gue="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:yue}=a;function vue(e,t,n){const r=[];if(e.forEach((e=>{const t=$U(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=Oue(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const o=r.join("\n"),i=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o="";o+=n?xue(e,r):bue(e,r);const i=e.shapeInfo.logicalShape,a=t.logicalShape;i.length<=a.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,s=yue(e.shapeInfo.logicalShape,t.logicalShape),l=Iue(a),u=a-i;let c;const d=["x","y","z","w","u","v"];c=0===i?"":a<2&&s.length>=1?"coords = 0;":s.map((e=>`coords.${d[e+u]} = 0;`)).join("\n");let p="";p=a<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${d[t+u]}`)).join(", ");let h="return outputValue;";const f=1===$U(e.shapeInfo.logicalShape),m=$U(t.logicalShape),g=1===m;if(1!==i||f||g){if(f&&!g)h=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=i-2,t=i-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?h="return vec4(outputValue.x);":s.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${p});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&FU(a,i))return`\n      float ${o}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=Iue(l),c=yue(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let p;const h=["x","y","z","w","u","v"];p=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${h[e+d]} = 0;`)).join("\n");let f="";f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+d]}`)).join(", ");return`\n    float ${o}() {\n      ${u} coords = getOutputCoords();\n      ${p}\n      return get${r}(${f});\n    }\n  `}(e,t));return o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),a=t.texShape,s=due(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(s);let u,c,d=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${wue}\n    ${Aue}\n    ${Sue}\n  `;return t}(s);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return kue();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(FU(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const o=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),i=o*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),i=o*Math.ceil(e[e.length-2]/2);let a=i,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)a*=e[e.length-u-1],s=`\n      int b${u} = index / ${a};\n      index -= b${u} * ${a};\n    `+s,l=`b${u}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,a,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(s)):(u=function(e,t,n){switch(e.length){case 0:return kue();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(FU(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${hue(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=pue(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${hue(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=pue(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=pue(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=pue(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,a,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(s)),n.packedInputs&&(d+=Cue);return[d,l,c,o,u,i,n.userCode].join("\n")}function bue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[o,i]=e.shapeInfo.texShape;if(1===o&&1===i)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const a=Eue(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${Tue(e)}\n      }\n    `;const o=e.shapeInfo.texShape,i=o[0],a=o[1];if(1===a&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=Eue(n);if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${a}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${a}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&FU(n,i)){if(t)return`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=i[0];return`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:a,keptDims:s}=HU(n),l=a;if(l.length<n.length){const n=["row","col"];return`\n      ${bue(Rue(e,l),t)}\n      float ${o}(int row, int col) {\n        return ${o}(${Nue(n,s)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${Tue(e)}\n      }\n    `;const u=i[0],c=i[1],d=Eue(r);if(1===c)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${d};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${d};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:s,keptDims:l}=HU(n),u=s;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${bue(Rue(e,u),t)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${Nue(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${a}, 1)));\n        ${Tue(e)}\n      }\n    `;const c=e.shapeInfo.texShape,d=c[0],p=c[1],h=e.shapeInfo.flatOffset;if(p===i&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${a}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${p}.0, ${d}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(p===a&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${d}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const f=Eue(r);if(t)return`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${a} + depth + ${f};\n        vec2 uv = uvFromFlat(${d}, ${p}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,s=n[1]*a,{newShape:l,keptDims:u}=HU(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${bue(Rue(e,l),t)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${Nue(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${s}, ${a}, ${i}, 1)));\n        ${Tue(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1],f=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===s&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${a}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===i&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=Eue(r);if(t)return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${a} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${p}, ${h}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,{newShape:l,keptDims:u}=HU(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${bue(Rue(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${Nue(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${a}, ${i}, ${o})) +\n          depth3;\n        ${Tue(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===s&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${a}, ${i}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=Eue(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${a} + depth * ${i} +\n          depth2 * ${o} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${p}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:i}=HU(t);if(o.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${bue(Rue(e,o))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${Nue(t,i)});\n      }\n    `}const a=t[5],s=t[4]*a,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${a}, 1)));\n        ${Tue(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],f=p[1];if(f===c&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${s}, ${a})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===a&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=Eue(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${s} + depth3 * ${a} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${h}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function xue(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=due();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=due();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${a[0]}, ${a[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=i[0],s=i[1],l=due();if(null!=i&&FU(n,i))return t?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${a}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=["b","row","col"];return`\n        ${xue(Rue(e,n.slice(1)),t)}\n        vec4 ${o}(int b, int row, int col) {\n          return ${o}(${Nue(i,r)});\n        }\n      `}const s=due();if(t)return`\n    vec4 ${o}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=a[0],u=a[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`\n    vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${d}, ${c}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=due();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${n}, uv);\n    }\n  `;const i=e.shapeInfo.logicalShape,a=i.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(i[a-1]/2);let p=d*Math.ceil(i[a-2]/2),h="int b, int row, int col",f=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<a-1;m++)h=`int b${m}, `+h,p*=i[a-m-1],f=`b${m} * ${p} + `+f;return`\n    vec4 ${r}(${h}) {\n      int index = ${f};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const wue="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Aue="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Sue="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Cue="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function kue(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function Eue(e){return`offset${e}`}function Tue(e){const t=e.name,n=$U(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Iue(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function Oue(e,t,n){const{newShape:r,keptDims:o}=HU(t),i=t.length,a=e&&3===i&&1===t[0],s=a?t.slice(1):r,l=!e&&i>1&&!FU(t,n)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:o}}function Rue(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Nue(e,t){return t.map((t=>e[t])).join(", ")}function _ue(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=o.map((e=>e.shapeInfo)),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=vue(o,a,t),l=function(e,t){const n=Yle(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(Fle(e,(()=>e.shaderSource(n,t))),Fle(e,(()=>e.compileShader(n))),fW().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Ule(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),u=e.createProgram(l);return fW().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a},Pue(e,t,u)))}function Pue(e,t,n){const r=[],o=[];let i,a,s,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),1===fW().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const d of t.variableNames){const o={name:d,uniform:e.getUniformLocation(n,d,c),offset:e.getUniformLocation(n,`offset${d}`,c)};t.enableShapeUniforms&&(o.shape=e.getUniformLocation(n,`${d}Shape`,c),o.texShape=e.getUniformLocation(n,`${d}TexShape`,c)),r.push(o)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),s=e.getUniformLocation(n,"outShapeStrides",c),a=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const d of t.customUniforms)o.push(e.getUniformLocation(n,d.name,c));return{variablesLocations:r,customUniformLocations:o,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:a}}function Mue(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],i=o.shape;if(!FU(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&o.isUniform)return;const a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!FU(a,s))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${s} must match`)}))}function Due(e){return fW().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class Lue{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=_le.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=due();this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?hue(["r","c","d"],e):pue(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class $ue{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=_le.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=due();this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?hue(["r","c","d"],e):pue(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class jue{constructor(e){this.variableNames=["A"],this.outTexUsage=Ple.DOWNLOAD;const t=due();this.outputShape=e,this.userCode=`\n      ${gue}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class Fue{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ple.DOWNLOAD;const t=due();this.outputShape=e,this.userCode=`\n      ${gue}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const Bue={R:0,G:1,B:2,A:3};class Vue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=due();this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length);let o="result";t&&(o="floor(result * 255. + 0.5)");let i="";for(let a=0;a<n.length;a++){const e=n[a];i+=`\n          if(offset == ${a}) {\n            result = values[${Bue[e]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":mue(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${i}\n        }\n        ${r.output} = vec4(${o}, 0., 0., 0.);\n      }\n    `}}class zue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=due();this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length);let r="",o="result";t&&(o="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let t=0;t<=1;t++){const o=2*i+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${i};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${o}] = values[0];\n            } else if (offset == 1) {\n              result[${o}] = values[1];\n            } else if (offset == 2) {\n              result[${o}] = values[2];\n            } else {\n              result[${o}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":mue(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${o};\n        }\n    `}}function Uue(e){const t=due();return function(e,t){const n=Yle(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(Fle(e,(()=>e.shaderSource(n,t))),Fle(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function Wue(e){return function(e,t){const n=Yle(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Fle(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Fle(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function que(e){return function(e,t){const n=Yle(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Fle(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),Fle(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Hue(e,t,n,r,o,i){!function(e,t){const n=fW().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const a=function(e){return Yle(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return Fle(e,(()=>e.bindTexture(s,a))),Fle(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),Fle(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),Fle(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),Fle(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===fW().getNumber("WEBGL_VERSION")?Fle(e,(()=>e.texImage2D(s,0,r,t,n,0,o,i,null))):Fle(e,(()=>e.texStorage2D(s,1,r,t,n))),Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:a,texShape:[n,t]}}function Gue(e){return e.internalFormatFloat}function Xue(e){return e.internalFormatHalfFloat}function Kue(e){return e.downloadTextureFormat}function Yue(e){return e.internalFormatPackedFloat}function Que(e){return e.internalFormatPackedHalfFloat}function Jue(e,t,n,r,o,i,a,s){const l=e,u=new Float32Array(function(e,t){const[n,r]=$le(e,t);return n*r*4}(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class Zue{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=fW().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){Ole[e]=t}(t,e)):this.gl=Nle(t),e=this.gl,2===fW().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>Fle(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>Fle(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>Fle(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>Fle(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Fle(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>Fle(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>Fle(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>Fle(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===fW().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=Vle(this.gl,e),iue(this.gl,t))this.textureHalfFloatExtension=Vle(this.gl,t);else if(fW().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),iue(this.gl,r))this.colorBufferHalfFloatExtension=Vle(this.gl,r);else if(fW().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",iue(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!iue(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=Wue(this.gl),this.indexBuffer=que(this.gl),this.framebuffer=function(e){return Yle(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=jle(this.gl,this.textureHalfFloatExtension)}get debug(){return fW().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Fle(e,(()=>e.finish())),Fle(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),Fle(e,(()=>e.deleteFramebuffer(this.framebuffer))),Fle(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),Fle(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),Fle(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=Dle(t,n);return Hue(e,o,i,Gue(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=Dle(t,n);return Hue(e,o,i,Xue(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=Dle(t,n);return Hue(e,o,i,Kue(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===fW().getNumber("WEBGL_VERSION")?Fle(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):Fle(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===fW().getNumber("WEBGL_VERSION")?Fle(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):Fle(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,o,i){let a,s,l;Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(a=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(a=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),a.set(o),2===fW().getNumber("WEBGL_VERSION")?Fle(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,a))):Fle(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,a))),Fle(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=$le(t,n);return Hue(e,o,i,Que(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=$le(t,n);return Hue(e,o,i,Yue(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Xle(this.gl,this.framebuffer),this.outputTexture=null),Fle(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[o,i]=Dle(t,n),a=new Uint8Array(t*n*4);return Fle(e,(()=>e.readPixels(0,0,o,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,o,i){return Jue(this.gl,e,0,0,0,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();Fle(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return Fle(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),Fle(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),Fle(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(fW().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(o,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=o}else fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return Fle(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=Uue(t));const n=function(e){return Yle(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);Fle(t,(()=>t.attachShader(n,this.vertexShader))),Fle(t,(()=>t.attachShader(n,e))),function(e,t){if(Fle(e,(()=>e.linkProgram(t))),!fW().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&Wle(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;Fle(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){Fle(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),qle(e,t,"clipSpacePos",n,3,20,0)&&qle(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(Fle(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Wle(this.gl,this.program),Fle(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return Yle(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Fle(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Hle(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,o]=$le(t,n);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&Wle(this.gl,this.program),Kle(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Fle(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Fle(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Vle(this.gl,2===fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await UU((()=>this.disposed||this.isQueryAvailable(e,fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in fW().platform&&(n=fW().platform.setTimeoutCustom.bind(fW().platform)),UU((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Gle(this.gl,e,this.framebuffer),this.debug&&Kle(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(Gle(this.gl,this.outputTexture,this.framebuffer),this.debug&&Kle(this.gl)):Xle(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;Gle(r,e,this.framebuffer),this.debug&&Kle(r),this.outputTexture=e,Fle(r,(()=>r.viewport(0,0,t,n))),Fle(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),Fle(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:ece,XI:tce,Nk:nce,f6:rce,ct:oce,YG:ice,hH:ace,z3:sce,sG:lce,uM:uce,vS:cce,qB:dce,GG:pce,rq:hce,lg:fce,WR:mce,cu:gce,GE:yce,px:vce,jC:bce,He:xce,hE:wce,BF:Ace,Dk:Sce,cl:Cce,_B:kce,ub:Ece,_f:Tce,Ku:Ice,qy:Oce,Zy:Rce,bu:Nce,zv:_ce,dH:Pce,HS:Mce,yH:Dce,l3:Lce,z9:$ce,x6:jce,_m:Fce,eW:Bce,GK:Vce,SP:zce,yr:Uce,dl:Wce,Dw:qce,xT:Hce,_X:Gce,wz:Xce}=T;function Kce(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function Yce(e,t){return 1===t?[e]:Kce(e,t)}class Qce{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Due(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Yce("rc",this.rank),t=Iue(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),o=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let o=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)o=`${e[e.length-1-t]},`+o;t.push(o)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class Jce{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length);let n="";for(let i=0;i<4;i++){let e="thisRC = rc;";i%2===1&&(e+="thisRC.z += 1;"),i>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${i>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${i}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${i>0?"}":""}\n      `}var r,o;this.userCode=`\n      ${r=t,o=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${o?fue(["r","c","d"],"inputShape"):pue(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":mue(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Zce{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=tde(t,n),o=nde(e,r,n);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=ede(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[o].pop();return this.usedTextures[o].push(e),e}let a;return r===Mle.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Mle.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Mle.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Mle.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Mle.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=tde(n,r),i=nde(t,o,r);i in this.freeTextures||(this.freeTextures[i]=[]);const a=ede(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=fW().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const l=this.usedTextures[i],u=l&&l.indexOf(e);if(null==u||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function ede(e,t,n,r,o){const i=function(e,t){switch(e){case Mle.PACKED_2X2_FLOAT32:return Yue(t);case Mle.PACKED_2X2_FLOAT16:return Que(t);case Mle.UNPACKED_FLOAT32:return Gue(t);case Mle.UNPACKED_FLOAT16:return Xue(t);case Mle.PACKED_4X1_UNSIGNED_BYTE:return Kue(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let a;if(o){const[t,n]=$le(e[0],e[1]);a=t*n}else{const[t,n]=Dle(e[0],e[1]);a=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,i);return a*s}function tde(e,t){if(e===Ple.UPLOAD)return Mle.PACKED_2X2_FLOAT32;if(e===Ple.RENDER||null==e)return function(e){return fW().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Mle.PACKED_2X2_FLOAT32:Mle.UNPACKED_FLOAT32:e?Mle.PACKED_2X2_FLOAT16:Mle.UNPACKED_FLOAT16}(t);if(e===Ple.DOWNLOAD||e===Ple.PIXELS)return Mle.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function nde(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class rde{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const ode="if (isnan(x)) return x;",ide="return x;",ade="return abs(x);";const sde="return (x >= 0.0) ? x : (exp(x) - 1.0);",lde=ode+"\n  return (x < 0.0) ? 0.0 : x;\n",ude=ode+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",cde="return x;",dde="return 1.0 / (1.0 + exp(-1.0 * x));",pde="return x;",hde="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",fde="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",mde="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",gde="return 1.0 / (1.0 + exp(-1.0 * x));";class yde{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class vde{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length);const t=e.length,n=Yce("rc",t),r=Iue(t),o=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${o});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}const bde=I1,xde={};const wde=fW().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class Ade extends IU{nextDataId(){return Ade.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!fW().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Zue)t=e;else{const n=Nle(fW().getNumber("WEBGL_VERSION"),e);t=new Zue(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=Nle(fW().getNumber("WEBGL_VERSION"));t=new Zue(e),this.binaryCache=((n=fW().getNumber("WEBGL_VERSION"))in xde||(xde[n]={}),xde[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Zce(this.gpgpu),this.numMBBeforeWarning=null==fW().global.screen?1024:fW().global.screen.height*fW().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new TU(this,oK())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,o,i){const a=this.makeTensorInfo(t,n),s=this.texData.get(a.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,o]},s.texShape=[r,o];const l=eue(t),u=new Vue(l,!1,i),c=this.runWebGLProgram(u,[a],n,[[r,o]]);return c.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(a),c.dataId}write(e,t,n){if((fW().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||fW().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Ple.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,o){if(fW().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Ple.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:i,shape:a,isPacked:s}=t;if(null!=i){let t;t=s?new yde(a,cde):new rde(a,cde);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:r}],r),o=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=eX()),"complex64"===r){c=A3(this.readSync(o.real.dataId),this.readSync(o.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=eX()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:i,complexTensorInfos:a,isPacked:s}=t;if(null!=o){let t;t=s?new yde(r,cde):new rde(r,cde);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),o=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if(fW().getBool("DEBUG")&&!fW().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===fW().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==i&&fW().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...Lle(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]);u=A3(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=$U(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;Fle(e,(()=>e.deleteBuffer(c)))}const d=this.convertAndCacheOnCPU(e,u),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&oK().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:o,slice:i,dtype:a,isPacked:s,texture:l}=n;if("complex64"===a)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=s?new yde(o,cde):new rde(o,cde);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:a}],a),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=oK().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:c},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>nX(e)));return hY(e.shape,e.dtype,n)}catch(_ve){throw new Error("Failed to decode encoded string bytes into utf-8")}return hY(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Ble(n)){if(fW().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=$U(t);if(fW().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...Lle(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),i}const i=fW().getBool("WEBGL_PACK")&&!0===r,a=i?eue(t):t,s=i?new Fue(a):new jue(a),l=this.runWebGLProgram(s,[{shape:a,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=oX(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=oX(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);a.kernelMs=PU(e),a.getExtraProfileInfo=()=>e.map(((e,t)=>({name:i[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:eX(),endMs:null}}endTimer(e){return fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=eX(),e)}async getQueryTime(e){if(fW().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:o,isPacked:i,slice:a}=this.texData.get(e),s=a&&a.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,o,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wde;return fW().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&$U(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){IG("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return bde(e.shape,t)}packedUnaryOp(e,t,n){const r=new yde(e.shape,t),o=this.compileAndRun(r,[e],n);return oK().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=Pce(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(fW().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ade,e.dtype);const t=new rde(e.shape,ade),n=this.compileAndRun(t,[e]);return oK().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&QU(n[0])){const o=n.map((e=>tX(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return oK().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new vde(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Qce(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[Jle(e.shape),...Zle(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[Jle(t),...Zle(t)],i=new Jce(o,n),a=[n],s=this.runWebGLProgram(i,[r],e.dtype,a,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:i}=n;if(null!=t){MU($U(o)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const a=eue(o);let s;s=r?new $ue(a):new Lue(a);const l=[null!=t?t:Lle(a)];return{dtype:i,shape:o,dataId:this.runWebGLProgram(s,[{shape:a,dtype:i,dataId:e}],i,l,!0,t).dataId}}runWebGLProgram(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;const a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===_le.DENSE){const t=null!=i?i:Lle(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===$U(a.shape))return s.values=GU(a.dtype,0),a;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&$U(t.shape)<=fW().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!nue(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);const c={shape:a.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:a,uniformShape:s,keptDims:l}=Oue(e.packedInputs,t.shape,i);let u="",c="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=tW(s);d=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else c=`${s[0]>1}_${s[1]>1}`;const p=t.shape.length,h=2===s.length&&FU(t.shape,i),f=1===$U(t.shape),m=LY(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&FU(i,n.texData.texShape),y=e.packedInputs||s.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${p}_${g}_${a?l:""}_${s.length}_${f}_${m}_${h}_${u}_${c}_${d}_${y}_${o}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${o}`}}));const o=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+o+`${fW().getNumber("WEBGL_VERSION")}`,i}(e,u,c),p=this.getAndSaveBinary(d,(()=>_ue(this.gpgpu,e,u,c))),h=null!=this.activeTimers;let f;h&&(f=this.startTimer()),fW().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,o){t.program.enableShapeUniforms||(Mue(t.inShapeInfos,n),Mue([t.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):e.setOutputMatrixTexture(i.texture,a[0],a[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===fW().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:o,offset:i,shape:a,texShape:s}=t.variablesLocations[l];if(a){const{uniformShape:n}=Oue(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(a,new Int32Array(n));break;case 2:e.gl.uniform2iv(a,new Int32Array(n));break;case 3:e.gl.uniform3iv(a,new Int32Array(n));break;case 4:e.gl.uniform4iv(a,new Int32Array(n))}}if(s&&e.gl.uniform2i(s,r.texData.texShape[0],r.texData.texShape[1]),null!=o)if(r.isUniform)if($U(r.shape)<2)e.gl.uniform1f(o,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,o,l)}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=tW(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],i=o[l];if("float"===n.type)e.gl.uniform1fv(r,i);else if("vec2"===n.type)e.gl.uniform2fv(r,i);else if("vec3"===n.type)e.gl.uniform3fv(r,i);else if("vec4"===n.type)e.gl.uniform4fv(r,i);else if("int"===n.type)e.gl.uniform1iv(r,i);else if("ivec2"===n.type)e.gl.uniform2iv(r,i);else if("ivec3"===n.type)e.gl.uniform3iv(r,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(r,i)}}e.executeProgram()}(this.gpgpu,p,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=fW().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=eX();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!fW().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){const e=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),e}return a}compileAndRun(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,o)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!fW().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=iK((()=>{if(!fW().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=fW().getBool("DEBUG");fW().set("DEBUG",!1);const t=this.abs(kY(1e-8)).dataSync()[0];if(fW().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:i,usage:a,isPacked:s}=t;if(null!=i)return;const l=null!=this.activeTimers;let u;l&&(u=eX());let c=t.texShape;if(null==c&&(c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fW().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=fW().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&fW().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?NU(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=HU(e);e=t.newShape}let o=$U(e),i=null;e.length<=1&&o<=n?i=[1,o]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const a=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||a)if(t){const t=Jle(e);let n=2,r=2;e.length&&([n,r]=Zle(e)),o=t*(n/2)*(r/2),i=VU(o).map((e=>2*e))}else i=VU(o);return i}(n,s),t.texShape=c),null!=o){const e=eue(n);let i,a=c[1],d=c[0];const p=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!s&&p||([a,d]=$le(c[0],c[1])),i=s?new zue(e,p):new Vue(e,p);const h=p?[d,a]:c,f=this.makeTensorInfo(h,r),m=this.texData.get(f.dataId);m.usage=p?Ple.PIXELS:Ple.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),a,d,o);const g=[[d,a]],y=!0,v=this.runWebGLProgram(i,[f],r,g,y),b=this.texData.get(v.dataId);t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,fW().get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(t.texture=b.texture,t.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=eX()-u)}else{const e=this.acquireTexture(c,a,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*YU(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await new Promise((e=>Q2((()=>e())))),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Ule(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:o,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:s}=Pue(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=o,e.outShapeLocation=i,e.outShapeStridesLocation=a,e.outTexShapeLocation=s}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:o,width:i,channels:a}=e,s=oK().backend;if(!s.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=s.writeTexture(r,t,n,o,i,a);return oK().makeTensorFromDataId(l,t,n,s)}}Ade.nextDataId=0,WX()&&uK("webgl",(()=>new Ade),2);const Sde="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class Cde{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=jY(t,n),this.enableShapeUniforms=Due(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const kde="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class Ede{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=jY(t,n);const o=this.outputShape.length;this.enableShapeUniforms=Due(o);let i="";if(r)if(0===o||1===$U(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(i=`\n          ${Iue(o)} coords = getOutputCoords();\n        `,1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Yce("coords",o);this.enableShapeUniforms?i+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= outShape[${o} - 2];\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= outShape[${o} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:i+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= ${this.outputShape[o-2]};\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= ${this.outputShape[o-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${i}\n\n        setOutput(result);\n      }\n    `}}function Tde(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Ide={kernelName:_q,backendName:"webgl",kernelFunc:Tde};function Ode(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),s=Tde({inputs:{x:r},backend:n}),l=Tde({inputs:{x:o},backend:n});return a.complexTensorInfos={real:s,imag:l},i}const Rde={kernelName:qW,backendName:"webgl",kernelFunc:Ode},Nde="return (a < 0.) ? b * a : a;",_de="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const Pde={kernelName:jq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r,a=n.makeTensorInfo([],"float32",JG(i,"float32")),s=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ede(_de,o.shape,a.shape):new Cde(Nde,o.shape,a.shape),l=n.runWebGLProgram(s,[o,a],"float32");return n.disposeIntermediateTensorInfo(a),l}},Mde="return (a < 0.) ? b * a : a;",Dde="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const Lde={kernelName:bH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,i=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ede(Dde,r.shape,o.shape):new Cde(Mde,r.shape,o.shape);return n.runWebGLProgram(i,[r,o],"float32")}},$de="if (isnan(x)) return x;";function jde(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:o}=e;return e=>{let{inputs:i,backend:a}=e;const{x:s}=i,l=a,u=o||s.dtype;if(l.shouldExecuteOnCPU([s])&&null!=r){const e=l.texData.get(s.dataId),t=r(e.values,u);return l.makeTensorInfo(s.shape,u,t)}let c;return c=fW().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new yde(s.shape,n):new rde(s.shape,t),l.runWebGLProgram(c,[s],u)}}function Fde(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:o=!1,cpuKernelImpl:i,dtype:a}=e;return e=>{let{inputs:s,backend:l}=e;const{a:u,b:c}=s,d=l;if(o&&"complex64"===u.dtype){const e=d.texData.get(u.dataId),n=d.texData.get(c.dataId),[r,o]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,o={dataId:n.dataId,dtype:n.dtype,shape:u.shape},i={dataId:r.dataId,dtype:r.dtype,shape:c.shape},a=new Cde(t,u.shape,c.shape);return d.runWebGLProgram(a,[o,i],OX(n.dtype,r.dtype))})),i=Ode({inputs:{real:r,imag:o},backend:d});return d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(o),i}const p=a||OX(u.dtype,c.dtype);if(("string"===u.dtype||"string"===c.dtype||d.shouldExecuteOnCPU([u,c]))&&null!=i){const e=d.texData.get(u.dataId).values,t=d.texData.get(c.dataId).values,n="string"===u.dtype?n4(e):e,r="string"===u.dtype?n4(t):t,[o,a]=i(u.shape,c.shape,n,r,p),s=d.makeTensorInfo(a,p);return d.texData.get(s.dataId).values=o,s}let h;return h=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Ede(n,u.shape,c.shape,r):new Cde(t,u.shape,c.shape),d.runWebGLProgram(h,[u,c],p)}}function Bde(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?pde:ide;if("relu"===e)return t?fde:lde;if("elu"===e)return t?hde:sde;if("relu6"===e)return t?mde:ude;if("prelu"===e)return t?Dde:Mde;if("leakyrelu"===e)return t?_de:Nde;if("sigmoid"===e)return t?gde:dde;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class Vde{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=Due(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),d=r?"i * 2, rc.y":"rc.y, i * 2",p=o?"rc.z, i * 2":"i * 2, rc.z",h=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(m=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`vec4 activation(vec4 x) {\n          ${a}\n        }`,g="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let v="rc.x",b="rc.x";e[0]<t[0]?v=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(b=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${v};\n        int batchB = ${b};\n        for (int i = 0; i < ${c}; i++) {\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${p});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${f[0]});\n          result += (${h[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const zde={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Ude{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=jY(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const Wde="return a * b;";function qde(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=OX(r.dtype,o.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),i=new Ude(zde.REAL,r.shape,o.shape),a=new Ude(zde.IMAG,r.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],l=n.runWebGLProgram(i,s,"float32"),u=n.runWebGLProgram(a,s,"float32"),c=Ode({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,o])){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),[a,s]=Ace(r.shape,o.shape,e.values,t.values,i),l=n.makeTensorInfo(s,i);return n.texData.get(l.dataId).values=a,l}let a;return a=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ede(Wde,r.shape,o.shape):new Cde(Wde,r.shape,o.shape),n.runWebGLProgram(a,[r,o],i)}const Hde={kernelName:lH,backendName:"webgl",kernelFunc:qde};function Gde(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,a=n,s=$U(o.shape),l=WU(i,s),u=$U(l);MU(s===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`));const c=a.texData.get(o.dataId);return!c.isPacked||nue(o.shape,l)||null!==c.texture&&nue(c.shape,l)?(a.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype}):function(e,t,n){const r=[Jle(e.shape),...Zle(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},i=[Jle(t),...Zle(t)],a=new Jce(i,r),s=[r],l=n.runWebGLProgram(a,[o],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(o,l,a)}const Xde={kernelName:IH,backendName:"webgl",kernelFunc:Gde};class Kde{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];const a=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${BU(e)?e.toPrecision(2):e}, ones);`}let u="";o%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${a}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${a};\n        if (${1===s}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Yde{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];let a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let d=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${s}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${s}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,p="vec4";"all"===t?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";o%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${a};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${a});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${2===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${3===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${d}\n        }\n        setOutput(${l});\n      }\n    `}}function Qde(e,t,n,r){const o=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=a3(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let a=0;a<o.length;a++){const{inSize:s,windowSize:l,outSize:u}=o[a];let c,d;c="mean"===n?0===a?new Kde({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new Kde({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):new Yde({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),d=i,i=r.runWebGLProgram(c,[i],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return i}class Jde{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;const r=Iue(this.rank),o=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}}class Zde{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[t[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Iue(this.rank),o=Kce("rc",this.rank),i=new Array(this.rank);for(let u=0;u<t.length;u++)i[t[u]]=o[u];const a=`vec2(${i.slice(-2).join()})`,s=`++${o[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${s}) {\n        result[1] = ${l};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${s}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function epe(e,t,n){const r=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Zde(e.shape,t):new Jde(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function tpe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return function(e,t,n,r){const o=t,i=e.shape.length,a=qU(o,e.shape);let s=a;const l=aZ(s,i),u=null!=l;let c=e;u&&(c=epe(e,l,r),s=lZ(s.length,i)),iZ("sum",s,i);const[d,p]=rZ(c.shape,s);let h=d;n&&(h=oZ(d,a));const f=$U(p),m=Gde({inputs:{x:c},attrs:{shape:[$U(e.shape)/f,f]},backend:r}),g=Qde(m,RX(e.dtype),"sum",r),y=Gde({inputs:{x:g},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),y}(o,i,a,n)}const npe={kernelName:KH,backendName:"webgl",kernelFunc:tpe};function rpe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:i}=r,a=n,s=o.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=o.shape[i[c]];let u;if(a.shouldExecuteOnCPU([o])){const e=a.texData.get(o.dataId).values,t=Gce(e,o.shape,o.dtype,i,l);u=a.makeTensorInfo(l,o.dtype);a.texData.get(u.dataId).values=t}else u=epe(o,i,a);return u}const ope={kernelName:yG,backendName:"webgl",kernelFunc:rpe},ipe=1e3;function ape(e){let{a:t,b:n,transposeA:r,transposeB:o,backend:i,bias:a=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:u=null}=e;const c=t.shape.length,d=n.shape.length,p=r?t.shape[c-2]:t.shape[c-1],h=o?n.shape[d-1]:n.shape[d-2],f=r?t.shape[c-1]:t.shape[c-2],m=o?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),v=$U(g),b=$U(y),x=jY(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);MU(p===h,(()=>`Error in matMul: inner shapes (${p}) and (${h}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${o} must match.`));const w=r?[v,p,f]:[v,f,p],A=o?[b,m,h]:[b,h,m],S=Gde({inputs:{x:t},backend:i,attrs:{shape:w}}),C=Gde({inputs:{x:n},backend:i,attrs:{shape:A}}),k=[S,C],E=Math.max(v,b),T=r?S.shape[1]:S.shape[2],I=null!=a,O=null!=s,R="leakyrelu"===u,N=null!=u?Bde(u,!0):null;let _;if((1===f||1===m)&&T>ipe&&!1===(I||O||R||null!=N)){let e=S,t=C;r&&(e=rpe({inputs:{x:S},backend:i,attrs:{perm:[0,2,1]}}),k.push(e)),o&&(t=rpe({inputs:{x:C},backend:i,attrs:{perm:[0,2,1]}}),k.push(t));const n=1===m;let a=e;1!==m&&(a=Gde({inputs:{x:e},backend:i,attrs:{shape:[E,T,1]}}),k.push(a));const s=1===m?2:1;let l=t;n&&(l=Gde({inputs:{x:t},backend:i,attrs:{shape:[E,1,T]}}),k.push(l));const u=qde({inputs:{a:a,b:l},backend:i});_=tpe({inputs:{x:u},backend:i,attrs:{axis:s,keepDims:!0}}),k.push(u)}else{const e=OX(t.dtype,n.dtype),u=new Vde(w,A,[E,f,m],r,o,I,N,O,R),c=[S,C];if(null!=a&&c.push(a),O&&c.push(s),R){const e=i.makeTensorInfo([],"float32",JG(l,"float32"));c.push(e),k.push(e)}_=i.runWebGLProgram(u,c,e)}const P=Gde({inputs:{x:_},backend:i,attrs:{shape:x}});k.push(_);for(const M of k)i.disposeIntermediateTensorInfo(M);return P}const spe={kernelName:kG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return ape({a:o,b:i,transposeA:l,transposeB:u,backend:n,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}},lpe="return abs(x);";const upe={kernelName:bW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=Pce(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let o;return o=fW().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new yde(r.shape,lpe):new rde(r.shape,lpe),n.runWebGLProgram(o,[r],r.dtype)}},cpe=jde({opSnippet:ode+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),dpe={kernelName:xW,backendName:"webgl",kernelFunc:cpe},ppe=jde({opSnippet:ode+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),hpe={kernelName:wW,backendName:"webgl",kernelFunc:ppe},fpe="return a + b;",mpe=Fde({opSnippet:fpe,packedOpSnippet:fpe,supportsComplex:!0,cpuKernelImpl:ece}),gpe={kernelName:AW,backendName:"webgl",kernelFunc:mpe};class ype{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class vpe{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const bpe={kernelName:SW,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,o=n;if(1===o.length)return Tde({inputs:{x:o[0]},backend:r});if(o.length>fW().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(o.length/2),n=e({inputs:o.slice(0,t),backend:r}),i=e({inputs:o.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=o.map((e=>e.dtype)).reduce(((e,t)=>OX(e,t))),a=o.map((e=>e.shape)),s=fW().getBool("WEBGL_PACK")?new vpe(o[0].shape,a):new ype(o[0].shape,a);return r.runWebGLProgram(s,o,i)}};const xpe={kernelName:CW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=qU(i,o.shape);let u=l;const c=aZ(u,s);let d=o;null!=c&&(d=rpe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=lZ(u.length,s)),iZ("all",u,s);const[p,h]=rZ(d.shape,u),f=Gde({inputs:{x:d},backend:n,attrs:{shape:[-1,$U(h)]}}),m=Qde(f,f.dtype,"all",n);let g;if(a){g=Gde({inputs:{x:m},backend:n,attrs:{shape:oZ(p,l)}})}else g=Gde({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};const wpe={kernelName:kW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=qU(i,o.shape);let u=l;const c=aZ(u,s);let d=o;null!=c&&(d=rpe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=lZ(u.length,s)),iZ("any",u,s);const[p,h]=rZ(d.shape,u),f=Gde({inputs:{x:d},backend:n,attrs:{shape:[-1,$U(h)]}}),m=Qde(f,f.dtype,"any",n);let g;if(a){g=Gde({inputs:{x:m},backend:n,attrs:{shape:oZ(p,l)}})}else g=Gde({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};class Ape{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const a="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${s};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${a} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class Spe{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,MU(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,s=a.length,l=Iue(s),u=Yce("coords",s);let c,d;if(1===i){d=s+1;const e=Iue(d);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[s-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[s-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[s-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[s-2]};`}else d=s,c=`\n        ${l} sourceLocR = coords;\n        ++${u[s-1]};\n        ${l} sourceLocG = coords;\n        ++${u[s-2]};\n        ${l} sourceLocA = coords;\n        --${u[s-1]};\n        ${l} sourceLocB = coords;\n        --${u[s-2]};`;const p=["x","y","z","w","u","v"].slice(0,d),h="."+p[d-1],f=p.map((e=>"int "+e)),m=Yce("sourceLocR",d-1).concat("inIdx.r"),g=Yce("sourceLocG",d-1).concat("inIdx.g"),y=Yce("sourceLocB",d-1).concat("inIdx.b"),v=Yce("sourceLocA",d-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",x=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${v.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${v.join()}) : 0.)`,A=r?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${p.join()}),\n                                          vec2(${p.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${p.join()}),\n                               vec2(${p.slice(-2).join()}));\n      }\n      ${A}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[s-1]} < ${a[s-1]-1};\n        bool hasNextRow = ${u[s-2]} < ${a[s-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},\n          sourceLocB${h}, sourceLocA${h}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function Cpe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.shape[0],i=t.shape[1];null!=r&&(o=r.shape[0],i=r.shape[1]);const a=a3(i),s={windowSize:a,inSize:i,batchSize:o,outSize:Math.ceil(i/a)},l=new Ape(s,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const d=Cpe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function kpe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=null!=r?r.shape:t.shape,i=a3(o[o.length-1]),a=new Spe(o,i,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(a,s,"int32");if(l.shape.length===t.shape.length){const r=kpe(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function Epe(e,t,n,r){const o=[n];if(iZ("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!fW().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let a=t;null!==i&&i.isPacked&&(a=e.unpackTensor(t),n.push(a));const[s,l]=rZ(a.shape,o),u=$U(l),c=Gde({inputs:{x:a},backend:e,attrs:{shape:[-1,u]}});n.push(c);const d=Cpe(e,c,r);n.push(d);const p=Gde({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return kpe(e,t,r)}const Tpe={kernelName:EW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=qU(i,o.shape);const s=aZ(a,o.shape.length);let l=o;const u=[];null!=s&&(l=rpe({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=lZ(a.length,l.shape.length)),iZ("argMax",[a[0]],l.shape.length);const c=Epe(n,l,a[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};const Ipe={kernelName:TW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=qU(i,o.shape);const s=aZ(a,o.shape.length);let l=o;const u=[];null!=s&&(l=rpe({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=lZ(a.length,l.shape.length)),iZ("argMin",[a[0]],l.shape.length);const c=Epe(n,l,a[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},Ope=jde({opSnippet:ode+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Rpe={kernelName:IW,backendName:"webgl",kernelFunc:Ope},Npe=jde({opSnippet:ode+"return log(x + sqrt(x * x + 1.0));"}),_pe={kernelName:OW,backendName:"webgl",kernelFunc:Npe},Ppe=jde({opSnippet:ode+"\n  return atan(x);\n"}),Mpe={kernelName:RW,backendName:"webgl",kernelFunc:Ppe},Dpe=Fde({opSnippet:Sde+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+kde+"\n  return result;\n"}),Lpe={kernelName:_W,backendName:"webgl",kernelFunc:Dpe},$pe=jde({opSnippet:ode+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),jpe={kernelName:NW,backendName:"webgl",kernelFunc:$pe};class Fpe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${a}, ${s});\n        const ivec2 pads = ivec2(${p}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?o?m:g:`wR * ${d} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / max(count, 1.0)");const b=4*Math.floor(i/4),x=i%4,w=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${s});\n      const ivec2 pads = ivec2(${p}, ${h});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${b}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${b};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${v});\n      }\n    `}}class Bpe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v="avg"===t;let b="0.0";if(v||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${a}, ${s}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${p};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${d}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(i/4),A=i%4,S=`\n      if (${v}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${a}, ${s}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${p};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${d};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${d}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n        }\n        setOutput(${x});\n      }\n    `}}const Vpe={kernelName:PW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;uue(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;MU(rJ(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=GQ(o.shape,i,a,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&FU(u.inShape,u.outShape))return Tde({inputs:{x:o},backend:n});const c=new Fpe(u,"avg",!1);return n.runWebGLProgram(c,[o],"float32")}};const zpe={kernelName:DW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=XQ(o.shape,i,a,[1,1,1],s,l,u),d=new Bpe(c,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}};class Upe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${d});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${a}) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Wpe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=c-1-e.padInfo.front,f=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${o}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${p};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const qpe={kernelName:LW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=XQ(a.shape,s,l,[1,1,1],u,c),p=new Wpe(d);return n.runWebGLProgram(p,[o],a.dtype)}};const Hpe={kernelName:MW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;uue([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=GQ(a.shape,s,l,1,u),d=new Upe(c);return n.runWebGLProgram(d,[o],a.dtype)}};const Gpe={kernelName:$W,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;return ape({a:o,b:i,transposeA:a,transposeB:s,backend:n})}};class Xpe{constructor(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],jY(e,t),jY(e,n);let a="0.0";null!=r&&(jY(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="1.0";null!=o&&(jY(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${a};\n        float scale = ${s};\n        float inv = scale * inversesqrt(variance + float(${i}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class Kpe{constructor(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],jY(e,t),jY(e,n);let a="vec4(0.0)";null!=r&&(jY(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=o&&(jY(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${a};\n        vec4 scale = ${s};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${i}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const Ype={kernelName:Tq,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,mean:i,variance:a,offset:s,scale:l}=t;MU(i.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),MU(null==s||i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),MU(null==l||i.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=[o,i,a];let d=null;null!=s&&(d=s.shape,c.push(s));let p=null;null!=l&&(p=l.shape,c.push(l));const h=fW().getBool("WEBGL_PACK_NORMALIZATION")?new Kpe(o.shape,i.shape,a.shape,d,p,u):new Xpe(o.shape,i.shape,a.shape,d,p,u);return n.runWebGLProgram(h,c,c[0].dtype)}};class Qpe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=Iue(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return Jpe.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${Jpe[t]} = start[${t}] + coords.${Jpe[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const Jpe=["x","y","z","w","u","v"];class Zpe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=Iue(this.rank),n=Yce("coords",this.rank),r=Yce("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${o})`,a=`\n      result.x = ${i};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${i};\n        --${r[this.rank-1]};\n      }\n    `,s=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${i};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${a}\n        ${s}\n        setOutput(result);\n      }\n    `}}function ehe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r,[s,l]=NQ(o,i,a);if(yQ(o,s,l),0===$U(l))return n.makeTensorInfo(l,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.texData.get(o.dataId),t=Mce(e.values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,t)}const{isPacked:u}=n.texData.get(o.dataId),c=OQ(o.shape,s,l);if(u||!c){const e=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Zpe(l):new Qpe(l),t=[s];return n.runWebGLProgram(e,[o],o.dtype,t)}return n.uploadToGPU(o.dataId),function(e,t,n,r){const o=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),a=r.texData.get(i.dataId);Object.assign(a,o),a.refCount=1,a.shape=n,a.dtype=e.dtype;let s=RQ(t,tW(e.shape));o.slice&&(s+=o.slice.flatOffset),a.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||e.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}(o,s,l,n)}const the={kernelName:zH,backendName:"webgl",kernelFunc:ehe},nhe={kernelName:jW,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;MU(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=l3(o.shape,i,s),u=u3(l.length,i.length),c=c3(o.shape,i,s),d=d3(a,i.length),p=p3(c,a,i.length),h=[],f=Gde({inputs:{x:o},backend:n,attrs:{shape:l}}),m=rpe({inputs:{x:f},backend:n,attrs:{perm:u}}),g=Gde({inputs:{x:m},backend:n,attrs:{shape:c}}),y=ehe({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const rhe={kernelName:FW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=n.readSync(o.dataId),l=n.readSync(i.dataId),u=tce(s,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}};const ohe={kernelName:BW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=fW().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,o])||1===a){const e=n.texData.get(r.dataId).values,t=n.texData.get(o.dataId).values,[i,a]=rce(r.shape,o.shape,e,t,r.dtype),s=n.makeTensorInfo(a,r.dtype);return n.texData.get(s.dataId).values=i,s}let s;return s=i?new Ede("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,o.shape,!1):new Cde("\n  return float(int(a.r) & int(b.r));\n",r.shape,o.shape),n.runWebGLProgram(s,[r,o],r.dtype)}};const ihe={kernelName:VW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.readSync(r.dataId),a=n.readSync(o.dataId),s=jY(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ahe=Fde({opSnippet:"return float(a != b);",cpuKernelImpl:Cce,dtype:"bool"}),she={kernelName:cH,backendName:"webgl",kernelFunc:ahe};function lhe(e){const{inputs:t,backend:n}=e,{input:r}=t;return Tde({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const uhe={kernelName:kH,backendName:"webgl",kernelFunc:lhe},che="return float(int(x));";const dhe={kernelName:zW,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:i}=n,{dtype:a}=o;if("complex64"===a){if("complex64"===i.dtype)return Tde({inputs:{x:i},backend:r});const t=QZ(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),o=Ode({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),o}if("complex64"===i.dtype){const t=lhe({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:a}});return r.disposeIntermediateTensorInfo(t),n}if(!KU(i.dtype,a)){const e=Tde({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,o]=oce(e,i.shape,i.dtype,a);return r.makeTensorInfo(t,n,o)}if("int32"===a)return function(e,t){const n=new rde(e.shape,che),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===a){const e=r.makeTensorInfo([],"bool",GU("bool",1)),t=ahe({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${a}`)}},phe="return ceil(x);",hhe=jde({opSnippet:phe,packedOpSnippet:phe,cpuKernelImpl:ice}),fhe={kernelName:UW,backendName:"webgl",kernelFunc:hhe};class mhe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class ghe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const yhe={kernelName:WW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:i,clipValueMax:a}=r;let s;s=fW().getBool("WEBGL_PACK_CLIP")?new ghe(o.shape):new mhe(o.shape);const l=[[i],[a]];return n.runWebGLProgram(s,[o],o.dtype,l)}};class vhe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function bhe(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const xhe={kernelName:HW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),i=new vhe(r.shape),a=[bhe(r,o.complexTensorInfos.real),bhe(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}};class whe{constructor(e){this.outputShape=[],this.outputShape=Z2(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){const e=t[i-1];n.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${e}));`)}const r=t.length,o=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${o}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class Ahe{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Z2(e,t);const n=this.outputShape,r=n.length,o=Iue(r),i=Yce("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const s=new Array(e.length-1);s[0]=e[0][t];for(let f=1;f<s.length;f++)s[f]=s[f-1]+e[f][t];const l=a[t],u=a.slice(-2),c=a.join();let d=`if (${l} < ${s[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let f=1;f<s.length;f++){const e=s[f-1];d+=`\n        if (${l} < ${s[f]}  && ${l} >= ${s[f-1]}) {\n          return getChannel(\n            getT${f}(${She(a,l,e)}),\n            vec2(${She(u,l,e)}));\n        }`}const p=s.length,h=s[s.length-1];d+=`\n        return getChannel(\n          getT${p}(${She(a,l,h)}),\n          vec2(${She(u,l,h)}));`,this.userCode=`\n      float getValue(${a.map((e=>"int "+e))}) {\n        ${d}\n      }\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n        ${i[r-1]} = ${i[r-1]} + 1;\n        if (${i[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${i});\n        }\n\n        ${i[r-2]} = ${i[r-2]} + 1;\n        if (${i[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${i});\n        }\n\n        ${i[r-1]} = ${i[r-1]} - 1;\n        if (${i[r-2]} < ${n[r-2]} &&\n            ${i[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${i});\n        }\n        setOutput(result);\n      }\n    `}}function She(e,t,n){const r=e.indexOf(t),o=e.map(((e,t)=>t===r?`${e} - ${n}`:e));return o.join()}function Che(e){const{inputs:t,backend:n}=e,{input:r}=t;return Tde({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const khe={kernelName:Mq,backendName:"webgl",kernelFunc:Che};function Ehe(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>lhe({inputs:{input:e},backend:n}))),o=e.map((e=>Che({inputs:{input:e},backend:n}))),i=Ehe(r,t,n),a=Ehe(o,t,n),s=Ode({inputs:{real:i,imag:a},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),o.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=$U(e.shape.slice(t));return Gde({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=Z2(o.map((e=>e.shape)),1),s=1===o[0].shape[0],l=ace(i,a,r,s),u=Z2(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const i=e.filter((e=>$U(e.shape)>0)),a=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=a?new rde(e[0].shape,cde):new yde(e[0].shape,cde);return n.runWebGLProgram(t,e,r)}const s=fW().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const e=[];for(let o=0;o<i.length;o+=s){const r=i.slice(o,o+s);e.push(Ehe(r,t,n))}const r=Ehe(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(a){const e=new Ahe(i.map((e=>e.shape)),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:l,outShape:u}=function(e,t,n){const r=Z2(e.map((e=>e.shape)),t),o=e.map((e=>Gde({inputs:{x:e},attrs:{shape:[-1,$U(e.shape.slice(t))]},backend:n})));return{tensors2D:o,outShape:r}}(i,t,n),c=new whe(l.map((e=>e.shape))),d=n.runWebGLProgram(c,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const p=Gde({inputs:{x:d},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(d),p}function The(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=qU(o,t[0].shape)[0];J2(t.map((e=>e.shape)),i);const a=Z2(t.map((e=>e.shape)),i);if(0===$U(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>$U(e.shape)>0));return 1===s.length?Tde({inputs:{x:s[0]},backend:n}):Ehe(s,i,n)}const Ihe={kernelName:GW,backendName:"webgl",kernelFunc:The};class Ohe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,a=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,v=m?3:1;let b="",x="";n&&(b=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${b}\n\n      const ivec2 strides = ivec2(${s}, ${l});\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${v}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${x}\n        setOutput(result);\n      }\n    `}}class Rhe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${o}, ${i}, ${a});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${s};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Nhe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Due(this.outputShape.length);const i=e.padInfo.left,a=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<u;m++)d+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;d+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<u;m++)d+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(c+1)/2;m++){const t=2*m;if(d+=`\n           xC = xCCorner + ${t*s};\n           `,1===a){if(t<u&&(i%2===1?(d+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,d+=1===s&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):d+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<u)){const e=i%2===0?NU(s):s;s%2===0&&i%2===1||s%2!==0&&i%2!==1?(d+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,d+=s>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):d+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<u&&(i%2===1?(d+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<u&&(d+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(d+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<u&&(d+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<u&&(d+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<u&&(d+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",h="";n&&(p=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:o?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,h="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${p}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${d}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${h}\n         setOutput(result);\n       }\n     `}}class _he{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Due(this.outputShape.length);const{dataFormat:n}=t,r=due(),o="channelsLast"===n,i=o?1:2,a=o?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${u};\n\n          ${s}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${i}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${a}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${o}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function Phe(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function Mhe(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}=e;const u=t.shape,c=o.texData.get(t.dataId),d=r.inChannels,p=u[0]*u[1]*u[2],h=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const y=[];if(null!=a){const e=Phe(a.shape,f);null!=e&&(a=Gde({inputs:{x:a},backend:o,attrs:{shape:e}}),y.push(a))}if(null!=i){const e=Phe(i.shape,f);null!=e&&(i=Gde({inputs:{x:i},backend:o,attrs:{shape:e}}),y.push(i))}if(!((1===p||1===h)&&d>ipe)&&c.isPacked&&f&&null!=c.texture&&u[2]%2!==0&&FU(c.shape.slice(-3),u.slice(-3))){const e=u[0]*u[1]*(u[2]+1),d={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},p=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,MU(nue(c.shape,d.shape),(()=>`packed reshape ${c.shape} to ${d.shape} isn't free`));const h=Gde({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(h);const f=ape({a:d,b:h,backend:o,transposeA:false,transposeB:m,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:s}),v=o.texData.get(f.dataId);MU(v.isPacked,(()=>"batchMatMul result is expected to be packed")),c.shape=p,v.shape=r.outShape,g=Tde({inputs:{x:f},backend:o}),g.shape=r.outShape,y.push(f)}else{const e=r.outHeight*r.outWidth,u=Gde({inputs:{x:t},backend:o,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),c=Gde({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}}),d=ape({a:f?u:c,b:f?c:u,transposeA:!f,transposeB:m,backend:o,bias:i,activation:l,preluActivationWeights:a,leakyreluAlpha:s});g=Gde({inputs:{x:d},backend:o,attrs:{shape:r.outShape}}),y.push(u),y.push(c),y.push(d)}for(const v of y)o.disposeIntermediateTensorInfo(v);return g}function Dhe(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}=e;const{filterWidth:u,filterHeight:c,inChannels:d,outWidth:p,outHeight:h,dataFormat:f}=r,m="channelsLast"===f,g=u*c*d,y=h*p,v=[r.batchSize,g,y],b=[];if(null!=a){const e=Phe(a.shape,m);null!=e&&(a=Gde({inputs:{x:a},backend:o,attrs:{shape:e}}),b.push(a))}if(null!=i){const e=Phe(i.shape,m);null!=e&&(i=Gde({inputs:{x:i},backend:o,attrs:{shape:e}}),b.push(i))}const x=Gde({inputs:{x:n},backend:o,attrs:{shape:[1,g,$U(n.shape)/g]}});b.push(x);const w=new _he(v,r),A=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],S=o.runWebGLProgram(w,[t],"float32",A),C=Gde({inputs:{x:S},backend:o,attrs:{shape:v}});b.push(S),b.push(C);const k=null!=i,E=null!=a,T="leakyrelu"===l,I=l?Bde(l,!0):null,O=new Vde(m?C.shape:x.shape,m?x.shape:C.shape,m?[r.batchSize,y,r.outChannels]:[r.batchSize,r.outChannels,y],!0,!1,k,I,E,T),R=m?[C,x]:[x,C];if(i&&R.push(i),E&&R.push(a),T){const e=o.makeTensorInfo([],"float32",JG(s,"float32"));R.push(e),b.push(e)}const N=o.runWebGLProgram(O,R,"float32"),_=Gde({inputs:{x:N},backend:o,attrs:{shape:r.outShape}});b.push(N);for(const P of b)o.disposeIntermediateTensorInfo(P);return _}const Lhe={kernelName:XW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=iJ(l),p=KQ(o.shape,i.shape,a,u,s,c,!1,d);let h;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&fW().getBool("WEBGL_EXP_CONV")){const e=new Nhe(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];h=n.runWebGLProgram(e,[o,i],"float32",t)}else if(fW().getBool("WEBGL_CONV_IM2COL"))h=Dhe({x:o,filter:i,convInfo:p,backend:n});else{const e=new Ohe(p);h=n.runWebGLProgram(e,[o,i],"float32")}else h=Mhe({x:o,filter:i,convInfo:p,backend:n});const f=Gde({inputs:{x:h},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(h),f}};class $he{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class jhe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,c=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Fhe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${o};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${a};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Bhe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${s}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${o}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Vhe={kernelName:KW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=iJ(l),p=KQ(o.shape,c,a,1,s,u,!1,d),h=new $he(p);return n.runWebGLProgram(h,[o,i],"float32")}};class zhe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Due(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,o=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const Uhe={kernelName:YW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=iJ(u),p=KQ(a,i.shape,s,1,l,c,!1,d);if(fW().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[p.strideHeight,p.strideWidth]],t=new zhe(p);return n.runWebGLProgram(t,[o,i],"float32",e)}{const e=new jhe(p);return n.runWebGLProgram(e,[o,i],"float32")}}};const Whe={kernelName:QW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=YQ(o.shape,i.shape,a,l,s),c=new Rhe(u);return n.runWebGLProgram(c,[o,i],"float32")}};const qhe={kernelName:JW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:l}=r,u=YQ(o.shape,l,a,1,s),c=new Fhe(u);return n.runWebGLProgram(c,[o,i],"float32")}};const Hhe={kernelName:ZW,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:a,strides:s,inputShape:l}=r,u=YQ(l,i.shape,s,1,a),c=new Bhe(u);return n.runWebGLProgram(c,[o,i],"float32")}},Ghe=jde({opSnippet:$de+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${kde}\n  return result;\n`}),Xhe={kernelName:eq,backendName:"webgl",kernelFunc:Ghe},Khe=jde({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Yhe={kernelName:tq,backendName:"webgl",kernelFunc:Khe};class Qhe{constructor(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,s,l]=e,[u]=t,[c,d]=n;this.outputShape=[u,c,d,l];const p="bilinear"===r?1:0,[h,f]=[a-1+".0",s-1+".0"],[m,g,y]=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[v,b,x]=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${v});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${b};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${o}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${o}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${p} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Jhe={kernelName:oq,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new Qhe(o.shape,i.shape,s,l,u);return n.runWebGLProgram(c,[o,i,a],"float32")}};var Zhe;!function(e){e.Prod="*",e.Sum="+"}(Zhe||(Zhe={}));class efe{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,i=this.op===Zhe.Prod?"1.0":"0.0",a=n?i:`getX(${tfe(o,"coords",this.op)})`,s=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?"end != "+(s-1):"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${s}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${Iue(o)} coords = getOutputCoords();\n        int end = ${nfe(o,"coords",this.op)};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${nfe(o,"coords",this.op)} = idx;\n          val ${this.op}= getX(${tfe(o,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function tfe(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function nfe(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function rfe(e,t,n,r,o,i){const a=t.shape.length,s=aZ([r],a);let l=t;null!=s&&(l=rpe({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=lZ(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=Tde({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(c))-1;p++){const t=new efe(e,l.shape,!1,i),r=[[p]],o=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(o)}if(o){const t=new efe(e,l.shape,o,i),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=rpe({inputs:{x:d},backend:n,attrs:{perm:sZ(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const ofe={kernelName:nq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return rfe(Zhe.Prod,o,n,i,a,s)}};const ife={kernelName:rq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return rfe(Zhe.Sum,o,n,i,a,s)}};const afe={kernelName:iq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r;if(1===o.shape.length){const e=n.readSync(o.dataId),t=n.readSync(i.dataId),r=tce(e,t,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,r)}if(2===o.shape.length){const e=n.bufferSync(o),t=n.bufferSync(i),r=nce(e,t,a,s);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};class sfe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const lfe={kernelName:aq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r,s=o.shape[0],l=("NHWC"===a?o.shape[1]:o.shape[2])*i,u=("NHWC"===a?o.shape[2]:o.shape[3])*i,c=("NHWC"===a?o.shape[3]:o.shape[1])/(i*i),d=new sfe("NHWC"===a?[s,l,u,c]:[s,c,l,u],i,a);return n.runWebGLProgram(d,[o],o.dtype)}};class ufe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Due(this.outputShape.length);const i=e.filterHeight,a=e.filterWidth,s=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${i}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class cfe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Due(this.outputShape.length);const i=e.outChannels/e.inChannels,a=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<c;g++)p+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;p+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let g=0;g<c;g++)p+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(p+=`\n          xC = xCCorner + ${e*l};\n          `,1===s){if(e<c&&(a%2===1?(p+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,p+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):p+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<c)){const t=a%2===0?NU(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(p+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,p+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):p+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<c&&(a%2===1?(p+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<c&&(p+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(p+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<c&&(p+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<c&&(p+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<c&&(p+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}p+="\n    }\n  ",p+="\n      }\n    ";let h="",f="";n&&(h=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${h}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${p}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const dfe={kernelName:sq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),MU(rJ(a,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`));const d=KQ(o.shape,i.shape,a,c,s,u,!0);let p;p=fW().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new cfe(d):new ufe(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[o,i],"float32",h)}};class pfe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class hfe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${s}; dm++) {\n              int d2 = d1 * ${s} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const ffe={kernelName:lq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=KQ(o.shape,c,a,s,l,u,!0),p=new pfe(d);return n.runWebGLProgram(p,[o,i],"float32")}};const mfe={kernelName:uq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=KQ(c,i.shape,a,s,l,u,!0),p=new hfe(d);return n.runWebGLProgram(p,[o,i],"float32")}};class gfe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const yfe={kernelName:cq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],i=$U(r.shape),a=Gde({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new gfe(i),l=n.runWebGLProgram(s,[a],a.dtype),u=Gde({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}};class vfe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:o,strideWidth:i,filterHeight:a,filterWidth:s,dilationHeight:l,dilationWidth:u}=e,{top:c,left:d}=r;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${i});\n      const ivec2 pads = ivec2(${c}, ${d});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${a}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${s}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const bfe={kernelName:dq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=HQ(o.shape,i.shape,a,s,"NHWC",l);let c;const d=new vfe(u);c=n.runWebGLProgram(d,[o,i],"float32");const p=Gde({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),p}};const xfe={kernelName:fq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:l}=M3(o,i.length);L3(a.length,l,i);const{path:u,steps:c}=$3(s,l),d=c.length;let p=null,h=a.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=D3(h,l[e]);let o;j3(t)?o=i[e]:(o=rpe({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);FU(o.shape,a)||(o=Gde({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===p?p=o:(p=qde({inputs:{a:o,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=tpe({inputs:{x:p},backend:n,attrs:{axis:u[m]-(a.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}},wfe=jde({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Afe={kernelName:mq,backendName:"webgl",kernelFunc:wfe},Sfe={kernelName:gq,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,i=fW().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ede("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,o.shape):new Cde("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,o.shape);return n.runWebGLProgram(i,[r,o],r.dtype)}},Cfe=Fde({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:sce}),kfe={kernelName:vq,backendName:"webgl",kernelFunc:Cfe},Efe=jde({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${g3};\n  float a1 = ${y3};\n  float a2 = ${v3};\n  float a3 = ${b3};\n  float a4 = ${x3};\n  float a5 = ${w3};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),Tfe={kernelName:yq,backendName:"webgl",kernelFunc:Efe},Ife=jde({opSnippet:$de+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:lce,dtype:"float32"}),Ofe={kernelName:bq,backendName:"webgl",kernelFunc:Ife};function Rfe(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:i}=t,a=i.shape.length,s=i.shape.slice();let l=o;return o<0&&(MU(-(a+1)<=o,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+o+1),s.splice(l,0,1),Gde({inputs:{x:i},backend:r,attrs:{shape:s}})}const Nfe={kernelName:xq,backendName:"webgl",kernelFunc:Rfe},_fe="return exp(x) - 1.0;",Pfe=jde({opSnippet:_fe,packedOpSnippet:_fe,cpuKernelImpl:uce}),Mfe={kernelName:wq,backendName:"webgl",kernelFunc:Pfe};class Dfe{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const o=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let a;if("real"===e)a="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);a="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${a}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function Lfe(e,t,n){const r=n.texData.get(e.dataId),o=$U(e.shape),i=e.shape[e.shape.length-1],a=Gde({inputs:{x:e},backend:n,attrs:{shape:[o/i,i]}}),s=a.shape,l=new Dfe("real",s,t),u=new Dfe("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,c,"float32"),p=n.runWebGLProgram(u,c,"float32"),h=Ode({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const f=Gde({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(h),f}const $fe={kernelName:Aq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Lfe(r,!1,n)}};class jfe{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function Ffe(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:i}=n;if(i=i||JU(o),"string"===i){const e=XU(i,$U(r));return e.fill(o),t.makeTensorInfo(r,i,e)}{const e=new jfe(r,o),n=[[o]];return t.runWebGLProgram(e,[],i,n)}}const Bfe={kernelName:Sq,backendName:"webgl",kernelFunc:Ffe};class Vfe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const zfe={kernelName:Cq,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,o=n,i=new Vfe(r.shape);return o.runWebGLProgram(i,[r],r.dtype)}},Ufe="return floor(x);",Wfe=jde({opSnippet:Ufe,packedOpSnippet:Ufe,cpuKernelImpl:cce}),qfe={kernelName:kq,backendName:"webgl",kernelFunc:Wfe},Hfe=Fde({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Gfe={kernelName:Eq,backendName:"webgl",kernelFunc:Hfe};class Xfe{constructor(e){this.variableNames=["A"];const t=due(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class Kfe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=due(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const Yfe={kernelName:SG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:i}=r,a="undefined"!==typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&o instanceof HTMLImageElement,[l,u]=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=[u,l],d=[u,l,i];if(s||a){const e=fW().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=Qfe&&e===Jfe||(Jfe=e,Qfe=document.createElement("canvas").getContext("2d",{willReadFrequently:Jfe})),Qfe.canvas.width=l,Qfe.canvas.height=u,Qfe.drawImage(o,0,0,l,u),o=Qfe.canvas}const p=n.makeTensorInfo(c,"int32");n.texData.get(p.dataId).usage=Ple.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);const h=fW().getBool("WEBGL_PACK")?new Kfe(d):new Xfe(d),f=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),f}};let Qfe,Jfe=fW().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const Zfe={kernelName:EG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r,m=iJ(c),g=KQ(o.shape,i.shape,l,d,u,p,!1,m);let y;const v=[],b=null!=a,x=null!=s,w="leakyrelu"===h,A=()=>{const e=[o,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Gde({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return v.push(t),t}return e};if(b&&e.push(t(a,c)),x&&e.push(t(s,c)),w){const t=n.makeTensorInfo([],"float32",JG(f,"float32"));e.push(t),v.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&fW().getBool("WEBGL_EXP_CONV")){const e=h?Bde(h,!0):null,t=new Nhe(g,b,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],o=A();y=n.runWebGLProgram(t,o,"float32",r)}else if(fW().getBool("WEBGL_CONV_IM2COL"))y=Dhe({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:s,leakyreluAlpha:f});else{const e=h?Bde(h,!1):null,t=new Ohe(g,b,e,x,w),r=A();y=n.runWebGLProgram(t,r,"float32")}else y=Mhe({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:s,leakyreluAlpha:f});const S=Gde({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return v.push(y),v.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};const eme={kernelName:TG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,f=[];let m=c;null==m&&(m=[1,1]),MU(rJ(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=KQ(o.shape,i.shape,l,m,u,d,!0),y=fW().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,v=p?Bde(p,y):null,b=[o,i],x=null!=a,w=null!=s,A="leakyrelu"===p;if(x&&b.push(a),w&&b.push(s),A){const e=n.makeTensorInfo([],"float32",JG(h,"float32"));b.push(e),f.push(e)}let S;S=y?new cfe(g,x,v,w,A):new ufe(g,x,v,w,A);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],k=n.runWebGLProgram(S,b,"float32",C);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),k}};class tme{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const o=Iue(n.length);let i="\n    int index;";for(let a=0;a<this.sliceDim;a++)i+=`\n          index = round(getIndices(coords[0], ${a}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};\n          flattenIndex += index * ${this.strides[a]};`;this.userCode=`\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${i}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const nme={kernelName:Oq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=o.shape,a=i[i.length-1],s=$U(r.shape),[l,u,c,d]=h3(r,o),p=Gde({inputs:{x:o},backend:n,attrs:{shape:[u,a]}}),h=Gde({inputs:{x:r},backend:n,attrs:{shape:[$U(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),i=dce(e,t,r.dtype,u,a,c,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,i.values)}const f=new tme(a,d,[u,c],r.shape),m=n.runWebGLProgram(f,[h,p],h.dtype),g=Gde({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class rme{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=Iue(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function ome(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r,l=qU(a,o.shape)[0];if(fW().get("DEBUG")){const e=n.readSync(i.dataId),t=o.shape[l];for(let n=0;n<e.length;++n){const r=e[n];MU(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=t4(o,i,l,s),c=$U(i.shape),d=[],p=Gde({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Gde({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(p),d.push(h);const f=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([o,i])||"string"===o.dtype){const e=n.bufferSync(h),t=n.bufferSync(p),r=pce(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const m=new rme(p.shape,f),g=n.runWebGLProgram(m,[p,h],p.dtype);d.push(g);const y=Gde({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const ime={kernelName:Iq,backendName:"webgl",kernelFunc:ome},ame=Fde({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:hce,dtype:"bool"}),sme={kernelName:Rq,backendName:"webgl",kernelFunc:ame},lme=Fde({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:fce}),ume={kernelName:Nq,backendName:"webgl",kernelFunc:lme};const cme={kernelName:Pq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Lfe(r,!0,n)}},dme=jde({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),pme={kernelName:Dq,backendName:"webgl",kernelFunc:dme},hme=jde({opSnippet:"return float(isinf(x));",dtype:"bool"}),fme={kernelName:Lq,backendName:"webgl",kernelFunc:hme},mme=jde({opSnippet:"return float(isnan(x));",dtype:"bool"}),gme={kernelName:$q,backendName:"webgl",kernelFunc:mme},yme=Fde({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:mce,dtype:"bool"}),vme={kernelName:Fq,backendName:"webgl",kernelFunc:yme},bme=Fde({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:gce,dtype:"bool"}),xme={kernelName:Bq,backendName:"webgl",kernelFunc:bme};const wme={kernelName:Vq,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=yce(r,o,i);return t.makeTensorInfo([a.length],"float32",a)}},Ame=jde({opSnippet:$de+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:vce}),Sme={kernelName:zq,backendName:"webgl",kernelFunc:Ame},Cme=jde({opSnippet:$de+"\n  return log(1.0 + x);\n"}),kme={kernelName:Uq,backendName:"webgl",kernelFunc:Cme},Eme=Fde({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Tme={kernelName:Wq,backendName:"webgl",kernelFunc:Eme},Ime=jde({opSnippet:"return float(!(x >= 1.0));"}),Ome={kernelName:qq,backendName:"webgl",kernelFunc:Ime},Rme=Fde({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Nme={kernelName:Hq,backendName:"webgl",kernelFunc:Rme};class _me{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];const i=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${a}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${s};\n        setOutput(val);\n      }\n    `}}class Pme{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${s};\n        setOutput(result);\n      }\n    `}}const Mme={kernelName:Gq,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:l}=r,u=fW().getBool("WEBGL_PACK_NORMALIZATION")?new Pme(o.shape,i,a,s,l):new _me(o.shape,i,a,s,l);return n.runWebGLProgram(u,[o],o.dtype)}};class Dme{constructor(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${o})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${o});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const Lme={kernelName:Xq,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new Dme(o.shape,s,l,u,c);return n.runWebGLProgram(d,[o,i,a],o.dtype)}};function $me(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r,s=o.shape.length,l=qU(i,o.shape);let u=l;const c=aZ(u,s),d=null!=c,p=n.shouldExecuteOnCPU([o]);let h=o;if(d){if(p){const e=n.texData.get(h.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=o.shape[c[n]];const r=Gce(e,o.shape,o.dtype,c,t);h=n.makeTensorInfo(t,o.dtype);n.texData.get(h.dataId).values=r}else h=epe(o,c,n);u=lZ(u.length,s)}iZ("max",u,s);const[f,m]=rZ(h.shape,u);let g,y=f;if(a&&(y=oZ(f,l)),p){const e=n.texData.get(h.dataId).values,t=bce(e,$U(m),y,o.dtype);g=n.makeTensorInfo(y,o.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const o=$U(t),i=Gde({inputs:{x:e},attrs:{shape:[$U(e.shape)/o,o]},backend:r}),a=Qde(i,e.dtype,"max",r),s=Gde({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(h,m,y,n);return d&&n.disposeIntermediateTensorInfo(h),g}const jme={kernelName:Kq,backendName:"webgl",kernelFunc:$me},Fme=Fde({opSnippet:Sde+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+kde+"\n  return result;\n",cpuKernelImpl:xce}),Bme={kernelName:Yq,backendName:"webgl",kernelFunc:Fme};const Vme={kernelName:Qq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;uue(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;MU(rJ(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=GQ(o.shape,i,a,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&FU(u.inShape,u.outShape))return Tde({inputs:{x:o},backend:n});const c=new Fpe(u,"max",!1);return n.runWebGLProgram(c,[o],o.dtype)}};const zme={kernelName:Zq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=XQ(o.shape,i,a,[1,1,1],s,u,l),d=new Bpe(c,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}};class Ume{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,l=o*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Wme{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,h=s*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${d}, ${p});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${s};\n           wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${a}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const qme={kernelName:eH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=XQ(a.shape,s,l,[1,1,1],u,c),p=new Bpe(d,"max",!0),h=n.runWebGLProgram(p,[a],a.dtype),f=new Wme(d),m=n.runWebGLProgram(f,[o,h],a.dtype);return n.disposeIntermediateTensorInfo(h),m}};const Hme={kernelName:Jq,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;uue([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=GQ(s.shape,l,u,1,c,d),h=new Fpe(p,"max",!0),f=n.runWebGLProgram(h,[s],s.dtype),m=new Ume(p),g=n.runWebGLProgram(m,[o,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}};const Gme={kernelName:tH,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{filterSize:i,strides:a,pad:s,includeBatchInIndex:l}=n,u=r;MU(4===o.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${o.shape.length}.`));const c=[1,1];MU(rJ(a,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`));const d=GQ(o.shape,i,a,c,s),[p,h]=function(e,t,n,r){let o=new Fpe(n,"max",!1);const i=r.runWebGLProgram(o,[e],"float32");return o=new Fpe(n,"max",!0,!0,t),[i,r.runWebGLProgram(o,[e],"float32")]}(o,l,d,u);return[p,h]}};const Xme={kernelName:nH,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{keepDims:i,axis:a}=n,s=r,l=o.shape.length,u=qU(a,o.shape);let c=u;const d=aZ(c,l),p=null!=d,h=s.shouldExecuteOnCPU([o]),f=[];let m=o;if(p){if(h){const e=s.texData.get(m.dataId).values,t=new Array(l);for(let r=0;r<t.length;r++)t[r]=o.shape[d[r]];const n=Gce(e,o.shape,o.dtype,d,t);m=s.makeTensorInfo(t,o.dtype);s.texData.get(m.dataId).values=n}else m=epe(o,d,s);f.push(m),c=lZ(c.length,l)}iZ("sum",c,l);const[g,y]=rZ(m.shape,c);let v=g;i&&(v=oZ(g,u));const b=function(e,t,n,r){const o=$U(t),i=Gde({inputs:{x:e},attrs:{shape:[$U(e.shape)/o,o]},backend:r}),a=Qde(i,"float32","mean",r),s=Gde({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(m,y,v,s);for(const x of f)s.disposeIntermediateTensorInfo(x);return b}};const Kme={kernelName:rH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=qU(i,o.shape);let u=l;const c=aZ(u,s);let d=o;null!=c&&(d=rpe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=lZ(u.length,o.shape.length)),iZ("min",u,s);const[p,h]=rZ(d.shape,u),f=Gde({inputs:{x:d},backend:n,attrs:{shape:[-1,$U(h)]}}),m=Qde(f,f.dtype,"min",n);let g;if(a){g=Gde({inputs:{x:m},backend:n,attrs:{shape:oZ(p,l)}})}else g=Gde({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}},Yme=Fde({opSnippet:Sde+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+kde+"\n  return result;\n",cpuKernelImpl:wce}),Qme={kernelName:oH,backendName:"webgl",kernelFunc:Yme};class Jme{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Iue(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${o} coords = outC - start;\n        setOutput(getX(${s}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class Zme{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Iue(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=Yce("rc",r),l=Yce("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d="reflect"===n?0:1;let p="";if(1===r){const e=`\n        ${o} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${d};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${d};\n        }\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${o} source = rc;\n        ${o} lt = ${o}(lessThan(source, start));\n        ${o} gte = ${o}(greaterThanEqual(source, end));\n        ${o} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${d}) +\n                gte * ((end - 1) * 2 - source + ${d});\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${s[r-2]} += 1;\n        if(${s[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${s[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const ege={kernelName:iH,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o}=t,{paddings:i,mode:a}=r,s=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Zme(o.shape,i,a):new Jme(o.shape,i,a);return n.runWebGLProgram(s,[o],o.dtype)}},tge=Fde({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+kde+"\n  return result;\n"}),nge={kernelName:aH,backendName:"webgl",kernelFunc:tge};class rge{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const oge=Fde({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),ige={kernelName:hq,backendName:"webgl",kernelFunc:oge},age="return a - b;",sge=Fde({opSnippet:age,packedOpSnippet:age,supportsComplex:!0,cpuKernelImpl:Wce}),lge={kernelName:dG,backendName:"webgl",kernelFunc:sge};function uge(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=qU([i],o.shape),s=$me({inputs:{x:o},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=oZ(s.shape,a),u=Gde({inputs:{x:s},backend:n,attrs:{shape:l}}),c=sge({inputs:{a:o,b:u},backend:n}),d=Ife({inputs:{x:c},backend:n}),p=tpe({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:!1}}),h=Gde({inputs:{x:p},backend:n,attrs:{shape:l}}),f=oge({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),f}const cge={kernelName:JH,backendName:"webgl",kernelFunc:uge};const dge={kernelName:sH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r,l=s?o:uge({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new rge(u,c,i),p=[[a]],h=n.runWebGLProgram(d,[l],"int32",p);return s||n.disposeIntermediateTensorInfo(l),h}},pge=ode+"\n  return -x;\n";const hge={kernelName:uH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,o]=Sce(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}let o;return o=fW().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new yde(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new rde(r.shape,pge),n.runWebGLProgram(o,[r],r.dtype)}},fge=u2;const mge={kernelName:dH,backendName:"webgl",kernelFunc:function(e){IG("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(o.dataId),c=n.readSync(i.dataId),{selectedIndices:d}=fge(u,c,a,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},gge=c2;const yge={kernelName:pH,backendName:"webgl",kernelFunc:function(e){IG("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(o.dataId),d=n.readSync(i.dataId),{selectedIndices:p,validOutputs:h}=gge(c,d,a,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},vge=d2;const bge={kernelName:hH,backendName:"webgl",kernelFunc:function(e){IG("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(o.dataId),d=n.readSync(i.dataId),p=a,h=s,f=l,m=u,{selectedIndices:g,selectedScores:y}=vge(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class xge{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const wge={kernelName:mH,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:l}=r,u=$U(o.shape),c=new xge(u,a,s,l),d=Gde({inputs:{x:o},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(c,[d],i);n.disposeIntermediateTensorInfo(d);const h=Gde({inputs:{x:p},backend:n,attrs:{shape:[...o.shape,a]}});return n.disposeIntermediateTensorInfo(p),h}};function Age(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=lhe({inputs:{input:r},backend:n}),t=Age({inputs:{x:e},backend:n}),o=Che({inputs:{input:r},backend:n}),i=Age({inputs:{x:o},backend:n}),a=Ode({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),a}return Ffe({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const Sge={kernelName:wG,backendName:"webgl",kernelFunc:Age};const Cge={kernelName:fH,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=lhe({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=Che({inputs:{input:o},backend:r}),a=Age({inputs:{x:i},backend:r}),s=Ode({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}return Ffe({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}};const kge={kernelName:gH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return Rfe({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{DU(i,e.shape,"All tensors passed to stack must have matching shapes"),MU(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=The({inputs:t.map((e=>{const t=Rfe({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class Ege{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Iue(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${o} coords = outC - start;\n          setOutput(getX(${s}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class Tge{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Iue(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=Yce("rc",r),l=Yce("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${s[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${s[r-2]} += 1;\n       if(${s[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${s[r-1]} += 1;\n         if(${u}) {`],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let f=0,m=1===r?2:4;f<m;f++)h+=`\n        ${d[f]}\n        if (${p}) {\n          result[${f}] = float(value);\n        } else {\n          ${o} source = rc - start;\n          result[${f}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;h+=1===r?"} ":"}}",this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const Ige=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;if(0===$U(o.shape)){const e=i.map(((e,t)=>e[0]+o.shape[t]+e[1]));return Ffe({backend:n,attrs:{shape:e,value:a,dtype:o.dtype}})}const s=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Tge(o.shape,i,a):new Ege(o.shape,i,a),l=[[a]];return n.runWebGLProgram(s,[o],o.dtype,l)},Oge={kernelName:yH,backendName:"webgl",kernelFunc:Ige},Rge=Fde({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+kde+"\n  return result;\n"}),Nge={kernelName:vH,backendName:"webgl",kernelFunc:Rge};const _ge={kernelName:xH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=[],u=qU(i,o.shape);let c=u;const d=aZ(c,s);let p,h=o;if(null!=d&&(h=rpe({inputs:{x:o},backend:n,attrs:{perm:d}}),c=lZ(c.length,s),l.push(h)),iZ("prod",c,s),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:r,outDtype:o}=kce(h.shape,h.dtype,e,c);p=n.makeTensorInfo(r,o,t)}else{const[e,t]=rZ(h.shape,c),r=$U(t),i=Gde({inputs:{x:h},backend:n,attrs:{shape:[-1,r]}}),a=Qde(i,RX(o.dtype),"prod",n);p=Gde({inputs:{x:a},backend:n,attrs:{shape:e}}),l.push(i),l.push(a)}if(a){l.push(p);const e=oZ(p.shape,u);p=Gde({inputs:{x:p},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const Pge={kernelName:wH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.readSync(e.dataId))),u=o.map((e=>e.shape)),c=n.readSync(i.dataId),d=n.readSync(a.dataId),[p,h,f]=Ece(l,u,c,i.shape,i.dtype,d,a.shape,s),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,h);return m.concat([g])}};const Mge={kernelName:AH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:i}=t,a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=Tce(a,r.shape,r.dtype,s,o.shape,l,i.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};const Dge={kernelName:SH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(o.dataId),c=n.readSync(i.dataId),d=n.readSync(a.dataId),p=s.map((e=>n.readSync(e.dataId))),h=s.map((e=>e.shape)),[f,m]=Ice(u,o.shape,c,i.shape,i.dtype,d,a.shape,p,h,l);return n.makeTensorInfo(f,i.dtype,m)}},Lge=e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:i,dtype:a}=n,s=Oce(r,o,i,a);return t.makeTensorInfo([s.length],a,s)},$ge={kernelName:CH,backendName:"webgl",kernelFunc:Lge},jge=jde({opSnippet:"return 1.0 / x;"}),Fge={kernelName:EH,backendName:"webgl",kernelFunc:jge},Bge=jde({opSnippet:ode+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Vge={kernelName:TH,backendName:"webgl",kernelFunc:Bge},zge=jde({opSnippet:ode+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Uge={kernelName:PH,backendName:"webgl",kernelFunc:zge};class Wge{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class qge{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const Hge={kernelName:NH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=fW().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qge(o.shape,l,u,i,a):new Wge(o.shape,l,u,i,a);return n.runWebGLProgram(c,[o],"float32")}};class Gge{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Xge={kernelName:_H,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Gge(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class Kge{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class Yge{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const Qge={kernelName:OH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=fW().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Yge(o.shape,l,u,i,a):new Kge(o.shape,l,u,i,a);return n.runWebGLProgram(c,[o],o.dtype)}};class Jge{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${s[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${s[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Zge={kernelName:RH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Jge(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class eye{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),o=Iue(n);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class tye{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=Yce("rc",n),o=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,a=Iue(n);function s(n){const r=e.map(((r,o)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(o,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${o}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${a} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return s(e)}(r.slice())};\n          if(${o}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())};\n          }\n          if(${i}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            if(${o}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const nye={kernelName:MH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r,a=o.shape.length,s=qU(i,o.shape);if(0===a)return Tde({inputs:{x:o},backend:n});const l=fW().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new tye(o.shape,s):new eye(o.shape,s);return n.runWebGLProgram(l,[o],o.dtype)}};class rye{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let o="";o="number"===typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${o}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const oye={kernelName:CG,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:i,fillValue:a,center:s}=n,l=r,u=new rye(o.shape,a),[c,d]=s3(s,o.shape[1],o.shape[2]),p=[[c,d,Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(u,[o],o.dtype,p)}},iye=jde({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),aye={kernelName:DH,backendName:"webgl",kernelFunc:iye},sye=jde({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Rce}),lye={kernelName:LH,backendName:"webgl",kernelFunc:sye};class uye{constructor(e,t,n,r,o,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const s=Iue(o.length),l=Iue(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let h="";a&&(h="coords[0], coords[1]");const f=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides";this.userCode=`\n        ${s} strides = ${s}(${o});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${m};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(${f}, sum, float(found)));\n        }\n      `}}class cye{constructor(e,t,n,r,o,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const s=Iue(o.length),l=Iue(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let h="";a&&(h="coords[0], coords[1]");const f=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${s} strides = ${s}(${o});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${c});\n              flattenedIndex += index.xz * ${m};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${g};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${p};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${f}, sum, found));\n        }\n      `}}const dye={kernelName:$H,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=b1(0,o,a),p=[d/u,u];if(0===d)return n.makeTensorInfo(a,o.dtype);const h=Gde({inputs:{x:o},backend:n,attrs:{shape:[l,s]}}),f=Gde({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=fW().getBool("WEBGL_PACK")?new cye(l,s,h.shape.length,f.shape.length,c,p):new uye(l,s,h.shape.length,f.shape.length,c,p);const y=n.runWebGLProgram(g,[f,h,m],f.dtype),v=Gde({inputs:{x:y},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),v}};class pye{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const o=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===fW().getNumber("WEBGL_VERSION")?"while (left < right) {":o,a="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${i}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${a} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const hye={kernelName:FH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=new pye(o.shape[0],o.shape[1],i.shape[1],a),l=[[o.shape[1]]];return n.runWebGLProgram(s,[o,i],"int32",l)}};class fye{constructor(e,t,n){let r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)o="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=[];for(let r=0;r<t.length;r++)a.push(`${n[r]}`),r<e&&i.push(`${n[r]}`);r=i.join(),o=a.join()}const i=Iue(n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${o}));\n        } else {\n          setOutput(getB(${o}));\n        }\n      }\n    `}}const mye={kernelName:BH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t,a=new fye(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(a,[r,o,i],OX(o.dtype,i.dtype))}},gye=jde({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${f3};\n  float scale = ${m3};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),yye={kernelName:VH,backendName:"webgl",kernelFunc:gye},vye=jde({opSnippet:$de+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:_ce}),bye={kernelName:HH,backendName:"webgl",kernelFunc:vye},xye=jde({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),wye={kernelName:qH,backendName:"webgl",kernelFunc:xye},Aye=jde({opSnippet:$de+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${kde}\n  return result;\n`}),Sye={kernelName:UH,backendName:"webgl",kernelFunc:Aye},Cye=jde({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),kye={kernelName:WH,backendName:"webgl",kernelFunc:Cye},Eye=jde({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Tye={kernelName:GH,backendName:"webgl",kernelFunc:Eye},Iye={kernelName:YH,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;MU(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...a);for(let y=1+i.length;y<o.shape.length;++y)l.push([0,0]);const u=[],c=Ige({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),d=l3(c.shape,i,s,!1),p=u3(d.length,i.length,!1),h=c3(c.shape,i,s,!1),f=Gde({inputs:{x:c},backend:n,attrs:{shape:d}}),m=rpe({inputs:{x:f},backend:n,attrs:{perm:p}}),g=Gde({inputs:{x:m},backend:n,attrs:{shape:h}});return u.push(c),u.push(f),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const Oye={kernelName:ZH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n         ${o.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const s=n.readSync(r.dataId),l=n.readSync(o.dataId),u=n.readSync(i.dataId),c=n.readSync(a.dataId)[0],[d,p,h,f,m]=Dce(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const Rye={kernelName:eG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(o.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,d]=Lce(s,r.shape,r.dtype,a,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}};const Nye={kernelName:tG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);const a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=$ce(a,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const _ye={kernelName:nG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);const a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=$ce(a,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}};const Pye={kernelName:rG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=b1(0,o,s),h=!1;if("string"===i.dtype){const e=n.bufferSync(o),t=n.bufferSync(i),r=nX(n.readSync(a.dataId)[0]),f=Nce(e,t,s,p,c,u,l,d,r,h);return n.makeTensorInfo(s,f.dtype,f.values)}const f=new uye(u,l,o.shape.length,i.shape.length,d,[p,1],h),m=n.runWebGLProgram(f,[i,o,a],i.dtype),g=Gde({inputs:{x:m},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),g}};const Mye={kernelName:QH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=qU(a,o.shape)[0],l=B3(o,i,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=ehe({inputs:{x:o},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},Dye="return sqrt(x);",Lye=jde({opSnippet:Dye,packedOpSnippet:Dye,cpuKernelImpl:jce}),$ye={kernelName:XH,backendName:"webgl",kernelFunc:Lye},jye={kernelName:iG,backendName:"webgl",kernelFunc:jde({opSnippet:"return x * x;"})},Fye="return (a - b) * (a - b);",Bye=Fde({opSnippet:Fye,packedOpSnippet:Fye}),Vye={kernelName:oG,backendName:"webgl",kernelFunc:Bye};const zye={kernelName:aG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");const i=n4(n.readSync(o.dataId)),a=Fce(i,"string",r);return n.makeTensorInfo(o.shape,"string",a)}};const Uye={kernelName:AG,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,i=ode+`\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,a=new rde(o.shape,i);return r.runWebGLProgram(a,[o],o.dtype)}};class Wye{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,o=Iue(n.length),i=Iue(n.length);let a="";if(1===r)a="coords * strides + begin";else{let e=0;a=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${o} begin = ${o}(${e});\n      ${o} strides = ${o}(${t});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}const qye={kernelName:sG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=_Q(o.shape,i,a,s,l,u,c,d,p);let w;if(m)w=Gde({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){MU(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=bQ(v,b,x),t=ehe({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=Gde({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=hY(o.shape,o.dtype,e),r=Bce(h,t,x,v);w=n.makeTensorInfo(f,o.dtype,r.values)}else{const e=new Wye(v,x,h);w=n.runWebGLProgram(e,[o],o.dtype)}}const A=Gde({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),A}};const Hye={kernelName:lG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.readSync(c.dataId),h=n.readSync(d.dataId),[f,m]=Vce(p,h,o,i,a,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const Gye={kernelName:uG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const s=n.readSync(i.dataId),l=n.readSync(a.dataId)[0],[u,c,d]=zce(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const Xye={kernelName:cG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),s=Uce(a,o);return n.makeTensorInfo(i.shape,"int32",s)}},Kye=jde({opSnippet:"return tan(x);"}),Yye={kernelName:pG,backendName:"webgl",kernelFunc:Kye},Qye=jde({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Jye={kernelName:hG,backendName:"webgl",kernelFunc:Qye};const Zye={kernelName:jH,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:o,indices:i,updates:a}=t,{}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=b1(0,i,o.shape),p=[d/u,u];if(0===d)return n.makeTensorInfo(o.shape,i.dtype);const h=Gde({inputs:{x:i},backend:n,attrs:{shape:[l,s]}}),f=Gde({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=Gde({inputs:{x:o},backend:n,attrs:{shape:p}}),g=new uye(l,s,h.shape.length,f.shape.length,c,p,!1,!0),y=n.runWebGLProgram(g,[f,h,m],m.dtype),v=Gde({inputs:{x:y},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}};class eve{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;const r=Iue(this.rank),o=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<e.length;o++)r.push(`imod(${n[o]}, ${e[o]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function tve(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;if("string"===o.dtype||o.shape.length>5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>nX(e))):e,r=hY(o.shape,o.dtype,t),a=qce(r,i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new eve(o.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const nve={kernelName:fG,backendName:"webgl",kernelFunc:tve};class rve{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class ove{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function ive(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function ave(e){let t=1;for(;t<e;)t*=2;return t}const sve={kernelName:mG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r,s=fW().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=fW().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([o])||c<s||i>l){const e=n.readSync(o.dataId),[t,r]=Hce(e,u,o.dtype,i,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return u[u.length-1]=0,[n.makeTensorInfo(u,o.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[o,Ffe({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),p=null!==d&&d.isPacked,h=p?n.unpackTensor(o):o,f=$U(u)/c,m=Gde({inputs:{x:h},attrs:{shape:[f,c]},backend:n});p&&ive(n,h);const g=ave(i),y=ave(c);let v=null;const b=()=>null===v?[m,m]:[m,v],x=(e,t,r)=>{const o=b(),i=new rve(r),a=[[c],[null===v?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=v;v=n.runWebGLProgram(i,o,"int32",a),ive(n,s)};for(let k=1;k<g;k*=2){const e=2*k;for(let t=k;t>=1;t/=2)x(e,t,[f,y])}for(let k=y;k>g;k/=2){const e=b(),t=new ove([f,k/2]),r=[[c],[null===v?1:0],[g]],o=v;v=n.runWebGLProgram(t,e,"int32",r),ive(n,o);const i=g/2,a=2*i;for(let n=i;n>=1;n/=2)x(a,n,v.shape)}let w=v;v=ehe({inputs:{x:v},backend:n,attrs:{begin:0,size:[f,i]}}),ive(n,w);let A=ome({inputs:{x:m,indices:v},backend:n,attrs:{axis:1,batchDims:1}});ive(n,m);const S=u.slice(0,-1);S.push(i),w=v,v=Gde({inputs:{x:v},attrs:{shape:S},backend:n}),ive(n,w);const C=A;return A=Gde({inputs:{x:A},attrs:{shape:S},backend:n}),ive(n,C),[A,v]}};class lve{constructor(e,t,n,r,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${s} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${o});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${o});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${a} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const uve={kernelName:gG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=new lve(d,p,a,s,l,[c,f,m,h]);return n.runWebGLProgram(g,[o,i],"float32")}};const cve={kernelName:vG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;uue(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:s,outputShape:l,indices:u}=Xce(a,o,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}};const dve={kernelName:bG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o,s=a.shape.length,l=o.shape[i],u=new Array(s-1);let c=0;for(let m=0;m<s;m++)m!==i&&(u[c++]=a.shape[m]);const d=[],p=new Array(s).fill(0),h=a.shape.slice();h[i]=1;const f=new Array(l);for(let m=0;m<f.length;m++){p[i]=m;const e=ehe({inputs:{x:a},backend:n,attrs:{begin:p,size:h}}),t=Gde({inputs:{x:e},backend:n,attrs:{shape:u}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class pve{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];const s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";o%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `);let d="";o%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const hve={kernelName:xG,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r,s=o.shape.length,l=[];let u=0;const c=aZ([u],s);let d=o;null!=c&&(d=rpe({inputs:{x:o},backend:n,attrs:{perm:c}}),l.push(d),u=lZ(1,s)[0]);const p=e4(d.shape,u,a),h=$U([d.shape[u]]),f=Gde({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(f);const m=RX(o.dtype),g=(e,t,r,o,i)=>{const a=e.shape[0],s=e.shape[1],u=Z3(s,i),c=new pve({windowSize:u,inSize:s,batchSize:a,numSegments:i},t),d=n.compileAndRun(c,[e,r],o);if(l.push(d),d.shape[1]===i)return d;const p=Lge({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),h=tve({inputs:{x:p},backend:n,attrs:{reps:[s/u]}});l.push(p),l.push(h);return g(d,t,h,o,i)},y=Gde({inputs:{x:g(f,"unsortedSegmentSum",i,m,a)},backend:n,attrs:{shape:p}});let v=y;if(null!=c){l.push(y);const e=sZ(c);v=rpe({inputs:{x:v},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}},fve=[spe,upe,dpe,hpe,gpe,bpe,xpe,wpe,Tpe,Ipe,Rpe,_pe,Mpe,Lpe,jpe,Vpe,zpe,qpe,Hpe,Gpe,Ype,nhe,rhe,ohe,ihe,dhe,fhe,yhe,Rde,xhe,Ihe,Lhe,Vhe,Uhe,Whe,qhe,Hhe,Xhe,Yhe,Jhe,ofe,ife,afe,lfe,dfe,ffe,mfe,yfe,bfe,xfe,Afe,Sfe,kfe,Tfe,Ofe,Nfe,Mfe,$fe,Bfe,zfe,qfe,Gfe,Yfe,Zfe,eme,nme,ime,sme,ume,Ide,cme,khe,pme,fme,gme,Pde,vme,xme,wme,Sme,kme,Tme,Ome,Nme,Mme,Lme,jme,Bme,Vme,zme,qme,Hme,Gme,Xme,Kme,Qme,ege,nge,dge,Hde,hge,mge,yge,bge,she,wge,Cge,kge,Oge,Nge,Lde,_ge,Pge,Mge,Dge,$ge,uhe,ige,Fge,Vge,Uge,Xde,Hge,Xge,Qge,Zge,nye,oye,aye,lye,dye,hye,mye,yye,bye,wye,Sye,kye,the,cge,Tye,Iye,Oye,Rye,Nye,_ye,Pye,Mye,$ye,jye,Vye,zye,Uye,qye,Hye,Gye,Xye,lge,npe,Yye,Jye,Zye,nve,sve,uve,ope,cve,dve,hve,Sge];for(const n of fve)DG(n);const mve=e=>{const[t,n]=(0,O.useState)(!1),[r,o]=(0,O.useState)(),i=(0,O.useRef)(""),a=t=>{console.log("\ub4e4\uc5b4\uc628 \uac12\uc740?"),console.log(t),console.log("\uae30\uc874 \uc6b4\ub3d9"),console.log(r),o((n=>{console.log("\uc6b4\ub3d9\uc744 \uc798 \ud655\uc778\ud560 \uc218 \uc788\ub098?"),console.log(e.exerciseForRound[t]);const r=e.exerciseForRound[t];return console.log("\ubc14\ub010 \uc6b4\ub3d9"),console.log(r),r})),console.log("ref\ub294 \uc798 \ub4e4\uc5b4\uac00\ub098\uc694?"),i.current=e.exerciseForRound[t],console.log(i.current)},[s,l]=(0,O.useState)(),[u,c]=(0,O.useState)(!1);(0,O.useEffect)((()=>{u||(console.log(e),c(!0),a(0),l(0))}),[]);let d="down",p="up",h=0;const f=e=>{h=e};let m=0;const g=async t=>{const n={modelType:Ile.SINGLEPOSE_THUNDER,enableTracking:!0,trackerType:kse.BoundingBox},r=await function(e,t){return sae(this,void 0,void 0,(function(){var n,r;return lae(this,(function(o){switch(e){case Ese.PoseNet:return[2,Tle(t)];case Ese.BlazePose:if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,Cse(t)];if("mediapipe"===n.runtime)return[2,kae(t)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r));case Ese.MoveNet:return[2,Bse(t)];default:throw new Error("".concat(e," is not a supported model name."))}}))}))}(Ese.MoveNet,n);console.log("\ud3ec\uc988 \uac10\uc9c0 \uc2dc\uc791"),e.changeIsPoseDetect(),await y(r,t)},y=async(e,t)=>{const n=await e.estimatePoses(t);if(n&&n.length>0){const e=n[0];v(e,i.current)}setTimeout((()=>y(e,t)),100)};const v=(e,t)=>{!function(e){return e.keypoints[5].score>.2&&e.keypoints[11].score>.2&&e.keypoints[9].score>.2&&e.keypoints[15].score>.2&&e.keypoints[6].score>.2&&e.keypoints[12].score>.2&&e.keypoints[10].score>.2&&e.keypoints[16].score>.2}(e)?n(!1):(n(!0),"jumpingJack"===t?w(e):"lunge"===t?A(e):"sitUp"===t?C(e):"pushUp"===t?E(e):"squat"===t&&_(e))};function b(e,t,n){const r=Math.atan2(n.y-t.y,n.x-t.x)-Math.atan2(e.y-t.y,e.x-t.x);let o=Math.abs(180*r/Math.PI);return o>180&&(o=360-o),o}const x=()=>{console.log("\uce74\uc6b4\ud2b8\uac00 \uc99d\uac00\ud569\ub2c8\ub2f9"),console.log(h);const t=h+1;f(t),console.log("\ubc14\ub010 \uce74\uc6b4\ud2b8"),console.log(h),e.ChangeCount(t),console.log("\ud604\uc7ac \ub77c\uc6b4\ub4dc!!!"),console.log(s),console.log("\ud604\uc7ac \uc6b4\ub3d9 \uac00\uc911\uce58"),console.log(e.roundWeight[s]),e.UpdateMyTotalCombatPower(e.roundWeight[s]),e.sendTest2(e.roundWeight[s]);e.myCombatPower[e.currentRound],e.roundWeight[e.currentRound];const n=m+e.roundWeight[s];m=n,console.log(m),e.isExercise},w=e=>{const t=e.keypoints[5],n=e.keypoints[11],r=e.keypoints[9],o=e.keypoints[15],i=e.keypoints[6],a=e.keypoints[12],s=e.keypoints[10],l=e.keypoints[16],u=b(n,t,r),c=b(a,i,s),p=b(t,n,o),h=b(i,a,l);u<30&&c<30&&p>150&&h>150&&"up"===d&&(d="down",x()),u>110&&c>110&&p<160&&h<160&&"down"===d&&(d="up")},A=e=>{const t=e.keypoints[11],n=e.keypoints[13],r=e.keypoints[15],o=e.keypoints[12],i=e.keypoints[14],a=e.keypoints[16],s=e.keypoints[5],l=e.keypoints[6],u=b(t,n,r),c=b(o,i,a),d=b(s,t,n),h=b(l,o,i);u>80&&u<100&&c>80&&c<100&&d>70&&d<100&&h>160&&h<200&&(p="leftDown"),u>80&&u<100&&c>80&&c<100&&h>70&&h<100&&d>160&&d<200&&(p="rightDown"),"leftDown"===p&&d>160&&d<200&&(p="up",x()),"rightDown"===p&&h>160&&h<200&&(p="up",x())};let S="up";const C=e=>{const t=e.keypoints[6],n=e.keypoints[12],r=e.keypoints[14],o=e.keypoints[8],i=e.keypoints[10],a=b(t,n,r);b(t,o,i)<90&&a<65&&t.y<n.y&&r.y<n.y&&"down"===S&&(S="up",x()),a>90&&"up"===S&&(S="down")};let k="up";const E=e=>{const t=e.keypoints[10],n=e.keypoints[8],r=e.keypoints[6],o=e.keypoints[12],i=e.keypoints[14],a=b(t,n,r);b(r,o,i);a>130&&a<230&&("down"===k&&x(),k="up"),a>70&&a<120&&(k="down")},T={seq:[],SQUAT_COUNT:0,IMPROPER_SQUAT:0,INCORRECT_POSTURE:!1};let I=[0,32],R=[35,65],N=[70,95];const _=e=>{const t=e.keypoints[12],n=e.keypoints[14];const r=function(e){let t="";I[0]<=e&&e<=I[1]?t="s1":R[0]<=e&&e<=R[1]?t="s2":N[0]<=e&&e<=N[1]&&(t="s3");return t}(b({x:n.x,y:0},n,t));!function(e){const t=T.seq;"s2"===e?(!t.includes("s3")&&0===t.filter((e=>"s2"===e)).length||t.includes("s3")&&1===t.filter((e=>"s2"===e)).length)&&t.push(e):"s3"===e&&!t.includes("s3")&&t.includes("s2")&&t.push(e)}(r),"s1"===r&&function(){const e=T.seq;3!==e.length||T.INCORRECT_POSTURE?(e.includes("s2")&&1===e.length||T.INCORRECT_POSTURE)&&T.IMPROPER_SQUAT++:(T.SQUAT_COUNT++,x());T.seq=[],T.INCORRECT_POSTURE=!1}()};(0,O.useEffect)((()=>{if(0===s)console.log("\ube44\ub514\uc624 \uc2dc\uc791\ud569\ub2c8\ub2e4."),console.log(e.exerciseForRound[0]),console.log("\ud604\uc7ac \ub77c\uc6b4\ub4dc"),console.log(s),console.log("\uc678\ubd80\uc5d0\uc11c\uc758 \ub77c\uc6b4\ub4dc"),console.log(e.currentRound),P();else if(0!==s&&s<e.roundWeight.length){console.log("\ub77c\uc6b4\ub4dc \ubcc0\uacbd!"),console.log(s),console.log("\uc678\ubd80\uc5d0\uc11c\uc758 \ub77c\uc6b4\ub4dc"),console.log(e.currentRound),f(0),e.ChangeCount(0),console.log("\uce74\uc6b4\ud2b8\ub294 \uadf8\ub300\ub85c \ub0a8\uc544\uc788\ub098\uc6a9?"),console.log(e.eachRoundCount);e.exerciseForRound[s];console.log("\uc6b4\ub3d9\ub3c4 \ubcc0\uacbd!"),console.log(e.exerciseForRound[s])}else s===e.roundWeight.length&&(console.log("\ub9c8\uc9c0\ub9c9 \ub77c\uc6b4\ub4dc \ub05d!"),console.log(s),console.log("\ub9c8\uc9c0\ub9c9\uc73c\ub85c \uce74\uc6b4\ud2b8\ub294 \uadf8\ub300\ub85c \ub0a8\uc544\uc788\ub098\uc6a9?"),console.log(e.eachRoundCount))}),[s]),(0,O.useEffect)((()=>{console.log("\uc704\uc5d0 \ub77c\uc6b4\ub4dc\uac00 \ubc14\ub00c\uc5c8\ub2e4!"),console.log(e.currentRound),l(e.currentRound),console.log("\uc544\ub798\ub3c4 \ubc14\uafd4\uc57c\uc9c0"),console.log(s),console.log("\uc774\uac74\uc774\ucabd \uce74\uc6b4\ud2b8"),console.log(h),console.log("\uc774\uac74 \uc704\ucabd \uce74\uc6b4\ud2b8"),console.log(e.countPower),e.updateEachRoundCount(e.currentRound-1,e.countPower),a(e.currentRound),console.log(e.eachRoundCount)}),[e.currentRound]);const P=async()=>{if(console.log("\ud3ec\uc988 \ubaa8\ub378\uc744 \ubd88\ub7ec\uc635\ub2c8\ub2e4."),CU){await(e="webgl",BX.setBackend(e)),await BX.ready();const t=document.querySelector("#myVideo>video");t&&(t&&t.videoWidth>0&&t.videoHeight>0?await g(t):t.addEventListener("loadedmetadata",(async()=>{await g(t)})))}var e};return(0,Ye.jsx)("div",{children:void 0!==e.streamManager?(0,Ye.jsxs)("div",{className:"streamcomponent-self",id:"myVideo",children:[(0,Ye.jsx)(CU,{streamManager:e.streamManager}),(0,Ye.jsx)("div",{className:"self-name",children:(0,Ye.jsx)("p",{children:JSON.parse(e.streamManager.stream.connection.data).clientData})}),(0,Ye.jsx)("div",{className:"count-box",children:(0,Ye.jsxs)("p",{children:[" \u2694\ufe0f ",e.myTotalCombatPower," "]})}),!t&&(0,Ye.jsx)("div",{className:"warning",children:(0,Ye.jsxs)("p",{children:["\uc804\uc2e0\uc774 \ub2e4 \ubcf4\uc774\ub3c4\ub85d ",(0,Ye.jsx)("br",{}),"\uba40\ub9ac \ub5a8\uc5b4\uc838\uc8fc\uc138\uc694!"]})})]}):null})},gve=e=>{let{label:t="",backgroundColor:n="#383a52",visualParts:r=[{percentage:"0%",color:"white"}]}=e;const[o,i]=(0,O.useState)(r.map((()=>0)));return(0,O.useEffect)((()=>{requestAnimationFrame((()=>{i(r.map((e=>e.percentage)))}))}),[r]),(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)("div",{className:"total-combat-power-label",children:t}),(0,Ye.jsx)("div",{className:"total-combat-power-container",style:{backgroundColor:n},children:(0,Ye.jsx)("div",{className:"total-combat-power-background",children:r.map(((e,t)=>(0,Ye.jsx)("div",{style:{height:o[t],backgroundColor:e.color,background:"linear-gradient(to right, #fefb72, #f0bb31)"},className:"total-combat-power"},t)))})})]})},yve=n.p+"static/media/exerciseSoldier.f4e269f3c70009bac554.gif",vve=n.p+"static/media/restSoldier.08253f4835e222b30a1c.gif",bve=n.p+"static/media/standSoldier.b7d3c2e31d84a7322040.png",xve=e=>{let{currentTime:t,timerActive:n,ChangeCurrentTime:r}=e;const[o,i]=(0,O.useState)(t);(0,O.useEffect)((()=>{n&&i(t)}),[t,n]),(0,O.useEffect)((()=>{if(!n||o<=0)return;const e=setInterval((()=>{i((e=>Math.max(e-1,0)))}),1e3);return()=>clearInterval(e)}),[o,n]),(0,O.useEffect)((()=>{0===o&&n&&(i(0),r(0))}),[o,n]);const a=t>0?o/t*100:0;return(0,Ye.jsxs)("div",{className:"time-bar",children:[(0,Ye.jsx)("div",{className:"time-progress",children:(0,Ye.jsx)("div",{style:{height:"100%",width:`${a}%`,background:"linear-gradient(to right, #fefb72, #f0bb31)",transition:"1s linear"}})}),(0,Ye.jsx)("div",{className:"time-number",children:(0,Ye.jsx)("span",{children:o})})]})},wve=n.p+"static/media/complete_scroll.f14d7e887c4e04907461.png",Ave={jumpingJack:Yj,lunge:Qj,pushUp:Jj,squat:Zj,sitUp:eF},Sve={jumpingJack:"\ud314\ubc8c\ub824\ub6f0\uae30",lunge:"\ub7f0\uc9c0",pushUp:"\ud314\uad7d\ud600\ud3b4\uae30",squat:"\uc2a4\ucffc\ud2b8",sitUp:"\uc717\ubab8\uc77c\uc73c\ud0a4\uae30"};function Cve(e){let{expPercentage:t}=e;const[n,r]=(0,O.useState)(0);return(0,O.useEffect)((()=>{const e=setInterval((()=>{n<t?r((e=>e+1)):clearInterval(e)}),40);return()=>clearInterval(e)}),[n,t]),(0,Ye.jsxs)(_M.z,{percent:n,filledBackground:"linear-gradient(to right, #fefb72, #f0bb31)",unfilledBackground:"#3E3A3A",width:"500px",height:"20px",children:[(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{})}}),(0,Ye.jsx)(_M.p,{transition:"scale",children:e=>{let{accomplished:t}=e;return(0,Ye.jsx)("div",{})}})]})}const kve=Ph+"/api/raidu/rooms",Eve=e=>{let{roomData:t}=e;const[n,r]=(0,O.useState)(!1),[o,i]=(0,O.useState)(null),[a,s]=(0,O.useState)(null),[l,u]=(0,O.useState)(!1),[c,d]=(0,O.useState)(0),[p,h]=(0,O.useState)(0),[f,m]=(0,O.useState)(!1),[g,y]=(0,O.useState)(0),[v,b]=(0,O.useState)(0),[x,w]=(0,O.useState)(!1);(0,O.useEffect)((()=>{x||(console.log("\ubc29 \uc815\ubcf4 \ubc0f \ub77c\uc6b4\ub4dc\ubcc4 \uac00\uc911\uce58 \uc81c\ub300\ub85c \ub098\uc624\ub098\uc694?!---------"),console.log(t),console.log(t.roomPk),console.log(j),We(),w(!0))}),[x]);const A=t.roomId,S=t.userInfo.nickname,C=t.userInfo.isCaptain,k=t.userInfo.email,[E,T]=(0,O.useState)(!1),[I,R]=(0,O.useState)(!0),[N,_]=(0,O.useState)("ready"),P=t.roomInfo.roundTime,M=t.roomInfo.restTime,D=t.roomInfo.roundCount,L=t.exerciseInfo,$=P/60*D*50,j=[],[F,B]=(0,O.useState)([]),[V,z]=(0,O.useState)([]),[U,W]=(0,O.useState)(0),[q,H]=(0,O.useState)(),G=[],[X,K]=(0,O.useState)([]),[Y,Q]=(0,O.useState)(!1),[J,Z]=(0,O.useState)(!1);(0,O.useEffect)((()=>{F.length===D&&Z((e=>!0))}),[F]),(0,O.useEffect)((()=>{!0===J&&(()=>{for(let e=0;e<L.length;e++){const t={roundNumber:e+1,dictionaryName:L[e],exerciseCount:F[e]};G[e]=t}console.log(q),console.log("\uc81c\ub300\ub85c \ub41c \ub808\ucf54\ub4dc \ub9ac\uc2a4\ud2b8\uac00 \ub098\uc624\ub098\uc694?"),console.log(G),K((e=>G)),Q((e=>!0))})()}),[J]);const[ee,te]=(0,O.useState)(0),[ne,re]=(0,O.useState)(0),[oe,ie]=(0,O.useState)(0),[ae,se]=(0,O.useState)(0);(0,O.useEffect)((()=>{const e=Math.floor(ne/750);ie(ne%750),se(e)}),[ne]);const le={jumpingJack:20,lunge:50,sitUp:40,pushUp:60,squat:50};for(let O=0;O<L.length;O++)j[O]=le[L[O]];const[ue,ce]=(0,O.useState)(0),[de,pe]=(0,O.useState)(!1),[he,fe]=(0,O.useState)(null),[me,ge]=(0,O.useState)([]),[ye,ve]=(0,O.useState)([]);(0,O.useEffect)((()=>{const e=new NB(A);return fe(e),()=>{e&&e.disconnect()}}),[x]),(0,O.useEffect)((()=>{if(!he)return;return(async()=>{try{await he.connect();const e=he.subscribe("/sub/message/"+A,(e=>{const t=JSON.parse(e.body);switch(t.type){case"1":Ze(),R(!1);break;case"2":n=t.body,re((e=>e+n)),console.log("\uc804\ud22c\ub825 \uc62c\ub77c\uac04\ub2e4");break;default:console.log("?")}var n;ge((e=>[...e,t]))}));return()=>{e&&e.unsubscribe(),he.disconnect()}}catch(e){console.error("Error caused by websocket connecting process : ",e)}})(),()=>{he&&he.disconnect()}}),[he,x]);const be="/pub/message",xe={user:S,channel:A},we=ke(),[Ae,Se]=(0,O.useState)(),[Ce,Ee]=(0,O.useState)(),[Te,Ie]=(0,O.useState)(),[Oe,Re]=(0,O.useState)([]),[Ne,_e]=(0,O.useState)(A||""),Pe=localStorage.getItem("accessToken"),[Me,De]=(0,O.useState)(0);const[Le,$e]=(0,O.useState)(!1);const[je,Fe]=(0,O.useState)(0),[Be,Ve]=(0,O.useState)(0),[ze,Ue]=(0,O.useState)(!1);(0,O.useEffect)((()=>{A&&_e(A)}),[A]);const We=(0,O.useCallback)((async()=>{const e=new SU.OpenVidu,t=e.initSession();Se(t),t.on("streamCreated",(e=>{if(e.stream.connection.connectionId!==t.connection.connectionId){const n=t.subscribe(e.stream,void 0);Re((e=>[...e,n]))}})),t.on("streamDestroyed",(e=>{Xe(e.stream.streamManager)}));try{const n=await He();await t.connect(n,{clientData:S});const r=await e.initPublisherAsync(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!0});await t.publish(r),Ee(r),Ie(r)}catch(n){console.error("\uc138\uc158 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",n.code,n.message)}}),[S,Ne]),qe=((0,O.useCallback)((()=>{Ae&&Ae.disconnect(),$e(!1),Se(void 0),Re([]),Ee(void 0),Ie(void 0)}),[Ae]),(0,O.useCallback)((()=>{Ae&&Ae.disconnect(),$e(!1),Se(void 0),Re([]),Ee(void 0),Ie(void 0),we("/home")}),[Ae])),He=async()=>await Ge(A),Ge=async e=>{try{return(await _h.post(`${kve}/sessions/${e}/connections`,{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Pe}})).data.data.token}catch(t){throw console.error("\ud1a0\ud070 \ub9cc\ub4e4\uae30\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",t),t}},Xe=(0,O.useCallback)((e=>{Re((t=>t.filter((t=>t!==e))))}),[]),[Ke,Qe]=(0,O.useState)(!1);(0,O.useEffect)((()=>{!0===de&&0===Be&&!0===ze&&Je()}),[de,Be,ze]);const Je=()=>{if("ready"===N)_("setup"),Fe(3),Ve(3),Ue(!0);else if("setup"===N)_("exercise"),Fe(P),Ve(P),Qe(!0),Ue(!0);else if("exercise"===N)ue<D-1?(_("rest"),Fe(M),Ve(M),Qe(!1),Ue(!0),ce(ue+1)):(_("lastMotion"),Fe(1),Ve(1),ce(ue+1),Qe(!1),Ue(!0));else if("rest"===N)_("exercise"),Fe(P),Ve(P),Qe(!0),Ue(!0);else if("lastMotion"===N)_("ending"),Fe(100),Ve(100),Qe(!1),Ue(!0);else if("ending"===N)return _("finish!"),Qe(!1),void Ue(!1)};(0,O.useEffect)((()=>{je>=0&&(Ve(je),Ue(!0))}),[je]);const Ze=()=>{_("ready"),Fe(0),Ue(!0),pe(!0)};(0,O.useEffect)((()=>{["middleMotion","lastMotion","ending"].includes(N)?("lastMotion"===N&&(H((e=>{const t=Date.now(),n=new Date(t+324e5).toISOString().slice(0,19);return console.log("-------------------\uc2dc\uac04---------------------"),console.log(t,q),n})),tt().then((e=>{console.log("\ubd88\ub7ec\uc628 \ubaac\uc2a4\ud130 \ub370\uc774\ud130:",e),r(e.data.capturedMonster.new),s(e.data.capturedMonster.imageUrl),i(e.data.capturedMonster.name)})).catch((e=>{console.error("\ubaac\uc2a4\ud130 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)}))),$e(!0)):$e(!1)}),[N]),(0,O.useEffect)((()=>{!0===Y&&(console.log("\uae30\ub85d\uc744 \uc800\uc7a5\ud569\ub2c8\ub2f91"),console.log(X),et(t.roomPk,q,X,U).then((e=>{var t,n;console.log("\uae30\ub85d \ud6c4 \ub370\uc774\ud130:",e),d(e.data.updatedExp),h(e.data.updatedLevel),u(e.data.isLevelUp),m(e.data.region.name),y(e.data.updatedExp/750*100),t=e.data.updatedRegionScore,n=e.data.totalContribute,b((e=>{const r=t/n*100;return console.log("NEWPERCE#NTAGE    ",r),r}))})).catch((e=>{console.error("\uae30\ub85d \uc800\uc7a5 \uc2e4\ud328:",e)})))}),[Y]);const et=async(e,t,n,r)=>{try{console.log("\uae30\ub85d\uc744 \uc800\uc7a5\ud569\ub2c8\ub2f92"),console.log(n);return(await _h.post(`${kve}/${e}/complete`,{email:k,endTime:t,personalCombatPower:r,totalCombatPower:ne,participantsCount:Oe.length+1,stage:ae,roundRecordList:n},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Pe}`}})).data}catch(o){throw console.error("\uae30\ub85d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",o),o}},tt=async()=>{try{const e=await _h.post(`${kve}/monster`,{email:k,stage:3},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Pe}`}});return console.log("\ubaac\uc2a4\ud130 \ub370\uc774\ud130:",e.data),e.data}catch(e){throw console.error("\ubaac\uc2a4\ud130 \ubd88\ub7ec\uc624\uae30\uac00 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",e),e}};return(0,Ye.jsxs)("div",{className:"",children:[Ae?(0,Ye.jsxs)("div",{id:"session",className:"training",children:[(0,Ye.jsx)("div",{className:"training-header",children:(0,Ye.jsx)(xve,{currentTime:Be,timerActive:ze,ChangeCurrentTime:function(e){Ve(e)}})}),(0,Ye.jsxs)("div",{className:"training-frame",children:[(0,Ye.jsxs)("div",{className:"video-frame",children:[(0,Ye.jsx)("div",{className:"my-video",children:Te&&(0,Ye.jsx)(mve,{streamManager:Te,countPower:Me,ChangeCount:function(e){De(e)},sendTest2:e=>{if(he){const t=JSON.stringify({...xe,type:"2",body:e,currentRound:ue});he.send(be,t)}},currentRound:ue,exerciseForRound:L,myCombatPower:V,eachRoundCount:F,roundWeight:j,isExercise:Ke,UpdateMyTotalCombatPower:e=>{W((t=>t+e))},myTotalCombatPower:U,addMyCombatPower:ee,updateEachRoundCount:(e,t)=>{B((n=>{console.log("\ub77c\uc6b4\ub4dc \uce74\uc6b4\ud2b8\ub97c \uc5c5\ub370\uc774\ud2b8 \ud574\uc694");const r=[...n];if(console.log(r),0===e)r[e]=t;else{let n=0;for(let t=0;t<e;t++)n+=r[t];r[e]=t-n}return r}))},updateMyCombatPower:(e,t,n)=>{console.log("\ub77c\uc6b4\ub4dc \uc804\ud22c\ub825\uc744 \uc5c5\ub370\uc774\ud2b8 \ud574\uc694"),z[e-1]=t*n},changeIsPoseDetect:()=>{T((e=>!0))}})}),(0,Ye.jsx)("div",{className:"other-video",children:Oe.map(((e,t)=>(0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsx)(kU,{num:t,streamManager:e},t)})))})]}),(0,Ye.jsxs)("div",{className:"progress-box",children:[(0,Ye.jsx)(gve,{visualParts:[{percentage:oe/750*100+"%",color:"#12D20E"}]}),(0,Ye.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"inherit"},children:["Stage ",ae]})]}),(0,Ye.jsxs)("div",{className:"training-aside",children:[(0,Ye.jsx)("div",{className:"round-box-frame",children:(0,Ye.jsx)("div",{children:Array.from({length:D},((e,t)=>(0,Ye.jsxs)("div",{className:"round-box "+(ue===t?"active":""),children:[(0,Ye.jsx)("img",{src:Ave[L[t]],alt:Sve[L[t]],className:"training-exercise-image"}),Sve[L[t]]]},t)))})}),(0,Ye.jsx)("div",{className:"soldier-box",children:"rest"===N?(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)("p",{className:"training-message",align:"center",children:"jumpingJack"===L[ue]?(0,Ye.jsxs)(Ye.Fragment,{children:["Next : ",Sve[L[ue]],(0,Ye.jsx)("br",{}),"\uc815\uba74\uc744 \ubc14\ub77c\ubd10 \uc8fc\uc138\uc694"]}):(0,Ye.jsxs)(Ye.Fragment,{children:["Next : ",Sve[L[ue]],(0,Ye.jsx)("br",{}),"\uc67c\ucabd\uc744 \ubc14\ub77c\ubd10 \uc8fc\uc138\uc694"]})}),(0,Ye.jsx)("img",{className:"soldier-gif",src:vve,alt:"\ud734\uc2dd\uc6a9\uc0ac"})]}):(0,Ye.jsxs)(Ye.Fragment,{children:[C&&I&&(0,Ye.jsx)("button",{className:"start-button",onClick:()=>{if(he){const e=JSON.stringify({...xe,type:"1",startType:!0});he.send(be,e)}},disabled:!E,children:"Start"}),(0,Ye.jsx)("img",{className:"soldier-gif",src:yve,alt:"\uc6b4\ub3d9\uc6a9\uc0ac"})]})})]})]})]}):(0,Ye.jsxs)("div",{id:"join",children:[(0,Ye.jsx)("h1",{children:"\uc6b4\ub3d9\ubc29 \ucc38\uc5ec"}),(0,Ye.jsxs)("form",{className:"form-group",onSubmit:e=>{e.preventDefault(),We()},children:[(0,Ye.jsx)("p",{children:(0,Ye.jsx)("label",{children:"\ub2c9\ub124\uc784: "})}),(0,Ye.jsxs)("p",{children:[(0,Ye.jsx)("label",{children:"\uc138\uc158 \uc544\uc774\ub514 (\uc120\ud0dd \uc0ac\ud56d): "}),(0,Ye.jsx)("input",{className:"form-control",type:"text",value:Ne,onChange:e=>_e(e.target.value)})]}),(0,Ye.jsx)("div",{style:{height:"20px"}}),(0,Ye.jsx)("p",{className:"text-center",children:(0,Ye.jsx)("button",{className:"btn btn-lg btn-success",type:"submit",children:"\uc6b4\ub3d9 \uc2dc\uc791\ud558\uae30"})})]})]}),(0,Ye.jsx)(Oc,{open:Le,onClose:()=>$e(!1),"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,Ye.jsxs)(bu,{sx:{position:"absolute",top:"12.5%",left:"50%",transform:"translate(-50%,0)",width:"80%",height:"70%",bgcolor:"white",p:4,bgcolor:"background.Paper",backgroundImage:"ending"===N?`url(${wve})`:"none",backgroundSize:"auto 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:["middleMotion"===N&&(0,Ye.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%",backgroundColor:"skyblue"},children:[(0,Ye.jsx)("img",{style:{width:"40%"},src:bve,alt:"\uc11c\uc788\ub294 \uc6a9\uc0ac"}),(0,Ye.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"60%",height:"100%",backgroundColor:"coral"},children:[(0,Ye.jsx)("div",{style:{width:"100%",height:"25%",fontSize:"60px",display:"flex",justifyContent:"flex-end",backgroundColor:"lemonchiffon",p:2},children:(0,Ye.jsx)("h1",{children:"\uc911\uac04 \uc815\uc0b0"})}),(0,Ye.jsx)("div",{style:{width:"100%",height:"35%",fontSize:"50px",backgroundColor:"lightgreen"},children:(0,Ye.jsx)("p",{children:"\uc5ec\uae30\uc5d0\ub294 \uc0ac\ub78c\ub4e4\uc758 \uae30\uc5ec\ub3c4"})}),(0,Ye.jsx)("div",{style:{width:"100%",height:"40%",fontSize:"40px",backgroundColor:"lightgray"},children:(0,Ye.jsx)("p",{children:"\uc774 \uc544\ub798\uc5d0\ub294 \uadf8 \ubb50\ub0d0 \ud504\ub85c\uadf8\ub808\uc2a4 \ubc14"})})]})]}),"lastMotion"===N&&(0,Ye.jsx)("div",{}),"ending"===N&&(0,Ye.jsxs)("div",{style:{paddingTop:"130px",paddingBottom:"100px",paddingLeft:"190px",paddingRight:"180px"},children:[(0,Ye.jsxs)("div",{style:{width:"100%",height:"90%",display:"flex"},children:[(0,Ye.jsxs)("div",{style:{width:"30%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"10px",boxSizing:"border-box"},children:[(0,Ye.jsx)("div",{style:{color:"black",fontSize:"18px",fontFamily:"WarhavenR"},children:n?"NEW!":""}),(0,Ye.jsx)("img",{src:LM,alt:"\uc7a1\uc740 \ubaac\uc2a4\ud130",className:"training-monster-image",style:{width:"100%",height:"auto",marginTop:"5px",marginBottom:"5px"}}),(0,Ye.jsx)("div",{style:{color:"black",fontSize:"20px",marginTop:"auto",alignSelf:"flex-end",fontFamily:"WarhavenB"},children:o})]}),(0,Ye.jsxs)("div",{className:"training-complte-right",style:{width:"70%",height:"100%",display:"flex",flexDirection:"column",marginLeft:"15px",paddingLeft:"20px",paddingTop:"10px"},children:[(0,Ye.jsx)("div",{className:"training-complete-stage",children:(0,Ye.jsxs)("div",{style:{color:"black",marginBottom:"20px",fontSize:"37px",fontFamily:"WarhavenB"},children:[ae," STAGE CLEAR!"]})}),(0,Ye.jsxs)("div",{className:"training-complte-level",children:[(0,Ye.jsxs)("div",{style:{color:"black",fontSize:"25px",fontFamily:"WarhavenR",marginBottom:"5px"},children:["LV. ",p," ",l?"\u2191":""]}),(0,Ye.jsx)(Cve,{expPercentage:g}),(0,Ye.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Ye.jsxs)("div",{style:{color:"darkslategray",fontSize:"18px"},children:["+",$]})})]}),(0,Ye.jsxs)("div",{className:"training-complte-season-region-score-text",children:[(0,Ye.jsxs)("div",{style:{color:"black",fontSize:"20px",fontFamily:"WarhavenR",marginBottom:"5px"},children:[f," \uae30\uc5ec\ub3c4"]}),(0,Ye.jsx)(Cve,{expPercentage:v}),(0,Ye.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Ye.jsxs)("div",{style:{color:"darkslategray",fontSize:"18px"},children:["+",U]})})]})]})]}),(0,Ye.jsx)("div",{style:{width:"100%",height:"10%",display:"flex",justifyContent:"flex-end"},children:(0,Ye.jsx)("button",{className:"btn btn-large btn-danger",onClick:qe,children:"\ub098\uac00\uae30"})})]})]})})]})},Tve=()=>{const e={...Se().state};return console.log(e),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("div",{id:"training-background-img"}),(0,Ye.jsx)(Eve,{roomData:e})]})},Ive=()=>{const e=ke(),[t,n]=(0,O.useState)("");return(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)(AU,{setWaitingRoomId:n}),(0,Ye.jsx)("button",{onClick:()=>{e("/trainingTest",{state:{roomId:t,test:123}})},children:"\uc6b4\ub3d9\ubc29 \ucd9c\ubc1c!"})]})};function Ove(e){let{children:t}=e;return localStorage.getItem("accessToken")?t:(0,Ye.jsx)(Fe,{to:"/login"})}const Rve=function(){return(0,Ye.jsx)("div",{className:"app",children:(0,Ye.jsx)(pt,{children:(0,Ye.jsx)(Ge,{children:(0,Ye.jsxs)(ze,{children:[(0,Ye.jsx)(Be,{path:"/",element:(0,Ye.jsx)(Fe,{to:"/login"})}),(0,Ye.jsx)(Be,{path:"/login",element:(0,Ye.jsx)($h,{})}),(0,Ye.jsx)(Be,{path:"/home",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(WM,{})})}),(0,Ye.jsx)(Be,{path:"/mypage/:id",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(HF,{})})}),(0,Ye.jsx)(Be,{path:"/editprofile",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(KF,{})})}),(0,Ye.jsx)(Be,{path:"/usersearch",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(nB,{})})}),(0,Ye.jsx)(Be,{path:"/firstvisit",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(cB,{})})}),(0,Ye.jsx)(Be,{path:"/conceptbook",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(dB,{})})}),(0,Ye.jsx)(Be,{path:"/raid",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(vB,{})})}),(0,Ye.jsx)(Be,{path:"/raid/:roomName",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(xU,{})})}),(0,Ye.jsx)(Be,{path:"/trainingTest",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(Tve,{})})}),(0,Ye.jsx)(Be,{path:"/beforeTraining",element:(0,Ye.jsx)(Ove,{children:(0,Ye.jsx)(Ive,{})})}),(0,Ye.jsx)(Be,{path:"*",element:(0,Ye.jsx)(rB,{})})]})})})})};O.Component;N.createRoot(document.getElementById("root")).render((0,Ye.jsx)(Rve,{}))})()})();
//# sourceMappingURL=main.8b47ef49.js.map